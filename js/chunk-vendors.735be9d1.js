(self["webpackChunkigemwiki_2"]=self["webpackChunkigemwiki_2"]||[]).push([[504],{1656:function(t,e,n){"use strict";function r(t,e,n,r,i,a,s,o){var l,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),a&&(c._scopeId="data-v-"+a),s?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},c._ssrRegister=l):i&&(l=o?function(){i.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:i),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var h=c.beforeCreate;c.beforeCreate=h?[].concat(h,l):[l]}return{exports:t,options:c}}n.d(e,{A:function(){return r}})},3497:function(t,e,n){n(4979),function(e,n){t.exports=n()}(0,(function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="dist/",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(1),s=(r(a),n(6)),o=r(s),l=n(7),c=r(l),u=n(8),h=r(u),p=n(9),d=r(p),f=n(10),m=r(f),g=n(11),v=r(g),y=n(14),_=r(y),x=[],b=!1,S={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},w=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t&&(b=!0),b)return x=(0,v.default)(x,S),(0,m.default)(x,S.once),x},E=function(){x=(0,_.default)(),w()},M=function(){x.forEach((function(t,e){t.node.removeAttribute("data-aos"),t.node.removeAttribute("data-aos-easing"),t.node.removeAttribute("data-aos-duration"),t.node.removeAttribute("data-aos-delay")}))},T=function(t){return!0===t||"mobile"===t&&d.default.mobile()||"phone"===t&&d.default.phone()||"tablet"===t&&d.default.tablet()||"function"==typeof t&&!0===t()},C=function(t){S=i(S,t),x=(0,_.default)();var e=document.all&&!window.atob;return T(S.disable)||e?M():(S.disableMutationObserver||h.default.isSupported()||(console.info('\n      aos: MutationObserver is not supported on this browser,\n      code mutations observing has been disabled.\n      You may have to call "refreshHard()" by yourself.\n    '),S.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",S.easing),document.querySelector("body").setAttribute("data-aos-duration",S.duration),document.querySelector("body").setAttribute("data-aos-delay",S.delay),"DOMContentLoaded"===S.startEvent&&["complete","interactive"].indexOf(document.readyState)>-1?w(!0):"load"===S.startEvent?window.addEventListener(S.startEvent,(function(){w(!0)})):document.addEventListener(S.startEvent,(function(){w(!0)})),window.addEventListener("resize",(0,c.default)(w,S.debounceDelay,!0)),window.addEventListener("orientationchange",(0,c.default)(w,S.debounceDelay,!0)),window.addEventListener("scroll",(0,o.default)((function(){(0,m.default)(x,S.once)}),S.throttleDelay)),S.disableMutationObserver||h.default.ready("[data-aos]",E),x)};t.exports={init:C,refresh:w,refreshHard:E}},function(t,e){},,,,,function(t,e){(function(e){"use strict";function n(t,e,n){function r(e){var n=m,r=g;return m=g=void 0,b=e,y=t.apply(r,n)}function a(t){return b=t,_=setTimeout(u,e),M?r(t):y}function s(t){var n=t-x,r=t-b,i=e-n;return T?w(i,v-r):i}function l(t){var n=t-x,r=t-b;return void 0===x||n>=e||n<0||T&&r>=v}function u(){var t=E();return l(t)?h(t):void(_=setTimeout(u,s(t)))}function h(t){return _=void 0,C&&m?r(t):(m=g=void 0,y)}function p(){void 0!==_&&clearTimeout(_),b=0,m=x=g=_=void 0}function d(){return void 0===_?y:h(E())}function f(){var t=E(),n=l(t);if(m=arguments,g=this,x=t,n){if(void 0===_)return a(x);if(T)return _=setTimeout(u,e),r(x)}return void 0===_&&(_=setTimeout(u,e)),y}var m,g,v,y,_,x,b=0,M=!1,T=!1,C=!0;if("function"!=typeof t)throw new TypeError(c);return e=o(e)||0,i(n)&&(M=!!n.leading,T="maxWait"in n,v=T?S(o(n.maxWait)||0,e):v,C="trailing"in n?!!n.trailing:C),f.cancel=p,f.flush=d,f}function r(t,e,r){var a=!0,s=!0;if("function"!=typeof t)throw new TypeError(c);return i(r)&&(a="leading"in r?!!r.leading:a,s="trailing"in r?!!r.trailing:s),n(t,e,{leading:a,maxWait:e,trailing:s})}function i(t){var e="undefined"==typeof t?"undefined":l(t);return!!t&&("object"==e||"function"==e)}function a(t){return!!t&&"object"==("undefined"==typeof t?"undefined":l(t))}function s(t){return"symbol"==("undefined"==typeof t?"undefined":l(t))||a(t)&&b.call(t)==h}function o(t){if("number"==typeof t)return t;if(s(t))return u;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(p,"");var n=f.test(t);return n||m.test(t)?g(t.slice(2),n?2:8):d.test(t)?u:+t}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c="Expected a function",u=NaN,h="[object Symbol]",p=/^\s+|\s+$/g,d=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,m=/^0o[0-7]+$/i,g=parseInt,v="object"==("undefined"==typeof e?"undefined":l(e))&&e&&e.Object===Object&&e,y="object"==("undefined"==typeof self?"undefined":l(self))&&self&&self.Object===Object&&self,_=v||y||Function("return this")(),x=Object.prototype,b=x.toString,S=Math.max,w=Math.min,E=function(){return _.Date.now()};t.exports=r}).call(e,function(){return this}())},function(t,e){(function(e){"use strict";function n(t,e,n){function i(e){var n=m,r=g;return m=g=void 0,E=e,y=t.apply(r,n)}function a(t){return E=t,_=setTimeout(u,e),M?i(t):y}function o(t){var n=t-x,r=t-E,i=e-n;return T?S(i,v-r):i}function c(t){var n=t-x,r=t-E;return void 0===x||n>=e||n<0||T&&r>=v}function u(){var t=w();return c(t)?h(t):void(_=setTimeout(u,o(t)))}function h(t){return _=void 0,C&&m?i(t):(m=g=void 0,y)}function p(){void 0!==_&&clearTimeout(_),E=0,m=x=g=_=void 0}function d(){return void 0===_?y:h(w())}function f(){var t=w(),n=c(t);if(m=arguments,g=this,x=t,n){if(void 0===_)return a(x);if(T)return _=setTimeout(u,e),i(x)}return void 0===_&&(_=setTimeout(u,e)),y}var m,g,v,y,_,x,E=0,M=!1,T=!1,C=!0;if("function"!=typeof t)throw new TypeError(l);return e=s(e)||0,r(n)&&(M=!!n.leading,T="maxWait"in n,v=T?b(s(n.maxWait)||0,e):v,C="trailing"in n?!!n.trailing:C),f.cancel=p,f.flush=d,f}function r(t){var e="undefined"==typeof t?"undefined":o(t);return!!t&&("object"==e||"function"==e)}function i(t){return!!t&&"object"==("undefined"==typeof t?"undefined":o(t))}function a(t){return"symbol"==("undefined"==typeof t?"undefined":o(t))||i(t)&&x.call(t)==u}function s(t){if("number"==typeof t)return t;if(a(t))return c;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(h,"");var n=d.test(t);return n||f.test(t)?m(t.slice(2),n?2:8):p.test(t)?c:+t}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l="Expected a function",c=NaN,u="[object Symbol]",h=/^\s+|\s+$/g,p=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,f=/^0o[0-7]+$/i,m=parseInt,g="object"==("undefined"==typeof e?"undefined":o(e))&&e&&e.Object===Object&&e,v="object"==("undefined"==typeof self?"undefined":o(self))&&self&&self.Object===Object&&self,y=g||v||Function("return this")(),_=Object.prototype,x=_.toString,b=Math.max,S=Math.min,w=function(){return y.Date.now()};t.exports=n}).call(e,function(){return this}())},function(t,e){"use strict";function n(t){var e=void 0,r=void 0;for(e=0;e<t.length;e+=1){if(r=t[e],r.dataset&&r.dataset.aos)return!0;if(r.children&&n(r.children))return!0}return!1}function r(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function i(){return!!r()}function a(t,e){var n=window.document,i=r(),a=new i(s);o=e,a.observe(n.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function s(t){t&&t.forEach((function(t){var e=Array.prototype.slice.call(t.addedNodes),r=Array.prototype.slice.call(t.removedNodes),i=e.concat(r);if(n(i))return o()}))}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){};e.default={isSupported:i,ready:a}},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,s=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,o=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,l=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,c=function(){function t(){n(this,t)}return i(t,[{key:"phone",value:function(){var t=r();return!(!a.test(t)&&!s.test(t.substr(0,4)))}},{key:"mobile",value:function(){var t=r();return!(!o.test(t)&&!l.test(t.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),t}();e.default=new c},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,n){var r=t.node.getAttribute("data-aos-once");e>t.position?t.node.classList.add("aos-animate"):"undefined"!=typeof r&&("false"===r||!n&&"true"!==r)&&t.node.classList.remove("aos-animate")},r=function(t,e){var r=window.pageYOffset,i=window.innerHeight;t.forEach((function(t,a){n(t,i+r,e)}))};e.default=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(12),a=r(i),s=function(t,e){return t.forEach((function(t,n){t.node.classList.add("aos-init"),t.position=(0,a.default)(t.node,e.offset)})),t};e.default=s},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(13),a=r(i),s=function(t,e){var n=0,r=0,i=window.innerHeight,s={offset:t.getAttribute("data-aos-offset"),anchor:t.getAttribute("data-aos-anchor"),anchorPlacement:t.getAttribute("data-aos-anchor-placement")};switch(s.offset&&!isNaN(s.offset)&&(r=parseInt(s.offset)),s.anchor&&document.querySelectorAll(s.anchor)&&(t=document.querySelectorAll(s.anchor)[0]),n=(0,a.default)(t).top,s.anchorPlacement){case"top-bottom":break;case"center-bottom":n+=t.offsetHeight/2;break;case"bottom-bottom":n+=t.offsetHeight;break;case"top-center":n+=i/2;break;case"bottom-center":n+=i/2+t.offsetHeight;break;case"center-center":n+=i/2+t.offsetHeight/2;break;case"top-top":n+=i;break;case"bottom-top":n+=t.offsetHeight+i;break;case"center-top":n+=t.offsetHeight/2+i}return s.anchorPlacement||s.offset||isNaN(e)||(r=e),n+r};e.default=s},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){for(var e=0,n=0;t&&!isNaN(t.offsetLeft)&&!isNaN(t.offsetTop);)e+=t.offsetLeft-("BODY"!=t.tagName?t.scrollLeft:0),n+=t.offsetTop-("BODY"!=t.tagName?t.scrollTop:0),t=t.offsetParent;return{top:n,left:e}};e.default=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t=t||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(t,(function(t){return{node:t}}))};e.default=n}])}))},940:function(t,e,n){"use strict";n.d(e,{u:function(){return xn},A:function(){return xn}});n(4114);function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}
/*!
 * Observer 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var a,s,o,l,c,u,h,p,d,f,m,g,v,y=function(){return a||"undefined"!==typeof window&&(a=window.gsap)&&a.registerPlugin&&a},_=1,x=[],b=[],S=[],w=Date.now,E=function(t,e){return e},M=function(){var t=d.core,e=t.bridge||{},n=t._scrollers,r=t._proxies;n.push.apply(n,b),r.push.apply(r,S),b=n,S=r,E=function(t,n){return e[t](n)}},T=function(t,e){return~S.indexOf(t)&&S[S.indexOf(t)+1][e]},C=function(t){return!!~f.indexOf(t)},A=function(t,e,n,r,i){return t.addEventListener(e,n,{passive:!1!==r,capture:!!i})},P=function(t,e,n,r){return t.removeEventListener(e,n,!!r)},R="scrollLeft",D="scrollTop",I=function(){return m&&m.isPressed||b.cache++},L=function(t,e){var n=function n(r){if(r||0===r){_&&(o.history.scrollRestoration="manual");var i=m&&m.isPressed;r=n.v=Math.round(r)||(m&&m.iOS?1:0),t(r),n.cacheID=b.cache,i&&E("ss",r)}else(e||b.cache!==n.cacheID||E("ref"))&&(n.cacheID=b.cache,n.v=t());return n.v+n.offset};return n.offset=0,t&&n},k={s:R,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:L((function(t){return arguments.length?o.scrollTo(t,O.sc()):o.pageXOffset||l[R]||c[R]||u[R]||0}))},O={s:D,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:k,sc:L((function(t){return arguments.length?o.scrollTo(k.sc(),t):o.pageYOffset||l[D]||c[D]||u[D]||0}))},F=function(t,e){return(e&&e._ctx&&e._ctx.selector||a.utils.toArray)(t)[0]||("string"===typeof t&&!1!==a.config().nullTargetWarn?console.warn("Element not found:",t):null)},N=function(t,e){var n=e.s,r=e.sc;C(t)&&(t=l.scrollingElement||c);var i=b.indexOf(t),s=r===O.sc?1:2;!~i&&(i=b.push(t)-1),b[i+s]||A(t,"scroll",I);var o=b[i+s],u=o||(b[i+s]=L(T(t,n),!0)||(C(t)?r:L((function(e){return arguments.length?t[n]=e:t[n]}))));return u.target=t,o||(u.smooth="smooth"===a.getProperty(t,"scrollBehavior")),u},B=function(t,e,n){var r=t,i=t,a=w(),s=a,o=e||50,l=Math.max(500,3*o),c=function(t,e){var l=w();e||l-a>o?(i=r,r=t,s=a,a=l):n?r+=t:r=i+(t-i)/(l-s)*(a-s)},u=function(){i=r=n?0:r,s=a=0},h=function(t){var e=s,o=i,u=w();return(t||0===t)&&t!==r&&c(t),a===s||u-s>l?0:(r+(n?o:-o))/((n?u:a)-e)*1e3};return{update:c,reset:u,getVelocity:h}},U=function(t,e){return e&&!t._gsapAllow&&t.preventDefault(),t.changedTouches?t.changedTouches[0]:t},z=function(t){var e=Math.max.apply(Math,t),n=Math.min.apply(Math,t);return Math.abs(e)>=Math.abs(n)?e:n},V=function(){d=a.core.globals().ScrollTrigger,d&&d.core&&M()},H=function(t){return a=t||y(),!s&&a&&"undefined"!==typeof document&&document.body&&(o=window,l=document,c=l.documentElement,u=l.body,f=[o,l,c,u],a.utils.clamp,v=a.core.context||function(){},p="onpointerenter"in u?"pointer":"mouse",h=G.isTouch=o.matchMedia&&o.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in o||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,g=G.eventTypes=("ontouchstart"in c?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in c?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout((function(){return _=0}),500),V(),s=1),s};k.op=O,b.cache=0;var G=function(){function t(t){this.init(t)}var e=t.prototype;return e.init=function(t){s||H(a)||console.warn("Please gsap.registerPlugin(Observer)"),d||V();var e=t.tolerance,n=t.dragMinimum,r=t.type,i=t.target,f=t.lineHeight,y=t.debounce,_=t.preventDefault,b=t.onStop,S=t.onStopDelay,E=t.ignore,M=t.wheelSpeed,T=t.event,R=t.onDragStart,D=t.onDragEnd,L=t.onDrag,G=t.onPress,W=t.onRelease,j=t.onRight,q=t.onLeft,$=t.onUp,X=t.onDown,Y=t.onChangeX,K=t.onChangeY,Z=t.onChange,J=t.onToggleX,Q=t.onToggleY,tt=t.onHover,et=t.onHoverEnd,nt=t.onMove,rt=t.ignoreCheck,it=t.isNormalizer,at=t.onGestureStart,st=t.onGestureEnd,ot=t.onWheel,lt=t.onEnable,ct=t.onDisable,ut=t.onClick,ht=t.scrollSpeed,pt=t.capture,dt=t.allowClicks,ft=t.lockAxis,mt=t.onLockAxis;this.target=i=F(i)||c,this.vars=t,E&&(E=a.utils.toArray(E)),e=e||1e-9,n=n||0,M=M||1,ht=ht||1,r=r||"wheel,touch,pointer",y=!1!==y,f||(f=parseFloat(o.getComputedStyle(u).lineHeight)||22);var gt,vt,yt,_t,xt,bt,St,wt=this,Et=0,Mt=0,Tt=t.passive||!_,Ct=N(i,k),At=N(i,O),Pt=Ct(),Rt=At(),Dt=~r.indexOf("touch")&&!~r.indexOf("pointer")&&"pointerdown"===g[0],It=C(i),Lt=i.ownerDocument||l,kt=[0,0,0],Ot=[0,0,0],Ft=0,Nt=function(){return Ft=w()},Bt=function(t,e){return(wt.event=t)&&E&&~E.indexOf(t.target)||e&&Dt&&"touch"!==t.pointerType||rt&&rt(t,e)},Ut=function(){wt._vx.reset(),wt._vy.reset(),vt.pause(),b&&b(wt)},zt=function(){var t=wt.deltaX=z(kt),n=wt.deltaY=z(Ot),r=Math.abs(t)>=e,i=Math.abs(n)>=e;Z&&(r||i)&&Z(wt,t,n,kt,Ot),r&&(j&&wt.deltaX>0&&j(wt),q&&wt.deltaX<0&&q(wt),Y&&Y(wt),J&&wt.deltaX<0!==Et<0&&J(wt),Et=wt.deltaX,kt[0]=kt[1]=kt[2]=0),i&&(X&&wt.deltaY>0&&X(wt),$&&wt.deltaY<0&&$(wt),K&&K(wt),Q&&wt.deltaY<0!==Mt<0&&Q(wt),Mt=wt.deltaY,Ot[0]=Ot[1]=Ot[2]=0),(_t||yt)&&(nt&&nt(wt),yt&&(L(wt),yt=!1),_t=!1),bt&&!(bt=!1)&&mt&&mt(wt),xt&&(ot(wt),xt=!1),gt=0},Vt=function(t,e,n){kt[n]+=t,Ot[n]+=e,wt._vx.update(t),wt._vy.update(e),y?gt||(gt=requestAnimationFrame(zt)):zt()},Ht=function(t,e){ft&&!St&&(wt.axis=St=Math.abs(t)>Math.abs(e)?"x":"y",bt=!0),"y"!==St&&(kt[2]+=t,wt._vx.update(t,!0)),"x"!==St&&(Ot[2]+=e,wt._vy.update(e,!0)),y?gt||(gt=requestAnimationFrame(zt)):zt()},Gt=function(t){if(!Bt(t,1)){t=U(t,_);var e=t.clientX,r=t.clientY,i=e-wt.x,a=r-wt.y,s=wt.isDragging;wt.x=e,wt.y=r,(s||Math.abs(wt.startX-e)>=n||Math.abs(wt.startY-r)>=n)&&(L&&(yt=!0),s||(wt.isDragging=!0),Ht(i,a),s||R&&R(wt))}},Wt=wt.onPress=function(t){Bt(t,1)||t&&t.button||(wt.axis=St=null,vt.pause(),wt.isPressed=!0,t=U(t),Et=Mt=0,wt.startX=wt.x=t.clientX,wt.startY=wt.y=t.clientY,wt._vx.reset(),wt._vy.reset(),A(it?i:Lt,g[1],Gt,Tt,!0),wt.deltaX=wt.deltaY=0,G&&G(wt))},jt=wt.onRelease=function(t){if(!Bt(t,1)){P(it?i:Lt,g[1],Gt,!0);var e=!isNaN(wt.y-wt.startY),n=wt.isDragging,r=n&&(Math.abs(wt.x-wt.startX)>3||Math.abs(wt.y-wt.startY)>3),s=U(t);!r&&e&&(wt._vx.reset(),wt._vy.reset(),_&&dt&&a.delayedCall(.08,(function(){if(w()-Ft>300&&!t.defaultPrevented)if(t.target.click)t.target.click();else if(Lt.createEvent){var e=Lt.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,o,1,s.screenX,s.screenY,s.clientX,s.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(e)}}))),wt.isDragging=wt.isGesturing=wt.isPressed=!1,b&&n&&!it&&vt.restart(!0),D&&n&&D(wt),W&&W(wt,r)}},qt=function(t){return t.touches&&t.touches.length>1&&(wt.isGesturing=!0)&&at(t,wt.isDragging)},$t=function(){return(wt.isGesturing=!1)||st(wt)},Xt=function(t){if(!Bt(t)){var e=Ct(),n=At();Vt((e-Pt)*ht,(n-Rt)*ht,1),Pt=e,Rt=n,b&&vt.restart(!0)}},Yt=function(t){if(!Bt(t)){t=U(t,_),ot&&(xt=!0);var e=(1===t.deltaMode?f:2===t.deltaMode?o.innerHeight:1)*M;Vt(t.deltaX*e,t.deltaY*e,0),b&&!it&&vt.restart(!0)}},Kt=function(t){if(!Bt(t)){var e=t.clientX,n=t.clientY,r=e-wt.x,i=n-wt.y;wt.x=e,wt.y=n,_t=!0,b&&vt.restart(!0),(r||i)&&Ht(r,i)}},Zt=function(t){wt.event=t,tt(wt)},Jt=function(t){wt.event=t,et(wt)},Qt=function(t){return Bt(t)||U(t,_)&&ut(wt)};vt=wt._dc=a.delayedCall(S||.25,Ut).pause(),wt.deltaX=wt.deltaY=0,wt._vx=B(0,50,!0),wt._vy=B(0,50,!0),wt.scrollX=Ct,wt.scrollY=At,wt.isDragging=wt.isGesturing=wt.isPressed=!1,v(this),wt.enable=function(t){return wt.isEnabled||(A(It?Lt:i,"scroll",I),r.indexOf("scroll")>=0&&A(It?Lt:i,"scroll",Xt,Tt,pt),r.indexOf("wheel")>=0&&A(i,"wheel",Yt,Tt,pt),(r.indexOf("touch")>=0&&h||r.indexOf("pointer")>=0)&&(A(i,g[0],Wt,Tt,pt),A(Lt,g[2],jt),A(Lt,g[3],jt),dt&&A(i,"click",Nt,!0,!0),ut&&A(i,"click",Qt),at&&A(Lt,"gesturestart",qt),st&&A(Lt,"gestureend",$t),tt&&A(i,p+"enter",Zt),et&&A(i,p+"leave",Jt),nt&&A(i,p+"move",Kt)),wt.isEnabled=!0,t&&t.type&&Wt(t),lt&&lt(wt)),wt},wt.disable=function(){wt.isEnabled&&(x.filter((function(t){return t!==wt&&C(t.target)})).length||P(It?Lt:i,"scroll",I),wt.isPressed&&(wt._vx.reset(),wt._vy.reset(),P(it?i:Lt,g[1],Gt,!0)),P(It?Lt:i,"scroll",Xt,pt),P(i,"wheel",Yt,pt),P(i,g[0],Wt,pt),P(Lt,g[2],jt),P(Lt,g[3],jt),P(i,"click",Nt,!0),P(i,"click",Qt),P(Lt,"gesturestart",qt),P(Lt,"gestureend",$t),P(i,p+"enter",Zt),P(i,p+"leave",Jt),P(i,p+"move",Kt),wt.isEnabled=wt.isPressed=wt.isDragging=!1,ct&&ct(wt))},wt.kill=wt.revert=function(){wt.disable();var t=x.indexOf(wt);t>=0&&x.splice(t,1),m===wt&&(m=0)},x.push(wt),it&&C(i)&&(m=wt),wt.enable(T)},i(t,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),t}();G.version="3.12.5",G.create=function(t){return new G(t)},G.register=H,G.getAll=function(){return x.slice()},G.getById=function(t){return x.filter((function(e){return e.vars.id===t}))[0]},y()&&a.registerPlugin(G);
/*!
 * ScrollTrigger 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/
var W,j,q,$,X,Y,K,Z,J,Q,tt,et,nt,rt,it,at,st,ot,lt,ct,ut,ht,pt,dt,ft,mt,gt,vt,yt,_t,xt,bt,St,wt,Et,Mt,Tt,Ct,At=1,Pt=Date.now,Rt=Pt(),Dt=0,It=0,Lt=function(t,e,n){var r=Yt(t)&&("clamp("===t.substr(0,6)||t.indexOf("max")>-1);return n["_"+e+"Clamp"]=r,r?t.substr(6,t.length-7):t},kt=function(t,e){return!e||Yt(t)&&"clamp("===t.substr(0,6)?t:"clamp("+t+")"},Ot=function t(){return It&&requestAnimationFrame(t)},Ft=function(){return rt=1},Nt=function(){return rt=0},Bt=function(t){return t},Ut=function(t){return Math.round(1e5*t)/1e5||0},zt=function(){return"undefined"!==typeof window},Vt=function(){return W||zt()&&(W=window.gsap)&&W.registerPlugin&&W},Ht=function(t){return!!~K.indexOf(t)},Gt=function(t){return("Height"===t?xt:q["inner"+t])||X["client"+t]||Y["client"+t]},Wt=function(t){return T(t,"getBoundingClientRect")||(Ht(t)?function(){return dn.width=q.innerWidth,dn.height=xt,dn}:function(){return xe(t)})},jt=function(t,e,n){var r=n.d,i=n.d2,a=n.a;return(a=T(t,"getBoundingClientRect"))?function(){return a()[r]}:function(){return(e?Gt(i):t["client"+i])||0}},qt=function(t,e){return!e||~S.indexOf(t)?Wt(t):function(){return dn}},$t=function(t,e){var n=e.s,r=e.d2,i=e.d,a=e.a;return Math.max(0,(n="scroll"+r)&&(a=T(t,n))?a()-Wt(t)()[i]:Ht(t)?(X[n]||Y[n])-Gt(r):t[n]-t["offset"+r])},Xt=function(t,e){for(var n=0;n<lt.length;n+=3)(!e||~e.indexOf(lt[n+1]))&&t(lt[n],lt[n+1],lt[n+2])},Yt=function(t){return"string"===typeof t},Kt=function(t){return"function"===typeof t},Zt=function(t){return"number"===typeof t},Jt=function(t){return"object"===typeof t},Qt=function(t,e,n){return t&&t.progress(e?0:1)&&n&&t.pause()},te=function(t,e){if(t.enabled){var n=t._ctx?t._ctx.add((function(){return e(t)})):e(t);n&&n.totalTime&&(t.callbackAnimation=n)}},ee=Math.abs,ne="left",re="top",ie="right",ae="bottom",se="width",oe="height",le="Right",ce="Left",ue="Top",he="Bottom",pe="padding",de="margin",fe="Width",me="Height",ge="px",ve=function(t){return q.getComputedStyle(t)},ye=function(t){var e=ve(t).position;t.style.position="absolute"===e||"fixed"===e?e:"relative"},_e=function(t,e){for(var n in e)n in t||(t[n]=e[n]);return t},xe=function(t,e){var n=e&&"matrix(1, 0, 0, 1, 0, 0)"!==ve(t)[it]&&W.to(t,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),r=t.getBoundingClientRect();return n&&n.progress(0).kill(),r},be=function(t,e){var n=e.d2;return t["offset"+n]||t["client"+n]||0},Se=function(t){var e,n=[],r=t.labels,i=t.duration();for(e in r)n.push(r[e]/i);return n},we=function(t){return function(e){return W.utils.snap(Se(t),e)}},Ee=function(t){var e=W.utils.snap(t),n=Array.isArray(t)&&t.slice(0).sort((function(t,e){return t-e}));return n?function(t,r,i){var a;if(void 0===i&&(i=.001),!r)return e(t);if(r>0){for(t-=i,a=0;a<n.length;a++)if(n[a]>=t)return n[a];return n[a-1]}a=n.length,t+=i;while(a--)if(n[a]<=t)return n[a];return n[0]}:function(n,r,i){void 0===i&&(i=.001);var a=e(n);return!r||Math.abs(a-n)<i||a-n<0===r<0?a:e(r<0?n-t:n+t)}},Me=function(t){return function(e,n){return Ee(Se(t))(e,n.direction)}},Te=function(t,e,n,r){return n.split(",").forEach((function(n){return t(e,n,r)}))},Ce=function(t,e,n,r,i){return t.addEventListener(e,n,{passive:!r,capture:!!i})},Ae=function(t,e,n,r){return t.removeEventListener(e,n,!!r)},Pe=function(t,e,n){n=n&&n.wheelHandler,n&&(t(e,"wheel",n),t(e,"touchmove",n))},Re={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},De={toggleActions:"play",anticipatePin:0},Ie={top:0,left:0,center:.5,bottom:1,right:1},Le=function(t,e){if(Yt(t)){var n=t.indexOf("="),r=~n?+(t.charAt(n-1)+1)*parseFloat(t.substr(n+1)):0;~n&&(t.indexOf("%")>n&&(r*=e/100),t=t.substr(0,n-1)),t=r+(t in Ie?Ie[t]*e:~t.indexOf("%")?parseFloat(t)*e/100:parseFloat(t)||0)}return t},ke=function(t,e,n,r,i,a,s,o){var l=i.startColor,c=i.endColor,u=i.fontSize,h=i.indent,p=i.fontWeight,d=$.createElement("div"),f=Ht(n)||"fixed"===T(n,"pinType"),m=-1!==t.indexOf("scroller"),g=f?Y:n,v=-1!==t.indexOf("start"),y=v?l:c,_="border-color:"+y+";font-size:"+u+";color:"+y+";font-weight:"+p+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return _+="position:"+((m||o)&&f?"fixed;":"absolute;"),(m||o||!f)&&(_+=(r===O?ie:ae)+":"+(a+parseFloat(h))+"px;"),s&&(_+="box-sizing:border-box;text-align:left;width:"+s.offsetWidth+"px;"),d._isStart=v,d.setAttribute("class","gsap-marker-"+t+(e?" marker-"+e:"")),d.style.cssText=_,d.innerText=e||0===e?t+"-"+e:t,g.children[0]?g.insertBefore(d,g.children[0]):g.appendChild(d),d._offset=d["offset"+r.op.d2],Oe(d,0,r,v),d},Oe=function(t,e,n,r){var i={display:"block"},a=n[r?"os2":"p2"],s=n[r?"p2":"os2"];t._isFlipped=r,i[n.a+"Percent"]=r?-100:0,i[n.a]=r?"1px":0,i["border"+a+fe]=1,i["border"+s+fe]=0,i[n.p]=e+"px",W.set(t,i)},Fe=[],Ne={},Be=function(){return Pt()-Dt>34&&(Et||(Et=requestAnimationFrame(rn)))},Ue=function(){(!pt||!pt.isPressed||pt.startX>Y.clientWidth)&&(b.cache++,pt?Et||(Et=requestAnimationFrame(rn)):rn(),Dt||je("scrollStart"),Dt=Pt())},ze=function(){mt=q.innerWidth,ft=q.innerHeight},Ve=function(){b.cache++,!nt&&!ht&&!$.fullscreenElement&&!$.webkitFullscreenElement&&(!dt||mt!==q.innerWidth||Math.abs(q.innerHeight-ft)>.25*q.innerHeight)&&Z.restart(!0)},He={},Ge=[],We=function t(){return Ae(xn,"scrollEnd",t)||tn(!0)},je=function(t){return He[t]&&He[t].map((function(t){return t()}))||Ge},qe=[],$e=function(t){for(var e=0;e<qe.length;e+=5)(!t||qe[e+4]&&qe[e+4].query===t)&&(qe[e].style.cssText=qe[e+1],qe[e].getBBox&&qe[e].setAttribute("transform",qe[e+2]||""),qe[e+3].uncache=1)},Xe=function(t,e){var n;for(at=0;at<Fe.length;at++)n=Fe[at],!n||e&&n._ctx!==e||(t?n.kill(1):n.revert(!0,!0));bt=!0,e&&$e(e),e||je("revert")},Ye=function(t,e){b.cache++,(e||!Mt)&&b.forEach((function(t){return Kt(t)&&t.cacheID++&&(t.rec=0)})),Yt(t)&&(q.history.scrollRestoration=yt=t)},Ke=0,Ze=function(){if(Tt!==Ke){var t=Tt=Ke;requestAnimationFrame((function(){return t===Ke&&tn(!0)}))}},Je=function(){Y.appendChild(_t),xt=!pt&&_t.offsetHeight||q.innerHeight,Y.removeChild(_t)},Qe=function(t){return J(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach((function(e){return e.style.display=t?"none":"block"}))},tn=function(t,e){if(!Dt||t||bt){Je(),Mt=xn.isRefreshing=!0,b.forEach((function(t){return Kt(t)&&++t.cacheID&&(t.rec=t())}));var n=je("refreshInit");ct&&xn.sort(),e||Xe(),b.forEach((function(t){Kt(t)&&(t.smooth&&(t.target.style.scrollBehavior="auto"),t(0))})),Fe.slice(0).forEach((function(t){return t.refresh()})),bt=!1,Fe.forEach((function(t){if(t._subPinOffset&&t.pin){var e=t.vars.horizontal?"offsetWidth":"offsetHeight",n=t.pin[e];t.revert(!0,1),t.adjustPinSpacing(t.pin[e]-n),t.refresh()}})),St=1,Qe(!0),Fe.forEach((function(t){var e=$t(t.scroller,t._dir),n="max"===t.vars.end||t._endClamp&&t.end>e,r=t._startClamp&&t.start>=e;(n||r)&&t.setPositions(r?e-1:t.start,n?Math.max(r?e:t.start+1,e):t.end,!0)})),Qe(!1),St=0,n.forEach((function(t){return t&&t.render&&t.render(-1)})),b.forEach((function(t){Kt(t)&&(t.smooth&&requestAnimationFrame((function(){return t.target.style.scrollBehavior="smooth"})),t.rec&&t(t.rec))})),Ye(yt,1),Z.pause(),Ke++,Mt=2,rn(2),Fe.forEach((function(t){return Kt(t.vars.onRefresh)&&t.vars.onRefresh(t)})),Mt=xn.isRefreshing=!1,je("refresh")}else Ce(xn,"scrollEnd",We)},en=0,nn=1,rn=function(t){if(2===t||!Mt&&!bt){xn.isUpdating=!0,Ct&&Ct.update(0);var e=Fe.length,n=Pt(),r=n-Rt>=50,i=e&&Fe[0].scroll();if(nn=en>i?-1:1,Mt||(en=i),r&&(Dt&&!rt&&n-Dt>200&&(Dt=0,je("scrollEnd")),tt=Rt,Rt=n),nn<0){at=e;while(at-- >0)Fe[at]&&Fe[at].update(0,r);nn=1}else for(at=0;at<e;at++)Fe[at]&&Fe[at].update(0,r);xn.isUpdating=!1}Et=0},an=[ne,re,ae,ie,de+he,de+le,de+ue,de+ce,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],sn=an.concat([se,oe,"boxSizing","max"+fe,"max"+me,"position",de,pe,pe+ue,pe+le,pe+he,pe+ce]),on=function(t,e,n){un(n);var r=t._gsap;if(r.spacerIsNative)un(r.spacerState);else if(t._gsap.swappedIn){var i=e.parentNode;i&&(i.insertBefore(t,e),i.removeChild(e))}t._gsap.swappedIn=!1},ln=function(t,e,n,r){if(!t._gsap.swappedIn){var i,a=an.length,s=e.style,o=t.style;while(a--)i=an[a],s[i]=n[i];s.position="absolute"===n.position?"absolute":"relative","inline"===n.display&&(s.display="inline-block"),o[ae]=o[ie]="auto",s.flexBasis=n.flexBasis||"auto",s.overflow="visible",s.boxSizing="border-box",s[se]=be(t,k)+ge,s[oe]=be(t,O)+ge,s[pe]=o[de]=o[re]=o[ne]="0",un(r),o[se]=o["max"+fe]=n[se],o[oe]=o["max"+me]=n[oe],o[pe]=n[pe],t.parentNode!==e&&(t.parentNode.insertBefore(e,t),e.appendChild(t)),t._gsap.swappedIn=!0}},cn=/([A-Z])/g,un=function(t){if(t){var e,n,r=t.t.style,i=t.length,a=0;for((t.t._gsap||W.core.getCache(t.t)).uncache=1;a<i;a+=2)n=t[a+1],e=t[a],n?r[e]=n:r[e]&&r.removeProperty(e.replace(cn,"-$1").toLowerCase())}},hn=function(t){for(var e=sn.length,n=t.style,r=[],i=0;i<e;i++)r.push(sn[i],n[sn[i]]);return r.t=t,r},pn=function(t,e,n){for(var r,i=[],a=t.length,s=n?8:0;s<a;s+=2)r=t[s],i.push(r,r in e?e[r]:t[s+1]);return i.t=t.t,i},dn={left:0,top:0},fn=function(t,e,n,r,i,a,s,o,l,c,u,h,p,d){Kt(t)&&(t=t(o)),Yt(t)&&"max"===t.substr(0,3)&&(t=h+("="===t.charAt(4)?Le("0"+t.substr(3),n):0));var f,m,g,v=p?p.time():0;if(p&&p.seek(0),isNaN(t)||(t=+t),Zt(t))p&&(t=W.utils.mapRange(p.scrollTrigger.start,p.scrollTrigger.end,0,h,t)),s&&Oe(s,n,r,!0);else{Kt(e)&&(e=e(o));var y,_,x,b,S=(t||"0").split(" ");g=F(e,o)||Y,y=xe(g)||{},y&&(y.left||y.top)||"none"!==ve(g).display||(b=g.style.display,g.style.display="block",y=xe(g),b?g.style.display=b:g.style.removeProperty("display")),_=Le(S[0],y[r.d]),x=Le(S[1]||"0",n),t=y[r.p]-l[r.p]-c+_+i-x,s&&Oe(s,x,r,n-x<20||s._isStart&&x>20),n-=n-x}if(d&&(o[d]=t||-.001,t<0&&(t=0)),a){var w=t+n,E=a._isStart;f="scroll"+r.d2,Oe(a,w,r,E&&w>20||!E&&(u?Math.max(Y[f],X[f]):a.parentNode[f])<=w+1),u&&(l=xe(s),u&&(a.style[r.op.p]=l[r.op.p]-r.op.m-a._offset+ge))}return p&&g&&(f=xe(g),p.seek(h),m=xe(g),p._caScrollDist=f[r.p]-m[r.p],t=t/p._caScrollDist*h),p&&p.seek(v),p?t:Math.round(t)},mn=/(webkit|moz|length|cssText|inset)/i,gn=function(t,e,n,r){if(t.parentNode!==e){var i,a,s=t.style;if(e===Y){for(i in t._stOrig=s.cssText,a=ve(t),a)+i||mn.test(i)||!a[i]||"string"!==typeof s[i]||"0"===i||(s[i]=a[i]);s.top=n,s.left=r}else s.cssText=t._stOrig;W.core.getCache(t).uncache=1,e.appendChild(t)}},vn=function(t,e,n){var r=e,i=r;return function(e){var a=Math.round(t());return a!==r&&a!==i&&Math.abs(a-r)>3&&Math.abs(a-i)>3&&(e=a,n&&n()),i=r,r=e,e}},yn=function(t,e,n){var r={};r[e.p]="+="+n,W.set(t,r)},_n=function(t,e){var n=N(t,e),r="_scroll"+e.p2,i=function e(i,a,s,o,l){var c=e.tween,u=a.onComplete,h={};s=s||n();var p=vn(n,s,(function(){c.kill(),e.tween=0}));return l=o&&l||0,o=o||i-s,c&&c.kill(),a[r]=i,a.inherit=!1,a.modifiers=h,h[r]=function(){return p(s+o*c.ratio+l*c.ratio*c.ratio)},a.onUpdate=function(){b.cache++,e.tween&&rn()},a.onComplete=function(){e.tween=0,u&&u.call(c)},c=e.tween=W.to(t,a),c};return t[r]=n,n.wheelHandler=function(){return i.tween&&i.tween.kill()&&(i.tween=0)},Ce(t,"wheel",n.wheelHandler),xn.isTouch&&Ce(t,"touchmove",n.wheelHandler),i},xn=function(){function t(e,n){j||t.register(W)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),vt(this),this.init(e,n)}var e=t.prototype;return e.init=function(e,n){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),It){e=_e(Yt(e)||Zt(e)||e.nodeType?{trigger:e}:e,De);var r,i,a,s,o,l,c,u,h,p,d,f,m,g,v,y,_,x,w,E,M,C,A,P,R,D,I,L,B,U,z,V,H,G,j,K,Z,et,it,st=e,ot=st.onUpdate,lt=st.toggleClass,ht=st.id,pt=st.onToggle,dt=st.onRefresh,ft=st.scrub,mt=st.trigger,gt=st.pin,vt=st.pinSpacing,yt=st.invalidateOnRefresh,_t=st.anticipatePin,xt=st.onScrubComplete,bt=st.onSnapComplete,Et=st.once,Tt=st.snap,Rt=st.pinReparent,Ot=st.pinSpacer,Ft=st.containerAnimation,Nt=st.fastScrollEnd,zt=st.preventOverlaps,Vt=e.horizontal||e.containerAnimation&&!1!==e.horizontal?k:O,Gt=!ft&&0!==ft,Wt=F(e.scroller||q),Xt=W.core.getCache(Wt),ne=Ht(Wt),re="fixed"===("pinType"in e?e.pinType:T(Wt,"pinType")||ne&&"fixed"),ie=[e.onEnter,e.onLeave,e.onEnterBack,e.onLeaveBack],ae=Gt&&e.toggleActions.split(" "),Se="markers"in e?e.markers:De.markers,Te=ne?0:parseFloat(ve(Wt)["border"+Vt.p2+fe])||0,Pe=this,Ie=e.onRefreshInit&&function(){return e.onRefreshInit(Pe)},Oe=jt(Wt,ne,Vt),Be=qt(Wt,ne),ze=0,He=0,Ge=0,je=N(Wt,Vt);if(Pe._startClamp=Pe._endClamp=!1,Pe._dir=Vt,_t*=45,Pe.scroller=Wt,Pe.scroll=Ft?Ft.time.bind(Ft):je,s=je(),Pe.vars=e,n=n||e.animation,"refreshPriority"in e&&(ct=1,-9999===e.refreshPriority&&(Ct=Pe)),Xt.tweenScroll=Xt.tweenScroll||{top:_n(Wt,O),left:_n(Wt,k)},Pe.tweenTo=r=Xt.tweenScroll[Vt.p],Pe.scrubDuration=function(t){H=Zt(t)&&t,H?V?V.duration(t):V=W.to(n,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:H,paused:!0,onComplete:function(){return xt&&xt(Pe)}}):(V&&V.progress(1).kill(),V=0)},n&&(n.vars.lazy=!1,n._initted&&!Pe.isReverted||!1!==n.vars.immediateRender&&!1!==e.immediateRender&&n.duration()&&n.render(0,!0,!0),Pe.animation=n.pause(),n.scrollTrigger=Pe,Pe.scrubDuration(ft),U=0,ht||(ht=n.vars.id)),Tt&&(Jt(Tt)&&!Tt.push||(Tt={snapTo:Tt}),"scrollBehavior"in Y.style&&W.set(ne?[Y,X]:Wt,{scrollBehavior:"auto"}),b.forEach((function(t){return Kt(t)&&t.target===(ne?$.scrollingElement||X:Wt)&&(t.smooth=!1)})),a=Kt(Tt.snapTo)?Tt.snapTo:"labels"===Tt.snapTo?we(n):"labelsDirectional"===Tt.snapTo?Me(n):!1!==Tt.directional?function(t,e){return Ee(Tt.snapTo)(t,Pt()-He<500?0:e.direction)}:W.utils.snap(Tt.snapTo),G=Tt.duration||{min:.1,max:2},G=Jt(G)?Q(G.min,G.max):Q(G,G),j=W.delayedCall(Tt.delay||H/2||.1,(function(){var t=je(),e=Pt()-He<500,i=r.tween;if(!(e||Math.abs(Pe.getVelocity())<10)||i||rt||ze===t)Pe.isActive&&ze!==t&&j.restart(!0);else{var s,o,u=(t-l)/g,h=n&&!Gt?n.totalProgress():u,p=e?0:(h-z)/(Pt()-tt)*1e3||0,d=W.utils.clamp(-u,1-u,ee(p/2)*p/.185),f=u+(!1===Tt.inertia?0:d),m=Tt,v=m.onStart,y=m.onInterrupt,_=m.onComplete;if(s=a(f,Pe),Zt(s)||(s=f),o=Math.round(l+s*g),t<=c&&t>=l&&o!==t){if(i&&!i._initted&&i.data<=ee(o-t))return;!1===Tt.inertia&&(d=s-u),r(o,{duration:G(ee(.185*Math.max(ee(f-h),ee(s-h))/p/.05||0)),ease:Tt.ease||"power3",data:ee(o-t),onInterrupt:function(){return j.restart(!0)&&y&&y(Pe)},onComplete:function(){Pe.update(),ze=je(),n&&(V?V.resetTo("totalProgress",s,n._tTime/n._tDur):n.progress(s)),U=z=n&&!Gt?n.totalProgress():Pe.progress,bt&&bt(Pe),_&&_(Pe)}},t,d*g,o-t-d*g),v&&v(Pe,r.tween)}}})).pause()),ht&&(Ne[ht]=Pe),mt=Pe.trigger=F(mt||!0!==gt&&gt),it=mt&&mt._gsap&&mt._gsap.stRevert,it&&(it=it(Pe)),gt=!0===gt?mt:F(gt),Yt(lt)&&(lt={targets:mt,className:lt}),gt&&(!1===vt||vt===de||(vt=!(!vt&&gt.parentNode&&gt.parentNode.style&&"flex"===ve(gt.parentNode).display)&&pe),Pe.pin=gt,i=W.core.getCache(gt),i.spacer?v=i.pinState:(Ot&&(Ot=F(Ot),Ot&&!Ot.nodeType&&(Ot=Ot.current||Ot.nativeElement),i.spacerIsNative=!!Ot,Ot&&(i.spacerState=hn(Ot))),i.spacer=x=Ot||$.createElement("div"),x.classList.add("pin-spacer"),ht&&x.classList.add("pin-spacer-"+ht),i.pinState=v=hn(gt)),!1!==e.force3D&&W.set(gt,{force3D:!0}),Pe.spacer=x=i.spacer,B=ve(gt),P=B[vt+Vt.os2],E=W.getProperty(gt),M=W.quickSetter(gt,Vt.a,ge),ln(gt,x,B),_=hn(gt)),Se){f=Jt(Se)?_e(Se,Re):Re,p=ke("scroller-start",ht,Wt,Vt,f,0),d=ke("scroller-end",ht,Wt,Vt,f,0,p),w=p["offset"+Vt.op.d2];var qe=F(T(Wt,"content")||Wt);u=this.markerStart=ke("start",ht,qe,Vt,f,w,0,Ft),h=this.markerEnd=ke("end",ht,qe,Vt,f,w,0,Ft),Ft&&(et=W.quickSetter([u,h],Vt.a,ge)),re||S.length&&!0===T(Wt,"fixedMarkers")||(ye(ne?Y:Wt),W.set([p,d],{force3D:!0}),D=W.quickSetter(p,Vt.a,ge),L=W.quickSetter(d,Vt.a,ge))}if(Ft){var $e=Ft.vars.onUpdate,Xe=Ft.vars.onUpdateParams;Ft.eventCallback("onUpdate",(function(){Pe.update(0,0,1),$e&&$e.apply(Ft,Xe||[])}))}if(Pe.previous=function(){return Fe[Fe.indexOf(Pe)-1]},Pe.next=function(){return Fe[Fe.indexOf(Pe)+1]},Pe.revert=function(t,e){if(!e)return Pe.kill(!0);var r=!1!==t||!Pe.enabled,i=nt;r!==Pe.isReverted&&(r&&(K=Math.max(je(),Pe.scroll.rec||0),Ge=Pe.progress,Z=n&&n.progress()),u&&[u,h,p,d].forEach((function(t){return t.style.display=r?"none":"block"})),r&&(nt=Pe,Pe.update(r)),!gt||Rt&&Pe.isActive||(r?on(gt,x,v):ln(gt,x,ve(gt),R)),r||Pe.update(r),nt=i,Pe.isReverted=r)},Pe.refresh=function(i,a,f,b){if(!nt&&Pe.enabled||a)if(gt&&i&&Dt)Ce(t,"scrollEnd",We);else{!Mt&&Ie&&Ie(Pe),nt=Pe,r.tween&&!f&&(r.tween.kill(),r.tween=0),V&&V.pause(),yt&&n&&n.revert({kill:!1}).invalidate(),Pe.isReverted||Pe.revert(!0,!0),Pe._subPinOffset=!1;var S,w,M,T,P,D,L,B,U,z,H,G,q,J=Oe(),Q=Be(),tt=Ft?Ft.duration():$t(Wt,Vt),et=g<=.01,rt=0,it=b||0,at=Jt(f)?f.end:e.end,st=e.endTrigger||mt,ot=Jt(f)?f.start:e.start||(0!==e.start&&mt?gt?"0 0":"0 100%":0),lt=Pe.pinnedContainer=e.pinnedContainer&&F(e.pinnedContainer,Pe),ct=mt&&Math.max(0,Fe.indexOf(Pe))||0,ht=ct;Se&&Jt(f)&&(G=W.getProperty(p,Vt.p),q=W.getProperty(d,Vt.p));while(ht--)D=Fe[ht],D.end||D.refresh(0,1)||(nt=Pe),L=D.pin,!L||L!==mt&&L!==gt&&L!==lt||D.isReverted||(z||(z=[]),z.unshift(D),D.revert(!0,!0)),D!==Fe[ht]&&(ct--,ht--);Kt(ot)&&(ot=ot(Pe)),ot=Lt(ot,"start",Pe),l=fn(ot,mt,J,Vt,je(),u,p,Pe,Q,Te,re,tt,Ft,Pe._startClamp&&"_startClamp")||(gt?-.001:0),Kt(at)&&(at=at(Pe)),Yt(at)&&!at.indexOf("+=")&&(~at.indexOf(" ")?at=(Yt(ot)?ot.split(" ")[0]:"")+at:(rt=Le(at.substr(2),J),at=Yt(ot)?ot:(Ft?W.utils.mapRange(0,Ft.duration(),Ft.scrollTrigger.start,Ft.scrollTrigger.end,l):l)+rt,st=mt)),at=Lt(at,"end",Pe),c=Math.max(l,fn(at||(st?"100% 0":tt),st,J,Vt,je()+rt,h,d,Pe,Q,Te,re,tt,Ft,Pe._endClamp&&"_endClamp"))||-.001,rt=0,ht=ct;while(ht--)D=Fe[ht],L=D.pin,L&&D.start-D._pinPush<=l&&!Ft&&D.end>0&&(S=D.end-(Pe._startClamp?Math.max(0,D.start):D.start),(L===mt&&D.start-D._pinPush<l||L===lt)&&isNaN(ot)&&(rt+=S*(1-D.progress)),L===gt&&(it+=S));if(l+=rt,c+=rt,Pe._startClamp&&(Pe._startClamp+=rt),Pe._endClamp&&!Mt&&(Pe._endClamp=c||-.001,c=Math.min(c,$t(Wt,Vt))),g=c-l||(l-=.01)&&.001,et&&(Ge=W.utils.clamp(0,1,W.utils.normalize(l,c,K))),Pe._pinPush=it,u&&rt&&(S={},S[Vt.a]="+="+rt,lt&&(S[Vt.p]="-="+je()),W.set([u,h],S)),!gt||St&&Pe.end>=$t(Wt,Vt)){if(mt&&je()&&!Ft){w=mt.parentNode;while(w&&w!==Y)w._pinOffset&&(l-=w._pinOffset,c-=w._pinOffset),w=w.parentNode}}else S=ve(gt),T=Vt===O,M=je(),C=parseFloat(E(Vt.a))+it,!tt&&c>1&&(H=(ne?$.scrollingElement||X:Wt).style,H={style:H,value:H["overflow"+Vt.a.toUpperCase()]},ne&&"scroll"!==ve(Y)["overflow"+Vt.a.toUpperCase()]&&(H.style["overflow"+Vt.a.toUpperCase()]="scroll")),ln(gt,x,S),_=hn(gt),w=xe(gt,!0),B=re&&N(Wt,T?k:O)(),vt?(R=[vt+Vt.os2,g+it+ge],R.t=x,ht=vt===pe?be(gt,Vt)+g+it:0,ht&&(R.push(Vt.d,ht+ge),"auto"!==x.style.flexBasis&&(x.style.flexBasis=ht+ge)),un(R),lt&&Fe.forEach((function(t){t.pin===lt&&!1!==t.vars.pinSpacing&&(t._subPinOffset=!0)})),re&&je(K)):(ht=be(gt,Vt),ht&&"auto"!==x.style.flexBasis&&(x.style.flexBasis=ht+ge)),re&&(P={top:w.top+(T?M-l:B)+ge,left:w.left+(T?B:M-l)+ge,boxSizing:"border-box",position:"fixed"},P[se]=P["max"+fe]=Math.ceil(w.width)+ge,P[oe]=P["max"+me]=Math.ceil(w.height)+ge,P[de]=P[de+ue]=P[de+le]=P[de+he]=P[de+ce]="0",P[pe]=S[pe],P[pe+ue]=S[pe+ue],P[pe+le]=S[pe+le],P[pe+he]=S[pe+he],P[pe+ce]=S[pe+ce],y=pn(v,P,Rt),Mt&&je(0)),n?(U=n._initted,ut(1),n.render(n.duration(),!0,!0),A=E(Vt.a)-C+g+it,I=Math.abs(g-A)>1,re&&I&&y.splice(y.length-2,2),n.render(0,!0,!0),U||n.invalidate(!0),n.parent||n.totalTime(n.totalTime()),ut(0)):A=g,H&&(H.value?H.style["overflow"+Vt.a.toUpperCase()]=H.value:H.style.removeProperty("overflow-"+Vt.a));z&&z.forEach((function(t){return t.revert(!1,!0)})),Pe.start=l,Pe.end=c,s=o=Mt?K:je(),Ft||Mt||(s<K&&je(K),Pe.scroll.rec=0),Pe.revert(!1,!0),He=Pt(),j&&(ze=-1,j.restart(!0)),nt=0,n&&Gt&&(n._initted||Z)&&n.progress()!==Z&&n.progress(Z||0,!0).render(n.time(),!0,!0),(et||Ge!==Pe.progress||Ft||yt)&&(n&&!Gt&&n.totalProgress(Ft&&l<-.001&&!Ge?W.utils.normalize(l,c,0):Ge,!0),Pe.progress=et||(s-l)/g===Ge?0:Ge),gt&&vt&&(x._pinOffset=Math.round(Pe.progress*A)),V&&V.invalidate(),isNaN(G)||(G-=W.getProperty(p,Vt.p),q-=W.getProperty(d,Vt.p),yn(p,Vt,G),yn(u,Vt,G-(b||0)),yn(d,Vt,q),yn(h,Vt,q-(b||0))),et&&!Mt&&Pe.update(),!dt||Mt||m||(m=!0,dt(Pe),m=!1)}},Pe.getVelocity=function(){return(je()-o)/(Pt()-tt)*1e3||0},Pe.endAnimation=function(){Qt(Pe.callbackAnimation),n&&(V?V.progress(1):n.paused()?Gt||Qt(n,Pe.direction<0,1):Qt(n,n.reversed()))},Pe.labelToScroll=function(t){return n&&n.labels&&(l||Pe.refresh()||l)+n.labels[t]/n.duration()*g||0},Pe.getTrailing=function(t){var e=Fe.indexOf(Pe),n=Pe.direction>0?Fe.slice(0,e).reverse():Fe.slice(e+1);return(Yt(t)?n.filter((function(e){return e.vars.preventOverlaps===t})):n).filter((function(t){return Pe.direction>0?t.end<=l:t.start>=c}))},Pe.update=function(t,e,i){if(!Ft||i||t){var a,u,h,d,f,m,v,b,S=!0===Mt?K:Pe.scroll(),w=t?0:(S-l)/g,E=w<0?0:w>1?1:w||0,T=Pe.progress;if(e&&(o=s,s=Ft?je():S,Tt&&(z=U,U=n&&!Gt?n.totalProgress():E)),_t&&gt&&!nt&&!At&&Dt&&(!E&&l<S+(S-o)/(Pt()-tt)*_t?E=1e-4:1===E&&c>S+(S-o)/(Pt()-tt)*_t&&(E=.9999)),E!==T&&Pe.enabled){if(a=Pe.isActive=!!E&&E<1,u=!!T&&T<1,m=a!==u,f=m||!!E!==!!T,Pe.direction=E>T?1:-1,Pe.progress=E,f&&!nt&&(h=E&&!T?0:1===E?1:1===T?2:3,Gt&&(d=!m&&"none"!==ae[h+1]&&ae[h+1]||ae[h],b=n&&("complete"===d||"reset"===d||d in n))),zt&&(m||b)&&(b||ft||!n)&&(Kt(zt)?zt(Pe):Pe.getTrailing(zt).forEach((function(t){return t.endAnimation()}))),Gt||(!V||nt||At?n&&n.totalProgress(E,!(!nt||!He&&!t)):(V._dp._time-V._start!==V._time&&V.render(V._dp._time-V._start),V.resetTo?V.resetTo("totalProgress",E,n._tTime/n._tDur):(V.vars.totalProgress=E,V.invalidate().restart()))),gt)if(t&&vt&&(x.style[vt+Vt.os2]=P),re){if(f){if(v=!t&&E>T&&c+1>S&&S+1>=$t(Wt,Vt),Rt)if(t||!a&&!v)gn(gt,x);else{var R=xe(gt,!0),k=S-l;gn(gt,Y,R.top+(Vt===O?k:0)+ge,R.left+(Vt===O?0:k)+ge)}un(a||v?y:_),I&&E<1&&a||M(C+(1!==E||v?0:A))}}else M(Ut(C+A*E));Tt&&!r.tween&&!nt&&!At&&j.restart(!0),lt&&(m||Et&&E&&(E<1||!wt))&&J(lt.targets).forEach((function(t){return t.classList[a||Et?"add":"remove"](lt.className)})),ot&&!Gt&&!t&&ot(Pe),f&&!nt?(Gt&&(b&&("complete"===d?n.pause().totalProgress(1):"reset"===d?n.restart(!0).pause():"restart"===d?n.restart(!0):n[d]()),ot&&ot(Pe)),!m&&wt||(pt&&m&&te(Pe,pt),ie[h]&&te(Pe,ie[h]),Et&&(1===E?Pe.kill(!1,1):ie[h]=0),m||(h=1===E?1:3,ie[h]&&te(Pe,ie[h]))),Nt&&!a&&Math.abs(Pe.getVelocity())>(Zt(Nt)?Nt:2500)&&(Qt(Pe.callbackAnimation),V?V.progress(1):Qt(n,"reverse"===d?1:!E,1))):Gt&&ot&&!nt&&ot(Pe)}if(L){var F=Ft?S/Ft.duration()*(Ft._caScrollDist||0):S;D(F+(p._isFlipped?1:0)),L(F)}et&&et(-S/Ft.duration()*(Ft._caScrollDist||0))}},Pe.enable=function(e,n){Pe.enabled||(Pe.enabled=!0,Ce(Wt,"resize",Ve),ne||Ce(Wt,"scroll",Ue),Ie&&Ce(t,"refreshInit",Ie),!1!==e&&(Pe.progress=Ge=0,s=o=ze=je()),!1!==n&&Pe.refresh())},Pe.getTween=function(t){return t&&r?r.tween:V},Pe.setPositions=function(t,e,n,r){if(Ft){var i=Ft.scrollTrigger,a=Ft.duration(),s=i.end-i.start;t=i.start+s*t/a,e=i.start+s*e/a}Pe.refresh(!1,!1,{start:kt(t,n&&!!Pe._startClamp),end:kt(e,n&&!!Pe._endClamp)},r),Pe.update()},Pe.adjustPinSpacing=function(t){if(R&&t){var e=R.indexOf(Vt.d)+1;R[e]=parseFloat(R[e])+t+ge,R[1]=parseFloat(R[1])+t+ge,un(R)}},Pe.disable=function(e,n){if(Pe.enabled&&(!1!==e&&Pe.revert(!0,!0),Pe.enabled=Pe.isActive=!1,n||V&&V.pause(),K=0,i&&(i.uncache=1),Ie&&Ae(t,"refreshInit",Ie),j&&(j.pause(),r.tween&&r.tween.kill()&&(r.tween=0)),!ne)){var a=Fe.length;while(a--)if(Fe[a].scroller===Wt&&Fe[a]!==Pe)return;Ae(Wt,"resize",Ve),ne||Ae(Wt,"scroll",Ue)}},Pe.kill=function(t,r){Pe.disable(t,r),V&&!r&&V.kill(),ht&&delete Ne[ht];var a=Fe.indexOf(Pe);a>=0&&Fe.splice(a,1),a===at&&nn>0&&at--,a=0,Fe.forEach((function(t){return t.scroller===Pe.scroller&&(a=1)})),a||Mt||(Pe.scroll.rec=0),n&&(n.scrollTrigger=null,t&&n.revert({kill:!1}),r||n.kill()),u&&[u,h,p,d].forEach((function(t){return t.parentNode&&t.parentNode.removeChild(t)})),Ct===Pe&&(Ct=0),gt&&(i&&(i.uncache=1),a=0,Fe.forEach((function(t){return t.pin===gt&&a++})),a||(i.spacer=0)),e.onKill&&e.onKill(Pe)},Fe.push(Pe),Pe.enable(!1,!1),it&&it(Pe),n&&n.add&&!g){var Ye=Pe.update;Pe.update=function(){Pe.update=Ye,l||c||Pe.refresh()},W.delayedCall(.01,Pe.update),g=.01,l=c=0}else Pe.refresh();gt&&Ze()}else this.update=this.refresh=this.kill=Bt},t.register=function(e){return j||(W=e||Vt(),zt()&&window.document&&t.enable(),j=It),j},t.defaults=function(t){if(t)for(var e in t)De[e]=t[e];return De},t.disable=function(t,e){It=0,Fe.forEach((function(n){return n[e?"kill":"disable"](t)})),Ae(q,"wheel",Ue),Ae($,"scroll",Ue),clearInterval(et),Ae($,"touchcancel",Bt),Ae(Y,"touchstart",Bt),Te(Ae,$,"pointerdown,touchstart,mousedown",Ft),Te(Ae,$,"pointerup,touchend,mouseup",Nt),Z.kill(),Xt(Ae);for(var n=0;n<b.length;n+=3)Pe(Ae,b[n],b[n+1]),Pe(Ae,b[n],b[n+2])},t.enable=function(){if(q=window,$=document,X=$.documentElement,Y=$.body,W&&(J=W.utils.toArray,Q=W.utils.clamp,vt=W.core.context||Bt,ut=W.core.suppressOverwrites||Bt,yt=q.history.scrollRestoration||"auto",en=q.pageYOffset,W.core.globals("ScrollTrigger",t),Y)){It=1,_t=document.createElement("div"),_t.style.height="100vh",_t.style.position="absolute",Je(),Ot(),G.register(W),t.isTouch=G.isTouch,gt=G.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),dt=1===G.isTouch,Ce(q,"wheel",Ue),K=[q,$,X,Y],W.matchMedia?(t.matchMedia=function(t){var e,n=W.matchMedia();for(e in t)n.add(e,t[e]);return n},W.addEventListener("matchMediaInit",(function(){return Xe()})),W.addEventListener("matchMediaRevert",(function(){return $e()})),W.addEventListener("matchMedia",(function(){tn(0,1),je("matchMedia")})),W.matchMedia("(orientation: portrait)",(function(){return ze(),ze}))):console.warn("Requires GSAP 3.11.0 or later"),ze(),Ce($,"scroll",Ue);var e,n,r=Y.style,i=r.borderTopStyle,a=W.core.Animation.prototype;for(a.revert||Object.defineProperty(a,"revert",{value:function(){return this.time(-.01,!0)}}),r.borderTopStyle="solid",e=xe(Y),O.m=Math.round(e.top+O.sc())||0,k.m=Math.round(e.left+k.sc())||0,i?r.borderTopStyle=i:r.removeProperty("border-top-style"),et=setInterval(Be,250),W.delayedCall(.5,(function(){return At=0})),Ce($,"touchcancel",Bt),Ce(Y,"touchstart",Bt),Te(Ce,$,"pointerdown,touchstart,mousedown",Ft),Te(Ce,$,"pointerup,touchend,mouseup",Nt),it=W.utils.checkPrefix("transform"),sn.push(it),j=Pt(),Z=W.delayedCall(.2,tn).pause(),lt=[$,"visibilitychange",function(){var t=q.innerWidth,e=q.innerHeight;$.hidden?(st=t,ot=e):st===t&&ot===e||Ve()},$,"DOMContentLoaded",tn,q,"load",tn,q,"resize",Ve],Xt(Ce),Fe.forEach((function(t){return t.enable(0,1)})),n=0;n<b.length;n+=3)Pe(Ae,b[n],b[n+1]),Pe(Ae,b[n],b[n+2])}},t.config=function(e){"limitCallbacks"in e&&(wt=!!e.limitCallbacks);var n=e.syncInterval;n&&clearInterval(et)||(et=n)&&setInterval(Be,n),"ignoreMobileResize"in e&&(dt=1===t.isTouch&&e.ignoreMobileResize),"autoRefreshEvents"in e&&(Xt(Ae)||Xt(Ce,e.autoRefreshEvents||"none"),ht=-1===(e.autoRefreshEvents+"").indexOf("resize"))},t.scrollerProxy=function(t,e){var n=F(t),r=b.indexOf(n),i=Ht(n);~r&&b.splice(r,i?6:2),e&&(i?S.unshift(q,e,Y,e,X,e):S.unshift(n,e))},t.clearMatchMedia=function(t){Fe.forEach((function(e){return e._ctx&&e._ctx.query===t&&e._ctx.kill(!0,!0)}))},t.isInViewport=function(t,e,n){var r=(Yt(t)?F(t):t).getBoundingClientRect(),i=r[n?se:oe]*e||0;return n?r.right-i>0&&r.left+i<q.innerWidth:r.bottom-i>0&&r.top+i<q.innerHeight},t.positionInViewport=function(t,e,n){Yt(t)&&(t=F(t));var r=t.getBoundingClientRect(),i=r[n?se:oe],a=null==e?i/2:e in Ie?Ie[e]*i:~e.indexOf("%")?parseFloat(e)*i/100:parseFloat(e)||0;return n?(r.left+a)/q.innerWidth:(r.top+a)/q.innerHeight},t.killAll=function(t){if(Fe.slice(0).forEach((function(t){return"ScrollSmoother"!==t.vars.id&&t.kill()})),!0!==t){var e=He.killAll||[];He={},e.forEach((function(t){return t()}))}},t}();xn.version="3.12.5",xn.saveStyles=function(t){return t?J(t).forEach((function(t){if(t&&t.style){var e=qe.indexOf(t);e>=0&&qe.splice(e,5),qe.push(t,t.style.cssText,t.getBBox&&t.getAttribute("transform"),W.core.getCache(t),vt())}})):qe},xn.revert=function(t,e){return Xe(!t,e)},xn.create=function(t,e){return new xn(t,e)},xn.refresh=function(t){return t?Ve():(j||xn.register())&&tn(!0)},xn.update=function(t){return++b.cache&&rn(!0===t?2:0)},xn.clearScrollMemory=Ye,xn.maxScroll=function(t,e){return $t(t,e?k:O)},xn.getScrollFunc=function(t,e){return N(F(t),e?k:O)},xn.getById=function(t){return Ne[t]},xn.getAll=function(){return Fe.filter((function(t){return"ScrollSmoother"!==t.vars.id}))},xn.isScrolling=function(){return!!Dt},xn.snapDirectional=Ee,xn.addEventListener=function(t,e){var n=He[t]||(He[t]=[]);~n.indexOf(e)||n.push(e)},xn.removeEventListener=function(t,e){var n=He[t],r=n&&n.indexOf(e);r>=0&&n.splice(r,1)},xn.batch=function(t,e){var n,r=[],i={},a=e.interval||.016,s=e.batchMax||1e9,o=function(t,e){var n=[],r=[],i=W.delayedCall(a,(function(){e(n,r),n=[],r=[]})).pause();return function(t){n.length||i.restart(!0),n.push(t.trigger),r.push(t),s<=n.length&&i.progress(1)}};for(n in e)i[n]="on"===n.substr(0,2)&&Kt(e[n])&&"onRefreshInit"!==n?o(n,e[n]):e[n];return Kt(s)&&(s=s(),Ce(xn,"refresh",(function(){return s=e.batchMax()}))),J(t).forEach((function(t){var e={};for(n in i)e[n]=i[n];e.trigger=t,r.push(xn.create(e))})),r};var bn,Sn=function(t,e,n,r){return e>r?t(r):e<0&&t(0),n>r?(r-e)/(n-e):n<0?e/(e-n):1},wn=function t(e,n){!0===n?e.style.removeProperty("touch-action"):e.style.touchAction=!0===n?"auto":n?"pan-"+n+(G.isTouch?" pinch-zoom":""):"none",e===X&&t(Y,n)},En={auto:1,scroll:1},Mn=function(t){var e,n=t.event,r=t.target,i=t.axis,a=(n.changedTouches?n.changedTouches[0]:n).target,s=a._gsap||W.core.getCache(a),o=Pt();if(!s._isScrollT||o-s._isScrollT>2e3){while(a&&a!==Y&&(a.scrollHeight<=a.clientHeight&&a.scrollWidth<=a.clientWidth||!En[(e=ve(a)).overflowY]&&!En[e.overflowX]))a=a.parentNode;s._isScroll=a&&a!==r&&!Ht(a)&&(En[(e=ve(a)).overflowY]||En[e.overflowX]),s._isScrollT=o}(s._isScroll||"x"===i)&&(n.stopPropagation(),n._gsapAllow=!0)},Tn=function(t,e,n,r){return G.create({target:t,capture:!0,debounce:!1,lockAxis:!0,type:e,onWheel:r=r&&Mn,onPress:r,onDrag:r,onScroll:r,onEnable:function(){return n&&Ce($,G.eventTypes[0],An,!1,!0)},onDisable:function(){return Ae($,G.eventTypes[0],An,!0)}})},Cn=/(input|label|select|textarea)/i,An=function(t){var e=Cn.test(t.target.tagName);(e||bn)&&(t._gsapAllow=!0,bn=e)},Pn=function(t){Jt(t)||(t={}),t.preventDefault=t.isNormalizer=t.allowClicks=!0,t.type||(t.type="wheel,touch"),t.debounce=!!t.debounce,t.id=t.id||"normalizer";var e,n,r,i,a,s,o,l,c=t,u=c.normalizeScrollX,h=c.momentum,p=c.allowNestedScroll,d=c.onRelease,f=F(t.target)||X,m=W.core.globals().ScrollSmoother,g=m&&m.get(),v=gt&&(t.content&&F(t.content)||g&&!1!==t.content&&!g.smooth()&&g.content()),y=N(f,O),_=N(f,k),x=1,S=(G.isTouch&&q.visualViewport?q.visualViewport.scale*q.visualViewport.width:q.outerWidth)/q.innerWidth,w=0,E=Kt(h)?function(){return h(e)}:function(){return h||2.8},M=Tn(f,t.type,!0,p),T=function(){return i=!1},C=Bt,A=Bt,P=function(){n=$t(f,O),A=Q(gt?1:0,n),u&&(C=Q(0,$t(f,k))),r=Ke},R=function(){v._gsap.y=Ut(parseFloat(v._gsap.y)+y.offset)+"px",v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(v._gsap.y)+", 0, 1)",y.offset=y.cacheID=0},D=function(){if(i){requestAnimationFrame(T);var t=Ut(e.deltaY/2),n=A(y.v-t);if(v&&n!==y.v+y.offset){y.offset=n-y.v;var r=Ut((parseFloat(v&&v._gsap.y)||0)-y.offset);v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+r+", 0, 1)",v._gsap.y=r+"px",y.cacheID=b.cache,rn()}return!0}y.offset&&R(),i=!0},I=function(){P(),a.isActive()&&a.vars.scrollY>n&&(y()>n?a.progress(1)&&y(n):a.resetTo("scrollY",n))};return v&&W.set(v,{y:"+=0"}),t.ignoreCheck=function(t){return gt&&"touchmove"===t.type&&D(t)||x>1.05&&"touchstart"!==t.type||e.isGesturing||t.touches&&t.touches.length>1},t.onPress=function(){i=!1;var t=x;x=Ut((q.visualViewport&&q.visualViewport.scale||1)/S),a.pause(),t!==x&&wn(f,x>1.01||!u&&"x"),s=_(),o=y(),P(),r=Ke},t.onRelease=t.onGestureStart=function(t,e){if(y.offset&&R(),e){b.cache++;var r,i,s=E();u&&(r=_(),i=r+.05*s*-t.velocityX/.227,s*=Sn(_,r,i,$t(f,k)),a.vars.scrollX=C(i)),r=y(),i=r+.05*s*-t.velocityY/.227,s*=Sn(y,r,i,$t(f,O)),a.vars.scrollY=A(i),a.invalidate().duration(s).play(.01),(gt&&a.vars.scrollY>=n||r>=n-1)&&W.to({},{onUpdate:I,duration:s})}else l.restart(!0);d&&d(t)},t.onWheel=function(){a._ts&&a.pause(),Pt()-w>1e3&&(r=0,w=Pt())},t.onChange=function(t,e,n,i,a){if(Ke!==r&&P(),e&&u&&_(C(i[2]===e?s+(t.startX-t.x):_()+e-i[1])),n){y.offset&&R();var l=a[2]===n,c=l?o+t.startY-t.y:y()+n-a[1],h=A(c);l&&c!==h&&(o+=h-c),y(h)}(n||e)&&rn()},t.onEnable=function(){wn(f,!u&&"x"),xn.addEventListener("refresh",I),Ce(q,"resize",I),y.smooth&&(y.target.style.scrollBehavior="auto",y.smooth=_.smooth=!1),M.enable()},t.onDisable=function(){wn(f,!0),Ae(q,"resize",I),xn.removeEventListener("refresh",I),M.kill()},t.lockAxis=!1!==t.lockAxis,e=new G(t),e.iOS=gt,gt&&!y()&&y(1),gt&&W.ticker.add(Bt),l=e._dc,a=W.to(e,{ease:"power4",paused:!0,inherit:!1,scrollX:u?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:vn(y,y(),(function(){return a.pause()}))},onUpdate:rn,onComplete:l.vars.onComplete}),e};xn.sort=function(t){return Fe.sort(t||function(t,e){return-1e6*(t.vars.refreshPriority||0)+t.start-(e.start+-1e6*(e.vars.refreshPriority||0))})},xn.observe=function(t){return new G(t)},xn.normalizeScroll=function(t){if("undefined"===typeof t)return pt;if(!0===t&&pt)return pt.enable();if(!1===t)return pt&&pt.kill(),void(pt=t);var e=t instanceof G?t:Pn(t);return pt&&pt.target===e.target&&pt.kill(),Ht(e.target)&&(pt=e),e},xn.core={_getVelocityProp:B,_inputObserver:Tn,_scrollers:b,_proxies:S,bridge:{ss:function(){Dt||je("scrollStart"),Dt=Pt()},ref:function(){return nt}}},Vt()&&W.registerPlugin(xn)},4968:function(t,e,n){"use strict";n.d(e,{Ay:function(){return li},os:function(){return li}});n(4114),n(6573),n(8100),n(7936);function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}
/*!
 * GSAP 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var a,s,o,l,c,u,h,p,d,f,m,g={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},v={duration:.5,overwrite:!1,delay:0},y=1e8,_=1/y,x=2*Math.PI,b=x/4,S=0,w=Math.sqrt,E=Math.cos,M=Math.sin,T=function(t){return"string"===typeof t},C=function(t){return"function"===typeof t},A=function(t){return"number"===typeof t},P=function(t){return"undefined"===typeof t},R=function(t){return"object"===typeof t},D=function(t){return!1!==t},I=function(){return"undefined"!==typeof window},L=function(t){return C(t)||T(t)},k="function"===typeof ArrayBuffer&&ArrayBuffer.isView||function(){},O=Array.isArray,F=/(?:-?\.?\d|\.)+/gi,N=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,B=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,U=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,z=/[+-]=-?[.\d]+/,V=/[^,'"\[\]\s]+/gi,H=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,G={},W={},j=function(t){return(W=bt(t,G))&&zn},q=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},$=function(t,e){return!e&&console.warn(t)},X=function(t,e){return t&&(G[t]=e)&&W&&(W[t]=e)||G},Y=function(){return 0},K={suppressEvents:!0,isStart:!0,kill:!1},Z={suppressEvents:!0,kill:!1},J={suppressEvents:!0},Q={},tt=[],et={},nt={},rt={},it=30,at=[],st="",ot=function(t){var e,n,r=t[0];if(R(r)||C(r)||(t=[t]),!(e=(r._gsap||{}).harness)){n=at.length;while(n--&&!at[n].targetTest(r));e=at[n]}n=t.length;while(n--)t[n]&&(t[n]._gsap||(t[n]._gsap=new Ye(t[n],e)))||t.splice(n,1);return t},lt=function(t){return t._gsap||ot(ie(t))[0]._gsap},ct=function(t,e,n){return(n=t[e])&&C(n)?t[e]():P(n)&&t.getAttribute&&t.getAttribute(e)||n},ut=function(t,e){return(t=t.split(",")).forEach(e)||t},ht=function(t){return Math.round(1e5*t)/1e5||0},pt=function(t){return Math.round(1e7*t)/1e7||0},dt=function(t,e){var n=e.charAt(0),r=parseFloat(e.substr(2));return t=parseFloat(t),"+"===n?t+r:"-"===n?t-r:"*"===n?t*r:t/r},ft=function(t,e){for(var n=e.length,r=0;t.indexOf(e[r])<0&&++r<n;);return r<n},mt=function(){var t,e,n=tt.length,r=tt.slice(0);for(et={},tt.length=0,t=0;t<n;t++)e=r[t],e&&e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0)._lazy=0)},gt=function(t,e,n,r){tt.length&&!s&&mt(),t.render(e,n,r||s&&e<0&&(t._initted||t._startAt)),tt.length&&!s&&mt()},vt=function(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match(V).length<2?e:T(t)?t.trim():t},yt=function(t){return t},_t=function(t,e){for(var n in e)n in t||(t[n]=e[n]);return t},xt=function(t){return function(e,n){for(var r in n)r in e||"duration"===r&&t||"ease"===r||(e[r]=n[r])}},bt=function(t,e){for(var n in e)t[n]=e[n];return t},St=function t(e,n){for(var r in n)"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(e[r]=R(n[r])?t(e[r]||(e[r]={}),n[r]):n[r]);return e},wt=function(t,e){var n,r={};for(n in t)n in e||(r[n]=t[n]);return r},Et=function(t){var e=t.parent||l,n=t.keyframes?xt(O(t.keyframes)):_t;if(D(t.inherit))while(e)n(t,e.vars.defaults),e=e.parent||e._dp;return t},Mt=function(t,e){var n=t.length,r=n===e.length;while(r&&n--&&t[n]===e[n]);return n<0},Tt=function(t,e,n,r,i){void 0===n&&(n="_first"),void 0===r&&(r="_last");var a,s=t[r];if(i){a=e[i];while(s&&s[i]>a)s=s._prev}return s?(e._next=s._next,s._next=e):(e._next=t[n],t[n]=e),e._next?e._next._prev=e:t[r]=e,e._prev=s,e.parent=e._dp=t,e},Ct=function(t,e,n,r){void 0===n&&(n="_first"),void 0===r&&(r="_last");var i=e._prev,a=e._next;i?i._next=a:t[n]===e&&(t[n]=a),a?a._prev=i:t[r]===e&&(t[r]=i),e._next=e._prev=e.parent=null},At=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0},Pt=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0)){var n=t;while(n)n._dirty=1,n=n.parent}return t},Rt=function(t){var e=t.parent;while(e&&e.parent)e._dirty=1,e.totalDuration(),e=e.parent;return t},Dt=function(t,e,n,r){return t._startAt&&(s?t._startAt.revert(Z):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(e,!0,r))},It=function t(e){return!e||e._ts&&t(e.parent)},Lt=function(t){return t._repeat?kt(t._tTime,t=t.duration()+t._rDelay)*t:0},kt=function(t,e){var n=Math.floor(t/=e);return t&&n===t?n-1:n},Ot=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},Ft=function(t){return t._end=pt(t._start+(t._tDur/Math.abs(t._ts||t._rts||_)||0))},Nt=function(t,e){var n=t._dp;return n&&n.smoothChildTiming&&t._ts&&(t._start=pt(n._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),Ft(t),n._dirty||Pt(n,t)),t},Bt=function(t,e){var n;if((e._time||!e._dur&&e._initted||e._start<t._time&&(e._dur||!e.add))&&(n=Ot(t.rawTime(),e),(!e._dur||Jt(0,e.totalDuration(),n)-e._tTime>_)&&e.render(n,!0)),Pt(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration()){n=t;while(n._dp)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp}t._zTime=-_}},Ut=function(t,e,n,r){return e.parent&&At(e),e._start=pt((A(n)?n:n||t!==l?Yt(t,n,e):t._time)+e._delay),e._end=pt(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),Tt(t,e,"_first","_last",t._sort?"_start":0),Gt(e)||(t._recent=e),r||Bt(t,e),t._ts<0&&Nt(t,t._tTime),t},zt=function(t,e){return(G.ScrollTrigger||q("scrollTrigger",e))&&G.ScrollTrigger.create(e,t)},Vt=function(t,e,n,r,i){return an(t,e,i),t._initted?!n&&t._pt&&!s&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&d!==ke.frame?(tt.push(t),t._lazy=[i,r],1):void 0:1},Ht=function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))},Gt=function(t){var e=t.data;return"isFromStart"===e||"isStart"===e},Wt=function(t,e,n,r){var i,a,o,l=t.ratio,c=e<0||!e&&(!t._start&&Ht(t)&&(t._initted||!Gt(t))||(t._ts<0||t._dp._ts<0)&&!Gt(t))?0:1,u=t._rDelay,h=0;if(u&&t._repeat&&(h=Jt(0,t._tDur,e),a=kt(h,u),t._yoyo&&1&a&&(c=1-c),a!==kt(t._tTime,u)&&(l=1-c,t.vars.repeatRefresh&&t._initted&&t.invalidate())),c!==l||s||r||t._zTime===_||!e&&t._zTime){if(!t._initted&&Vt(t,e,r,n,h))return;o=t._zTime,t._zTime=e||(n?_:0),n||(n=e&&!o),t.ratio=c,t._from&&(c=1-c),t._time=0,t._tTime=h,i=t._pt;while(i)i.r(c,i.d),i=i._next;e<0&&Dt(t,e,n,!0),t._onUpdate&&!n&&be(t,"onUpdate"),h&&t._repeat&&!n&&t.parent&&be(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===c&&(c&&At(t,1),n||s||(be(t,c?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)},jt=function(t,e,n){var r;if(n>e){r=t._first;while(r&&r._start<=n){if("isPause"===r.data&&r._start>e)return r;r=r._next}}else{r=t._last;while(r&&r._start>=n){if("isPause"===r.data&&r._start<e)return r;r=r._prev}}},qt=function(t,e,n,r){var i=t._repeat,a=pt(e)||0,s=t._tTime/t._tDur;return s&&!r&&(t._time*=a/t._dur),t._dur=a,t._tDur=i?i<0?1e10:pt(a*(i+1)+t._rDelay*i):a,s>0&&!r&&Nt(t,t._tTime=t._tDur*s),t.parent&&Ft(t),n||Pt(t.parent,t),t},$t=function(t){return t instanceof Ze?Pt(t):qt(t,t._dur)},Xt={_start:0,endTime:Y,totalDuration:Y},Yt=function t(e,n,r){var i,a,s,o=e.labels,l=e._recent||Xt,c=e.duration()>=y?l.endTime(!1):e._dur;return T(n)&&(isNaN(n)||n in o)?(a=n.charAt(0),s="%"===n.substr(-1),i=n.indexOf("="),"<"===a||">"===a?(i>=0&&(n=n.replace(/=/,"")),("<"===a?l._start:l.endTime(l._repeat>=0))+(parseFloat(n.substr(1))||0)*(s?(i<0?l:r).totalDuration()/100:1)):i<0?(n in o||(o[n]=c),o[n]):(a=parseFloat(n.charAt(i-1)+n.substr(i+1)),s&&r&&(a=a/100*(O(r)?r[0]:r).totalDuration()),i>1?t(e,n.substr(0,i-1),r)+a:c+a)):null==n?c:+n},Kt=function(t,e,n){var r,i,a=A(e[1]),s=(a?2:1)+(t<2?0:1),o=e[s];if(a&&(o.duration=e[1]),o.parent=n,t){r=o,i=n;while(i&&!("immediateRender"in r))r=i.vars.defaults||{},i=D(i.vars.inherit)&&i.parent;o.immediateRender=D(r.immediateRender),t<2?o.runBackwards=1:o.startAt=e[s-1]}return new pn(e[0],o,e[s+1])},Zt=function(t,e){return t||0===t?e(t):e},Jt=function(t,e,n){return n<t?t:n>e?e:n},Qt=function(t,e){return T(t)&&(e=H.exec(t))?e[1]:""},te=function(t,e,n){return Zt(n,(function(n){return Jt(t,e,n)}))},ee=[].slice,ne=function(t,e){return t&&R(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&R(t[0]))&&!t.nodeType&&t!==c},re=function(t,e,n){return void 0===n&&(n=[]),t.forEach((function(t){var r;return T(t)&&!e||ne(t,1)?(r=n).push.apply(r,ie(t)):n.push(t)}))||n},ie=function(t,e,n){return o&&!e&&o.selector?o.selector(t):!T(t)||n||!u&&Oe()?O(t)?re(t,n):ne(t)?ee.call(t,0):t?[t]:[]:ee.call((e||h).querySelectorAll(t),0)},ae=function(t){return t=ie(t)[0]||$("Invalid scope")||{},function(e){var n=t.current||t.nativeElement||t;return ie(e,n.querySelectorAll?n:n===t?$("Invalid scope")||h.createElement("div"):t)}},se=function(t){return t.sort((function(){return.5-Math.random()}))},oe=function(t){if(C(t))return t;var e=R(t)?t:{each:t},n=We(e.ease),r=e.from||0,i=parseFloat(e.base)||0,a={},s=r>0&&r<1,o=isNaN(r)||s,l=e.axis,c=r,u=r;return T(r)?c=u={center:.5,edges:.5,end:1}[r]||0:!s&&o&&(c=r[0],u=r[1]),function(t,s,h){var p,d,f,m,g,v,_,x,b,S=(h||e).length,E=a[S];if(!E){if(b="auto"===e.grid?0:(e.grid||[1,y])[1],!b){_=-y;while(_<(_=h[b++].getBoundingClientRect().left)&&b<S);b<S&&b--}for(E=a[S]=[],p=o?Math.min(b,S)*c-.5:r%b,d=b===y?0:o?S*u/b-.5:r/b|0,_=0,x=y,v=0;v<S;v++)f=v%b-p,m=d-(v/b|0),E[v]=g=l?Math.abs("y"===l?m:f):w(f*f+m*m),g>_&&(_=g),g<x&&(x=g);"random"===r&&se(E),E.max=_-x,E.min=x,E.v=S=(parseFloat(e.amount)||parseFloat(e.each)*(b>S?S-1:l?"y"===l?S/b:b:Math.max(b,S/b))||0)*("edges"===r?-1:1),E.b=S<0?i-S:i,E.u=Qt(e.amount||e.each)||0,n=n&&S<0?He(n):n}return S=(E[t]-E.min)/E.max||0,pt(E.b+(n?n(S):S)*E.v)+E.u}},le=function(t){var e=Math.pow(10,((t+"").split(".")[1]||"").length);return function(n){var r=pt(Math.round(parseFloat(n)/t)*t*e);return(r-r%1)/e+(A(n)?0:Qt(n))}},ce=function(t,e){var n,r,i=O(t);return!i&&R(t)&&(n=i=t.radius||y,t.values?(t=ie(t.values),(r=!A(t[0]))&&(n*=n)):t=le(t.increment)),Zt(e,i?C(t)?function(e){return r=t(e),Math.abs(r-e)<=n?r:e}:function(e){var i,a,s=parseFloat(r?e.x:e),o=parseFloat(r?e.y:0),l=y,c=0,u=t.length;while(u--)r?(i=t[u].x-s,a=t[u].y-o,i=i*i+a*a):i=Math.abs(t[u]-s),i<l&&(l=i,c=u);return c=!n||l<=n?t[c]:e,r||c===e||A(e)?c:c+Qt(e)}:le(t))},ue=function(t,e,n,r){return Zt(O(t)?!e:!0===n?!!(n=0):!r,(function(){return O(t)?t[~~(Math.random()*t.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((t-n/2+Math.random()*(e-t+.99*n))/n)*n*r)/r}))},he=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return e.reduce((function(t,e){return e(t)}),t)}},pe=function(t,e){return function(n){return t(parseFloat(n))+(e||Qt(n))}},de=function(t,e,n){return ye(t,e,0,1,n)},fe=function(t,e,n){return Zt(n,(function(n){return t[~~e(n)]}))},me=function t(e,n,r){var i=n-e;return O(e)?fe(e,t(0,e.length),n):Zt(r,(function(t){return(i+(t-e)%i)%i+e}))},ge=function t(e,n,r){var i=n-e,a=2*i;return O(e)?fe(e,t(0,e.length-1),n):Zt(r,(function(t){return t=(a+(t-e)%a)%a||0,e+(t>i?a-t:t)}))},ve=function(t){var e,n,r,i,a=0,s="";while(~(e=t.indexOf("random(",a)))r=t.indexOf(")",e),i="["===t.charAt(e+7),n=t.substr(e+7,r-e-7).match(i?V:F),s+=t.substr(a,e-a)+ue(i?n:+n[0],i?0:+n[1],+n[2]||1e-5),a=r+1;return s+t.substr(a,t.length-a)},ye=function(t,e,n,r,i){var a=e-t,s=r-n;return Zt(i,(function(e){return n+((e-t)/a*s||0)}))},_e=function t(e,n,r,i){var a=isNaN(e+n)?0:function(t){return(1-t)*e+t*n};if(!a){var s,o,l,c,u,h=T(e),p={};if(!0===r&&(i=1)&&(r=null),h)e={p:e},n={p:n};else if(O(e)&&!O(n)){for(l=[],c=e.length,u=c-2,o=1;o<c;o++)l.push(t(e[o-1],e[o]));c--,a=function(t){t*=c;var e=Math.min(u,~~t);return l[e](t-e)},r=n}else i||(e=bt(O(e)?[]:{},e));if(!l){for(s in n)en.call(p,e,s,"get",n[s]);a=function(t){return bn(t,p)||(h?e.p:e)}}}return Zt(r,a)},xe=function(t,e,n){var r,i,a,s=t.labels,o=y;for(r in s)i=s[r]-e,i<0===!!n&&i&&o>(i=Math.abs(i))&&(a=r,o=i);return a},be=function(t,e,n){var r,i,a,s=t.vars,l=s[e],c=o,u=t._ctx;if(l)return r=s[e+"Params"],i=s.callbackScope||t,n&&tt.length&&mt(),u&&(o=u),a=r?l.apply(i,r):l.call(i),o=c,a},Se=function(t){return At(t),t.scrollTrigger&&t.scrollTrigger.kill(!!s),t.progress()<1&&be(t,"onInterrupt"),t},we=[],Ee=function(t){if(t)if(t=!t.name&&t["default"]||t,I()||t.headless){var e=t.name,n=C(t),r=e&&!n&&t.init?function(){this._props=[]}:t,i={init:Y,render:bn,add:en,kill:wn,modifier:Sn,rawVars:0},a={targetTest:0,get:0,getSetter:vn,aliases:{},register:0};if(Oe(),t!==r){if(nt[e])return;_t(r,_t(wt(t,i),a)),bt(r.prototype,bt(i,wt(t,a))),nt[r.prop=e]=r,t.targetTest&&(at.push(r),Q[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}X(e,r),t.register&&t.register(zn,r,Tn)}else we.push(t)},Me=255,Te={aqua:[0,Me,Me],lime:[0,Me,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Me],navy:[0,0,128],white:[Me,Me,Me],olive:[128,128,0],yellow:[Me,Me,0],orange:[Me,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Me,0,0],pink:[Me,192,203],cyan:[0,Me,Me],transparent:[Me,Me,Me,0]},Ce=function(t,e,n){return t+=t<0?1:t>1?-1:0,(6*t<1?e+(n-e)*t*6:t<.5?n:3*t<2?e+(n-e)*(2/3-t)*6:e)*Me+.5|0},Ae=function(t,e,n){var r,i,a,s,o,l,c,u,h,p,d=t?A(t)?[t>>16,t>>8&Me,t&Me]:0:Te.black;if(!d){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),Te[t])d=Te[t];else if("#"===t.charAt(0)){if(t.length<6&&(r=t.charAt(1),i=t.charAt(2),a=t.charAt(3),t="#"+r+r+i+i+a+a+(5===t.length?t.charAt(4)+t.charAt(4):"")),9===t.length)return d=parseInt(t.substr(1,6),16),[d>>16,d>>8&Me,d&Me,parseInt(t.substr(7),16)/255];t=parseInt(t.substr(1),16),d=[t>>16,t>>8&Me,t&Me]}else if("hsl"===t.substr(0,3))if(d=p=t.match(F),e){if(~t.indexOf("="))return d=t.match(N),n&&d.length<4&&(d[3]=1),d}else s=+d[0]%360/360,o=+d[1]/100,l=+d[2]/100,i=l<=.5?l*(o+1):l+o-l*o,r=2*l-i,d.length>3&&(d[3]*=1),d[0]=Ce(s+1/3,r,i),d[1]=Ce(s,r,i),d[2]=Ce(s-1/3,r,i);else d=t.match(F)||Te.transparent;d=d.map(Number)}return e&&!p&&(r=d[0]/Me,i=d[1]/Me,a=d[2]/Me,c=Math.max(r,i,a),u=Math.min(r,i,a),l=(c+u)/2,c===u?s=o=0:(h=c-u,o=l>.5?h/(2-c-u):h/(c+u),s=c===r?(i-a)/h+(i<a?6:0):c===i?(a-r)/h+2:(r-i)/h+4,s*=60),d[0]=~~(s+.5),d[1]=~~(100*o+.5),d[2]=~~(100*l+.5)),n&&d.length<4&&(d[3]=1),d},Pe=function(t){var e=[],n=[],r=-1;return t.split(De).forEach((function(t){var i=t.match(B)||[];e.push.apply(e,i),n.push(r+=i.length+1)})),e.c=n,e},Re=function(t,e,n){var r,i,a,s,o="",l=(t+o).match(De),c=e?"hsla(":"rgba(",u=0;if(!l)return t;if(l=l.map((function(t){return(t=Ae(t,e,1))&&c+(e?t[0]+","+t[1]+"%,"+t[2]+"%,"+t[3]:t.join(","))+")"})),n&&(a=Pe(t),r=n.c,r.join(o)!==a.c.join(o)))for(i=t.replace(De,"1").split(B),s=i.length-1;u<s;u++)o+=i[u]+(~r.indexOf(u)?l.shift()||c+"0,0,0,0)":(a.length?a:l.length?l:n).shift());if(!i)for(i=t.split(De),s=i.length-1;u<s;u++)o+=i[u]+l[u];return o+i[s]},De=function(){var t,e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(t in Te)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),Ie=/hsl[a]?\(/,Le=function(t){var e,n=t.join(" ");if(De.lastIndex=0,De.test(n))return e=Ie.test(n),t[1]=Re(t[1],e),t[0]=Re(t[0],e,Pe(t[1])),!0},ke=function(){var t,e,n,r,i,a,s=Date.now,o=500,l=33,d=s(),f=d,g=1e3/240,v=g,y=[],_=function n(c){var u,h,p,m,_=s()-f,x=!0===c;if((_>o||_<0)&&(d+=_-l),f+=_,p=f-d,u=p-v,(u>0||x)&&(m=++r.frame,i=p-1e3*r.time,r.time=p/=1e3,v+=u+(u>=g?4:g-u),h=1),x||(t=e(n)),h)for(a=0;a<y.length;a++)y[a](p,i,m,c)};return r={time:0,frame:0,tick:function(){_(!0)},deltaRatio:function(t){return i/(1e3/(t||60))},wake:function(){p&&(!u&&I()&&(c=u=window,h=c.document||{},G.gsap=zn,(c.gsapVersions||(c.gsapVersions=[])).push(zn.version),j(W||c.GreenSockGlobals||!c.gsap&&c||{}),we.forEach(Ee)),n="undefined"!==typeof requestAnimationFrame&&requestAnimationFrame,t&&r.sleep(),e=n||function(t){return setTimeout(t,v-1e3*r.time+1|0)},m=1,_(2))},sleep:function(){(n?cancelAnimationFrame:clearTimeout)(t),m=0,e=Y},lagSmoothing:function(t,e){o=t||1/0,l=Math.min(e||33,o)},fps:function(t){g=1e3/(t||240),v=1e3*r.time+g},add:function(t,e,n){var i=e?function(e,n,a,s){t(e,n,a,s),r.remove(i)}:t;return r.remove(t),y[n?"unshift":"push"](i),Oe(),i},remove:function(t,e){~(e=y.indexOf(t))&&y.splice(e,1)&&a>=e&&a--},_listeners:y},r}(),Oe=function(){return!m&&ke.wake()},Fe={},Ne=/^[\d.\-M][\d.\-,\s]/,Be=/["']/g,Ue=function(t){for(var e,n,r,i={},a=t.substr(1,t.length-3).split(":"),s=a[0],o=1,l=a.length;o<l;o++)n=a[o],e=o!==l-1?n.lastIndexOf(","):n.length,r=n.substr(0,e),i[s]=isNaN(r)?r.replace(Be,"").trim():+r,s=n.substr(e+1).trim();return i},ze=function(t){var e=t.indexOf("(")+1,n=t.indexOf(")"),r=t.indexOf("(",e);return t.substring(e,~r&&r<n?t.indexOf(")",n+1):n)},Ve=function(t){var e=(t+"").split("("),n=Fe[e[0]];return n&&e.length>1&&n.config?n.config.apply(null,~t.indexOf("{")?[Ue(e[1])]:ze(t).split(",").map(vt)):Fe._CE&&Ne.test(t)?Fe._CE("",t):n},He=function(t){return function(e){return 1-t(1-e)}},Ge=function t(e,n){var r,i=e._first;while(i)i instanceof Ze?t(i,n):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===n||(i.timeline?t(i.timeline,n):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=n)),i=i._next},We=function(t,e){return t&&(C(t)?t:Fe[t]||Ve(t))||e},je=function(t,e,n,r){void 0===n&&(n=function(t){return 1-e(1-t)}),void 0===r&&(r=function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2});var i,a={easeIn:e,easeOut:n,easeInOut:r};return ut(t,(function(t){for(var e in Fe[t]=G[t]=a,Fe[i=t.toLowerCase()]=n,a)Fe[i+("easeIn"===e?".in":"easeOut"===e?".out":".inOut")]=Fe[t+"."+e]=a[e]})),a},qe=function(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}},$e=function t(e,n,r){var i=n>=1?n:1,a=(r||(e?.3:.45))/(n<1?n:1),s=a/x*(Math.asin(1/i)||0),o=function(t){return 1===t?1:i*Math.pow(2,-10*t)*M((t-s)*a)+1},l="out"===e?o:"in"===e?function(t){return 1-o(1-t)}:qe(o);return a=x/a,l.config=function(n,r){return t(e,n,r)},l},Xe=function t(e,n){void 0===n&&(n=1.70158);var r=function(t){return t?--t*t*((n+1)*t+n)+1:0},i="out"===e?r:"in"===e?function(t){return 1-r(1-t)}:qe(r);return i.config=function(n){return t(e,n)},i};ut("Linear,Quad,Cubic,Quart,Quint,Strong",(function(t,e){var n=e<5?e+1:e;je(t+",Power"+(n-1),e?function(t){return Math.pow(t,n)}:function(t){return t},(function(t){return 1-Math.pow(1-t,n)}),(function(t){return t<.5?Math.pow(2*t,n)/2:1-Math.pow(2*(1-t),n)/2}))})),Fe.Linear.easeNone=Fe.none=Fe.Linear.easeIn,je("Elastic",$e("in"),$e("out"),$e()),function(t,e){var n=1/e,r=2*n,i=2.5*n,a=function(a){return a<n?t*a*a:a<r?t*Math.pow(a-1.5/e,2)+.75:a<i?t*(a-=2.25/e)*a+.9375:t*Math.pow(a-2.625/e,2)+.984375};je("Bounce",(function(t){return 1-a(1-t)}),a)}(7.5625,2.75),je("Expo",(function(t){return t?Math.pow(2,10*(t-1)):0})),je("Circ",(function(t){return-(w(1-t*t)-1)})),je("Sine",(function(t){return 1===t?1:1-E(t*b)})),je("Back",Xe("in"),Xe("out"),Xe()),Fe.SteppedEase=Fe.steps=G.SteppedEase={config:function(t,e){void 0===t&&(t=1);var n=1/t,r=t+(e?0:1),i=e?1:0,a=1-_;return function(t){return((r*Jt(0,a,t)|0)+i)*n}}},v.ease=Fe["quad.out"],ut("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(t){return st+=t+","+t+"Params,"}));var Ye=function(t,e){this.id=S++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:ct,this.set=e?e.getSetter:vn},Ke=function(){function t(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,qt(this,+t.duration,1,1),this.data=t.data,o&&(this._ctx=o,o.data.push(this)),m||ke.wake()}var e=t.prototype;return e.delay=function(t){return t||0===t?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},e.duration=function(t){return arguments.length?this.totalDuration(this._repeat>0?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},e.totalDuration=function(t){return arguments.length?(this._dirty=0,qt(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(t,e){if(Oe(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){Nt(this,t),!n._dp||n.parent||Bt(n,this);while(n&&n.parent)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&t<this._tDur||this._ts<0&&t>0||!this._tDur&&!t)&&Ut(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!e||this._initted&&Math.abs(this._zTime)===_||!t&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=t),gt(this,t,e)),this},e.time=function(t,e){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+Lt(this))%(this._dur+this._rDelay)||(t?this._dur:0),e):this._time},e.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},e.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?t:1-t)+Lt(this),e):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(t,e){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*n,e):this._repeat?kt(this._tTime,n)+1:1},e.timeScale=function(t,e){if(!arguments.length)return this._rts===-_?0:this._rts;if(this._rts===t)return this;var n=this.parent&&this._ts?Ot(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||t===-_?0:this._rts,this.totalTime(Jt(-Math.abs(this._delay),this._tDur,n),!1!==e),Ft(this),Rt(this)},e.paused=function(t){return arguments.length?(this._ps!==t&&(this._ps=t,t?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Oe(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==_&&(this._tTime-=_)))),this):this._ps},e.startTime=function(t){if(arguments.length){this._start=t;var e=this.parent||this._dp;return e&&(e._sort||!this.parent)&&Ut(e,this,t-this._delay),this}return this._start},e.endTime=function(t){return this._start+(D(t)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(t){var e=this.parent||this._dp;return e?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Ot(e.rawTime(t),this):this._tTime:this._tTime},e.revert=function(t){void 0===t&&(t=J);var e=s;return s=t,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(t),this.totalTime(-.01,t.suppressEvents)),"nested"!==this.data&&!1!==t.kill&&this.kill(),s=e,this},e.globalTime=function(t){var e=this,n=arguments.length?t:e.rawTime();while(e)n=e._start+n/(Math.abs(e._ts)||1),e=e._dp;return!this.parent&&this._sat?this._sat.globalTime(t):n},e.repeat=function(t){return arguments.length?(this._repeat=t===1/0?-2:t,$t(this)):-2===this._repeat?1/0:this._repeat},e.repeatDelay=function(t){if(arguments.length){var e=this._time;return this._rDelay=t,$t(this),e?this.time(e):this}return this._rDelay},e.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},e.seek=function(t,e){return this.totalTime(Yt(this,t),D(e))},e.restart=function(t,e){return this.play().totalTime(t?-this._delay:0,D(e))},e.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},e.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},e.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-_:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-_,this},e.isActive=function(){var t,e=this.parent||this._dp,n=this._start;return!(e&&!(this._ts&&this._initted&&e.isActive()&&(t=e.rawTime(!0))>=n&&t<this.endTime(!0)-_))},e.eventCallback=function(t,e,n){var r=this.vars;return arguments.length>1?(e?(r[t]=e,n&&(r[t+"Params"]=n),"onUpdate"===t&&(this._onUpdate=e)):delete r[t],this):r[t]},e.then=function(t){var e=this;return new Promise((function(n){var r=C(t)?t:yt,i=function(){var t=e.then;e.then=null,C(r)&&(r=r(e))&&(r.then||r===e)&&(e.then=t),n(r),e.then=t};e._initted&&1===e.totalProgress()&&e._ts>=0||!e._tTime&&e._ts<0?i():e._prom=i}))},e.kill=function(){Se(this)},t}();_t(Ke.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-_,_prom:0,_ps:!1,_rts:1});var Ze=function(t){function e(e,n){var i;return void 0===e&&(e={}),i=t.call(this,e)||this,i.labels={},i.smoothChildTiming=!!e.smoothChildTiming,i.autoRemoveChildren=!!e.autoRemoveChildren,i._sort=D(e.sortChildren),l&&Ut(e.parent||l,r(i),n),e.reversed&&i.reverse(),e.paused&&i.paused(!0),e.scrollTrigger&&zt(r(i),e.scrollTrigger),i}i(e,t);var n=e.prototype;return n.to=function(t,e,n){return Kt(0,arguments,this),this},n.from=function(t,e,n){return Kt(1,arguments,this),this},n.fromTo=function(t,e,n,r){return Kt(2,arguments,this),this},n.set=function(t,e,n){return e.duration=0,e.parent=this,Et(e).repeatDelay||(e.repeat=0),e.immediateRender=!!e.immediateRender,new pn(t,e,Yt(this,n),1),this},n.call=function(t,e,n){return Ut(this,pn.delayedCall(0,t,e),n)},n.staggerTo=function(t,e,n,r,i,a,s){return n.duration=e,n.stagger=n.stagger||r,n.onComplete=a,n.onCompleteParams=s,n.parent=this,new pn(t,n,Yt(this,i)),this},n.staggerFrom=function(t,e,n,r,i,a,s){return n.runBackwards=1,Et(n).immediateRender=D(n.immediateRender),this.staggerTo(t,e,n,r,i,a,s)},n.staggerFromTo=function(t,e,n,r,i,a,s,o){return r.startAt=n,Et(r).immediateRender=D(r.immediateRender),this.staggerTo(t,e,r,i,a,s,o)},n.render=function(t,e,n){var r,i,a,o,c,u,h,p,d,f,m,g,v=this._time,y=this._dirty?this.totalDuration():this._tDur,x=this._dur,b=t<=0?0:pt(t),S=this._zTime<0!==t<0&&(this._initted||!x);if(this!==l&&b>y&&t>=0&&(b=y),b!==this._tTime||n||S){if(v!==this._time&&x&&(b+=this._time-v,t+=this._time-v),r=b,d=this._start,p=this._ts,u=!p,S&&(x||(v=this._zTime),(t||!e)&&(this._zTime=t)),this._repeat){if(m=this._yoyo,c=x+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*c+t,e,n);if(r=pt(b%c),b===y?(o=this._repeat,r=x):(o=~~(b/c),o&&o===b/c&&(r=x,o--),r>x&&(r=x)),f=kt(this._tTime,c),!v&&this._tTime&&f!==o&&this._tTime-f*c-this._dur<=0&&(f=o),m&&1&o&&(r=x-r,g=1),o!==f&&!this._lock){var w=m&&1&f,E=w===(m&&1&o);if(o<f&&(w=!w),v=w?0:b%x?x:b,this._lock=1,this.render(v||(g?0:pt(o*c)),e,!x)._lock=0,this._tTime=b,!e&&this.parent&&be(this,"onRepeat"),this.vars.repeatRefresh&&!g&&(this.invalidate()._lock=1),v&&v!==this._time||u!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(x=this._dur,y=this._tDur,E&&(this._lock=2,v=w?x:-1e-4,this.render(v,!0),this.vars.repeatRefresh&&!g&&this.invalidate()),this._lock=0,!this._ts&&!u)return this;Ge(this,g)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(h=jt(this,pt(v),pt(r)),h&&(b-=r-(r=h._start))),this._tTime=b,this._time=r,this._act=!p,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=t,v=0),!v&&r&&!e&&!o&&(be(this,"onStart"),this._tTime!==b))return this;if(r>=v&&t>=0){i=this._first;while(i){if(a=i._next,(i._act||r>=i._start)&&i._ts&&h!==i){if(i.parent!==this)return this.render(t,e,n);if(i.render(i._ts>0?(r-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(r-i._start)*i._ts,e,n),r!==this._time||!this._ts&&!u){h=0,a&&(b+=this._zTime=-_);break}}i=a}}else{i=this._last;var M=t<0?t:r;while(i){if(a=i._prev,(i._act||M<=i._end)&&i._ts&&h!==i){if(i.parent!==this)return this.render(t,e,n);if(i.render(i._ts>0?(M-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(M-i._start)*i._ts,e,n||s&&(i._initted||i._startAt)),r!==this._time||!this._ts&&!u){h=0,a&&(b+=this._zTime=M?-_:_);break}}i=a}}if(h&&!e&&(this.pause(),h.render(r>=v?0:-_)._zTime=r>=v?1:-1,this._ts))return this._start=d,Ft(this),this.render(t,e,n);this._onUpdate&&!e&&be(this,"onUpdate",!0),(b===y&&this._tTime>=this.totalDuration()||!b&&v)&&(d!==this._start&&Math.abs(p)===Math.abs(this._ts)||this._lock||((t||!x)&&(b===y&&this._ts>0||!b&&this._ts<0)&&At(this,1),e||t<0&&!v||!b&&!v&&y||(be(this,b===y&&t>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(b<y&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(t,e){var n=this;if(A(e)||(e=Yt(this,e,t)),!(t instanceof Ke)){if(O(t))return t.forEach((function(t){return n.add(t,e)})),this;if(T(t))return this.addLabel(t,e);if(!C(t))return this;t=pn.delayedCall(0,t)}return this!==t?Ut(this,t,e):this},n.getChildren=function(t,e,n,r){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===n&&(n=!0),void 0===r&&(r=-y);var i=[],a=this._first;while(a)a._start>=r&&(a instanceof pn?e&&i.push(a):(n&&i.push(a),t&&i.push.apply(i,a.getChildren(!0,e,n)))),a=a._next;return i},n.getById=function(t){var e=this.getChildren(1,1,1),n=e.length;while(n--)if(e[n].vars.id===t)return e[n]},n.remove=function(t){return T(t)?this.removeLabel(t):C(t)?this.killTweensOf(t):(Ct(this,t),t===this._recent&&(this._recent=this._last),Pt(this))},n.totalTime=function(e,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=pt(ke.time-(this._ts>0?e/this._ts:(this.totalDuration()-e)/-this._ts))),t.prototype.totalTime.call(this,e,n),this._forcing=0,this):this._tTime},n.addLabel=function(t,e){return this.labels[t]=Yt(this,e),this},n.removeLabel=function(t){return delete this.labels[t],this},n.addPause=function(t,e,n){var r=pn.delayedCall(0,e||Y,n);return r.data="isPause",this._hasPause=1,Ut(this,r,Yt(this,t))},n.removePause=function(t){var e=this._first;t=Yt(this,t);while(e)e._start===t&&"isPause"===e.data&&At(e),e=e._next},n.killTweensOf=function(t,e,n){var r=this.getTweensOf(t,n),i=r.length;while(i--)Je!==r[i]&&r[i].kill(t,e);return this},n.getTweensOf=function(t,e){var n,r=[],i=ie(t),a=this._first,s=A(e);while(a)a instanceof pn?ft(a._targets,i)&&(s?(!Je||a._initted&&a._ts)&&a.globalTime(0)<=e&&a.globalTime(a.totalDuration())>e:!e||a.isActive())&&r.push(a):(n=a.getTweensOf(i,e)).length&&r.push.apply(r,n),a=a._next;return r},n.tweenTo=function(t,e){e=e||{};var n,r=this,i=Yt(r,t),a=e,s=a.startAt,o=a.onStart,l=a.onStartParams,c=a.immediateRender,u=pn.to(r,_t({ease:e.ease||"none",lazy:!1,immediateRender:!1,time:i,overwrite:"auto",duration:e.duration||Math.abs((i-(s&&"time"in s?s.time:r._time))/r.timeScale())||_,onStart:function(){if(r.pause(),!n){var t=e.duration||Math.abs((i-(s&&"time"in s?s.time:r._time))/r.timeScale());u._dur!==t&&qt(u,t,0,1).render(u._time,!0,!0),n=1}o&&o.apply(u,l||[])}},e));return c?u.render(0):u},n.tweenFromTo=function(t,e,n){return this.tweenTo(e,_t({startAt:{time:Yt(this,t)}},n))},n.recent=function(){return this._recent},n.nextLabel=function(t){return void 0===t&&(t=this._time),xe(this,Yt(this,t))},n.previousLabel=function(t){return void 0===t&&(t=this._time),xe(this,Yt(this,t),1)},n.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.previousLabel(this._time+_)},n.shiftChildren=function(t,e,n){void 0===n&&(n=0);var r,i=this._first,a=this.labels;while(i)i._start>=n&&(i._start+=t,i._end+=t),i=i._next;if(e)for(r in a)a[r]>=n&&(a[r]+=t);return Pt(this)},n.invalidate=function(e){var n=this._first;this._lock=0;while(n)n.invalidate(e),n=n._next;return t.prototype.invalidate.call(this,e)},n.clear=function(t){void 0===t&&(t=!0);var e,n=this._first;while(n)e=n._next,this.remove(n),n=e;return this._dp&&(this._time=this._tTime=this._pTime=0),t&&(this.labels={}),Pt(this)},n.totalDuration=function(t){var e,n,r,i=0,a=this,s=a._last,o=y;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-t:t));if(a._dirty){r=a.parent;while(s)e=s._prev,s._dirty&&s.totalDuration(),n=s._start,n>o&&a._sort&&s._ts&&!a._lock?(a._lock=1,Ut(a,s,n-s._delay,1)._lock=0):o=n,n<0&&s._ts&&(i-=n,(!r&&!a._dp||r&&r.smoothChildTiming)&&(a._start+=n/a._ts,a._time-=n,a._tTime-=n),a.shiftChildren(-n,!1,-Infinity),o=0),s._end>i&&s._ts&&(i=s._end),s=e;qt(a,a===l&&a._time>i?a._time:i,1,1),a._dirty=0}return a._tDur},e.updateRoot=function(t){if(l._ts&&(gt(l,Ot(t,l)),d=ke.frame),ke.frame>=it){it+=g.autoSleep||120;var e=l._first;if((!e||!e._ts)&&g.autoSleep&&ke._listeners.length<2){while(e&&!e._ts)e=e._next;e||ke.sleep()}}},e}(Ke);_t(Ze.prototype,{_lock:0,_hasPause:0,_forcing:0});var Je,Qe,tn=function(t,e,n,r,i,a,s){var o,l,c,u,h,p,d,f,m=new Tn(this._pt,t,e,0,1,xn,null,i),g=0,v=0;m.b=n,m.e=r,n+="",r+="",(d=~r.indexOf("random("))&&(r=ve(r)),a&&(f=[n,r],a(f,t,e),n=f[0],r=f[1]),l=n.match(U)||[];while(o=U.exec(r))u=o[0],h=r.substring(g,o.index),c?c=(c+1)%5:"rgba("===h.substr(-5)&&(c=1),u!==l[v++]&&(p=parseFloat(l[v-1])||0,m._pt={_next:m._pt,p:h||1===v?h:",",s:p,c:"="===u.charAt(1)?dt(p,u)-p:parseFloat(u)-p,m:c&&c<4?Math.round:0},g=U.lastIndex);return m.c=g<r.length?r.substring(g,r.length):"",m.fp=s,(z.test(r)||d)&&(m.e=0),this._pt=m,m},en=function(t,e,n,r,i,a,s,o,l,c){C(r)&&(r=r(i||0,t,a));var u,h=t[e],p="get"!==n?n:C(h)?l?t[e.indexOf("set")||!C(t["get"+e.substr(3)])?e:"get"+e.substr(3)](l):t[e]():h,d=C(h)?l?mn:fn:dn;if(T(r)&&(~r.indexOf("random(")&&(r=ve(r)),"="===r.charAt(1)&&(u=dt(p,r)+(Qt(p)||0),(u||0===u)&&(r=u))),!c||p!==r||Qe)return isNaN(p*r)||""===r?(!h&&!(e in t)&&q(e,r),tn.call(this,t,e,p,r,d,o||g.stringFilter,l)):(u=new Tn(this._pt,t,e,+p||0,r-(p||0),"boolean"===typeof h?_n:yn,0,d),l&&(u.fp=l),s&&u.modifier(s,this,t),this._pt=u)},nn=function(t,e,n,r,i){if(C(t)&&(t=cn(t,i,e,n,r)),!R(t)||t.style&&t.nodeType||O(t)||k(t))return T(t)?cn(t,i,e,n,r):t;var a,s={};for(a in t)s[a]=cn(t[a],i,e,n,r);return s},rn=function(t,e,n,r,i,a){var s,o,l,c;if(nt[t]&&!1!==(s=new nt[t]).init(i,s.rawVars?e[t]:nn(e[t],r,i,a,n),n,r,a)&&(n._pt=o=new Tn(n._pt,i,t,0,1,s.render,s,0,s.priority),n!==f)){l=n._ptLookup[n._targets.indexOf(i)],c=s._props.length;while(c--)l[s._props[c]]=o}return s},an=function t(e,n,r){var i,o,c,u,h,p,d,f,m,g,x,b,S,w=e.vars,E=w.ease,M=w.startAt,T=w.immediateRender,C=w.lazy,A=w.onUpdate,P=w.runBackwards,R=w.yoyoEase,I=w.keyframes,L=w.autoRevert,k=e._dur,O=e._startAt,F=e._targets,N=e.parent,B=N&&"nested"===N.data?N.vars.targets:F,U="auto"===e._overwrite&&!a,z=e.timeline;if(z&&(!I||!E)&&(E="none"),e._ease=We(E,v.ease),e._yEase=R?He(We(!0===R?E:R,v.ease)):0,R&&e._yoyo&&!e._repeat&&(R=e._yEase,e._yEase=e._ease,e._ease=R),e._from=!z&&!!w.runBackwards,!z||I&&!w.stagger){if(f=F[0]?lt(F[0]).harness:0,b=f&&w[f.prop],i=wt(w,Q),O&&(O._zTime<0&&O.progress(1),n<0&&P&&T&&!L?O.render(-1,!0):O.revert(P&&k?Z:K),O._lazy=0),M){if(At(e._startAt=pn.set(F,_t({data:"isStart",overwrite:!1,parent:N,immediateRender:!0,lazy:!O&&D(C),startAt:null,delay:0,onUpdate:A&&function(){return be(e,"onUpdate")},stagger:0},M))),e._startAt._dp=0,e._startAt._sat=e,n<0&&(s||!T&&!L)&&e._startAt.revert(Z),T&&k&&n<=0&&r<=0)return void(n&&(e._zTime=n))}else if(P&&k&&!O)if(n&&(T=!1),c=_t({overwrite:!1,data:"isFromStart",lazy:T&&!O&&D(C),immediateRender:T,stagger:0,parent:N},i),b&&(c[f.prop]=b),At(e._startAt=pn.set(F,c)),e._startAt._dp=0,e._startAt._sat=e,n<0&&(s?e._startAt.revert(Z):e._startAt.render(-1,!0)),e._zTime=n,T){if(!n)return}else t(e._startAt,_,_);for(e._pt=e._ptCache=0,C=k&&D(C)||C&&!k,o=0;o<F.length;o++){if(h=F[o],d=h._gsap||ot(F)[o]._gsap,e._ptLookup[o]=g={},et[d.id]&&tt.length&&mt(),x=B===F?o:B.indexOf(h),f&&!1!==(m=new f).init(h,b||i,e,x,B)&&(e._pt=u=new Tn(e._pt,h,m.name,0,1,m.render,m,0,m.priority),m._props.forEach((function(t){g[t]=u})),m.priority&&(p=1)),!f||b)for(c in i)nt[c]&&(m=rn(c,i,e,x,h,B))?m.priority&&(p=1):g[c]=u=en.call(e,h,c,"get",i[c],x,B,0,w.stringFilter);e._op&&e._op[o]&&e.kill(h,e._op[o]),U&&e._pt&&(Je=e,l.killTweensOf(h,g,e.globalTime(n)),S=!e.parent,Je=0),e._pt&&C&&(et[d.id]=1)}p&&Mn(e),e._onInit&&e._onInit(e)}e._onUpdate=A,e._initted=(!e._op||e._pt)&&!S,I&&n<=0&&z.render(y,!0,!0)},sn=function(t,e,n,r,i,a,s,o){var l,c,u,h,p=(t._pt&&t._ptCache||(t._ptCache={}))[e];if(!p){p=t._ptCache[e]=[],u=t._ptLookup,h=t._targets.length;while(h--){if(l=u[h][e],l&&l.d&&l.d._pt){l=l.d._pt;while(l&&l.p!==e&&l.fp!==e)l=l._next}if(!l)return Qe=1,t.vars[e]="+=0",an(t,s),Qe=0,o?$(e+" not eligible for reset"):1;p.push(l)}}h=p.length;while(h--)c=p[h],l=c._pt||c,l.s=!r&&0!==r||i?l.s+(r||0)+a*l.c:r,l.c=n-l.s,c.e&&(c.e=ht(n)+Qt(c.e)),c.b&&(c.b=l.s+Qt(c.b))},on=function(t,e){var n,r,i,a,s=t[0]?lt(t[0]).harness:0,o=s&&s.aliases;if(!o)return e;for(r in n=bt({},e),o)if(r in n){a=o[r].split(","),i=a.length;while(i--)n[a[i]]=n[r]}return n},ln=function(t,e,n,r){var i,a,s=e.ease||r||"power1.inOut";if(O(e))a=n[t]||(n[t]=[]),e.forEach((function(t,n){return a.push({t:n/(e.length-1)*100,v:t,e:s})}));else for(i in e)a=n[i]||(n[i]=[]),"ease"===i||a.push({t:parseFloat(t),v:e[i],e:s})},cn=function(t,e,n,r,i){return C(t)?t.call(e,n,r,i):T(t)&&~t.indexOf("random(")?ve(t):t},un=st+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",hn={};ut(un+",id,stagger,delay,duration,paused,scrollTrigger",(function(t){return hn[t]=1}));var pn=function(t){function e(e,n,i,s){var o;"number"===typeof n&&(i.duration=n,n=i,i=null),o=t.call(this,s?n:Et(n))||this;var c,u,h,p,d,f,m,v,y=o.vars,x=y.duration,b=y.delay,S=y.immediateRender,w=y.stagger,E=y.overwrite,M=y.keyframes,T=y.defaults,C=y.scrollTrigger,P=y.yoyoEase,I=n.parent||l,F=(O(e)||k(e)?A(e[0]):"length"in n)?[e]:ie(e);if(o._targets=F.length?ot(F):$("GSAP target "+e+" not found. https://gsap.com",!g.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=E,M||w||L(x)||L(b)){if(n=o.vars,c=o.timeline=new Ze({data:"nested",defaults:T||{},targets:I&&"nested"===I.data?I.vars.targets:F}),c.kill(),c.parent=c._dp=r(o),c._start=0,w||L(x)||L(b)){if(p=F.length,m=w&&oe(w),R(w))for(d in w)~un.indexOf(d)&&(v||(v={}),v[d]=w[d]);for(u=0;u<p;u++)h=wt(n,hn),h.stagger=0,P&&(h.yoyoEase=P),v&&bt(h,v),f=F[u],h.duration=+cn(x,r(o),u,f,F),h.delay=(+cn(b,r(o),u,f,F)||0)-o._delay,!w&&1===p&&h.delay&&(o._delay=b=h.delay,o._start+=b,h.delay=0),c.to(f,h,m?m(u,f,F):0),c._ease=Fe.none;c.duration()?x=b=0:o.timeline=0}else if(M){Et(_t(c.vars.defaults,{ease:"none"})),c._ease=We(M.ease||n.ease||"none");var N,B,U,z=0;if(O(M))M.forEach((function(t){return c.to(F,t,">")})),c.duration();else{for(d in h={},M)"ease"===d||"easeEach"===d||ln(d,M[d],h,M.easeEach);for(d in h)for(N=h[d].sort((function(t,e){return t.t-e.t})),z=0,u=0;u<N.length;u++)B=N[u],U={ease:B.e,duration:(B.t-(u?N[u-1].t:0))/100*x},U[d]=B.v,c.to(F,U,z),z+=U.duration;c.duration()<x&&c.to({},{duration:x-c.duration()})}}x||o.duration(x=c.duration())}else o.timeline=0;return!0!==E||a||(Je=r(o),l.killTweensOf(F),Je=0),Ut(I,r(o),i),n.reversed&&o.reverse(),n.paused&&o.paused(!0),(S||!x&&!M&&o._start===pt(I._time)&&D(S)&&It(r(o))&&"nested"!==I.data)&&(o._tTime=-_,o.render(Math.max(0,-b)||0)),C&&zt(r(o),C),o}i(e,t);var n=e.prototype;return n.render=function(t,e,n){var r,i,a,s,o,l,c,u,h,p=this._time,d=this._tDur,f=this._dur,m=t<0,g=t>d-_&&!m?d:t<_?0:t;if(f){if(g!==this._tTime||!t||n||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==m){if(r=g,u=this.timeline,this._repeat){if(s=f+this._rDelay,this._repeat<-1&&m)return this.totalTime(100*s+t,e,n);if(r=pt(g%s),g===d?(a=this._repeat,r=f):(a=~~(g/s),a&&a===pt(g/s)&&(r=f,a--),r>f&&(r=f)),l=this._yoyo&&1&a,l&&(h=this._yEase,r=f-r),o=kt(this._tTime,s),r===p&&!n&&this._initted&&a===o)return this._tTime=g,this;a!==o&&(u&&this._yEase&&Ge(u,l),this.vars.repeatRefresh&&!l&&!this._lock&&this._time!==s&&this._initted&&(this._lock=n=1,this.render(pt(s*a),!0).invalidate()._lock=0))}if(!this._initted){if(Vt(this,m?t:r,n,e,g))return this._tTime=0,this;if(p!==this._time&&(!n||!this.vars.repeatRefresh||a===o))return this;if(f!==this._dur)return this.render(t,e,n)}if(this._tTime=g,this._time=r,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=c=(h||this._ease)(r/f),this._from&&(this.ratio=c=1-c),r&&!p&&!e&&!a&&(be(this,"onStart"),this._tTime!==g))return this;i=this._pt;while(i)i.r(c,i.d),i=i._next;u&&u.render(t<0?t:u._dur*u._ease(r/this._dur),e,n)||this._startAt&&(this._zTime=t),this._onUpdate&&!e&&(m&&Dt(this,t,e,n),be(this,"onUpdate")),this._repeat&&a!==o&&this.vars.onRepeat&&!e&&this.parent&&be(this,"onRepeat"),g!==this._tDur&&g||this._tTime!==g||(m&&!this._onUpdate&&Dt(this,t,!0,!0),(t||!f)&&(g===this._tDur&&this._ts>0||!g&&this._ts<0)&&At(this,1),e||m&&!p||!(g||p||l)||(be(this,g===d?"onComplete":"onReverseComplete",!0),this._prom&&!(g<d&&this.timeScale()>0)&&this._prom()))}}else Wt(this,t,e,n);return this},n.targets=function(){return this._targets},n.invalidate=function(e){return(!e||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(e),t.prototype.invalidate.call(this,e)},n.resetTo=function(t,e,n,r,i){m||ke.wake(),this._ts||this.play();var a,s=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||an(this,s),a=this._ease(s/this._dur),sn(this,t,e,n,r,a,s,i)?this.resetTo(t,e,n,r,1):(Nt(this,0),this.parent||Tt(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(t,e){if(void 0===e&&(e="all"),!t&&(!e||"all"===e))return this._lazy=this._pt=0,this.parent?Se(this):this;if(this.timeline){var n=this.timeline.totalDuration();return this.timeline.killTweensOf(t,e,Je&&!0!==Je.vars.overwrite)._first||Se(this),this.parent&&n!==this.timeline.totalDuration()&&qt(this,this._dur*this.timeline._tDur/n,0,1),this}var r,i,a,s,o,l,c,u=this._targets,h=t?ie(t):u,p=this._ptLookup,d=this._pt;if((!e||"all"===e)&&Mt(u,h))return"all"===e&&(this._pt=0),Se(this);r=this._op=this._op||[],"all"!==e&&(T(e)&&(o={},ut(e,(function(t){return o[t]=1})),e=o),e=on(u,e)),c=u.length;while(c--)if(~h.indexOf(u[c]))for(o in i=p[c],"all"===e?(r[c]=e,s=i,a={}):(a=r[c]=r[c]||{},s=e),s)l=i&&i[o],l&&("kill"in l.d&&!0!==l.d.kill(o)||Ct(this,l,"_pt"),delete i[o]),"all"!==a&&(a[o]=1);return this._initted&&!this._pt&&d&&Se(this),this},e.to=function(t,n){return new e(t,n,arguments[2])},e.from=function(t,e){return Kt(1,arguments)},e.delayedCall=function(t,n,r,i){return new e(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:t,onComplete:n,onReverseComplete:n,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:i})},e.fromTo=function(t,e,n){return Kt(2,arguments)},e.set=function(t,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new e(t,n)},e.killTweensOf=function(t,e,n){return l.killTweensOf(t,e,n)},e}(Ke);_t(pn.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),ut("staggerTo,staggerFrom,staggerFromTo",(function(t){pn[t]=function(){var e=new Ze,n=ee.call(arguments,0);return n.splice("staggerFromTo"===t?5:4,0,0),e[t].apply(e,n)}}));var dn=function(t,e,n){return t[e]=n},fn=function(t,e,n){return t[e](n)},mn=function(t,e,n,r){return t[e](r.fp,n)},gn=function(t,e,n){return t.setAttribute(e,n)},vn=function(t,e){return C(t[e])?fn:P(t[e])&&t.setAttribute?gn:dn},yn=function(t,e){return e.set(e.t,e.p,Math.round(1e6*(e.s+e.c*t))/1e6,e)},_n=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},xn=function(t,e){var n=e._pt,r="";if(!t&&e.b)r=e.b;else if(1===t&&e.e)r=e.e;else{while(n)r=n.p+(n.m?n.m(n.s+n.c*t):Math.round(1e4*(n.s+n.c*t))/1e4)+r,n=n._next;r+=e.c}e.set(e.t,e.p,r,e)},bn=function(t,e){var n=e._pt;while(n)n.r(t,n.d),n=n._next},Sn=function(t,e,n,r){var i,a=this._pt;while(a)i=a._next,a.p===r&&a.modifier(t,e,n),a=i},wn=function(t){var e,n,r=this._pt;while(r)n=r._next,r.p===t&&!r.op||r.op===t?Ct(this,r,"_pt"):r.dep||(e=1),r=n;return!e},En=function(t,e,n,r){r.mSet(t,e,r.m.call(r.tween,n,r.mt),r)},Mn=function(t){var e,n,r,i,a=t._pt;while(a){e=a._next,n=r;while(n&&n.pr>a.pr)n=n._next;(a._prev=n?n._prev:i)?a._prev._next=a:r=a,(a._next=n)?n._prev=a:i=a,a=e}t._pt=r},Tn=function(){function t(t,e,n,r,i,a,s,o,l){this.t=e,this.s=r,this.c=i,this.p=n,this.r=a||yn,this.d=s||this,this.set=o||dn,this.pr=l||0,this._next=t,t&&(t._prev=this)}var e=t.prototype;return e.modifier=function(t,e,n){this.mSet=this.mSet||this.set,this.set=En,this.m=t,this.mt=n,this.tween=e},t}();ut(st+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(t){return Q[t]=1})),G.TweenMax=G.TweenLite=pn,G.TimelineLite=G.TimelineMax=Ze,l=new Ze({sortChildren:!1,defaults:v,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),g.stringFilter=Le;var Cn=[],An={},Pn=[],Rn=0,Dn=0,In=function(t){return(An[t]||Pn).map((function(t){return t()}))},Ln=function(){var t=Date.now(),e=[];t-Rn>2&&(In("matchMediaInit"),Cn.forEach((function(t){var n,r,i,a,s=t.queries,o=t.conditions;for(r in s)n=c.matchMedia(s[r]).matches,n&&(i=1),n!==o[r]&&(o[r]=n,a=1);a&&(t.revert(),i&&e.push(t))})),In("matchMediaRevert"),e.forEach((function(t){return t.onMatch(t,(function(e){return t.add(null,e)}))})),Rn=t,In("matchMedia"))},kn=function(){function t(t,e){this.selector=e&&ae(e),this.data=[],this._r=[],this.isReverted=!1,this.id=Dn++,t&&this.add(t)}var e=t.prototype;return e.add=function(t,e,n){C(t)&&(n=e,e=t,t=C);var r=this,i=function(){var t,i=o,a=r.selector;return i&&i!==r&&i.data.push(r),n&&(r.selector=ae(n)),o=r,t=e.apply(r,arguments),C(t)&&r._r.push(t),o=i,r.selector=a,r.isReverted=!1,t};return r.last=i,t===C?i(r,(function(t){return r.add(null,t)})):t?r[t]=i:i},e.ignore=function(t){var e=o;o=null,t(this),o=e},e.getTweens=function(){var e=[];return this.data.forEach((function(n){return n instanceof t?e.push.apply(e,n.getTweens()):n instanceof pn&&!(n.parent&&"nested"===n.parent.data)&&e.push(n)})),e},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(t,e){var n=this;if(t?function(){var e,r=n.getTweens(),i=n.data.length;while(i--)e=n.data[i],"isFlip"===e.data&&(e.revert(),e.getChildren(!0,!0,!1).forEach((function(t){return r.splice(r.indexOf(t),1)})));r.map((function(t){return{g:t._dur||t._delay||t._sat&&!t._sat.vars.immediateRender?t.globalTime(0):-1/0,t:t}})).sort((function(t,e){return e.g-t.g||-1/0})).forEach((function(e){return e.t.revert(t)})),i=n.data.length;while(i--)e=n.data[i],e instanceof Ze?"nested"!==e.data&&(e.scrollTrigger&&e.scrollTrigger.revert(),e.kill()):!(e instanceof pn)&&e.revert&&e.revert(t);n._r.forEach((function(e){return e(t,n)})),n.isReverted=!0}():this.data.forEach((function(t){return t.kill&&t.kill()})),this.clear(),e){var r=Cn.length;while(r--)Cn[r].id===this.id&&Cn.splice(r,1)}},e.revert=function(t){this.kill(t||{})},t}(),On=function(){function t(t){this.contexts=[],this.scope=t,o&&o.data.push(this)}var e=t.prototype;return e.add=function(t,e,n){R(t)||(t={matches:t});var r,i,a,s=new kn(0,n||this.scope),l=s.conditions={};for(i in o&&!s.selector&&(s.selector=o.selector),this.contexts.push(s),e=s.add("onMatch",e),s.queries=t,t)"all"===i?a=1:(r=c.matchMedia(t[i]),r&&(Cn.indexOf(s)<0&&Cn.push(s),(l[i]=r.matches)&&(a=1),r.addListener?r.addListener(Ln):r.addEventListener("change",Ln)));return a&&e(s,(function(t){return s.add(null,t)})),this},e.revert=function(t){this.kill(t||{})},e.kill=function(t){this.contexts.forEach((function(e){return e.kill(t,!0)}))},t}(),Fn={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.forEach((function(t){return Ee(t)}))},timeline:function(t){return new Ze(t)},getTweensOf:function(t,e){return l.getTweensOf(t,e)},getProperty:function(t,e,n,r){T(t)&&(t=ie(t)[0]);var i=lt(t||{}).get,a=n?yt:vt;return"native"===n&&(n=""),t?e?a((nt[e]&&nt[e].get||i)(t,e,n,r)):function(e,n,r){return a((nt[e]&&nt[e].get||i)(t,e,n,r))}:t},quickSetter:function(t,e,n){if(t=ie(t),t.length>1){var r=t.map((function(t){return zn.quickSetter(t,e,n)})),i=r.length;return function(t){var e=i;while(e--)r[e](t)}}t=t[0]||{};var a=nt[e],s=lt(t),o=s.harness&&(s.harness.aliases||{})[e]||e,l=a?function(e){var r=new a;f._pt=0,r.init(t,n?e+n:e,f,0,[t]),r.render(1,r),f._pt&&bn(1,f)}:s.set(t,o);return a?l:function(e){return l(t,o,n?e+n:e,s,1)}},quickTo:function(t,e,n){var r,i=zn.to(t,bt((r={},r[e]="+=0.1",r.paused=!0,r),n||{})),a=function(t,n,r){return i.resetTo(e,t,n,r)};return a.tween=i,a},isTweening:function(t){return l.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=We(t.ease,v.ease)),St(v,t||{})},config:function(t){return St(g,t||{})},registerEffect:function(t){var e=t.name,n=t.effect,r=t.plugins,i=t.defaults,a=t.extendTimeline;(r||"").split(",").forEach((function(t){return t&&!nt[t]&&!G[t]&&$(e+" effect requires "+t+" plugin.")})),rt[e]=function(t,e,r){return n(ie(t),_t(e||{},i),r)},a&&(Ze.prototype[e]=function(t,n,r){return this.add(rt[e](t,R(n)?n:(r=n)&&{},this),r)})},registerEase:function(t,e){Fe[t]=We(e)},parseEase:function(t,e){return arguments.length?We(t,e):Fe},getById:function(t){return l.getById(t)},exportRoot:function(t,e){void 0===t&&(t={});var n,r,i=new Ze(t);i.smoothChildTiming=D(t.smoothChildTiming),l.remove(i),i._dp=0,i._time=i._tTime=l._time,n=l._first;while(n)r=n._next,!e&&!n._dur&&n instanceof pn&&n.vars.onComplete===n._targets[0]||Ut(i,n,n._start-n._delay),n=r;return Ut(l,i,0),i},context:function(t,e){return t?new kn(t,e):o},matchMedia:function(t){return new On(t)},matchMediaRefresh:function(){return Cn.forEach((function(t){var e,n,r=t.conditions;for(n in r)r[n]&&(r[n]=!1,e=1);e&&t.revert()}))||Ln()},addEventListener:function(t,e){var n=An[t]||(An[t]=[]);~n.indexOf(e)||n.push(e)},removeEventListener:function(t,e){var n=An[t],r=n&&n.indexOf(e);r>=0&&n.splice(r,1)},utils:{wrap:me,wrapYoyo:ge,distribute:oe,random:ue,snap:ce,normalize:de,getUnit:Qt,clamp:te,splitColor:Ae,toArray:ie,selector:ae,mapRange:ye,pipe:he,unitize:pe,interpolate:_e,shuffle:se},install:j,effects:rt,ticker:ke,updateRoot:Ze.updateRoot,plugins:nt,globalTimeline:l,core:{PropTween:Tn,globals:X,Tween:pn,Timeline:Ze,Animation:Ke,getCache:lt,_removeLinkedListItem:Ct,reverting:function(){return s},context:function(t){return t&&o&&(o.data.push(t),t._ctx=o),o},suppressOverwrites:function(t){return a=t}}};ut("to,from,fromTo,delayedCall,set,killTweensOf",(function(t){return Fn[t]=pn[t]})),ke.add(Ze.updateRoot),f=Fn.to({},{duration:0});var Nn=function(t,e){var n=t._pt;while(n&&n.p!==e&&n.op!==e&&n.fp!==e)n=n._next;return n},Bn=function(t,e){var n,r,i,a=t._targets;for(n in e){r=a.length;while(r--)i=t._ptLookup[r][n],i&&(i=i.d)&&(i._pt&&(i=Nn(i,n)),i&&i.modifier&&i.modifier(e[n],t,a[r],n))}},Un=function(t,e){return{name:t,rawVars:1,init:function(t,n,r){r._onInit=function(t){var r,i;if(T(n)&&(r={},ut(n,(function(t){return r[t]=1})),n=r),e){for(i in r={},n)r[i]=e(n[i]);n=r}Bn(t,n)}}}},zn=Fn.registerPlugin({name:"attr",init:function(t,e,n,r,i){var a,s,o;for(a in this.tween=n,e)o=t.getAttribute(a)||"",s=this.add(t,"setAttribute",(o||0)+"",e[a],r,i,0,0,a),s.op=a,s.b=o,this._props.push(a)},render:function(t,e){var n=e._pt;while(n)s?n.set(n.t,n.p,n.b,n):n.r(t,n.d),n=n._next}},{name:"endArray",init:function(t,e){var n=e.length;while(n--)this.add(t,n,t[n]||0,e[n],0,0,0,0,0,1)}},Un("roundProps",le),Un("modifiers"),Un("snap",ce))||Fn;pn.version=Ze.version=zn.version="3.12.5",p=1,I()&&Oe();Fe.Power0,Fe.Power1,Fe.Power2,Fe.Power3,Fe.Power4,Fe.Linear,Fe.Quad,Fe.Cubic,Fe.Quart,Fe.Quint,Fe.Strong,Fe.Elastic,Fe.Back,Fe.SteppedEase,Fe.Bounce,Fe.Sine,Fe.Expo,Fe.Circ;var Vn,Hn,Gn,Wn,jn,qn,$n,Xn,Yn=function(){return"undefined"!==typeof window},Kn={},Zn=180/Math.PI,Jn=Math.PI/180,Qn=Math.atan2,tr=1e8,er=/([A-Z])/g,nr=/(left|right|width|margin|padding|x)/i,rr=/[\s,\(]\S/,ir={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},ar=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},sr=function(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},or=function(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)},lr=function(t,e){var n=e.s+e.c*t;e.set(e.t,e.p,~~(n+(n<0?-.5:.5))+e.u,e)},cr=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},ur=function(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)},hr=function(t,e,n){return t.style[e]=n},pr=function(t,e,n){return t.style.setProperty(e,n)},dr=function(t,e,n){return t._gsap[e]=n},fr=function(t,e,n){return t._gsap.scaleX=t._gsap.scaleY=n},mr=function(t,e,n,r,i){var a=t._gsap;a.scaleX=a.scaleY=n,a.renderTransform(i,a)},gr=function(t,e,n,r,i){var a=t._gsap;a[e]=n,a.renderTransform(i,a)},vr="transform",yr=vr+"Origin",_r=function t(e,n){var r=this,i=this.target,a=i.style,s=i._gsap;if(e in Kn&&a){if(this.tfm=this.tfm||{},"transform"===e)return ir.transform.split(",").forEach((function(e){return t.call(r,e,n)}));if(e=ir[e]||e,~e.indexOf(",")?e.split(",").forEach((function(t){return r.tfm[t]=Nr(i,t)})):this.tfm[e]=s.x?s[e]:Nr(i,e),e===yr&&(this.tfm.zOrigin=s.zOrigin),this.props.indexOf(vr)>=0)return;s.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(yr,n,"")),e=vr}(a||n)&&this.props.push(e,n,a[e])},xr=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},br=function(){var t,e,n=this.props,r=this.target,i=r.style,a=r._gsap;for(t=0;t<n.length;t+=3)n[t+1]?r[n[t]]=n[t+2]:n[t+2]?i[n[t]]=n[t+2]:i.removeProperty("--"===n[t].substr(0,2)?n[t]:n[t].replace(er,"-$1").toLowerCase());if(this.tfm){for(e in this.tfm)a[e]=this.tfm[e];a.svg&&(a.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),t=$n(),t&&t.isStart||i[vr]||(xr(i),a.zOrigin&&i[yr]&&(i[yr]+=" "+a.zOrigin+"px",a.zOrigin=0,a.renderTransform()),a.uncache=1)}},Sr=function(t,e){var n={target:t,props:[],revert:br,save:_r};return t._gsap||zn.core.getCache(t),e&&e.split(",").forEach((function(t){return n.save(t)})),n},wr=function(t,e){var n=Hn.createElementNS?Hn.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):Hn.createElement(t);return n&&n.style?n:Hn.createElement(t)},Er=function t(e,n,r){var i=getComputedStyle(e);return i[n]||i.getPropertyValue(n.replace(er,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&t(e,Tr(n)||n,1)||""},Mr="O,Moz,ms,Ms,Webkit".split(","),Tr=function(t,e,n){var r=e||jn,i=r.style,a=5;if(t in i&&!n)return t;t=t.charAt(0).toUpperCase()+t.substr(1);while(a--&&!(Mr[a]+t in i));return a<0?null:(3===a?"ms":a>=0?Mr[a]:"")+t},Cr=function(){Yn()&&window.document&&(Vn=window,Hn=Vn.document,Gn=Hn.documentElement,jn=wr("div")||{style:{}},wr("div"),vr=Tr(vr),yr=vr+"Origin",jn.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Xn=!!Tr("perspective"),$n=zn.core.reverting,Wn=1)},Ar=function t(e){var n,r=wr("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,a=this.nextSibling,s=this.style.cssText;if(Gn.appendChild(r),r.appendChild(this),this.style.display="block",e)try{n=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch(o){}else this._gsapBBox&&(n=this._gsapBBox());return i&&(a?i.insertBefore(this,a):i.appendChild(this)),Gn.removeChild(r),this.style.cssText=s,n},Pr=function(t,e){var n=e.length;while(n--)if(t.hasAttribute(e[n]))return t.getAttribute(e[n])},Rr=function(t){var e;try{e=t.getBBox()}catch(n){e=Ar.call(t,!0)}return e&&(e.width||e.height)||t.getBBox===Ar||(e=Ar.call(t,!0)),!e||e.width||e.x||e.y?e:{x:+Pr(t,["x","cx","x1"])||0,y:+Pr(t,["y","cy","y1"])||0,width:0,height:0}},Dr=function(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!Rr(t))},Ir=function(t,e){if(e){var n,r=t.style;e in Kn&&e!==yr&&(e=vr),r.removeProperty?(n=e.substr(0,2),"ms"!==n&&"webkit"!==e.substr(0,6)||(e="-"+e),r.removeProperty("--"===n?e:e.replace(er,"-$1").toLowerCase())):r.removeAttribute(e)}},Lr=function(t,e,n,r,i,a){var s=new Tn(t._pt,e,n,0,1,a?ur:cr);return t._pt=s,s.b=r,s.e=i,t._props.push(n),s},kr={deg:1,rad:1,turn:1},Or={grid:1,flex:1},Fr=function t(e,n,r,i){var a,s,o,l,c=parseFloat(r)||0,u=(r+"").trim().substr((c+"").length)||"px",h=jn.style,p=nr.test(n),d="svg"===e.tagName.toLowerCase(),f=(d?"client":"offset")+(p?"Width":"Height"),m=100,g="px"===i,v="%"===i;if(i===u||!c||kr[i]||kr[u])return c;if("px"!==u&&!g&&(c=t(e,n,r,"px")),l=e.getCTM&&Dr(e),(v||"%"===u)&&(Kn[n]||~n.indexOf("adius")))return a=l?e.getBBox()[p?"width":"height"]:e[f],ht(v?c/a*m:c/100*a);if(h[p?"width":"height"]=m+(g?u:i),s=~n.indexOf("adius")||"em"===i&&e.appendChild&&!d?e:e.parentNode,l&&(s=(e.ownerSVGElement||{}).parentNode),s&&s!==Hn&&s.appendChild||(s=Hn.body),o=s._gsap,o&&v&&o.width&&p&&o.time===ke.time&&!o.uncache)return ht(c/o.width*m);if(!v||"height"!==n&&"width"!==n)(v||"%"===u)&&!Or[Er(s,"display")]&&(h.position=Er(e,"position")),s===e&&(h.position="static"),s.appendChild(jn),a=jn[f],s.removeChild(jn),h.position="absolute";else{var y=e.style[n];e.style[n]=m+i,a=e[f],y?e.style[n]=y:Ir(e,n)}return p&&v&&(o=lt(s),o.time=ke.time,o.width=s[f]),ht(g?a*c/m:a&&c?m/a*c:0)},Nr=function(t,e,n,r){var i;return Wn||Cr(),e in ir&&"transform"!==e&&(e=ir[e],~e.indexOf(",")&&(e=e.split(",")[0])),Kn[e]&&"transform"!==e?(i=Yr(t,r),i="transformOrigin"!==e?i[e]:i.svg?i.origin:Kr(Er(t,yr))+" "+i.zOrigin+"px"):(i=t.style[e],(!i||"auto"===i||r||~(i+"").indexOf("calc("))&&(i=Hr[e]&&Hr[e](t,e,n)||Er(t,e)||ct(t,e)||("opacity"===e?1:0))),n&&!~(i+"").trim().indexOf(" ")?Fr(t,e,i,n)+n:i},Br=function(t,e,n,r){if(!n||"none"===n){var i=Tr(e,t,1),a=i&&Er(t,i,1);a&&a!==n?(e=i,n=a):"borderColor"===e&&(n=Er(t,"borderTopColor"))}var s,o,l,c,u,h,p,d,f,m,v,y,_=new Tn(this._pt,t.style,e,0,1,xn),x=0,b=0;if(_.b=n,_.e=r,n+="",r+="","auto"===r&&(h=t.style[e],t.style[e]=r,r=Er(t,e)||r,h?t.style[e]=h:Ir(t,e)),s=[n,r],Le(s),n=s[0],r=s[1],l=n.match(B)||[],y=r.match(B)||[],y.length){while(o=B.exec(r))p=o[0],f=r.substring(x,o.index),u?u=(u+1)%5:"rgba("!==f.substr(-5)&&"hsla("!==f.substr(-5)||(u=1),p!==(h=l[b++]||"")&&(c=parseFloat(h)||0,v=h.substr((c+"").length),"="===p.charAt(1)&&(p=dt(c,p)+v),d=parseFloat(p),m=p.substr((d+"").length),x=B.lastIndex-m.length,m||(m=m||g.units[e]||v,x===r.length&&(r+=m,_.e+=m)),v!==m&&(c=Fr(t,e,h,m)||0),_._pt={_next:_._pt,p:f||1===b?f:",",s:c,c:d-c,m:u&&u<4||"zIndex"===e?Math.round:0});_.c=x<r.length?r.substring(x,r.length):""}else _.r="display"===e&&"none"===r?ur:cr;return z.test(r)&&(_.e=0),this._pt=_,_},Ur={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},zr=function(t){var e=t.split(" "),n=e[0],r=e[1]||"50%";return"top"!==n&&"bottom"!==n&&"left"!==r&&"right"!==r||(t=n,n=r,r=t),e[0]=Ur[n]||n,e[1]=Ur[r]||r,e.join(" ")},Vr=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var n,r,i,a=e.t,s=a.style,o=e.u,l=a._gsap;if("all"===o||!0===o)s.cssText="",r=1;else{o=o.split(","),i=o.length;while(--i>-1)n=o[i],Kn[n]&&(r=1,n="transformOrigin"===n?yr:vr),Ir(a,n)}r&&(Ir(a,vr),l&&(l.svg&&a.removeAttribute("transform"),Yr(a,1),l.uncache=1,xr(s)))}},Hr={clearProps:function(t,e,n,r,i){if("isFromStart"!==i.data){var a=t._pt=new Tn(t._pt,e,n,0,0,Vr);return a.u=r,a.pr=-10,a.tween=i,t._props.push(n),1}}},Gr=[1,0,0,1,0,0],Wr={},jr=function(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t},qr=function(t){var e=Er(t,vr);return jr(e)?Gr:e.substr(7).match(N).map(ht)},$r=function(t,e){var n,r,i,a,s=t._gsap||lt(t),o=t.style,l=qr(t);return s.svg&&t.getAttribute("transform")?(i=t.transform.baseVal.consolidate().matrix,l=[i.a,i.b,i.c,i.d,i.e,i.f],"1,0,0,1,0,0"===l.join(",")?Gr:l):(l!==Gr||t.offsetParent||t===Gn||s.svg||(i=o.display,o.display="block",n=t.parentNode,n&&t.offsetParent||(a=1,r=t.nextElementSibling,Gn.appendChild(t)),l=qr(t),i?o.display=i:Ir(t,"display"),a&&(r?n.insertBefore(t,r):n?n.appendChild(t):Gn.removeChild(t))),e&&l.length>6?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)},Xr=function(t,e,n,r,i,a){var s,o,l,c,u=t._gsap,h=i||$r(t,!0),p=u.xOrigin||0,d=u.yOrigin||0,f=u.xOffset||0,m=u.yOffset||0,g=h[0],v=h[1],y=h[2],_=h[3],x=h[4],b=h[5],S=e.split(" "),w=parseFloat(S[0])||0,E=parseFloat(S[1])||0;n?h!==Gr&&(o=g*_-v*y)&&(l=w*(_/o)+E*(-y/o)+(y*b-_*x)/o,c=w*(-v/o)+E*(g/o)-(g*b-v*x)/o,w=l,E=c):(s=Rr(t),w=s.x+(~S[0].indexOf("%")?w/100*s.width:w),E=s.y+(~(S[1]||S[0]).indexOf("%")?E/100*s.height:E)),r||!1!==r&&u.smooth?(x=w-p,b=E-d,u.xOffset=f+(x*g+b*y)-x,u.yOffset=m+(x*v+b*_)-b):u.xOffset=u.yOffset=0,u.xOrigin=w,u.yOrigin=E,u.smooth=!!r,u.origin=e,u.originIsAbsolute=!!n,t.style[yr]="0px 0px",a&&(Lr(a,u,"xOrigin",p,w),Lr(a,u,"yOrigin",d,E),Lr(a,u,"xOffset",f,u.xOffset),Lr(a,u,"yOffset",m,u.yOffset)),t.setAttribute("data-svg-origin",w+" "+E)},Yr=function(t,e){var n=t._gsap||new Ye(t);if("x"in n&&!e&&!n.uncache)return n;var r,i,a,s,o,l,c,u,h,p,d,f,m,v,y,_,x,b,S,w,E,M,T,C,A,P,R,D,I,L,k,O,F=t.style,N=n.scaleX<0,B="px",U="deg",z=getComputedStyle(t),V=Er(t,yr)||"0";return r=i=a=l=c=u=h=p=d=0,s=o=1,n.svg=!(!t.getCTM||!Dr(t)),z.translate&&("none"===z.translate&&"none"===z.scale&&"none"===z.rotate||(F[vr]=("none"!==z.translate?"translate3d("+(z.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==z.rotate?"rotate("+z.rotate+") ":"")+("none"!==z.scale?"scale("+z.scale.split(" ").join(",")+") ":"")+("none"!==z[vr]?z[vr]:"")),F.scale=F.rotate=F.translate="none"),v=$r(t,n.svg),n.svg&&(n.uncache?(A=t.getBBox(),V=n.xOrigin-A.x+"px "+(n.yOrigin-A.y)+"px",C=""):C=!e&&t.getAttribute("data-svg-origin"),Xr(t,C||V,!!C||n.originIsAbsolute,!1!==n.smooth,v)),f=n.xOrigin||0,m=n.yOrigin||0,v!==Gr&&(b=v[0],S=v[1],w=v[2],E=v[3],r=M=v[4],i=T=v[5],6===v.length?(s=Math.sqrt(b*b+S*S),o=Math.sqrt(E*E+w*w),l=b||S?Qn(S,b)*Zn:0,h=w||E?Qn(w,E)*Zn+l:0,h&&(o*=Math.abs(Math.cos(h*Jn))),n.svg&&(r-=f-(f*b+m*w),i-=m-(f*S+m*E))):(O=v[6],L=v[7],R=v[8],D=v[9],I=v[10],k=v[11],r=v[12],i=v[13],a=v[14],y=Qn(O,I),c=y*Zn,y&&(_=Math.cos(-y),x=Math.sin(-y),C=M*_+R*x,A=T*_+D*x,P=O*_+I*x,R=M*-x+R*_,D=T*-x+D*_,I=O*-x+I*_,k=L*-x+k*_,M=C,T=A,O=P),y=Qn(-w,I),u=y*Zn,y&&(_=Math.cos(-y),x=Math.sin(-y),C=b*_-R*x,A=S*_-D*x,P=w*_-I*x,k=E*x+k*_,b=C,S=A,w=P),y=Qn(S,b),l=y*Zn,y&&(_=Math.cos(y),x=Math.sin(y),C=b*_+S*x,A=M*_+T*x,S=S*_-b*x,T=T*_-M*x,b=C,M=A),c&&Math.abs(c)+Math.abs(l)>359.9&&(c=l=0,u=180-u),s=ht(Math.sqrt(b*b+S*S+w*w)),o=ht(Math.sqrt(T*T+O*O)),y=Qn(M,T),h=Math.abs(y)>2e-4?y*Zn:0,d=k?1/(k<0?-k:k):0),n.svg&&(C=t.getAttribute("transform"),n.forceCSS=t.setAttribute("transform","")||!jr(Er(t,vr)),C&&t.setAttribute("transform",C))),Math.abs(h)>90&&Math.abs(h)<270&&(N?(s*=-1,h+=l<=0?180:-180,l+=l<=0?180:-180):(o*=-1,h+=h<=0?180:-180)),e=e||n.uncache,n.x=r-((n.xPercent=r&&(!e&&n.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-r)?-50:0)))?t.offsetWidth*n.xPercent/100:0)+B,n.y=i-((n.yPercent=i&&(!e&&n.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-i)?-50:0)))?t.offsetHeight*n.yPercent/100:0)+B,n.z=a+B,n.scaleX=ht(s),n.scaleY=ht(o),n.rotation=ht(l)+U,n.rotationX=ht(c)+U,n.rotationY=ht(u)+U,n.skewX=h+U,n.skewY=p+U,n.transformPerspective=d+B,(n.zOrigin=parseFloat(V.split(" ")[2])||!e&&n.zOrigin||0)&&(F[yr]=Kr(V)),n.xOffset=n.yOffset=0,n.force3D=g.force3D,n.renderTransform=n.svg?ri:Xn?ni:Jr,n.uncache=0,n},Kr=function(t){return(t=t.split(" "))[0]+" "+t[1]},Zr=function(t,e,n){var r=Qt(e);return ht(parseFloat(e)+parseFloat(Fr(t,"x",n+"px",r)))+r},Jr=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,ni(t,e)},Qr="0deg",ti="0px",ei=") ",ni=function(t,e){var n=e||this,r=n.xPercent,i=n.yPercent,a=n.x,s=n.y,o=n.z,l=n.rotation,c=n.rotationY,u=n.rotationX,h=n.skewX,p=n.skewY,d=n.scaleX,f=n.scaleY,m=n.transformPerspective,g=n.force3D,v=n.target,y=n.zOrigin,_="",x="auto"===g&&t&&1!==t||!0===g;if(y&&(u!==Qr||c!==Qr)){var b,S=parseFloat(c)*Jn,w=Math.sin(S),E=Math.cos(S);S=parseFloat(u)*Jn,b=Math.cos(S),a=Zr(v,a,w*b*-y),s=Zr(v,s,-Math.sin(S)*-y),o=Zr(v,o,E*b*-y+y)}m!==ti&&(_+="perspective("+m+ei),(r||i)&&(_+="translate("+r+"%, "+i+"%) "),(x||a!==ti||s!==ti||o!==ti)&&(_+=o!==ti||x?"translate3d("+a+", "+s+", "+o+") ":"translate("+a+", "+s+ei),l!==Qr&&(_+="rotate("+l+ei),c!==Qr&&(_+="rotateY("+c+ei),u!==Qr&&(_+="rotateX("+u+ei),h===Qr&&p===Qr||(_+="skew("+h+", "+p+ei),1===d&&1===f||(_+="scale("+d+", "+f+ei),v.style[vr]=_||"translate(0, 0)"},ri=function(t,e){var n,r,i,a,s,o=e||this,l=o.xPercent,c=o.yPercent,u=o.x,h=o.y,p=o.rotation,d=o.skewX,f=o.skewY,m=o.scaleX,g=o.scaleY,v=o.target,y=o.xOrigin,_=o.yOrigin,x=o.xOffset,b=o.yOffset,S=o.forceCSS,w=parseFloat(u),E=parseFloat(h);p=parseFloat(p),d=parseFloat(d),f=parseFloat(f),f&&(f=parseFloat(f),d+=f,p+=f),p||d?(p*=Jn,d*=Jn,n=Math.cos(p)*m,r=Math.sin(p)*m,i=Math.sin(p-d)*-g,a=Math.cos(p-d)*g,d&&(f*=Jn,s=Math.tan(d-f),s=Math.sqrt(1+s*s),i*=s,a*=s,f&&(s=Math.tan(f),s=Math.sqrt(1+s*s),n*=s,r*=s)),n=ht(n),r=ht(r),i=ht(i),a=ht(a)):(n=m,a=g,r=i=0),(w&&!~(u+"").indexOf("px")||E&&!~(h+"").indexOf("px"))&&(w=Fr(v,"x",u,"px"),E=Fr(v,"y",h,"px")),(y||_||x||b)&&(w=ht(w+y-(y*n+_*i)+x),E=ht(E+_-(y*r+_*a)+b)),(l||c)&&(s=v.getBBox(),w=ht(w+l/100*s.width),E=ht(E+c/100*s.height)),s="matrix("+n+","+r+","+i+","+a+","+w+","+E+")",v.setAttribute("transform",s),S&&(v.style[vr]=s)},ii=function(t,e,n,r,i){var a,s,o=360,l=T(i),c=parseFloat(i)*(l&&~i.indexOf("rad")?Zn:1),u=c-r,h=r+u+"deg";return l&&(a=i.split("_")[1],"short"===a&&(u%=o,u!==u%(o/2)&&(u+=u<0?o:-o)),"cw"===a&&u<0?u=(u+o*tr)%o-~~(u/o)*o:"ccw"===a&&u>0&&(u=(u-o*tr)%o-~~(u/o)*o)),t._pt=s=new Tn(t._pt,e,n,r,u,sr),s.e=h,s.u="deg",t._props.push(n),s},ai=function(t,e){for(var n in e)t[n]=e[n];return t},si=function(t,e,n){var r,i,a,s,o,l,c,u,h=ai({},n._gsap),p="perspective,force3D,transformOrigin,svgOrigin",d=n.style;for(i in h.svg?(a=n.getAttribute("transform"),n.setAttribute("transform",""),d[vr]=e,r=Yr(n,1),Ir(n,vr),n.setAttribute("transform",a)):(a=getComputedStyle(n)[vr],d[vr]=e,r=Yr(n,1),d[vr]=a),Kn)a=h[i],s=r[i],a!==s&&p.indexOf(i)<0&&(c=Qt(a),u=Qt(s),o=c!==u?Fr(n,i,a,u):parseFloat(a),l=parseFloat(s),t._pt=new Tn(t._pt,r,i,o,l-o,ar),t._pt.u=u||0,t._props.push(i));ai(r,h)};ut("padding,margin,Width,Radius",(function(t,e){var n="Top",r="Right",i="Bottom",a="Left",s=(e<3?[n,r,i,a]:[n+a,n+r,i+r,i+a]).map((function(n){return e<2?t+n:"border"+n+t}));Hr[e>1?"border"+t:t]=function(t,e,n,r,i){var a,o;if(arguments.length<4)return a=s.map((function(e){return Nr(t,e,n)})),o=a.join(" "),5===o.split(a[0]).length?a[0]:o;a=(r+"").split(" "),o={},s.forEach((function(t,e){return o[t]=a[e]=a[e]||a[(e-1)/2|0]})),t.init(e,o,i)}}));var oi={name:"css",register:Cr,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,n,r,i){var a,s,o,l,c,u,h,p,d,f,m,v,y,_,x,b,S=this._props,w=t.style,E=n.vars.startAt;for(h in Wn||Cr(),this.styles=this.styles||Sr(t),b=this.styles.props,this.tween=n,e)if("autoRound"!==h&&(s=e[h],!nt[h]||!rn(h,e,n,r,t,i)))if(c=typeof s,u=Hr[h],"function"===c&&(s=s.call(n,r,t,i),c=typeof s),"string"===c&&~s.indexOf("random(")&&(s=ve(s)),u)u(this,t,h,s,n)&&(x=1);else if("--"===h.substr(0,2))a=(getComputedStyle(t).getPropertyValue(h)+"").trim(),s+="",De.lastIndex=0,De.test(a)||(p=Qt(a),d=Qt(s)),d?p!==d&&(a=Fr(t,h,a,d)+d):p&&(s+=p),this.add(w,"setProperty",a,s,r,i,0,0,h),S.push(h),b.push(h,0,w[h]);else if("undefined"!==c){if(E&&h in E?(a="function"===typeof E[h]?E[h].call(n,r,t,i):E[h],T(a)&&~a.indexOf("random(")&&(a=ve(a)),Qt(a+"")||"auto"===a||(a+=g.units[h]||Qt(Nr(t,h))||""),"="===(a+"").charAt(1)&&(a=Nr(t,h))):a=Nr(t,h),l=parseFloat(a),f="string"===c&&"="===s.charAt(1)&&s.substr(0,2),f&&(s=s.substr(2)),o=parseFloat(s),h in ir&&("autoAlpha"===h&&(1===l&&"hidden"===Nr(t,"visibility")&&o&&(l=0),b.push("visibility",0,w.visibility),Lr(this,w,"visibility",l?"inherit":"hidden",o?"inherit":"hidden",!o)),"scale"!==h&&"transform"!==h&&(h=ir[h],~h.indexOf(",")&&(h=h.split(",")[0]))),m=h in Kn,m)if(this.styles.save(h),v||(y=t._gsap,y.renderTransform&&!e.parseTransform||Yr(t,e.parseTransform),_=!1!==e.smoothOrigin&&y.smooth,v=this._pt=new Tn(this._pt,w,vr,0,1,y.renderTransform,y,0,-1),v.dep=1),"scale"===h)this._pt=new Tn(this._pt,y,"scaleY",y.scaleY,(f?dt(y.scaleY,f+o):o)-y.scaleY||0,ar),this._pt.u=0,S.push("scaleY",h),h+="X";else{if("transformOrigin"===h){b.push(yr,0,w[yr]),s=zr(s),y.svg?Xr(t,s,0,_,0,this):(d=parseFloat(s.split(" ")[2])||0,d!==y.zOrigin&&Lr(this,y,"zOrigin",y.zOrigin,d),Lr(this,w,h,Kr(a),Kr(s)));continue}if("svgOrigin"===h){Xr(t,s,1,_,0,this);continue}if(h in Wr){ii(this,y,h,l,f?dt(l,f+s):s);continue}if("smoothOrigin"===h){Lr(this,y,"smooth",y.smooth,s);continue}if("force3D"===h){y[h]=s;continue}if("transform"===h){si(this,s,t);continue}}else h in w||(h=Tr(h)||h);if(m||(o||0===o)&&(l||0===l)&&!rr.test(s)&&h in w)p=(a+"").substr((l+"").length),o||(o=0),d=Qt(s)||(h in g.units?g.units[h]:p),p!==d&&(l=Fr(t,h,a,d)),this._pt=new Tn(this._pt,m?y:w,h,l,(f?dt(l,f+o):o)-l,m||"px"!==d&&"zIndex"!==h||!1===e.autoRound?ar:lr),this._pt.u=d||0,p!==d&&"%"!==d&&(this._pt.b=a,this._pt.r=or);else if(h in w)Br.call(this,t,h,a,f?f+s:s);else if(h in t)this.add(t,h,a||t[h],f?f+s:s,r,i);else if("parseTransform"!==h){q(h,s);continue}m||(h in w?b.push(h,0,w[h]):b.push(h,1,a||t[h])),S.push(h)}x&&Mn(this)},render:function(t,e){if(e.tween._time||!$n()){var n=e._pt;while(n)n.r(t,n.d),n=n._next}else e.styles.revert()},get:Nr,aliases:ir,getSetter:function(t,e,n){var r=ir[e];return r&&r.indexOf(",")<0&&(e=r),e in Kn&&e!==yr&&(t._gsap.x||Nr(t,"x"))?n&&qn===n?"scale"===e?fr:dr:(qn=n||{})&&("scale"===e?mr:gr):t.style&&!P(t.style[e])?hr:~e.indexOf("-")?pr:vn(t,e)},core:{_removeProperty:Ir,_getMatrix:$r}};zn.utils.checkPrefix=Tr,zn.core.getStyleSaver=Sr,function(t,e,n,r){var i=ut(t+","+e+","+n,(function(t){Kn[t]=1}));ut(e,(function(t){g.units[t]="deg",Wr[t]=1})),ir[i[13]]=t+","+e,ut(r,(function(t){var e=t.split(":");ir[e[1]]=i[e[0]]}))}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY"),ut("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(t){g.units[t]="px"})),zn.registerPlugin(oi);var li=zn.registerPlugin(oi)||zn;li.core.Tween},8626:function(t,e,n){var r;t=n.nmd(t),n(4114),n(6573),n(8100),n(7936),function(){var i,a="4.17.21",s=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",c="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",h=500,p="__lodash_placeholder__",d=1,f=2,m=4,g=1,v=2,y=1,_=2,x=4,b=8,S=16,w=32,E=64,M=128,T=256,C=512,A=30,P="...",R=800,D=16,I=1,L=2,k=3,O=1/0,F=9007199254740991,N=17976931348623157e292,B=NaN,U=4294967295,z=U-1,V=U>>>1,H=[["ary",M],["bind",y],["bindKey",_],["curry",b],["curryRight",S],["flip",C],["partial",w],["partialRight",E],["rearg",T]],G="[object Arguments]",W="[object Array]",j="[object AsyncFunction]",q="[object Boolean]",$="[object Date]",X="[object DOMException]",Y="[object Error]",K="[object Function]",Z="[object GeneratorFunction]",J="[object Map]",Q="[object Number]",tt="[object Null]",et="[object Object]",nt="[object Promise]",rt="[object Proxy]",it="[object RegExp]",at="[object Set]",st="[object String]",ot="[object Symbol]",lt="[object Undefined]",ct="[object WeakMap]",ut="[object WeakSet]",ht="[object ArrayBuffer]",pt="[object DataView]",dt="[object Float32Array]",ft="[object Float64Array]",mt="[object Int8Array]",gt="[object Int16Array]",vt="[object Int32Array]",yt="[object Uint8Array]",_t="[object Uint8ClampedArray]",xt="[object Uint16Array]",bt="[object Uint32Array]",St=/\b__p \+= '';/g,wt=/\b(__p \+=) '' \+/g,Et=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Mt=/&(?:amp|lt|gt|quot|#39);/g,Tt=/[&<>"']/g,Ct=RegExp(Mt.source),At=RegExp(Tt.source),Pt=/<%-([\s\S]+?)%>/g,Rt=/<%([\s\S]+?)%>/g,Dt=/<%=([\s\S]+?)%>/g,It=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Lt=/^\w*$/,kt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ot=/[\\^$.*+?()[\]{}|]/g,Ft=RegExp(Ot.source),Nt=/^\s+/,Bt=/\s/,Ut=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,zt=/\{\n\/\* \[wrapped with (.+)\] \*/,Vt=/,? & /,Ht=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Gt=/[()=,{}\[\]\/\s]/,Wt=/\\(\\)?/g,jt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,qt=/\w*$/,$t=/^[-+]0x[0-9a-f]+$/i,Xt=/^0b[01]+$/i,Yt=/^\[object .+?Constructor\]$/,Kt=/^0o[0-7]+$/i,Zt=/^(?:0|[1-9]\d*)$/,Jt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Qt=/($^)/,te=/['\n\r\u2028\u2029\\]/g,ee="\\ud800-\\udfff",ne="\\u0300-\\u036f",re="\\ufe20-\\ufe2f",ie="\\u20d0-\\u20ff",ae=ne+re+ie,se="\\u2700-\\u27bf",oe="a-z\\xdf-\\xf6\\xf8-\\xff",le="\\xac\\xb1\\xd7\\xf7",ce="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ue="\\u2000-\\u206f",he=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pe="A-Z\\xc0-\\xd6\\xd8-\\xde",de="\\ufe0e\\ufe0f",fe=le+ce+ue+he,me="['’]",ge="["+ee+"]",ve="["+fe+"]",ye="["+ae+"]",_e="\\d+",xe="["+se+"]",be="["+oe+"]",Se="[^"+ee+fe+_e+se+oe+pe+"]",we="\\ud83c[\\udffb-\\udfff]",Ee="(?:"+ye+"|"+we+")",Me="[^"+ee+"]",Te="(?:\\ud83c[\\udde6-\\uddff]){2}",Ce="[\\ud800-\\udbff][\\udc00-\\udfff]",Ae="["+pe+"]",Pe="\\u200d",Re="(?:"+be+"|"+Se+")",De="(?:"+Ae+"|"+Se+")",Ie="(?:"+me+"(?:d|ll|m|re|s|t|ve))?",Le="(?:"+me+"(?:D|LL|M|RE|S|T|VE))?",ke=Ee+"?",Oe="["+de+"]?",Fe="(?:"+Pe+"(?:"+[Me,Te,Ce].join("|")+")"+Oe+ke+")*",Ne="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Be="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ue=Oe+ke+Fe,ze="(?:"+[xe,Te,Ce].join("|")+")"+Ue,Ve="(?:"+[Me+ye+"?",ye,Te,Ce,ge].join("|")+")",He=RegExp(me,"g"),Ge=RegExp(ye,"g"),We=RegExp(we+"(?="+we+")|"+Ve+Ue,"g"),je=RegExp([Ae+"?"+be+"+"+Ie+"(?="+[ve,Ae,"$"].join("|")+")",De+"+"+Le+"(?="+[ve,Ae+Re,"$"].join("|")+")",Ae+"?"+Re+"+"+Ie,Ae+"+"+Le,Be,Ne,_e,ze].join("|"),"g"),qe=RegExp("["+Pe+ee+ae+de+"]"),$e=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Xe=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ye=-1,Ke={};Ke[dt]=Ke[ft]=Ke[mt]=Ke[gt]=Ke[vt]=Ke[yt]=Ke[_t]=Ke[xt]=Ke[bt]=!0,Ke[G]=Ke[W]=Ke[ht]=Ke[q]=Ke[pt]=Ke[$]=Ke[Y]=Ke[K]=Ke[J]=Ke[Q]=Ke[et]=Ke[it]=Ke[at]=Ke[st]=Ke[ct]=!1;var Ze={};Ze[G]=Ze[W]=Ze[ht]=Ze[pt]=Ze[q]=Ze[$]=Ze[dt]=Ze[ft]=Ze[mt]=Ze[gt]=Ze[vt]=Ze[J]=Ze[Q]=Ze[et]=Ze[it]=Ze[at]=Ze[st]=Ze[ot]=Ze[yt]=Ze[_t]=Ze[xt]=Ze[bt]=!0,Ze[Y]=Ze[K]=Ze[ct]=!1;var Je={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},Qe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},tn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},en={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},nn=parseFloat,rn=parseInt,an="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,sn="object"==typeof self&&self&&self.Object===Object&&self,on=an||sn||Function("return this")(),ln=e&&!e.nodeType&&e,cn=ln&&t&&!t.nodeType&&t,un=cn&&cn.exports===ln,hn=un&&an.process,pn=function(){try{var t=cn&&cn.require&&cn.require("util").types;return t||hn&&hn.binding&&hn.binding("util")}catch(e){}}(),dn=pn&&pn.isArrayBuffer,fn=pn&&pn.isDate,mn=pn&&pn.isMap,gn=pn&&pn.isRegExp,vn=pn&&pn.isSet,yn=pn&&pn.isTypedArray;function _n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function xn(t,e,n,r){var i=-1,a=null==t?0:t.length;while(++i<a){var s=t[i];e(r,s,n(s),t)}return r}function bn(t,e){var n=-1,r=null==t?0:t.length;while(++n<r)if(!1===e(t[n],n,t))break;return t}function Sn(t,e){var n=null==t?0:t.length;while(n--)if(!1===e(t[n],n,t))break;return t}function wn(t,e){var n=-1,r=null==t?0:t.length;while(++n<r)if(!e(t[n],n,t))return!1;return!0}function En(t,e){var n=-1,r=null==t?0:t.length,i=0,a=[];while(++n<r){var s=t[n];e(s,n,t)&&(a[i++]=s)}return a}function Mn(t,e){var n=null==t?0:t.length;return!!n&&Nn(t,e,0)>-1}function Tn(t,e,n){var r=-1,i=null==t?0:t.length;while(++r<i)if(n(e,t[r]))return!0;return!1}function Cn(t,e){var n=-1,r=null==t?0:t.length,i=Array(r);while(++n<r)i[n]=e(t[n],n,t);return i}function An(t,e){var n=-1,r=e.length,i=t.length;while(++n<r)t[i+n]=e[n];return t}function Pn(t,e,n,r){var i=-1,a=null==t?0:t.length;r&&a&&(n=t[++i]);while(++i<a)n=e(n,t[i],i,t);return n}function Rn(t,e,n,r){var i=null==t?0:t.length;r&&i&&(n=t[--i]);while(i--)n=e(n,t[i],i,t);return n}function Dn(t,e){var n=-1,r=null==t?0:t.length;while(++n<r)if(e(t[n],n,t))return!0;return!1}var In=Vn("length");function Ln(t){return t.split("")}function kn(t){return t.match(Ht)||[]}function On(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function Fn(t,e,n,r){var i=t.length,a=n+(r?1:-1);while(r?a--:++a<i)if(e(t[a],a,t))return a;return-1}function Nn(t,e,n){return e===e?dr(t,e,n):Fn(t,Un,n)}function Bn(t,e,n,r){var i=n-1,a=t.length;while(++i<a)if(r(t[i],e))return i;return-1}function Un(t){return t!==t}function zn(t,e){var n=null==t?0:t.length;return n?jn(t,e)/n:B}function Vn(t){return function(e){return null==e?i:e[t]}}function Hn(t){return function(e){return null==t?i:t[e]}}function Gn(t,e,n,r,i){return i(t,(function(t,i,a){n=r?(r=!1,t):e(n,t,i,a)})),n}function Wn(t,e){var n=t.length;t.sort(e);while(n--)t[n]=t[n].value;return t}function jn(t,e){var n,r=-1,a=t.length;while(++r<a){var s=e(t[r]);s!==i&&(n=n===i?s:n+s)}return n}function qn(t,e){var n=-1,r=Array(t);while(++n<t)r[n]=e(n);return r}function $n(t,e){return Cn(e,(function(e){return[e,t[e]]}))}function Xn(t){return t?t.slice(0,vr(t)+1).replace(Nt,""):t}function Yn(t){return function(e){return t(e)}}function Kn(t,e){return Cn(e,(function(e){return t[e]}))}function Zn(t,e){return t.has(e)}function Jn(t,e){var n=-1,r=t.length;while(++n<r&&Nn(e,t[n],0)>-1);return n}function Qn(t,e){var n=t.length;while(n--&&Nn(e,t[n],0)>-1);return n}function tr(t,e){var n=t.length,r=0;while(n--)t[n]===e&&++r;return r}var er=Hn(Je),nr=Hn(Qe);function rr(t){return"\\"+en[t]}function ir(t,e){return null==t?i:t[e]}function ar(t){return qe.test(t)}function sr(t){return $e.test(t)}function or(t){var e,n=[];while(!(e=t.next()).done)n.push(e.value);return n}function lr(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function cr(t,e){return function(n){return t(e(n))}}function ur(t,e){var n=-1,r=t.length,i=0,a=[];while(++n<r){var s=t[n];s!==e&&s!==p||(t[n]=p,a[i++]=n)}return a}function hr(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function pr(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function dr(t,e,n){var r=n-1,i=t.length;while(++r<i)if(t[r]===e)return r;return-1}function fr(t,e,n){var r=n+1;while(r--)if(t[r]===e)return r;return r}function mr(t){return ar(t)?_r(t):In(t)}function gr(t){return ar(t)?xr(t):Ln(t)}function vr(t){var e=t.length;while(e--&&Bt.test(t.charAt(e)));return e}var yr=Hn(tn);function _r(t){var e=We.lastIndex=0;while(We.test(t))++e;return e}function xr(t){return t.match(We)||[]}function br(t){return t.match(je)||[]}var Sr=function t(e){e=null==e?on:wr.defaults(on.Object(),e,wr.pick(on,Xe));var n=e.Array,r=e.Date,Bt=e.Error,Ht=e.Function,ee=e.Math,ne=e.Object,re=e.RegExp,ie=e.String,ae=e.TypeError,se=n.prototype,oe=Ht.prototype,le=ne.prototype,ce=e["__core-js_shared__"],ue=oe.toString,he=le.hasOwnProperty,pe=0,de=function(){var t=/[^.]+$/.exec(ce&&ce.keys&&ce.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),fe=le.toString,me=ue.call(ne),ge=on._,ve=re("^"+ue.call(he).replace(Ot,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ye=un?e.Buffer:i,_e=e.Symbol,xe=e.Uint8Array,be=ye?ye.allocUnsafe:i,Se=cr(ne.getPrototypeOf,ne),we=ne.create,Ee=le.propertyIsEnumerable,Me=se.splice,Te=_e?_e.isConcatSpreadable:i,Ce=_e?_e.iterator:i,Ae=_e?_e.toStringTag:i,Pe=function(){try{var t=qs(ne,"defineProperty");return t({},"",{}),t}catch(e){}}(),Re=e.clearTimeout!==on.clearTimeout&&e.clearTimeout,De=r&&r.now!==on.Date.now&&r.now,Ie=e.setTimeout!==on.setTimeout&&e.setTimeout,Le=ee.ceil,ke=ee.floor,Oe=ne.getOwnPropertySymbols,Fe=ye?ye.isBuffer:i,Ne=e.isFinite,Be=se.join,Ue=cr(ne.keys,ne),ze=ee.max,Ve=ee.min,We=r.now,je=e.parseInt,qe=ee.random,$e=se.reverse,Je=qs(e,"DataView"),Qe=qs(e,"Map"),tn=qs(e,"Promise"),en=qs(e,"Set"),an=qs(e,"WeakMap"),sn=qs(ne,"create"),ln=an&&new an,cn={},hn=Io(Je),pn=Io(Qe),In=Io(tn),Ln=Io(en),Hn=Io(an),dr=_e?_e.prototype:i,_r=dr?dr.valueOf:i,xr=dr?dr.toString:i;function Sr(t){if(Mu(t)&&!lu(t)&&!(t instanceof Cr)){if(t instanceof Tr)return t;if(he.call(t,"__wrapped__"))return ko(t)}return new Tr(t)}var Er=function(){function t(){}return function(e){if(!Eu(e))return{};if(we)return we(e);t.prototype=e;var n=new t;return t.prototype=i,n}}();function Mr(){}function Tr(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=i}function Cr(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=U,this.__views__=[]}function Ar(){var t=new Cr(this.__wrapped__);return t.__actions__=rs(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=rs(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=rs(this.__views__),t}function Pr(){if(this.__filtered__){var t=new Cr(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Rr(){var t=this.__wrapped__.value(),e=this.__dir__,n=lu(t),r=e<0,i=n?t.length:0,a=Zs(0,i,this.__views__),s=a.start,o=a.end,l=o-s,c=r?o:s-1,u=this.__iteratees__,h=u.length,p=0,d=Ve(l,this.__takeCount__);if(!n||!r&&i==l&&d==l)return Ba(t,this.__actions__);var f=[];t:while(l--&&p<d){c+=e;var m=-1,g=t[c];while(++m<h){var v=u[m],y=v.iteratee,_=v.type,x=y(g);if(_==L)g=x;else if(!x){if(_==I)continue t;break t}}f[p++]=g}return f}function Dr(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}function Ir(){this.__data__=sn?sn(null):{},this.size=0}function Lr(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function kr(t){var e=this.__data__;if(sn){var n=e[t];return n===u?i:n}return he.call(e,t)?e[t]:i}function Or(t){var e=this.__data__;return sn?e[t]!==i:he.call(e,t)}function Fr(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=sn&&e===i?u:e,this}function Nr(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}function Br(){this.__data__=[],this.size=0}function Ur(t){var e=this.__data__,n=ui(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Me.call(e,n,1),--this.size,!0}function zr(t){var e=this.__data__,n=ui(e,t);return n<0?i:e[n][1]}function Vr(t){return ui(this.__data__,t)>-1}function Hr(t,e){var n=this.__data__,r=ui(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Gr(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}function Wr(){this.size=0,this.__data__={hash:new Dr,map:new(Qe||Nr),string:new Dr}}function jr(t){var e=Ws(this,t)["delete"](t);return this.size-=e?1:0,e}function qr(t){return Ws(this,t).get(t)}function $r(t){return Ws(this,t).has(t)}function Xr(t,e){var n=Ws(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Yr(t){var e=-1,n=null==t?0:t.length;this.__data__=new Gr;while(++e<n)this.add(t[e])}function Kr(t){return this.__data__.set(t,u),this}function Zr(t){return this.__data__.has(t)}function Jr(t){var e=this.__data__=new Nr(t);this.size=e.size}function Qr(){this.__data__=new Nr,this.size=0}function ti(t){var e=this.__data__,n=e["delete"](t);return this.size=e.size,n}function ei(t){return this.__data__.get(t)}function ni(t){return this.__data__.has(t)}function ri(t,e){var n=this.__data__;if(n instanceof Nr){var r=n.__data__;if(!Qe||r.length<s-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Gr(r)}return n.set(t,e),this.size=n.size,this}function ii(t,e){var n=lu(t),r=!n&&ou(t),i=!n&&!r&&du(t),a=!n&&!r&&!i&&zu(t),s=n||r||i||a,o=s?qn(t.length,ie):[],l=o.length;for(var c in t)!e&&!he.call(t,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ao(c,l))||o.push(c);return o}function ai(t){var e=t.length;return e?t[va(0,e-1)]:i}function si(t,e){return Po(rs(t),gi(e,0,t.length))}function oi(t){return Po(rs(t))}function li(t,e,n){(n!==i&&!iu(t[e],n)||n===i&&!(e in t))&&fi(t,e,n)}function ci(t,e,n){var r=t[e];he.call(t,e)&&iu(r,n)&&(n!==i||e in t)||fi(t,e,n)}function ui(t,e){var n=t.length;while(n--)if(iu(t[n][0],e))return n;return-1}function hi(t,e,n,r){return Si(t,(function(t,i,a){e(r,t,n(t),a)})),r}function pi(t,e){return t&&is(e,Sh(e),t)}function di(t,e){return t&&is(e,wh(e),t)}function fi(t,e,n){"__proto__"==e&&Pe?Pe(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function mi(t,e){var r=-1,a=e.length,s=n(a),o=null==t;while(++r<a)s[r]=o?i:gh(t,e[r]);return s}function gi(t,e,n){return t===t&&(n!==i&&(t=t<=n?t:n),e!==i&&(t=t>=e?t:e)),t}function vi(t,e,n,r,a,s){var o,l=e&d,c=e&f,u=e&m;if(n&&(o=a?n(t,r,a,s):n(t)),o!==i)return o;if(!Eu(t))return t;var h=lu(t);if(h){if(o=to(t),!l)return rs(t,o)}else{var p=Ks(t),g=p==K||p==Z;if(du(t))return $a(t,l);if(p==et||p==G||g&&!a){if(o=c||g?{}:eo(t),!l)return c?ss(t,di(o,t)):as(t,pi(o,t))}else{if(!Ze[p])return a?t:{};o=no(t,p,l)}}s||(s=new Jr);var v=s.get(t);if(v)return v;s.set(t,o),Nu(t)?t.forEach((function(r){o.add(vi(r,e,n,r,t,s))})):Tu(t)&&t.forEach((function(r,i){o.set(i,vi(r,e,n,i,t,s))}));var y=u?c?Us:Bs:c?wh:Sh,_=h?i:y(t);return bn(_||t,(function(r,i){_&&(i=r,r=t[i]),ci(o,i,vi(r,e,n,i,t,s))})),o}function yi(t){var e=Sh(t);return function(n){return _i(n,t,e)}}function _i(t,e,n){var r=n.length;if(null==t)return!r;t=ne(t);while(r--){var a=n[r],s=e[a],o=t[a];if(o===i&&!(a in t)||!s(o))return!1}return!0}function xi(t,e,n){if("function"!=typeof t)throw new ae(l);return Mo((function(){t.apply(i,n)}),e)}function bi(t,e,n,r){var i=-1,a=Mn,o=!0,l=t.length,c=[],u=e.length;if(!l)return c;n&&(e=Cn(e,Yn(n))),r?(a=Tn,o=!1):e.length>=s&&(a=Zn,o=!1,e=new Yr(e));t:while(++i<l){var h=t[i],p=null==n?h:n(h);if(h=r||0!==h?h:0,o&&p===p){var d=u;while(d--)if(e[d]===p)continue t;c.push(h)}else a(e,p,r)||c.push(h)}return c}Sr.templateSettings={escape:Pt,evaluate:Rt,interpolate:Dt,variable:"",imports:{_:Sr}},Sr.prototype=Mr.prototype,Sr.prototype.constructor=Sr,Tr.prototype=Er(Mr.prototype),Tr.prototype.constructor=Tr,Cr.prototype=Er(Mr.prototype),Cr.prototype.constructor=Cr,Dr.prototype.clear=Ir,Dr.prototype["delete"]=Lr,Dr.prototype.get=kr,Dr.prototype.has=Or,Dr.prototype.set=Fr,Nr.prototype.clear=Br,Nr.prototype["delete"]=Ur,Nr.prototype.get=zr,Nr.prototype.has=Vr,Nr.prototype.set=Hr,Gr.prototype.clear=Wr,Gr.prototype["delete"]=jr,Gr.prototype.get=qr,Gr.prototype.has=$r,Gr.prototype.set=Xr,Yr.prototype.add=Yr.prototype.push=Kr,Yr.prototype.has=Zr,Jr.prototype.clear=Qr,Jr.prototype["delete"]=ti,Jr.prototype.get=ei,Jr.prototype.has=ni,Jr.prototype.set=ri;var Si=cs(Di),wi=cs(Ii,!0);function Ei(t,e){var n=!0;return Si(t,(function(t,r,i){return n=!!e(t,r,i),n})),n}function Mi(t,e,n){var r=-1,a=t.length;while(++r<a){var s=t[r],o=e(s);if(null!=o&&(l===i?o===o&&!Uu(o):n(o,l)))var l=o,c=s}return c}function Ti(t,e,n,r){var a=t.length;n=Xu(n),n<0&&(n=-n>a?0:a+n),r=r===i||r>a?a:Xu(r),r<0&&(r+=a),r=n>r?0:Yu(r);while(n<r)t[n++]=e;return t}function Ci(t,e){var n=[];return Si(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function Ai(t,e,n,r,i){var a=-1,s=t.length;n||(n=io),i||(i=[]);while(++a<s){var o=t[a];e>0&&n(o)?e>1?Ai(o,e-1,n,r,i):An(i,o):r||(i[i.length]=o)}return i}var Pi=us(),Ri=us(!0);function Di(t,e){return t&&Pi(t,e,Sh)}function Ii(t,e){return t&&Ri(t,e,Sh)}function Li(t,e){return En(e,(function(e){return bu(t[e])}))}function ki(t,e){e=Ga(e,t);var n=0,r=e.length;while(null!=t&&n<r)t=t[Do(e[n++])];return n&&n==r?t:i}function Oi(t,e,n){var r=e(t);return lu(t)?r:An(r,n(t))}function Fi(t){return null==t?t===i?lt:tt:Ae&&Ae in ne(t)?$s(t):_o(t)}function Ni(t,e){return t>e}function Bi(t,e){return null!=t&&he.call(t,e)}function Ui(t,e){return null!=t&&e in ne(t)}function zi(t,e,n){return t>=Ve(e,n)&&t<ze(e,n)}function Vi(t,e,r){var a=r?Tn:Mn,s=t[0].length,o=t.length,l=o,c=n(o),u=1/0,h=[];while(l--){var p=t[l];l&&e&&(p=Cn(p,Yn(e))),u=Ve(p.length,u),c[l]=!r&&(e||s>=120&&p.length>=120)?new Yr(l&&p):i}p=t[0];var d=-1,f=c[0];t:while(++d<s&&h.length<u){var m=p[d],g=e?e(m):m;if(m=r||0!==m?m:0,!(f?Zn(f,g):a(h,g,r))){l=o;while(--l){var v=c[l];if(!(v?Zn(v,g):a(t[l],g,r)))continue t}f&&f.push(g),h.push(m)}}return h}function Hi(t,e,n,r){return Di(t,(function(t,i,a){e(r,n(t),i,a)})),r}function Gi(t,e,n){e=Ga(e,t),t=bo(t,e);var r=null==t?t:t[Do(al(e))];return null==r?i:_n(r,t,n)}function Wi(t){return Mu(t)&&Fi(t)==G}function ji(t){return Mu(t)&&Fi(t)==ht}function qi(t){return Mu(t)&&Fi(t)==$}function $i(t,e,n,r,i){return t===e||(null==t||null==e||!Mu(t)&&!Mu(e)?t!==t&&e!==e:Xi(t,e,n,r,$i,i))}function Xi(t,e,n,r,i,a){var s=lu(t),o=lu(e),l=s?W:Ks(t),c=o?W:Ks(e);l=l==G?et:l,c=c==G?et:c;var u=l==et,h=c==et,p=l==c;if(p&&du(t)){if(!du(e))return!1;s=!0,u=!1}if(p&&!u)return a||(a=new Jr),s||zu(t)?ks(t,e,n,r,i,a):Os(t,e,l,n,r,i,a);if(!(n&g)){var d=u&&he.call(t,"__wrapped__"),f=h&&he.call(e,"__wrapped__");if(d||f){var m=d?t.value():t,v=f?e.value():e;return a||(a=new Jr),i(m,v,n,r,a)}}return!!p&&(a||(a=new Jr),Fs(t,e,n,r,i,a))}function Yi(t){return Mu(t)&&Ks(t)==J}function Ki(t,e,n,r){var a=n.length,s=a,o=!r;if(null==t)return!s;t=ne(t);while(a--){var l=n[a];if(o&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}while(++a<s){l=n[a];var c=l[0],u=t[c],h=l[1];if(o&&l[2]){if(u===i&&!(c in t))return!1}else{var p=new Jr;if(r)var d=r(u,h,c,t,e,p);if(!(d===i?$i(h,u,g|v,r,p):d))return!1}}return!0}function Zi(t){if(!Eu(t)||uo(t))return!1;var e=bu(t)?ve:Yt;return e.test(Io(t))}function Ji(t){return Mu(t)&&Fi(t)==it}function Qi(t){return Mu(t)&&Ks(t)==at}function ta(t){return Mu(t)&&wu(t.length)&&!!Ke[Fi(t)]}function ea(t){return"function"==typeof t?t:null==t?Rp:"object"==typeof t?lu(t)?oa(t[0],t[1]):sa(t):Gp(t)}function na(t){if(!po(t))return Ue(t);var e=[];for(var n in ne(t))he.call(t,n)&&"constructor"!=n&&e.push(n);return e}function ra(t){if(!Eu(t))return yo(t);var e=po(t),n=[];for(var r in t)("constructor"!=r||!e&&he.call(t,r))&&n.push(r);return n}function ia(t,e){return t<e}function aa(t,e){var r=-1,i=uu(t)?n(t.length):[];return Si(t,(function(t,n,a){i[++r]=e(t,n,a)})),i}function sa(t){var e=js(t);return 1==e.length&&e[0][2]?mo(e[0][0],e[0][1]):function(n){return n===t||Ki(n,t,e)}}function oa(t,e){return oo(t)&&fo(e)?mo(Do(t),e):function(n){var r=gh(n,t);return r===i&&r===e?yh(n,t):$i(e,r,g|v)}}function la(t,e,n,r,a){t!==e&&Pi(e,(function(s,o){if(a||(a=new Jr),Eu(s))ca(t,e,o,n,la,r,a);else{var l=r?r(wo(t,o),s,o+"",t,e,a):i;l===i&&(l=s),li(t,o,l)}}),wh)}function ca(t,e,n,r,a,s,o){var l=wo(t,n),c=wo(e,n),u=o.get(c);if(u)li(t,n,u);else{var h=s?s(l,c,n+"",t,e,o):i,p=h===i;if(p){var d=lu(c),f=!d&&du(c),m=!d&&!f&&zu(c);h=c,d||f||m?lu(l)?h=l:hu(l)?h=rs(l):f?(p=!1,h=$a(c,!0)):m?(p=!1,h=Ja(c,!0)):h=[]:ku(c)||ou(c)?(h=l,ou(l)?h=Zu(l):Eu(l)&&!bu(l)||(h=eo(c))):p=!1}p&&(o.set(c,h),a(h,c,r,s,o),o["delete"](c)),li(t,n,h)}}function ua(t,e){var n=t.length;if(n)return e+=e<0?n:0,ao(e,n)?t[e]:i}function ha(t,e,n){e=e.length?Cn(e,(function(t){return lu(t)?function(e){return ki(e,1===t.length?t[0]:t)}:t})):[Rp];var r=-1;e=Cn(e,Yn(Gs()));var i=aa(t,(function(t,n,i){var a=Cn(e,(function(e){return e(t)}));return{criteria:a,index:++r,value:t}}));return Wn(i,(function(t,e){return ts(t,e,n)}))}function pa(t,e){return da(t,e,(function(e,n){return yh(t,n)}))}function da(t,e,n){var r=-1,i=e.length,a={};while(++r<i){var s=e[r],o=ki(t,s);n(o,s)&&wa(a,Ga(s,t),o)}return a}function fa(t){return function(e){return ki(e,t)}}function ma(t,e,n,r){var i=r?Bn:Nn,a=-1,s=e.length,o=t;t===e&&(e=rs(e)),n&&(o=Cn(t,Yn(n)));while(++a<s){var l=0,c=e[a],u=n?n(c):c;while((l=i(o,u,l,r))>-1)o!==t&&Me.call(o,l,1),Me.call(t,l,1)}return t}function ga(t,e){var n=t?e.length:0,r=n-1;while(n--){var i=e[n];if(n==r||i!==a){var a=i;ao(i)?Me.call(t,i,1):Oa(t,i)}}return t}function va(t,e){return t+ke(qe()*(e-t+1))}function ya(t,e,r,i){var a=-1,s=ze(Le((e-t)/(r||1)),0),o=n(s);while(s--)o[i?s:++a]=t,t+=r;return o}function _a(t,e){var n="";if(!t||e<1||e>F)return n;do{e%2&&(n+=t),e=ke(e/2),e&&(t+=t)}while(e);return n}function xa(t,e){return To(xo(t,e,Rp),t+"")}function ba(t){return ai(Vh(t))}function Sa(t,e){var n=Vh(t);return Po(n,gi(e,0,n.length))}function wa(t,e,n,r){if(!Eu(t))return t;e=Ga(e,t);var a=-1,s=e.length,o=s-1,l=t;while(null!=l&&++a<s){var c=Do(e[a]),u=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(a!=o){var h=l[c];u=r?r(h,c,l):i,u===i&&(u=Eu(h)?h:ao(e[a+1])?[]:{})}ci(l,c,u),l=l[c]}return t}var Ea=ln?function(t,e){return ln.set(t,e),t}:Rp,Ma=Pe?function(t,e){return Pe(t,"toString",{configurable:!0,enumerable:!1,value:Tp(e),writable:!0})}:Rp;function Ta(t){return Po(Vh(t))}function Ca(t,e,r){var i=-1,a=t.length;e<0&&(e=-e>a?0:a+e),r=r>a?a:r,r<0&&(r+=a),a=e>r?0:r-e>>>0,e>>>=0;var s=n(a);while(++i<a)s[i]=t[i+e];return s}function Aa(t,e){var n;return Si(t,(function(t,r,i){return n=e(t,r,i),!n})),!!n}function Pa(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e===e&&i<=V){while(r<i){var a=r+i>>>1,s=t[a];null!==s&&!Uu(s)&&(n?s<=e:s<e)?r=a+1:i=a}return i}return Ra(t,e,Rp,n)}function Ra(t,e,n,r){var a=0,s=null==t?0:t.length;if(0===s)return 0;e=n(e);var o=e!==e,l=null===e,c=Uu(e),u=e===i;while(a<s){var h=ke((a+s)/2),p=n(t[h]),d=p!==i,f=null===p,m=p===p,g=Uu(p);if(o)var v=r||m;else v=u?m&&(r||d):l?m&&d&&(r||!f):c?m&&d&&!f&&(r||!g):!f&&!g&&(r?p<=e:p<e);v?a=h+1:s=h}return Ve(s,z)}function Da(t,e){var n=-1,r=t.length,i=0,a=[];while(++n<r){var s=t[n],o=e?e(s):s;if(!n||!iu(o,l)){var l=o;a[i++]=0===s?0:s}}return a}function Ia(t){return"number"==typeof t?t:Uu(t)?B:+t}function La(t){if("string"==typeof t)return t;if(lu(t))return Cn(t,La)+"";if(Uu(t))return xr?xr.call(t):"";var e=t+"";return"0"==e&&1/t==-O?"-0":e}function ka(t,e,n){var r=-1,i=Mn,a=t.length,o=!0,l=[],c=l;if(n)o=!1,i=Tn;else if(a>=s){var u=e?null:As(t);if(u)return hr(u);o=!1,i=Zn,c=new Yr}else c=e?[]:l;t:while(++r<a){var h=t[r],p=e?e(h):h;if(h=n||0!==h?h:0,o&&p===p){var d=c.length;while(d--)if(c[d]===p)continue t;e&&c.push(p),l.push(h)}else i(c,p,n)||(c!==l&&c.push(p),l.push(h))}return l}function Oa(t,e){return e=Ga(e,t),t=bo(t,e),null==t||delete t[Do(al(e))]}function Fa(t,e,n,r){return wa(t,e,n(ki(t,e)),r)}function Na(t,e,n,r){var i=t.length,a=r?i:-1;while((r?a--:++a<i)&&e(t[a],a,t));return n?Ca(t,r?0:a,r?a+1:i):Ca(t,r?a+1:0,r?i:a)}function Ba(t,e){var n=t;return n instanceof Cr&&(n=n.value()),Pn(e,(function(t,e){return e.func.apply(e.thisArg,An([t],e.args))}),n)}function Ua(t,e,r){var i=t.length;if(i<2)return i?ka(t[0]):[];var a=-1,s=n(i);while(++a<i){var o=t[a],l=-1;while(++l<i)l!=a&&(s[a]=bi(s[a]||o,t[l],e,r))}return ka(Ai(s,1),e,r)}function za(t,e,n){var r=-1,a=t.length,s=e.length,o={};while(++r<a){var l=r<s?e[r]:i;n(o,t[r],l)}return o}function Va(t){return hu(t)?t:[]}function Ha(t){return"function"==typeof t?t:Rp}function Ga(t,e){return lu(t)?t:oo(t,e)?[t]:Ro(Qu(t))}var Wa=xa;function ja(t,e,n){var r=t.length;return n=n===i?r:n,!e&&n>=r?t:Ca(t,e,n)}var qa=Re||function(t){return on.clearTimeout(t)};function $a(t,e){if(e)return t.slice();var n=t.length,r=be?be(n):new t.constructor(n);return t.copy(r),r}function Xa(t){var e=new t.constructor(t.byteLength);return new xe(e).set(new xe(t)),e}function Ya(t,e){var n=e?Xa(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Ka(t){var e=new t.constructor(t.source,qt.exec(t));return e.lastIndex=t.lastIndex,e}function Za(t){return _r?ne(_r.call(t)):{}}function Ja(t,e){var n=e?Xa(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Qa(t,e){if(t!==e){var n=t!==i,r=null===t,a=t===t,s=Uu(t),o=e!==i,l=null===e,c=e===e,u=Uu(e);if(!l&&!u&&!s&&t>e||s&&o&&c&&!l&&!u||r&&o&&c||!n&&c||!a)return 1;if(!r&&!s&&!u&&t<e||u&&n&&a&&!r&&!s||l&&n&&a||!o&&a||!c)return-1}return 0}function ts(t,e,n){var r=-1,i=t.criteria,a=e.criteria,s=i.length,o=n.length;while(++r<s){var l=Qa(i[r],a[r]);if(l){if(r>=o)return l;var c=n[r];return l*("desc"==c?-1:1)}}return t.index-e.index}function es(t,e,r,i){var a=-1,s=t.length,o=r.length,l=-1,c=e.length,u=ze(s-o,0),h=n(c+u),p=!i;while(++l<c)h[l]=e[l];while(++a<o)(p||a<s)&&(h[r[a]]=t[a]);while(u--)h[l++]=t[a++];return h}function ns(t,e,r,i){var a=-1,s=t.length,o=-1,l=r.length,c=-1,u=e.length,h=ze(s-l,0),p=n(h+u),d=!i;while(++a<h)p[a]=t[a];var f=a;while(++c<u)p[f+c]=e[c];while(++o<l)(d||a<s)&&(p[f+r[o]]=t[a++]);return p}function rs(t,e){var r=-1,i=t.length;e||(e=n(i));while(++r<i)e[r]=t[r];return e}function is(t,e,n,r){var a=!n;n||(n={});var s=-1,o=e.length;while(++s<o){var l=e[s],c=r?r(n[l],t[l],l,n,t):i;c===i&&(c=t[l]),a?fi(n,l,c):ci(n,l,c)}return n}function as(t,e){return is(t,Xs(t),e)}function ss(t,e){return is(t,Ys(t),e)}function os(t,e){return function(n,r){var i=lu(n)?xn:hi,a=e?e():{};return i(n,t,Gs(r,2),a)}}function ls(t){return xa((function(e,n){var r=-1,a=n.length,s=a>1?n[a-1]:i,o=a>2?n[2]:i;s=t.length>3&&"function"==typeof s?(a--,s):i,o&&so(n[0],n[1],o)&&(s=a<3?i:s,a=1),e=ne(e);while(++r<a){var l=n[r];l&&t(e,l,r,s)}return e}))}function cs(t,e){return function(n,r){if(null==n)return n;if(!uu(n))return t(n,r);var i=n.length,a=e?i:-1,s=ne(n);while(e?a--:++a<i)if(!1===r(s[a],a,s))break;return n}}function us(t){return function(e,n,r){var i=-1,a=ne(e),s=r(e),o=s.length;while(o--){var l=s[t?o:++i];if(!1===n(a[l],l,a))break}return e}}function hs(t,e,n){var r=e&y,i=fs(t);function a(){var e=this&&this!==on&&this instanceof a?i:t;return e.apply(r?n:this,arguments)}return a}function ps(t){return function(e){e=Qu(e);var n=ar(e)?gr(e):i,r=n?n[0]:e.charAt(0),a=n?ja(n,1).join(""):e.slice(1);return r[t]()+a}}function ds(t){return function(e){return Pn(bp(Xh(e).replace(He,"")),t,"")}}function fs(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Er(t.prototype),r=t.apply(n,e);return Eu(r)?r:n}}function ms(t,e,r){var a=fs(t);function s(){var o=arguments.length,l=n(o),c=o,u=Hs(s);while(c--)l[c]=arguments[c];var h=o<3&&l[0]!==u&&l[o-1]!==u?[]:ur(l,u);if(o-=h.length,o<r)return Ts(t,e,ys,s.placeholder,i,l,h,i,i,r-o);var p=this&&this!==on&&this instanceof s?a:t;return _n(p,this,l)}return s}function gs(t){return function(e,n,r){var a=ne(e);if(!uu(e)){var s=Gs(n,3);e=Sh(e),n=function(t){return s(a[t],t,a)}}var o=t(e,n,r);return o>-1?a[s?e[o]:o]:i}}function vs(t){return Ns((function(e){var n=e.length,r=n,a=Tr.prototype.thru;t&&e.reverse();while(r--){var s=e[r];if("function"!=typeof s)throw new ae(l);if(a&&!o&&"wrapper"==Vs(s))var o=new Tr([],!0)}r=o?r:n;while(++r<n){s=e[r];var c=Vs(s),u="wrapper"==c?zs(s):i;o=u&&co(u[0])&&u[1]==(M|b|w|T)&&!u[4].length&&1==u[9]?o[Vs(u[0])].apply(o,u[3]):1==s.length&&co(s)?o[c]():o.thru(s)}return function(){var t=arguments,r=t[0];if(o&&1==t.length&&lu(r))return o.plant(r).value();var i=0,a=n?e[i].apply(this,t):r;while(++i<n)a=e[i].call(this,a);return a}}))}function ys(t,e,r,a,s,o,l,c,u,h){var p=e&M,d=e&y,f=e&_,m=e&(b|S),g=e&C,v=f?i:fs(t);function x(){var i=arguments.length,y=n(i),_=i;while(_--)y[_]=arguments[_];if(m)var b=Hs(x),S=tr(y,b);if(a&&(y=es(y,a,s,m)),o&&(y=ns(y,o,l,m)),i-=S,m&&i<h){var w=ur(y,b);return Ts(t,e,ys,x.placeholder,r,y,w,c,u,h-i)}var E=d?r:this,M=f?E[t]:t;return i=y.length,c?y=So(y,c):g&&i>1&&y.reverse(),p&&u<i&&(y.length=u),this&&this!==on&&this instanceof x&&(M=v||fs(M)),M.apply(E,y)}return x}function _s(t,e){return function(n,r){return Hi(n,t,e(r),{})}}function xs(t,e){return function(n,r){var a;if(n===i&&r===i)return e;if(n!==i&&(a=n),r!==i){if(a===i)return r;"string"==typeof n||"string"==typeof r?(n=La(n),r=La(r)):(n=Ia(n),r=Ia(r)),a=t(n,r)}return a}}function bs(t){return Ns((function(e){return e=Cn(e,Yn(Gs())),xa((function(n){var r=this;return t(e,(function(t){return _n(t,r,n)}))}))}))}function Ss(t,e){e=e===i?" ":La(e);var n=e.length;if(n<2)return n?_a(e,t):e;var r=_a(e,Le(t/mr(e)));return ar(e)?ja(gr(r),0,t).join(""):r.slice(0,t)}function ws(t,e,r,i){var a=e&y,s=fs(t);function o(){var e=-1,l=arguments.length,c=-1,u=i.length,h=n(u+l),p=this&&this!==on&&this instanceof o?s:t;while(++c<u)h[c]=i[c];while(l--)h[c++]=arguments[++e];return _n(p,a?r:this,h)}return o}function Es(t){return function(e,n,r){return r&&"number"!=typeof r&&so(e,n,r)&&(n=r=i),e=$u(e),n===i?(n=e,e=0):n=$u(n),r=r===i?e<n?1:-1:$u(r),ya(e,n,r,t)}}function Ms(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Ku(e),n=Ku(n)),t(e,n)}}function Ts(t,e,n,r,a,s,o,l,c,u){var h=e&b,p=h?o:i,d=h?i:o,f=h?s:i,m=h?i:s;e|=h?w:E,e&=~(h?E:w),e&x||(e&=~(y|_));var g=[t,e,a,f,p,m,d,l,c,u],v=n.apply(i,g);return co(t)&&Eo(v,g),v.placeholder=r,Co(v,t,e)}function Cs(t){var e=ee[t];return function(t,n){if(t=Ku(t),n=null==n?0:Ve(Xu(n),292),n&&Ne(t)){var r=(Qu(t)+"e").split("e"),i=e(r[0]+"e"+(+r[1]+n));return r=(Qu(i)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return e(t)}}var As=en&&1/hr(new en([,-0]))[1]==O?function(t){return new en(t)}:Bp;function Ps(t){return function(e){var n=Ks(e);return n==J?lr(e):n==at?pr(e):$n(e,t(e))}}function Rs(t,e,n,r,a,s,o,c){var u=e&_;if(!u&&"function"!=typeof t)throw new ae(l);var h=r?r.length:0;if(h||(e&=~(w|E),r=a=i),o=o===i?o:ze(Xu(o),0),c=c===i?c:Xu(c),h-=a?a.length:0,e&E){var p=r,d=a;r=a=i}var f=u?i:zs(t),m=[t,e,n,r,a,p,d,s,o,c];if(f&&vo(m,f),t=m[0],e=m[1],n=m[2],r=m[3],a=m[4],c=m[9]=m[9]===i?u?0:t.length:ze(m[9]-h,0),!c&&e&(b|S)&&(e&=~(b|S)),e&&e!=y)g=e==b||e==S?ms(t,e,c):e!=w&&e!=(y|w)||a.length?ys.apply(i,m):ws(t,e,n,r);else var g=hs(t,e,n);var v=f?Ea:Eo;return Co(v(g,m),t,e)}function Ds(t,e,n,r){return t===i||iu(t,le[n])&&!he.call(r,n)?e:t}function Is(t,e,n,r,a,s){return Eu(t)&&Eu(e)&&(s.set(e,t),la(t,e,i,Is,s),s["delete"](e)),t}function Ls(t){return ku(t)?i:t}function ks(t,e,n,r,a,s){var o=n&g,l=t.length,c=e.length;if(l!=c&&!(o&&c>l))return!1;var u=s.get(t),h=s.get(e);if(u&&h)return u==e&&h==t;var p=-1,d=!0,f=n&v?new Yr:i;s.set(t,e),s.set(e,t);while(++p<l){var m=t[p],y=e[p];if(r)var _=o?r(y,m,p,e,t,s):r(m,y,p,t,e,s);if(_!==i){if(_)continue;d=!1;break}if(f){if(!Dn(e,(function(t,e){if(!Zn(f,e)&&(m===t||a(m,t,n,r,s)))return f.push(e)}))){d=!1;break}}else if(m!==y&&!a(m,y,n,r,s)){d=!1;break}}return s["delete"](t),s["delete"](e),d}function Os(t,e,n,r,i,a,s){switch(n){case pt:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ht:return!(t.byteLength!=e.byteLength||!a(new xe(t),new xe(e)));case q:case $:case Q:return iu(+t,+e);case Y:return t.name==e.name&&t.message==e.message;case it:case st:return t==e+"";case J:var o=lr;case at:var l=r&g;if(o||(o=hr),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=v,s.set(t,e);var u=ks(o(t),o(e),r,i,a,s);return s["delete"](t),u;case ot:if(_r)return _r.call(t)==_r.call(e)}return!1}function Fs(t,e,n,r,a,s){var o=n&g,l=Bs(t),c=l.length,u=Bs(e),h=u.length;if(c!=h&&!o)return!1;var p=c;while(p--){var d=l[p];if(!(o?d in e:he.call(e,d)))return!1}var f=s.get(t),m=s.get(e);if(f&&m)return f==e&&m==t;var v=!0;s.set(t,e),s.set(e,t);var y=o;while(++p<c){d=l[p];var _=t[d],x=e[d];if(r)var b=o?r(x,_,d,e,t,s):r(_,x,d,t,e,s);if(!(b===i?_===x||a(_,x,n,r,s):b)){v=!1;break}y||(y="constructor"==d)}if(v&&!y){var S=t.constructor,w=e.constructor;S==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof S&&S instanceof S&&"function"==typeof w&&w instanceof w||(v=!1)}return s["delete"](t),s["delete"](e),v}function Ns(t){return To(xo(t,i,Xo),t+"")}function Bs(t){return Oi(t,Sh,Xs)}function Us(t){return Oi(t,wh,Ys)}var zs=ln?function(t){return ln.get(t)}:Bp;function Vs(t){var e=t.name+"",n=cn[e],r=he.call(cn,e)?n.length:0;while(r--){var i=n[r],a=i.func;if(null==a||a==t)return i.name}return e}function Hs(t){var e=he.call(Sr,"placeholder")?Sr:t;return e.placeholder}function Gs(){var t=Sr.iteratee||Dp;return t=t===Dp?ea:t,arguments.length?t(arguments[0],arguments[1]):t}function Ws(t,e){var n=t.__data__;return lo(e)?n["string"==typeof e?"string":"hash"]:n.map}function js(t){var e=Sh(t),n=e.length;while(n--){var r=e[n],i=t[r];e[n]=[r,i,fo(i)]}return e}function qs(t,e){var n=ir(t,e);return Zi(n)?n:i}function $s(t){var e=he.call(t,Ae),n=t[Ae];try{t[Ae]=i;var r=!0}catch(s){}var a=fe.call(t);return r&&(e?t[Ae]=n:delete t[Ae]),a}var Xs=Oe?function(t){return null==t?[]:(t=ne(t),En(Oe(t),(function(e){return Ee.call(t,e)})))}:$p,Ys=Oe?function(t){var e=[];while(t)An(e,Xs(t)),t=Se(t);return e}:$p,Ks=Fi;function Zs(t,e,n){var r=-1,i=n.length;while(++r<i){var a=n[r],s=a.size;switch(a.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=Ve(e,t+s);break;case"takeRight":t=ze(t,e-s);break}}return{start:t,end:e}}function Js(t){var e=t.match(zt);return e?e[1].split(Vt):[]}function Qs(t,e,n){e=Ga(e,t);var r=-1,i=e.length,a=!1;while(++r<i){var s=Do(e[r]);if(!(a=null!=t&&n(t,s)))break;t=t[s]}return a||++r!=i?a:(i=null==t?0:t.length,!!i&&wu(i)&&ao(s,i)&&(lu(t)||ou(t)))}function to(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&he.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function eo(t){return"function"!=typeof t.constructor||po(t)?{}:Er(Se(t))}function no(t,e,n){var r=t.constructor;switch(e){case ht:return Xa(t);case q:case $:return new r(+t);case pt:return Ya(t,n);case dt:case ft:case mt:case gt:case vt:case yt:case _t:case xt:case bt:return Ja(t,n);case J:return new r;case Q:case st:return new r(t);case it:return Ka(t);case at:return new r;case ot:return Za(t)}}function ro(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Ut,"{\n/* [wrapped with "+e+"] */\n")}function io(t){return lu(t)||ou(t)||!!(Te&&t&&t[Te])}function ao(t,e){var n=typeof t;return e=null==e?F:e,!!e&&("number"==n||"symbol"!=n&&Zt.test(t))&&t>-1&&t%1==0&&t<e}function so(t,e,n){if(!Eu(n))return!1;var r=typeof e;return!!("number"==r?uu(n)&&ao(e,n.length):"string"==r&&e in n)&&iu(n[e],t)}function oo(t,e){if(lu(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Uu(t))||(Lt.test(t)||!It.test(t)||null!=e&&t in ne(e))}function lo(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function co(t){var e=Vs(t),n=Sr[e];if("function"!=typeof n||!(e in Cr.prototype))return!1;if(t===n)return!0;var r=zs(n);return!!r&&t===r[0]}function uo(t){return!!de&&de in t}(Je&&Ks(new Je(new ArrayBuffer(1)))!=pt||Qe&&Ks(new Qe)!=J||tn&&Ks(tn.resolve())!=nt||en&&Ks(new en)!=at||an&&Ks(new an)!=ct)&&(Ks=function(t){var e=Fi(t),n=e==et?t.constructor:i,r=n?Io(n):"";if(r)switch(r){case hn:return pt;case pn:return J;case In:return nt;case Ln:return at;case Hn:return ct}return e});var ho=ce?bu:Xp;function po(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||le;return t===n}function fo(t){return t===t&&!Eu(t)}function mo(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==i||t in ne(n)))}}function go(t){var e=zc(t,(function(t){return n.size===h&&n.clear(),t})),n=e.cache;return e}function vo(t,e){var n=t[1],r=e[1],i=n|r,a=i<(y|_|M),s=r==M&&n==b||r==M&&n==T&&t[7].length<=e[8]||r==(M|T)&&e[7].length<=e[8]&&n==b;if(!a&&!s)return t;r&y&&(t[2]=e[2],i|=n&y?0:x);var o=e[3];if(o){var l=t[3];t[3]=l?es(l,o,e[4]):o,t[4]=l?ur(t[3],p):e[4]}return o=e[5],o&&(l=t[5],t[5]=l?ns(l,o,e[6]):o,t[6]=l?ur(t[5],p):e[6]),o=e[7],o&&(t[7]=o),r&M&&(t[8]=null==t[8]?e[8]:Ve(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function yo(t){var e=[];if(null!=t)for(var n in ne(t))e.push(n);return e}function _o(t){return fe.call(t)}function xo(t,e,r){return e=ze(e===i?t.length-1:e,0),function(){var i=arguments,a=-1,s=ze(i.length-e,0),o=n(s);while(++a<s)o[a]=i[e+a];a=-1;var l=n(e+1);while(++a<e)l[a]=i[a];return l[e]=r(o),_n(t,this,l)}}function bo(t,e){return e.length<2?t:ki(t,Ca(e,0,-1))}function So(t,e){var n=t.length,r=Ve(e.length,n),a=rs(t);while(r--){var s=e[r];t[r]=ao(s,n)?a[s]:i}return t}function wo(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]}var Eo=Ao(Ea),Mo=Ie||function(t,e){return on.setTimeout(t,e)},To=Ao(Ma);function Co(t,e,n){var r=e+"";return To(t,ro(r,Lo(Js(r),n)))}function Ao(t){var e=0,n=0;return function(){var r=We(),a=D-(r-n);if(n=r,a>0){if(++e>=R)return arguments[0]}else e=0;return t.apply(i,arguments)}}function Po(t,e){var n=-1,r=t.length,a=r-1;e=e===i?r:e;while(++n<e){var s=va(n,a),o=t[s];t[s]=t[n],t[n]=o}return t.length=e,t}var Ro=go((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(kt,(function(t,n,r,i){e.push(r?i.replace(Wt,"$1"):n||t)})),e}));function Do(t){if("string"==typeof t||Uu(t))return t;var e=t+"";return"0"==e&&1/t==-O?"-0":e}function Io(t){if(null!=t){try{return ue.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Lo(t,e){return bn(H,(function(n){var r="_."+n[0];e&n[1]&&!Mn(t,r)&&t.push(r)})),t.sort()}function ko(t){if(t instanceof Cr)return t.clone();var e=new Tr(t.__wrapped__,t.__chain__);return e.__actions__=rs(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function Oo(t,e,r){e=(r?so(t,e,r):e===i)?1:ze(Xu(e),0);var a=null==t?0:t.length;if(!a||e<1)return[];var s=0,o=0,l=n(Le(a/e));while(s<a)l[o++]=Ca(t,s,s+=e);return l}function Fo(t){var e=-1,n=null==t?0:t.length,r=0,i=[];while(++e<n){var a=t[e];a&&(i[r++]=a)}return i}function No(){var t=arguments.length;if(!t)return[];var e=n(t-1),r=arguments[0],i=t;while(i--)e[i-1]=arguments[i];return An(lu(r)?rs(r):[r],Ai(e,1))}var Bo=xa((function(t,e){return hu(t)?bi(t,Ai(e,1,hu,!0)):[]})),Uo=xa((function(t,e){var n=al(e);return hu(n)&&(n=i),hu(t)?bi(t,Ai(e,1,hu,!0),Gs(n,2)):[]})),zo=xa((function(t,e){var n=al(e);return hu(n)&&(n=i),hu(t)?bi(t,Ai(e,1,hu,!0),i,n):[]}));function Vo(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===i?1:Xu(e),Ca(t,e<0?0:e,r)):[]}function Ho(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===i?1:Xu(e),e=r-e,Ca(t,0,e<0?0:e)):[]}function Go(t,e){return t&&t.length?Na(t,Gs(e,3),!0,!0):[]}function Wo(t,e){return t&&t.length?Na(t,Gs(e,3),!0):[]}function jo(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&so(t,e,n)&&(n=0,r=i),Ti(t,e,n,r)):[]}function qo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Xu(n);return i<0&&(i=ze(r+i,0)),Fn(t,Gs(e,3),i)}function $o(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var a=r-1;return n!==i&&(a=Xu(n),a=n<0?ze(r+a,0):Ve(a,r-1)),Fn(t,Gs(e,3),a,!0)}function Xo(t){var e=null==t?0:t.length;return e?Ai(t,1):[]}function Yo(t){var e=null==t?0:t.length;return e?Ai(t,O):[]}function Ko(t,e){var n=null==t?0:t.length;return n?(e=e===i?1:Xu(e),Ai(t,e)):[]}function Zo(t){var e=-1,n=null==t?0:t.length,r={};while(++e<n){var i=t[e];r[i[0]]=i[1]}return r}function Jo(t){return t&&t.length?t[0]:i}function Qo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Xu(n);return i<0&&(i=ze(r+i,0)),Nn(t,e,i)}function tl(t){var e=null==t?0:t.length;return e?Ca(t,0,-1):[]}var el=xa((function(t){var e=Cn(t,Va);return e.length&&e[0]===t[0]?Vi(e):[]})),nl=xa((function(t){var e=al(t),n=Cn(t,Va);return e===al(n)?e=i:n.pop(),n.length&&n[0]===t[0]?Vi(n,Gs(e,2)):[]})),rl=xa((function(t){var e=al(t),n=Cn(t,Va);return e="function"==typeof e?e:i,e&&n.pop(),n.length&&n[0]===t[0]?Vi(n,i,e):[]}));function il(t,e){return null==t?"":Be.call(t,e)}function al(t){var e=null==t?0:t.length;return e?t[e-1]:i}function sl(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var a=r;return n!==i&&(a=Xu(n),a=a<0?ze(r+a,0):Ve(a,r-1)),e===e?fr(t,e,a):Fn(t,Un,a,!0)}function ol(t,e){return t&&t.length?ua(t,Xu(e)):i}var ll=xa(cl);function cl(t,e){return t&&t.length&&e&&e.length?ma(t,e):t}function ul(t,e,n){return t&&t.length&&e&&e.length?ma(t,e,Gs(n,2)):t}function hl(t,e,n){return t&&t.length&&e&&e.length?ma(t,e,i,n):t}var pl=Ns((function(t,e){var n=null==t?0:t.length,r=mi(t,e);return ga(t,Cn(e,(function(t){return ao(t,n)?+t:t})).sort(Qa)),r}));function dl(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],a=t.length;e=Gs(e,3);while(++r<a){var s=t[r];e(s,r,t)&&(n.push(s),i.push(r))}return ga(t,i),n}function fl(t){return null==t?t:$e.call(t)}function ml(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&so(t,e,n)?(e=0,n=r):(e=null==e?0:Xu(e),n=n===i?r:Xu(n)),Ca(t,e,n)):[]}function gl(t,e){return Pa(t,e)}function vl(t,e,n){return Ra(t,e,Gs(n,2))}function yl(t,e){var n=null==t?0:t.length;if(n){var r=Pa(t,e);if(r<n&&iu(t[r],e))return r}return-1}function _l(t,e){return Pa(t,e,!0)}function xl(t,e,n){return Ra(t,e,Gs(n,2),!0)}function bl(t,e){var n=null==t?0:t.length;if(n){var r=Pa(t,e,!0)-1;if(iu(t[r],e))return r}return-1}function Sl(t){return t&&t.length?Da(t):[]}function wl(t,e){return t&&t.length?Da(t,Gs(e,2)):[]}function El(t){var e=null==t?0:t.length;return e?Ca(t,1,e):[]}function Ml(t,e,n){return t&&t.length?(e=n||e===i?1:Xu(e),Ca(t,0,e<0?0:e)):[]}function Tl(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===i?1:Xu(e),e=r-e,Ca(t,e<0?0:e,r)):[]}function Cl(t,e){return t&&t.length?Na(t,Gs(e,3),!1,!0):[]}function Al(t,e){return t&&t.length?Na(t,Gs(e,3)):[]}var Pl=xa((function(t){return ka(Ai(t,1,hu,!0))})),Rl=xa((function(t){var e=al(t);return hu(e)&&(e=i),ka(Ai(t,1,hu,!0),Gs(e,2))})),Dl=xa((function(t){var e=al(t);return e="function"==typeof e?e:i,ka(Ai(t,1,hu,!0),i,e)}));function Il(t){return t&&t.length?ka(t):[]}function Ll(t,e){return t&&t.length?ka(t,Gs(e,2)):[]}function kl(t,e){return e="function"==typeof e?e:i,t&&t.length?ka(t,i,e):[]}function Ol(t){if(!t||!t.length)return[];var e=0;return t=En(t,(function(t){if(hu(t))return e=ze(t.length,e),!0})),qn(e,(function(e){return Cn(t,Vn(e))}))}function Fl(t,e){if(!t||!t.length)return[];var n=Ol(t);return null==e?n:Cn(n,(function(t){return _n(e,i,t)}))}var Nl=xa((function(t,e){return hu(t)?bi(t,e):[]})),Bl=xa((function(t){return Ua(En(t,hu))})),Ul=xa((function(t){var e=al(t);return hu(e)&&(e=i),Ua(En(t,hu),Gs(e,2))})),zl=xa((function(t){var e=al(t);return e="function"==typeof e?e:i,Ua(En(t,hu),i,e)})),Vl=xa(Ol);function Hl(t,e){return za(t||[],e||[],ci)}function Gl(t,e){return za(t||[],e||[],wa)}var Wl=xa((function(t){var e=t.length,n=e>1?t[e-1]:i;return n="function"==typeof n?(t.pop(),n):i,Fl(t,n)}));function jl(t){var e=Sr(t);return e.__chain__=!0,e}function ql(t,e){return e(t),t}function $l(t,e){return e(t)}var Xl=Ns((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,a=function(e){return mi(e,t)};return!(e>1||this.__actions__.length)&&r instanceof Cr&&ao(n)?(r=r.slice(n,+n+(e?1:0)),r.__actions__.push({func:$l,args:[a],thisArg:i}),new Tr(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(i),t}))):this.thru(a)}));function Yl(){return jl(this)}function Kl(){return new Tr(this.value(),this.__chain__)}function Zl(){this.__values__===i&&(this.__values__=qu(this.value()));var t=this.__index__>=this.__values__.length,e=t?i:this.__values__[this.__index__++];return{done:t,value:e}}function Jl(){return this}function Ql(t){var e,n=this;while(n instanceof Mr){var r=ko(n);r.__index__=0,r.__values__=i,e?a.__wrapped__=r:e=r;var a=r;n=n.__wrapped__}return a.__wrapped__=t,e}function tc(){var t=this.__wrapped__;if(t instanceof Cr){var e=t;return this.__actions__.length&&(e=new Cr(this)),e=e.reverse(),e.__actions__.push({func:$l,args:[fl],thisArg:i}),new Tr(e,this.__chain__)}return this.thru(fl)}function ec(){return Ba(this.__wrapped__,this.__actions__)}var nc=os((function(t,e,n){he.call(t,n)?++t[n]:fi(t,n,1)}));function rc(t,e,n){var r=lu(t)?wn:Ei;return n&&so(t,e,n)&&(e=i),r(t,Gs(e,3))}function ic(t,e){var n=lu(t)?En:Ci;return n(t,Gs(e,3))}var ac=gs(qo),sc=gs($o);function oc(t,e){return Ai(gc(t,e),1)}function lc(t,e){return Ai(gc(t,e),O)}function cc(t,e,n){return n=n===i?1:Xu(n),Ai(gc(t,e),n)}function uc(t,e){var n=lu(t)?bn:Si;return n(t,Gs(e,3))}function hc(t,e){var n=lu(t)?Sn:wi;return n(t,Gs(e,3))}var pc=os((function(t,e,n){he.call(t,n)?t[n].push(e):fi(t,n,[e])}));function dc(t,e,n,r){t=uu(t)?t:Vh(t),n=n&&!r?Xu(n):0;var i=t.length;return n<0&&(n=ze(i+n,0)),Bu(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&Nn(t,e,n)>-1}var fc=xa((function(t,e,r){var i=-1,a="function"==typeof e,s=uu(t)?n(t.length):[];return Si(t,(function(t){s[++i]=a?_n(e,t,r):Gi(t,e,r)})),s})),mc=os((function(t,e,n){fi(t,n,e)}));function gc(t,e){var n=lu(t)?Cn:aa;return n(t,Gs(e,3))}function vc(t,e,n,r){return null==t?[]:(lu(e)||(e=null==e?[]:[e]),n=r?i:n,lu(n)||(n=null==n?[]:[n]),ha(t,e,n))}var yc=os((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));function _c(t,e,n){var r=lu(t)?Pn:Gn,i=arguments.length<3;return r(t,Gs(e,4),n,i,Si)}function xc(t,e,n){var r=lu(t)?Rn:Gn,i=arguments.length<3;return r(t,Gs(e,4),n,i,wi)}function bc(t,e){var n=lu(t)?En:Ci;return n(t,Vc(Gs(e,3)))}function Sc(t){var e=lu(t)?ai:ba;return e(t)}function wc(t,e,n){e=(n?so(t,e,n):e===i)?1:Xu(e);var r=lu(t)?si:Sa;return r(t,e)}function Ec(t){var e=lu(t)?oi:Ta;return e(t)}function Mc(t){if(null==t)return 0;if(uu(t))return Bu(t)?mr(t):t.length;var e=Ks(t);return e==J||e==at?t.size:na(t).length}function Tc(t,e,n){var r=lu(t)?Dn:Aa;return n&&so(t,e,n)&&(e=i),r(t,Gs(e,3))}var Cc=xa((function(t,e){if(null==t)return[];var n=e.length;return n>1&&so(t,e[0],e[1])?e=[]:n>2&&so(e[0],e[1],e[2])&&(e=[e[0]]),ha(t,Ai(e,1),[])})),Ac=De||function(){return on.Date.now()};function Pc(t,e){if("function"!=typeof e)throw new ae(l);return t=Xu(t),function(){if(--t<1)return e.apply(this,arguments)}}function Rc(t,e,n){return e=n?i:e,e=t&&null==e?t.length:e,Rs(t,M,i,i,i,i,e)}function Dc(t,e){var n;if("function"!=typeof e)throw new ae(l);return t=Xu(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=i),n}}var Ic=xa((function(t,e,n){var r=y;if(n.length){var i=ur(n,Hs(Ic));r|=w}return Rs(t,r,e,n,i)})),Lc=xa((function(t,e,n){var r=y|_;if(n.length){var i=ur(n,Hs(Lc));r|=w}return Rs(e,r,t,n,i)}));function kc(t,e,n){e=n?i:e;var r=Rs(t,b,i,i,i,i,i,e);return r.placeholder=kc.placeholder,r}function Oc(t,e,n){e=n?i:e;var r=Rs(t,S,i,i,i,i,i,e);return r.placeholder=Oc.placeholder,r}function Fc(t,e,n){var r,a,s,o,c,u,h=0,p=!1,d=!1,f=!0;if("function"!=typeof t)throw new ae(l);function m(e){var n=r,s=a;return r=a=i,h=e,o=t.apply(s,n),o}function g(t){return h=t,c=Mo(_,e),p?m(t):o}function v(t){var n=t-u,r=t-h,i=e-n;return d?Ve(i,s-r):i}function y(t){var n=t-u,r=t-h;return u===i||n>=e||n<0||d&&r>=s}function _(){var t=Ac();if(y(t))return x(t);c=Mo(_,v(t))}function x(t){return c=i,f&&r?m(t):(r=a=i,o)}function b(){c!==i&&qa(c),h=0,r=u=a=c=i}function S(){return c===i?o:x(Ac())}function w(){var t=Ac(),n=y(t);if(r=arguments,a=this,u=t,n){if(c===i)return g(u);if(d)return qa(c),c=Mo(_,e),m(u)}return c===i&&(c=Mo(_,e)),o}return e=Ku(e)||0,Eu(n)&&(p=!!n.leading,d="maxWait"in n,s=d?ze(Ku(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f),w.cancel=b,w.flush=S,w}var Nc=xa((function(t,e){return xi(t,1,e)})),Bc=xa((function(t,e,n){return xi(t,Ku(e)||0,n)}));function Uc(t){return Rs(t,C)}function zc(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new ae(l);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=t.apply(this,r);return n.cache=a.set(i,s)||a,s};return n.cache=new(zc.Cache||Gr),n}function Vc(t){if("function"!=typeof t)throw new ae(l);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Hc(t){return Dc(2,t)}zc.Cache=Gr;var Gc=Wa((function(t,e){e=1==e.length&&lu(e[0])?Cn(e[0],Yn(Gs())):Cn(Ai(e,1),Yn(Gs()));var n=e.length;return xa((function(r){var i=-1,a=Ve(r.length,n);while(++i<a)r[i]=e[i].call(this,r[i]);return _n(t,this,r)}))})),Wc=xa((function(t,e){var n=ur(e,Hs(Wc));return Rs(t,w,i,e,n)})),jc=xa((function(t,e){var n=ur(e,Hs(jc));return Rs(t,E,i,e,n)})),qc=Ns((function(t,e){return Rs(t,T,i,i,i,e)}));function $c(t,e){if("function"!=typeof t)throw new ae(l);return e=e===i?e:Xu(e),xa(t,e)}function Xc(t,e){if("function"!=typeof t)throw new ae(l);return e=null==e?0:ze(Xu(e),0),xa((function(n){var r=n[e],i=ja(n,0,e);return r&&An(i,r),_n(t,this,i)}))}function Yc(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new ae(l);return Eu(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Fc(t,e,{leading:r,maxWait:e,trailing:i})}function Kc(t){return Rc(t,1)}function Zc(t,e){return Wc(Ha(e),t)}function Jc(){if(!arguments.length)return[];var t=arguments[0];return lu(t)?t:[t]}function Qc(t){return vi(t,m)}function tu(t,e){return e="function"==typeof e?e:i,vi(t,m,e)}function eu(t){return vi(t,d|m)}function nu(t,e){return e="function"==typeof e?e:i,vi(t,d|m,e)}function ru(t,e){return null==e||_i(t,e,Sh(e))}function iu(t,e){return t===e||t!==t&&e!==e}var au=Ms(Ni),su=Ms((function(t,e){return t>=e})),ou=Wi(function(){return arguments}())?Wi:function(t){return Mu(t)&&he.call(t,"callee")&&!Ee.call(t,"callee")},lu=n.isArray,cu=dn?Yn(dn):ji;function uu(t){return null!=t&&wu(t.length)&&!bu(t)}function hu(t){return Mu(t)&&uu(t)}function pu(t){return!0===t||!1===t||Mu(t)&&Fi(t)==q}var du=Fe||Xp,fu=fn?Yn(fn):qi;function mu(t){return Mu(t)&&1===t.nodeType&&!ku(t)}function gu(t){if(null==t)return!0;if(uu(t)&&(lu(t)||"string"==typeof t||"function"==typeof t.splice||du(t)||zu(t)||ou(t)))return!t.length;var e=Ks(t);if(e==J||e==at)return!t.size;if(po(t))return!na(t).length;for(var n in t)if(he.call(t,n))return!1;return!0}function vu(t,e){return $i(t,e)}function yu(t,e,n){n="function"==typeof n?n:i;var r=n?n(t,e):i;return r===i?$i(t,e,i,n):!!r}function _u(t){if(!Mu(t))return!1;var e=Fi(t);return e==Y||e==X||"string"==typeof t.message&&"string"==typeof t.name&&!ku(t)}function xu(t){return"number"==typeof t&&Ne(t)}function bu(t){if(!Eu(t))return!1;var e=Fi(t);return e==K||e==Z||e==j||e==rt}function Su(t){return"number"==typeof t&&t==Xu(t)}function wu(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=F}function Eu(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Mu(t){return null!=t&&"object"==typeof t}var Tu=mn?Yn(mn):Yi;function Cu(t,e){return t===e||Ki(t,e,js(e))}function Au(t,e,n){return n="function"==typeof n?n:i,Ki(t,e,js(e),n)}function Pu(t){return Lu(t)&&t!=+t}function Ru(t){if(ho(t))throw new Bt(o);return Zi(t)}function Du(t){return null===t}function Iu(t){return null==t}function Lu(t){return"number"==typeof t||Mu(t)&&Fi(t)==Q}function ku(t){if(!Mu(t)||Fi(t)!=et)return!1;var e=Se(t);if(null===e)return!0;var n=he.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&ue.call(n)==me}var Ou=gn?Yn(gn):Ji;function Fu(t){return Su(t)&&t>=-F&&t<=F}var Nu=vn?Yn(vn):Qi;function Bu(t){return"string"==typeof t||!lu(t)&&Mu(t)&&Fi(t)==st}function Uu(t){return"symbol"==typeof t||Mu(t)&&Fi(t)==ot}var zu=yn?Yn(yn):ta;function Vu(t){return t===i}function Hu(t){return Mu(t)&&Ks(t)==ct}function Gu(t){return Mu(t)&&Fi(t)==ut}var Wu=Ms(ia),ju=Ms((function(t,e){return t<=e}));function qu(t){if(!t)return[];if(uu(t))return Bu(t)?gr(t):rs(t);if(Ce&&t[Ce])return or(t[Ce]());var e=Ks(t),n=e==J?lr:e==at?hr:Vh;return n(t)}function $u(t){if(!t)return 0===t?t:0;if(t=Ku(t),t===O||t===-O){var e=t<0?-1:1;return e*N}return t===t?t:0}function Xu(t){var e=$u(t),n=e%1;return e===e?n?e-n:e:0}function Yu(t){return t?gi(Xu(t),0,U):0}function Ku(t){if("number"==typeof t)return t;if(Uu(t))return B;if(Eu(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Eu(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Xn(t);var n=Xt.test(t);return n||Kt.test(t)?rn(t.slice(2),n?2:8):$t.test(t)?B:+t}function Zu(t){return is(t,wh(t))}function Ju(t){return t?gi(Xu(t),-F,F):0===t?t:0}function Qu(t){return null==t?"":La(t)}var th=ls((function(t,e){if(po(e)||uu(e))is(e,Sh(e),t);else for(var n in e)he.call(e,n)&&ci(t,n,e[n])})),eh=ls((function(t,e){is(e,wh(e),t)})),nh=ls((function(t,e,n,r){is(e,wh(e),t,r)})),rh=ls((function(t,e,n,r){is(e,Sh(e),t,r)})),ih=Ns(mi);function ah(t,e){var n=Er(t);return null==e?n:pi(n,e)}var sh=xa((function(t,e){t=ne(t);var n=-1,r=e.length,a=r>2?e[2]:i;a&&so(e[0],e[1],a)&&(r=1);while(++n<r){var s=e[n],o=wh(s),l=-1,c=o.length;while(++l<c){var u=o[l],h=t[u];(h===i||iu(h,le[u])&&!he.call(t,u))&&(t[u]=s[u])}}return t})),oh=xa((function(t){return t.push(i,Is),_n(Ch,i,t)}));function lh(t,e){return On(t,Gs(e,3),Di)}function ch(t,e){return On(t,Gs(e,3),Ii)}function uh(t,e){return null==t?t:Pi(t,Gs(e,3),wh)}function hh(t,e){return null==t?t:Ri(t,Gs(e,3),wh)}function ph(t,e){return t&&Di(t,Gs(e,3))}function dh(t,e){return t&&Ii(t,Gs(e,3))}function fh(t){return null==t?[]:Li(t,Sh(t))}function mh(t){return null==t?[]:Li(t,wh(t))}function gh(t,e,n){var r=null==t?i:ki(t,e);return r===i?n:r}function vh(t,e){return null!=t&&Qs(t,e,Bi)}function yh(t,e){return null!=t&&Qs(t,e,Ui)}var _h=_s((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=fe.call(e)),t[e]=n}),Tp(Rp)),xh=_s((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=fe.call(e)),he.call(t,e)?t[e].push(n):t[e]=[n]}),Gs),bh=xa(Gi);function Sh(t){return uu(t)?ii(t):na(t)}function wh(t){return uu(t)?ii(t,!0):ra(t)}function Eh(t,e){var n={};return e=Gs(e,3),Di(t,(function(t,r,i){fi(n,e(t,r,i),t)})),n}function Mh(t,e){var n={};return e=Gs(e,3),Di(t,(function(t,r,i){fi(n,r,e(t,r,i))})),n}var Th=ls((function(t,e,n){la(t,e,n)})),Ch=ls((function(t,e,n,r){la(t,e,n,r)})),Ah=Ns((function(t,e){var n={};if(null==t)return n;var r=!1;e=Cn(e,(function(e){return e=Ga(e,t),r||(r=e.length>1),e})),is(t,Us(t),n),r&&(n=vi(n,d|f|m,Ls));var i=e.length;while(i--)Oa(n,e[i]);return n}));function Ph(t,e){return Dh(t,Vc(Gs(e)))}var Rh=Ns((function(t,e){return null==t?{}:pa(t,e)}));function Dh(t,e){if(null==t)return{};var n=Cn(Us(t),(function(t){return[t]}));return e=Gs(e),da(t,n,(function(t,n){return e(t,n[0])}))}function Ih(t,e,n){e=Ga(e,t);var r=-1,a=e.length;a||(a=1,t=i);while(++r<a){var s=null==t?i:t[Do(e[r])];s===i&&(r=a,s=n),t=bu(s)?s.call(t):s}return t}function Lh(t,e,n){return null==t?t:wa(t,e,n)}function kh(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:wa(t,e,n,r)}var Oh=Ps(Sh),Fh=Ps(wh);function Nh(t,e,n){var r=lu(t),i=r||du(t)||zu(t);if(e=Gs(e,4),null==n){var a=t&&t.constructor;n=i?r?new a:[]:Eu(t)&&bu(a)?Er(Se(t)):{}}return(i?bn:Di)(t,(function(t,r,i){return e(n,t,r,i)})),n}function Bh(t,e){return null==t||Oa(t,e)}function Uh(t,e,n){return null==t?t:Fa(t,e,Ha(n))}function zh(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:Fa(t,e,Ha(n),r)}function Vh(t){return null==t?[]:Kn(t,Sh(t))}function Hh(t){return null==t?[]:Kn(t,wh(t))}function Gh(t,e,n){return n===i&&(n=e,e=i),n!==i&&(n=Ku(n),n=n===n?n:0),e!==i&&(e=Ku(e),e=e===e?e:0),gi(Ku(t),e,n)}function Wh(t,e,n){return e=$u(e),n===i?(n=e,e=0):n=$u(n),t=Ku(t),zi(t,e,n)}function jh(t,e,n){if(n&&"boolean"!=typeof n&&so(t,e,n)&&(e=n=i),n===i&&("boolean"==typeof e?(n=e,e=i):"boolean"==typeof t&&(n=t,t=i)),t===i&&e===i?(t=0,e=1):(t=$u(t),e===i?(e=t,t=0):e=$u(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var a=qe();return Ve(t+a*(e-t+nn("1e-"+((a+"").length-1))),e)}return va(t,e)}var qh=ds((function(t,e,n){return e=e.toLowerCase(),t+(n?$h(e):e)}));function $h(t){return xp(Qu(t).toLowerCase())}function Xh(t){return t=Qu(t),t&&t.replace(Jt,er).replace(Ge,"")}function Yh(t,e,n){t=Qu(t),e=La(e);var r=t.length;n=n===i?r:gi(Xu(n),0,r);var a=n;return n-=e.length,n>=0&&t.slice(n,a)==e}function Kh(t){return t=Qu(t),t&&At.test(t)?t.replace(Tt,nr):t}function Zh(t){return t=Qu(t),t&&Ft.test(t)?t.replace(Ot,"\\$&"):t}var Jh=ds((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Qh=ds((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),tp=ps("toLowerCase");function ep(t,e,n){t=Qu(t),e=Xu(e);var r=e?mr(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Ss(ke(i),n)+t+Ss(Le(i),n)}function np(t,e,n){t=Qu(t),e=Xu(e);var r=e?mr(t):0;return e&&r<e?t+Ss(e-r,n):t}function rp(t,e,n){t=Qu(t),e=Xu(e);var r=e?mr(t):0;return e&&r<e?Ss(e-r,n)+t:t}function ip(t,e,n){return n||null==e?e=0:e&&(e=+e),je(Qu(t).replace(Nt,""),e||0)}function ap(t,e,n){return e=(n?so(t,e,n):e===i)?1:Xu(e),_a(Qu(t),e)}function sp(){var t=arguments,e=Qu(t[0]);return t.length<3?e:e.replace(t[1],t[2])}var op=ds((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));function lp(t,e,n){return n&&"number"!=typeof n&&so(t,e,n)&&(e=n=i),n=n===i?U:n>>>0,n?(t=Qu(t),t&&("string"==typeof e||null!=e&&!Ou(e))&&(e=La(e),!e&&ar(t))?ja(gr(t),0,n):t.split(e,n)):[]}var cp=ds((function(t,e,n){return t+(n?" ":"")+xp(e)}));function up(t,e,n){return t=Qu(t),n=null==n?0:gi(Xu(n),0,t.length),e=La(e),t.slice(n,n+e.length)==e}function hp(t,e,n){var r=Sr.templateSettings;n&&so(t,e,n)&&(e=i),t=Qu(t),e=nh({},e,r,Ds);var a,s,o=nh({},e.imports,r.imports,Ds),l=Sh(o),u=Kn(o,l),h=0,p=e.interpolate||Qt,d="__p += '",f=re((e.escape||Qt).source+"|"+p.source+"|"+(p===Dt?jt:Qt).source+"|"+(e.evaluate||Qt).source+"|$","g"),m="//# sourceURL="+(he.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ye+"]")+"\n";t.replace(f,(function(e,n,r,i,o,l){return r||(r=i),d+=t.slice(h,l).replace(te,rr),n&&(a=!0,d+="' +\n__e("+n+") +\n'"),o&&(s=!0,d+="';\n"+o+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),h=l+e.length,e})),d+="';\n";var g=he.call(e,"variable")&&e.variable;if(g){if(Gt.test(g))throw new Bt(c)}else d="with (obj) {\n"+d+"\n}\n";d=(s?d.replace(St,""):d).replace(wt,"$1").replace(Et,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var v=Sp((function(){return Ht(l,m+"return "+d).apply(i,u)}));if(v.source=d,_u(v))throw v;return v}function pp(t){return Qu(t).toLowerCase()}function dp(t){return Qu(t).toUpperCase()}function fp(t,e,n){if(t=Qu(t),t&&(n||e===i))return Xn(t);if(!t||!(e=La(e)))return t;var r=gr(t),a=gr(e),s=Jn(r,a),o=Qn(r,a)+1;return ja(r,s,o).join("")}function mp(t,e,n){if(t=Qu(t),t&&(n||e===i))return t.slice(0,vr(t)+1);if(!t||!(e=La(e)))return t;var r=gr(t),a=Qn(r,gr(e))+1;return ja(r,0,a).join("")}function gp(t,e,n){if(t=Qu(t),t&&(n||e===i))return t.replace(Nt,"");if(!t||!(e=La(e)))return t;var r=gr(t),a=Jn(r,gr(e));return ja(r,a).join("")}function vp(t,e){var n=A,r=P;if(Eu(e)){var a="separator"in e?e.separator:a;n="length"in e?Xu(e.length):n,r="omission"in e?La(e.omission):r}t=Qu(t);var s=t.length;if(ar(t)){var o=gr(t);s=o.length}if(n>=s)return t;var l=n-mr(r);if(l<1)return r;var c=o?ja(o,0,l).join(""):t.slice(0,l);if(a===i)return c+r;if(o&&(l+=c.length-l),Ou(a)){if(t.slice(l).search(a)){var u,h=c;a.global||(a=re(a.source,Qu(qt.exec(a))+"g")),a.lastIndex=0;while(u=a.exec(h))var p=u.index;c=c.slice(0,p===i?l:p)}}else if(t.indexOf(La(a),l)!=l){var d=c.lastIndexOf(a);d>-1&&(c=c.slice(0,d))}return c+r}function yp(t){return t=Qu(t),t&&Ct.test(t)?t.replace(Mt,yr):t}var _p=ds((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),xp=ps("toUpperCase");function bp(t,e,n){return t=Qu(t),e=n?i:e,e===i?sr(t)?br(t):kn(t):t.match(e)||[]}var Sp=xa((function(t,e){try{return _n(t,i,e)}catch(n){return _u(n)?n:new Bt(n)}})),wp=Ns((function(t,e){return bn(e,(function(e){e=Do(e),fi(t,e,Ic(t[e],t))})),t}));function Ep(t){var e=null==t?0:t.length,n=Gs();return t=e?Cn(t,(function(t){if("function"!=typeof t[1])throw new ae(l);return[n(t[0]),t[1]]})):[],xa((function(n){var r=-1;while(++r<e){var i=t[r];if(_n(i[0],this,n))return _n(i[1],this,n)}}))}function Mp(t){return yi(vi(t,d))}function Tp(t){return function(){return t}}function Cp(t,e){return null==t||t!==t?e:t}var Ap=vs(),Pp=vs(!0);function Rp(t){return t}function Dp(t){return ea("function"==typeof t?t:vi(t,d))}function Ip(t){return sa(vi(t,d))}function Lp(t,e){return oa(t,vi(e,d))}var kp=xa((function(t,e){return function(n){return Gi(n,t,e)}})),Op=xa((function(t,e){return function(n){return Gi(t,n,e)}}));function Fp(t,e,n){var r=Sh(e),i=Li(e,r);null!=n||Eu(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=Li(e,Sh(e)));var a=!(Eu(n)&&"chain"in n)||!!n.chain,s=bu(t);return bn(i,(function(n){var r=e[n];t[n]=r,s&&(t.prototype[n]=function(){var e=this.__chain__;if(a||e){var n=t(this.__wrapped__),i=n.__actions__=rs(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,An([this.value()],arguments))})})),t}function Np(){return on._===this&&(on._=ge),this}function Bp(){}function Up(t){return t=Xu(t),xa((function(e){return ua(e,t)}))}var zp=bs(Cn),Vp=bs(wn),Hp=bs(Dn);function Gp(t){return oo(t)?Vn(Do(t)):fa(t)}function Wp(t){return function(e){return null==t?i:ki(t,e)}}var jp=Es(),qp=Es(!0);function $p(){return[]}function Xp(){return!1}function Yp(){return{}}function Kp(){return""}function Zp(){return!0}function Jp(t,e){if(t=Xu(t),t<1||t>F)return[];var n=U,r=Ve(t,U);e=Gs(e),t-=U;var i=qn(r,e);while(++n<t)e(n);return i}function Qp(t){return lu(t)?Cn(t,Do):Uu(t)?[t]:rs(Ro(Qu(t)))}function td(t){var e=++pe;return Qu(t)+e}var ed=xs((function(t,e){return t+e}),0),nd=Cs("ceil"),rd=xs((function(t,e){return t/e}),1),id=Cs("floor");function ad(t){return t&&t.length?Mi(t,Rp,Ni):i}function sd(t,e){return t&&t.length?Mi(t,Gs(e,2),Ni):i}function od(t){return zn(t,Rp)}function ld(t,e){return zn(t,Gs(e,2))}function cd(t){return t&&t.length?Mi(t,Rp,ia):i}function ud(t,e){return t&&t.length?Mi(t,Gs(e,2),ia):i}var hd=xs((function(t,e){return t*e}),1),pd=Cs("round"),dd=xs((function(t,e){return t-e}),0);function fd(t){return t&&t.length?jn(t,Rp):0}function md(t,e){return t&&t.length?jn(t,Gs(e,2)):0}return Sr.after=Pc,Sr.ary=Rc,Sr.assign=th,Sr.assignIn=eh,Sr.assignInWith=nh,Sr.assignWith=rh,Sr.at=ih,Sr.before=Dc,Sr.bind=Ic,Sr.bindAll=wp,Sr.bindKey=Lc,Sr.castArray=Jc,Sr.chain=jl,Sr.chunk=Oo,Sr.compact=Fo,Sr.concat=No,Sr.cond=Ep,Sr.conforms=Mp,Sr.constant=Tp,Sr.countBy=nc,Sr.create=ah,Sr.curry=kc,Sr.curryRight=Oc,Sr.debounce=Fc,Sr.defaults=sh,Sr.defaultsDeep=oh,Sr.defer=Nc,Sr.delay=Bc,Sr.difference=Bo,Sr.differenceBy=Uo,Sr.differenceWith=zo,Sr.drop=Vo,Sr.dropRight=Ho,Sr.dropRightWhile=Go,Sr.dropWhile=Wo,Sr.fill=jo,Sr.filter=ic,Sr.flatMap=oc,Sr.flatMapDeep=lc,Sr.flatMapDepth=cc,Sr.flatten=Xo,Sr.flattenDeep=Yo,Sr.flattenDepth=Ko,Sr.flip=Uc,Sr.flow=Ap,Sr.flowRight=Pp,Sr.fromPairs=Zo,Sr.functions=fh,Sr.functionsIn=mh,Sr.groupBy=pc,Sr.initial=tl,Sr.intersection=el,Sr.intersectionBy=nl,Sr.intersectionWith=rl,Sr.invert=_h,Sr.invertBy=xh,Sr.invokeMap=fc,Sr.iteratee=Dp,Sr.keyBy=mc,Sr.keys=Sh,Sr.keysIn=wh,Sr.map=gc,Sr.mapKeys=Eh,Sr.mapValues=Mh,Sr.matches=Ip,Sr.matchesProperty=Lp,Sr.memoize=zc,Sr.merge=Th,Sr.mergeWith=Ch,Sr.method=kp,Sr.methodOf=Op,Sr.mixin=Fp,Sr.negate=Vc,Sr.nthArg=Up,Sr.omit=Ah,Sr.omitBy=Ph,Sr.once=Hc,Sr.orderBy=vc,Sr.over=zp,Sr.overArgs=Gc,Sr.overEvery=Vp,Sr.overSome=Hp,Sr.partial=Wc,Sr.partialRight=jc,Sr.partition=yc,Sr.pick=Rh,Sr.pickBy=Dh,Sr.property=Gp,Sr.propertyOf=Wp,Sr.pull=ll,Sr.pullAll=cl,Sr.pullAllBy=ul,Sr.pullAllWith=hl,Sr.pullAt=pl,Sr.range=jp,Sr.rangeRight=qp,Sr.rearg=qc,Sr.reject=bc,Sr.remove=dl,Sr.rest=$c,Sr.reverse=fl,Sr.sampleSize=wc,Sr.set=Lh,Sr.setWith=kh,Sr.shuffle=Ec,Sr.slice=ml,Sr.sortBy=Cc,Sr.sortedUniq=Sl,Sr.sortedUniqBy=wl,Sr.split=lp,Sr.spread=Xc,Sr.tail=El,Sr.take=Ml,Sr.takeRight=Tl,Sr.takeRightWhile=Cl,Sr.takeWhile=Al,Sr.tap=ql,Sr.throttle=Yc,Sr.thru=$l,Sr.toArray=qu,Sr.toPairs=Oh,Sr.toPairsIn=Fh,Sr.toPath=Qp,Sr.toPlainObject=Zu,Sr.transform=Nh,Sr.unary=Kc,Sr.union=Pl,Sr.unionBy=Rl,Sr.unionWith=Dl,Sr.uniq=Il,Sr.uniqBy=Ll,Sr.uniqWith=kl,Sr.unset=Bh,Sr.unzip=Ol,Sr.unzipWith=Fl,Sr.update=Uh,Sr.updateWith=zh,Sr.values=Vh,Sr.valuesIn=Hh,Sr.without=Nl,Sr.words=bp,Sr.wrap=Zc,Sr.xor=Bl,Sr.xorBy=Ul,Sr.xorWith=zl,Sr.zip=Vl,Sr.zipObject=Hl,Sr.zipObjectDeep=Gl,Sr.zipWith=Wl,Sr.entries=Oh,Sr.entriesIn=Fh,Sr.extend=eh,Sr.extendWith=nh,Fp(Sr,Sr),Sr.add=ed,Sr.attempt=Sp,Sr.camelCase=qh,Sr.capitalize=$h,Sr.ceil=nd,Sr.clamp=Gh,Sr.clone=Qc,Sr.cloneDeep=eu,Sr.cloneDeepWith=nu,Sr.cloneWith=tu,Sr.conformsTo=ru,Sr.deburr=Xh,Sr.defaultTo=Cp,Sr.divide=rd,Sr.endsWith=Yh,Sr.eq=iu,Sr.escape=Kh,Sr.escapeRegExp=Zh,Sr.every=rc,Sr.find=ac,Sr.findIndex=qo,Sr.findKey=lh,Sr.findLast=sc,Sr.findLastIndex=$o,Sr.findLastKey=ch,Sr.floor=id,Sr.forEach=uc,Sr.forEachRight=hc,Sr.forIn=uh,Sr.forInRight=hh,Sr.forOwn=ph,Sr.forOwnRight=dh,Sr.get=gh,Sr.gt=au,Sr.gte=su,Sr.has=vh,Sr.hasIn=yh,Sr.head=Jo,Sr.identity=Rp,Sr.includes=dc,Sr.indexOf=Qo,Sr.inRange=Wh,Sr.invoke=bh,Sr.isArguments=ou,Sr.isArray=lu,Sr.isArrayBuffer=cu,Sr.isArrayLike=uu,Sr.isArrayLikeObject=hu,Sr.isBoolean=pu,Sr.isBuffer=du,Sr.isDate=fu,Sr.isElement=mu,Sr.isEmpty=gu,Sr.isEqual=vu,Sr.isEqualWith=yu,Sr.isError=_u,Sr.isFinite=xu,Sr.isFunction=bu,Sr.isInteger=Su,Sr.isLength=wu,Sr.isMap=Tu,Sr.isMatch=Cu,Sr.isMatchWith=Au,Sr.isNaN=Pu,Sr.isNative=Ru,Sr.isNil=Iu,Sr.isNull=Du,Sr.isNumber=Lu,Sr.isObject=Eu,Sr.isObjectLike=Mu,Sr.isPlainObject=ku,Sr.isRegExp=Ou,Sr.isSafeInteger=Fu,Sr.isSet=Nu,Sr.isString=Bu,Sr.isSymbol=Uu,Sr.isTypedArray=zu,Sr.isUndefined=Vu,Sr.isWeakMap=Hu,Sr.isWeakSet=Gu,Sr.join=il,Sr.kebabCase=Jh,Sr.last=al,Sr.lastIndexOf=sl,Sr.lowerCase=Qh,Sr.lowerFirst=tp,Sr.lt=Wu,Sr.lte=ju,Sr.max=ad,Sr.maxBy=sd,Sr.mean=od,Sr.meanBy=ld,Sr.min=cd,Sr.minBy=ud,Sr.stubArray=$p,Sr.stubFalse=Xp,Sr.stubObject=Yp,Sr.stubString=Kp,Sr.stubTrue=Zp,Sr.multiply=hd,Sr.nth=ol,Sr.noConflict=Np,Sr.noop=Bp,Sr.now=Ac,Sr.pad=ep,Sr.padEnd=np,Sr.padStart=rp,Sr.parseInt=ip,Sr.random=jh,Sr.reduce=_c,Sr.reduceRight=xc,Sr.repeat=ap,Sr.replace=sp,Sr.result=Ih,Sr.round=pd,Sr.runInContext=t,Sr.sample=Sc,Sr.size=Mc,Sr.snakeCase=op,Sr.some=Tc,Sr.sortedIndex=gl,Sr.sortedIndexBy=vl,Sr.sortedIndexOf=yl,Sr.sortedLastIndex=_l,Sr.sortedLastIndexBy=xl,Sr.sortedLastIndexOf=bl,Sr.startCase=cp,Sr.startsWith=up,Sr.subtract=dd,Sr.sum=fd,Sr.sumBy=md,Sr.template=hp,Sr.times=Jp,Sr.toFinite=$u,Sr.toInteger=Xu,Sr.toLength=Yu,Sr.toLower=pp,Sr.toNumber=Ku,Sr.toSafeInteger=Ju,Sr.toString=Qu,Sr.toUpper=dp,Sr.trim=fp,Sr.trimEnd=mp,Sr.trimStart=gp,Sr.truncate=vp,Sr.unescape=yp,Sr.uniqueId=td,Sr.upperCase=_p,Sr.upperFirst=xp,Sr.each=uc,Sr.eachRight=hc,Sr.first=Jo,Fp(Sr,function(){var t={};return Di(Sr,(function(e,n){he.call(Sr.prototype,n)||(t[n]=e)})),t}(),{chain:!1}),Sr.VERSION=a,bn(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Sr[t].placeholder=Sr})),bn(["drop","take"],(function(t,e){Cr.prototype[t]=function(n){n=n===i?1:ze(Xu(n),0);var r=this.__filtered__&&!e?new Cr(this):this.clone();return r.__filtered__?r.__takeCount__=Ve(n,r.__takeCount__):r.__views__.push({size:Ve(n,U),type:t+(r.__dir__<0?"Right":"")}),r},Cr.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),bn(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=n==I||n==k;Cr.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Gs(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),bn(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Cr.prototype[t]=function(){return this[n](1).value()[0]}})),bn(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Cr.prototype[t]=function(){return this.__filtered__?new Cr(this):this[n](1)}})),Cr.prototype.compact=function(){return this.filter(Rp)},Cr.prototype.find=function(t){return this.filter(t).head()},Cr.prototype.findLast=function(t){return this.reverse().find(t)},Cr.prototype.invokeMap=xa((function(t,e){return"function"==typeof t?new Cr(this):this.map((function(n){return Gi(n,t,e)}))})),Cr.prototype.reject=function(t){return this.filter(Vc(Gs(t)))},Cr.prototype.slice=function(t,e){t=Xu(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Cr(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==i&&(e=Xu(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)},Cr.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Cr.prototype.toArray=function(){return this.take(U)},Di(Cr.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),a=Sr[r?"take"+("last"==e?"Right":""):e],s=r||/^find/.test(e);a&&(Sr.prototype[e]=function(){var e=this.__wrapped__,o=r?[1]:arguments,l=e instanceof Cr,c=o[0],u=l||lu(e),h=function(t){var e=a.apply(Sr,An([t],o));return r&&p?e[0]:e};u&&n&&"function"==typeof c&&1!=c.length&&(l=u=!1);var p=this.__chain__,d=!!this.__actions__.length,f=s&&!p,m=l&&!d;if(!s&&u){e=m?e:new Cr(this);var g=t.apply(e,o);return g.__actions__.push({func:$l,args:[h],thisArg:i}),new Tr(g,p)}return f&&m?t.apply(this,o):(g=this.thru(h),f?r?g.value()[0]:g.value():g)})})),bn(["pop","push","shift","sort","splice","unshift"],(function(t){var e=se[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Sr.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(lu(i)?i:[],t)}return this[n]((function(n){return e.apply(lu(n)?n:[],t)}))}})),Di(Cr.prototype,(function(t,e){var n=Sr[e];if(n){var r=n.name+"";he.call(cn,r)||(cn[r]=[]),cn[r].push({name:e,func:n})}})),cn[ys(i,_).name]=[{name:"wrapper",func:i}],Cr.prototype.clone=Ar,Cr.prototype.reverse=Pr,Cr.prototype.value=Rr,Sr.prototype.at=Xl,Sr.prototype.chain=Yl,Sr.prototype.commit=Kl,Sr.prototype.next=Zl,Sr.prototype.plant=Ql,Sr.prototype.reverse=tc,Sr.prototype.toJSON=Sr.prototype.valueOf=Sr.prototype.value=ec,Sr.prototype.first=Sr.prototype.head,Ce&&(Sr.prototype[Ce]=Jl),Sr},wr=Sr();on._=wr,r=function(){return wr}.call(e,n,e,t),r===i||(t.exports=r)}.call(this)},1836:function(module,exports,__webpack_require__){__webpack_require__(4114),__webpack_require__(6573),__webpack_require__(8100),__webpack_require__(7936),__webpack_require__(7467),__webpack_require__(4732),__webpack_require__(9577),__webpack_require__(4603),__webpack_require__(7566),__webpack_require__(8721),"undefined"!==typeof navigator&&function(t,e){module.exports=e()}(0,(function(){"use strict";var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(t){_useWebWorker=!!t},getWebWorker=function(){return _useWebWorker},setLocationHref=function(t){locationHref=t},getLocationHref=function(){return locationHref};function createTag(t){return document.createElement(t)}function extendPrototype(t,e){var n,r,i=t.length;for(n=0;n<i;n+=1)for(var a in r=t[n].prototype,r)Object.prototype.hasOwnProperty.call(r,a)&&(e.prototype[a]=r[a])}function getDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)}function createProxyFunction(t){function e(){}return e.prototype=t,e}var audioControllerFactory=function(){function t(t){this.audios=[],this.audioFactory=t,this._volume=1,this._isMuted=!1}return t.prototype={addAudio:function(t){this.audios.push(t)},pause:function(){var t,e=this.audios.length;for(t=0;t<e;t+=1)this.audios[t].pause()},resume:function(){var t,e=this.audios.length;for(t=0;t<e;t+=1)this.audios[t].resume()},setRate:function(t){var e,n=this.audios.length;for(e=0;e<n;e+=1)this.audios[e].setRate(t)},createAudio:function(t){return this.audioFactory?this.audioFactory(t):window.Howl?new window.Howl({src:[t]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(t){this.audioFactory=t},setVolume:function(t){this._volume=t,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var t,e=this.audios.length;for(t=0;t<e;t+=1)this.audios[t].volume(this._volume*(this._isMuted?0:1))}},function(){return new t}}(),createTypedArray=function(){function t(t,e){var n,r=0,i=[];switch(t){case"int16":case"uint8c":n=1;break;default:n=1.1;break}for(r=0;r<e;r+=1)i.push(n);return i}function e(e,n){return"float32"===e?new Float32Array(n):"int16"===e?new Int16Array(n):"uint8c"===e?new Uint8ClampedArray(n):t(e,n)}return"function"===typeof Uint8ClampedArray&&"function"===typeof Float32Array?e:t}();function createSizedArray(t){return Array.apply(null,{length:t})}function _typeof$6(t){return _typeof$6="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$6(t)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),_shouldRoundValues=!1,bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};function ProjectInterface$1(){return{}}(function(){var t,e=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],n=e.length;for(t=0;t<n;t+=1)BMMath[e[t]]=Math[e[t]]})(),BMMath.random=Math.random,BMMath.abs=function(t){var e=_typeof$6(t);if("object"===e&&t.length){var n,r=createSizedArray(t.length),i=t.length;for(n=0;n<i;n+=1)r[n]=Math.abs(t[n]);return r}return Math.abs(t)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(t){_shouldRoundValues=!!t}function bmRnd(t){return _shouldRoundValues?Math.round(t):t}function styleDiv(t){t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.display="block",t.style.transformOrigin="0 0",t.style.webkitTransformOrigin="0 0",t.style.backfaceVisibility="visible",t.style.webkitBackfaceVisibility="visible",t.style.transformStyle="preserve-3d",t.style.webkitTransformStyle="preserve-3d",t.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(t,e,n,r){this.type=t,this.currentTime=e,this.totalTime=n,this.direction=r<0?-1:1}function BMCompleteEvent(t,e){this.type=t,this.direction=e<0?-1:1}function BMCompleteLoopEvent(t,e,n,r){this.type=t,this.currentLoop=n,this.totalLoops=e,this.direction=r<0?-1:1}function BMSegmentStartEvent(t,e,n){this.type=t,this.firstFrame=e,this.totalFrames=n}function BMDestroyEvent(t,e){this.type=t,this.target=e}function BMRenderFrameErrorEvent(t,e){this.type="renderFrameError",this.nativeError=t,this.currentTime=e}function BMConfigErrorEvent(t){this.type="configError",this.nativeError=t}function BMAnimationConfigErrorEvent(t,e){this.type=t,this.nativeError=e}var createElementID=function(){var t=0;return function(){return t+=1,idPrefix$1+"__lottie_element_"+t}}();function HSVtoRGB(t,e,n){var r,i,a,s,o,l,c,u;switch(s=Math.floor(6*t),o=6*t-s,l=n*(1-e),c=n*(1-o*e),u=n*(1-(1-o)*e),s%6){case 0:r=n,i=u,a=l;break;case 1:r=c,i=n,a=l;break;case 2:r=l,i=n,a=u;break;case 3:r=l,i=c,a=n;break;case 4:r=u,i=l,a=n;break;case 5:r=n,i=l,a=c;break;default:break}return[r,i,a]}function RGBtoHSV(t,e,n){var r,i=Math.max(t,e,n),a=Math.min(t,e,n),s=i-a,o=0===i?0:s/i,l=i/255;switch(i){case a:r=0;break;case t:r=e-n+s*(e<n?6:0),r/=6*s;break;case e:r=n-t+2*s,r/=6*s;break;case n:r=t-e+4*s,r/=6*s;break;default:break}return[r,o,l]}function addSaturationToRGB(t,e){var n=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return n[1]+=e,n[1]>1?n[1]=1:n[1]<=0&&(n[1]=0),HSVtoRGB(n[0],n[1],n[2])}function addBrightnessToRGB(t,e){var n=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return n[2]+=e,n[2]>1?n[2]=1:n[2]<0&&(n[2]=0),HSVtoRGB(n[0],n[1],n[2])}function addHueToRGB(t,e){var n=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return n[0]+=e/360,n[0]>1?n[0]-=1:n[0]<0&&(n[0]+=1),HSVtoRGB(n[0],n[1],n[2])}var rgbToHex=function(){var t,e,n=[];for(t=0;t<256;t+=1)e=t.toString(16),n[t]=1===e.length?"0"+e:e;return function(t,e,r){return t<0&&(t=0),e<0&&(e=0),r<0&&(r=0),"#"+n[t]+n[e]+n[r]}}(),setSubframeEnabled=function(t){subframeEnabled=!!t},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(t){expressionsPlugin=t},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(t){expressionsInterfaces=t},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(t){defaultCurveSegments=t},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(t){idPrefix$1=t},getIdPrefix=function(){return idPrefix$1};function createNS(t){return document.createElementNS(svgNS,t)}function _typeof$5(t){return _typeof$5="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$5(t)}var dataManager=function(){var t,e,n=1,r=[],i={onmessage:function(){},postMessage:function(e){t({data:e})}},a={postMessage:function(t){i.onmessage({data:t})}};function s(e){if(window.Worker&&window.Blob&&getWebWorker()){var n=new Blob(["var _workerSelf = self; self.onmessage = ",e.toString()],{type:"text/javascript"}),r=URL.createObjectURL(n);return new Worker(r)}return t=e,i}function o(){e||(e=s((function(t){function e(){function t(e,n){var s,o,l,c,u,h,p=e.length;for(o=0;o<p;o+=1)if(s=e[o],"ks"in s&&!s.completed){if(s.completed=!0,s.hasMask){var f=s.masksProperties;for(c=f.length,l=0;l<c;l+=1)if(f[l].pt.k.i)a(f[l].pt.k);else for(h=f[l].pt.k.length,u=0;u<h;u+=1)f[l].pt.k[u].s&&a(f[l].pt.k[u].s[0]),f[l].pt.k[u].e&&a(f[l].pt.k[u].e[0])}0===s.ty?(s.layers=r(s.refId,n),t(s.layers,n)):4===s.ty?i(s.shapes):5===s.ty&&d(s)}}function e(e,n){if(e){var i=0,a=e.length;for(i=0;i<a;i+=1)1===e[i].t&&(e[i].data.layers=r(e[i].data.refId,n),t(e[i].data.layers,n))}}function n(t,e){var n=0,r=e.length;while(n<r){if(e[n].id===t)return e[n];n+=1}return null}function r(t,e){var r=n(t,e);return r?r.layers.__used?JSON.parse(JSON.stringify(r.layers)):(r.layers.__used=!0,r.layers):null}function i(t){var e,n,r,s=t.length;for(e=s-1;e>=0;e-=1)if("sh"===t[e].ty)if(t[e].ks.k.i)a(t[e].ks.k);else for(r=t[e].ks.k.length,n=0;n<r;n+=1)t[e].ks.k[n].s&&a(t[e].ks.k[n].s[0]),t[e].ks.k[n].e&&a(t[e].ks.k[n].e[0]);else"gr"===t[e].ty&&i(t[e].it)}function a(t){var e,n=t.i.length;for(e=0;e<n;e+=1)t.i[e][0]+=t.v[e][0],t.i[e][1]+=t.v[e][1],t.o[e][0]+=t.v[e][0],t.o[e][1]+=t.v[e][1]}function s(t,e){var n=e?e.split("."):[100,100,100];return t[0]>n[0]||!(n[0]>t[0])&&(t[1]>n[1]||!(n[1]>t[1])&&(t[2]>n[2]||!(n[2]>t[2])&&null))}var o=function(){var t=[4,4,14];function e(t){var e=t.t.d;t.t.d={k:[{s:e,t:0}]}}function n(t){var n,r=t.length;for(n=0;n<r;n+=1)5===t[n].ty&&e(t[n])}return function(e){if(s(t,e.v)&&(n(e.layers),e.assets)){var r,i=e.assets.length;for(r=0;r<i;r+=1)e.assets[r].layers&&n(e.assets[r].layers)}}}(),l=function(){var t=[4,7,99];return function(e){if(e.chars&&!s(t,e.v)){var n,r=e.chars.length;for(n=0;n<r;n+=1){var a=e.chars[n];a.data&&a.data.shapes&&(i(a.data.shapes),a.data.ip=0,a.data.op=99999,a.data.st=0,a.data.sr=1,a.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},e.chars[n].t||(a.data.shapes.push({ty:"no"}),a.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),c=function(){var t=[5,7,15];function e(t){var e=t.t.p;"number"===typeof e.a&&(e.a={a:0,k:e.a}),"number"===typeof e.p&&(e.p={a:0,k:e.p}),"number"===typeof e.r&&(e.r={a:0,k:e.r})}function n(t){var n,r=t.length;for(n=0;n<r;n+=1)5===t[n].ty&&e(t[n])}return function(e){if(s(t,e.v)&&(n(e.layers),e.assets)){var r,i=e.assets.length;for(r=0;r<i;r+=1)e.assets[r].layers&&n(e.assets[r].layers)}}}(),u=function(){var t=[4,1,9];function e(t){var n,r,i,a=t.length;for(n=0;n<a;n+=1)if("gr"===t[n].ty)e(t[n].it);else if("fl"===t[n].ty||"st"===t[n].ty)if(t[n].c.k&&t[n].c.k[0].i)for(i=t[n].c.k.length,r=0;r<i;r+=1)t[n].c.k[r].s&&(t[n].c.k[r].s[0]/=255,t[n].c.k[r].s[1]/=255,t[n].c.k[r].s[2]/=255,t[n].c.k[r].s[3]/=255),t[n].c.k[r].e&&(t[n].c.k[r].e[0]/=255,t[n].c.k[r].e[1]/=255,t[n].c.k[r].e[2]/=255,t[n].c.k[r].e[3]/=255);else t[n].c.k[0]/=255,t[n].c.k[1]/=255,t[n].c.k[2]/=255,t[n].c.k[3]/=255}function n(t){var n,r=t.length;for(n=0;n<r;n+=1)4===t[n].ty&&e(t[n].shapes)}return function(e){if(s(t,e.v)&&(n(e.layers),e.assets)){var r,i=e.assets.length;for(r=0;r<i;r+=1)e.assets[r].layers&&n(e.assets[r].layers)}}}(),h=function(){var t=[4,4,18];function e(t){var n,r,i,a=t.length;for(n=a-1;n>=0;n-=1)if("sh"===t[n].ty)if(t[n].ks.k.i)t[n].ks.k.c=t[n].closed;else for(i=t[n].ks.k.length,r=0;r<i;r+=1)t[n].ks.k[r].s&&(t[n].ks.k[r].s[0].c=t[n].closed),t[n].ks.k[r].e&&(t[n].ks.k[r].e[0].c=t[n].closed);else"gr"===t[n].ty&&e(t[n].it)}function n(t){var n,r,i,a,s,o,l=t.length;for(r=0;r<l;r+=1){if(n=t[r],n.hasMask){var c=n.masksProperties;for(a=c.length,i=0;i<a;i+=1)if(c[i].pt.k.i)c[i].pt.k.c=c[i].cl;else for(o=c[i].pt.k.length,s=0;s<o;s+=1)c[i].pt.k[s].s&&(c[i].pt.k[s].s[0].c=c[i].cl),c[i].pt.k[s].e&&(c[i].pt.k[s].e[0].c=c[i].cl)}4===n.ty&&e(n.shapes)}}return function(e){if(s(t,e.v)&&(n(e.layers),e.assets)){var r,i=e.assets.length;for(r=0;r<i;r+=1)e.assets[r].layers&&n(e.assets[r].layers)}}}();function p(n){n.__complete||(u(n),o(n),l(n),c(n),h(n),t(n.layers,n.assets),e(n.chars,n.assets),n.__complete=!0)}function d(t){0===t.t.a.length&&t.t.p}var f={};return f.completeData=p,f.checkColors=u,f.checkChars=l,f.checkPathProperties=c,f.checkShapes=h,f.completeLayers=t,f}if(a.dataManager||(a.dataManager=e()),a.assetLoader||(a.assetLoader=function(){function t(t){var e=t.getResponseHeader("content-type");return e&&"json"===t.responseType&&-1!==e.indexOf("json")||t.response&&"object"===_typeof$5(t.response)?t.response:t.response&&"string"===typeof t.response?JSON.parse(t.response):t.responseText?JSON.parse(t.responseText):null}function e(e,n,r,i){var a,s=new XMLHttpRequest;try{s.responseType="json"}catch(o){}s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status)a=t(s),r(a);else try{a=t(s),r(a)}catch(o){i&&i(o)}};try{s.open(["G","E","T"].join(""),e,!0)}catch(l){s.open(["G","E","T"].join(""),n+"/"+e,!0)}s.send()}return{load:e}}()),"loadAnimation"===t.data.type)a.assetLoader.load(t.data.path,t.data.fullPath,(function(e){a.dataManager.completeData(e),a.postMessage({id:t.data.id,payload:e,status:"success"})}),(function(){a.postMessage({id:t.data.id,status:"error"})}));else if("complete"===t.data.type){var n=t.data.animation;a.dataManager.completeData(n),a.postMessage({id:t.data.id,payload:n,status:"success"})}else"loadData"===t.data.type&&a.assetLoader.load(t.data.path,t.data.fullPath,(function(e){a.postMessage({id:t.data.id,payload:e,status:"success"})}),(function(){a.postMessage({id:t.data.id,status:"error"})}))})),e.onmessage=function(t){var e=t.data,n=e.id,i=r[n];r[n]=null,"success"===e.status?i.onComplete(e.payload):i.onError&&i.onError()})}function l(t,e){n+=1;var i="processId_"+n;return r[i]={onComplete:t,onError:e},i}function c(t,n,r){o();var i=l(n,r);e.postMessage({type:"loadAnimation",path:t,fullPath:window.location.origin+window.location.pathname,id:i})}function u(t,n,r){o();var i=l(n,r);e.postMessage({type:"loadData",path:t,fullPath:window.location.origin+window.location.pathname,id:i})}function h(t,n,r){o();var i=l(n,r);e.postMessage({type:"complete",animation:t,id:i})}return{loadAnimation:c,loadData:u,completeAnimation:h}}(),ImagePreloader=function(){var t=function(){var t=createTag("canvas");t.width=1,t.height=1;var e=t.getContext("2d");return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),t}();function e(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function n(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function r(t,e,n){var r="";if(t.e)r=t.p;else if(e){var i=t.p;-1!==i.indexOf("images/")&&(i=i.split("/")[1]),r=e+i}else r=n,r+=t.u?t.u:"",r+=t.p;return r}function i(t){var e=0,n=setInterval(function(){var r=t.getBBox();(r.width||e>500)&&(this._imageLoaded(),clearInterval(n)),e+=1}.bind(this),50)}function a(e){var n=r(e,this.assetsPath,this.path),i=createNS("image");isSafari?this.testImageLoaded(i):i.addEventListener("load",this._imageLoaded,!1),i.addEventListener("error",function(){a.img=t,this._imageLoaded()}.bind(this),!1),i.setAttributeNS("http://www.w3.org/1999/xlink","href",n),this._elementHelper.append?this._elementHelper.append(i):this._elementHelper.appendChild(i);var a={img:i,assetData:e};return a}function s(e){var n=r(e,this.assetsPath,this.path),i=createTag("img");i.crossOrigin="anonymous",i.addEventListener("load",this._imageLoaded,!1),i.addEventListener("error",function(){a.img=t,this._imageLoaded()}.bind(this),!1),i.src=n;var a={img:i,assetData:e};return a}function o(t){var e={assetData:t},n=r(t,this.assetsPath,this.path);return dataManager.loadData(n,function(t){e.img=t,this._footageLoaded()}.bind(this),function(){e.img={},this._footageLoaded()}.bind(this)),e}function l(t,e){var n;this.imagesLoadedCb=e;var r=t.length;for(n=0;n<r;n+=1)t[n].layers||(t[n].t&&"seq"!==t[n].t?3===t[n].t&&(this.totalFootages+=1,this.images.push(this.createFootageData(t[n]))):(this.totalImages+=1,this.images.push(this._createImageData(t[n]))))}function c(t){this.path=t||""}function u(t){this.assetsPath=t||""}function h(t){var e=0,n=this.images.length;while(e<n){if(this.images[e].assetData===t)return this.images[e].img;e+=1}return null}function p(){this.imagesLoadedCb=null,this.images.length=0}function d(){return this.totalImages===this.loadedAssets}function f(){return this.totalFootages===this.loadedFootagesCount}function m(t,e){"svg"===t?(this._elementHelper=e,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function g(){this._imageLoaded=e.bind(this),this._footageLoaded=n.bind(this),this.testImageLoaded=i.bind(this),this.createFootageData=o.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return g.prototype={loadAssets:l,setAssetsPath:u,setPath:c,loadedImages:d,loadedFootages:f,destroy:p,getAsset:h,createImgData:s,createImageData:a,imageLoaded:e,footageLoaded:n,setCacheType:m},g}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(t,e){if(this._cbs[t])for(var n=this._cbs[t],r=0;r<n.length;r+=1)n[r](e)},addEventListener:function(t,e){return this._cbs[t]||(this._cbs[t]=[]),this._cbs[t].push(e),function(){this.removeEventListener(t,e)}.bind(this)},removeEventListener:function(t,e){if(e){if(this._cbs[t]){var n=0,r=this._cbs[t].length;while(n<r)this._cbs[t][n]===e&&(this._cbs[t].splice(n,1),n-=1,r-=1),n+=1;this._cbs[t].length||(this._cbs[t]=null)}}else this._cbs[t]=null}};var markerParser=function(){function t(t){for(var e,n=t.split("\r\n"),r={},i=0,a=0;a<n.length;a+=1)e=n[a].split(":"),2===e.length&&(r[e[0]]=e[1].trim(),i+=1);if(0===i)throw new Error;return r}return function(e){for(var n=[],r=0;r<e.length;r+=1){var i=e[r],a={time:i.tm,duration:i.dr};try{a.payload=JSON.parse(e[r].cm)}catch(s){try{a.payload=t(e[r].cm)}catch(o){a.payload={name:e[r].cm}}}n.push(a)}return n}}(),ProjectInterface=function(){function t(t){this.compositions.push(t)}return function(){function e(t){var e=0,n=this.compositions.length;while(e<n){if(this.compositions[e].data&&this.compositions[e].data.nm===t)return this.compositions[e].prepareFrame&&this.compositions[e].data.xt&&this.compositions[e].prepareFrame(this.currentFrame),this.compositions[e].compInterface;e+=1}return null}return e.compositions=[],e.currentFrame=0,e.registerComposition=t,e}}(),renderers={},registerRenderer=function(t,e){renderers[t]=e};function getRenderer(t){return renderers[t]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var t in renderers)if(renderers[t])return t;return""}function _typeof$4(t){return _typeof$4="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$4(t)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(t){(t.wrapper||t.container)&&(this.wrapper=t.wrapper||t.container);var e="svg";t.animType?e=t.animType:t.renderer&&(e=t.renderer);var n=getRenderer(e);this.renderer=new n(this,t.rendererSettings),this.imagePreloader.setCacheType(e,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=e,""===t.loop||null===t.loop||void 0===t.loop||!0===t.loop?this.loop=!0:!1===t.loop?this.loop=!1:this.loop=parseInt(t.loop,10),this.autoplay=!("autoplay"in t)||t.autoplay,this.name=t.name?t.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(t,"autoloadSegments")||t.autoloadSegments,this.assetsPath=t.assetsPath,this.initialSegment=t.initialSegment,t.audioFactory&&this.audioController.setAudioFactory(t.audioFactory),t.animationData?this.setupAnimation(t.animationData):t.path&&(-1!==t.path.lastIndexOf("\\")?this.path=t.path.substr(0,t.path.lastIndexOf("\\")+1):this.path=t.path.substr(0,t.path.lastIndexOf("/")+1),this.fileName=t.path.substr(t.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(t.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(t){dataManager.completeAnimation(t,this.configAnimation)},AnimationItem.prototype.setData=function(t,e){e&&"object"!==_typeof$4(e)&&(e=JSON.parse(e));var n={wrapper:t,animationData:e},r=t.attributes;n.path=r.getNamedItem("data-animation-path")?r.getNamedItem("data-animation-path").value:r.getNamedItem("data-bm-path")?r.getNamedItem("data-bm-path").value:r.getNamedItem("bm-path")?r.getNamedItem("bm-path").value:"",n.animType=r.getNamedItem("data-anim-type")?r.getNamedItem("data-anim-type").value:r.getNamedItem("data-bm-type")?r.getNamedItem("data-bm-type").value:r.getNamedItem("bm-type")?r.getNamedItem("bm-type").value:r.getNamedItem("data-bm-renderer")?r.getNamedItem("data-bm-renderer").value:r.getNamedItem("bm-renderer")?r.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var i=r.getNamedItem("data-anim-loop")?r.getNamedItem("data-anim-loop").value:r.getNamedItem("data-bm-loop")?r.getNamedItem("data-bm-loop").value:r.getNamedItem("bm-loop")?r.getNamedItem("bm-loop").value:"";"false"===i?n.loop=!1:"true"===i?n.loop=!0:""!==i&&(n.loop=parseInt(i,10));var a=r.getNamedItem("data-anim-autoplay")?r.getNamedItem("data-anim-autoplay").value:r.getNamedItem("data-bm-autoplay")?r.getNamedItem("data-bm-autoplay").value:!r.getNamedItem("bm-autoplay")||r.getNamedItem("bm-autoplay").value;n.autoplay="false"!==a,n.name=r.getNamedItem("data-name")?r.getNamedItem("data-name").value:r.getNamedItem("data-bm-name")?r.getNamedItem("data-bm-name").value:r.getNamedItem("bm-name")?r.getNamedItem("bm-name").value:"";var s=r.getNamedItem("data-anim-prerender")?r.getNamedItem("data-anim-prerender").value:r.getNamedItem("data-bm-prerender")?r.getNamedItem("data-bm-prerender").value:r.getNamedItem("bm-prerender")?r.getNamedItem("bm-prerender").value:"";"false"===s&&(n.prerender=!1),n.path?this.setParams(n):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(t){t.op>this.animationData.op&&(this.animationData.op=t.op,this.totalFrames=Math.floor(t.op-this.animationData.ip));var e,n,r=this.animationData.layers,i=r.length,a=t.layers,s=a.length;for(n=0;n<s;n+=1){e=0;while(e<i){if(r[e].id===a[n].id){r[e]=a[n];break}e+=1}}if((t.chars||t.fonts)&&(this.renderer.globalData.fontManager.addChars(t.chars),this.renderer.globalData.fontManager.addFonts(t.fonts,this.renderer.globalData.defs)),t.assets)for(i=t.assets.length,e=0;e<i;e+=1)this.animationData.assets.push(t.assets[e]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(t){this.animationData=t;var e=getExpressionsPlugin();e&&e.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var t=this.animationData.segments;if(!t||0===t.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var e=t.shift();this.timeCompleted=e.time*this.frameRate;var n=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(n,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){var t=this.animationData.segments;t||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(t){if(this.renderer)try{this.animationData=t,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(t),t.assets||(t.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(t.assets),this.markers=markerParser(t.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(e){this.triggerConfigError(e)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||"canvas"!==this.renderer.rendererType)&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var t=getExpressionsPlugin();t&&t.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(t,e){var n="number"===typeof t?t:void 0,r="number"===typeof e?e:void 0;this.renderer.updateContainerSize(n,r)},AnimationItem.prototype.setSubframe=function(t){this.isSubframeEnabled=!!t},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!1!==this.isLoaded&&this.renderer)try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(t){this.triggerRenderFrameError(t)}},AnimationItem.prototype.play=function(t){t&&this.name!==t||!0===this.isPaused&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(t){t&&this.name!==t||!1===this.isPaused&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(t){t&&this.name!==t||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(t){t&&this.name!==t||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(t){for(var e,n=0;n<this.markers.length;n+=1)if(e=this.markers[n],e.payload&&e.payload.name===t)return e;return null},AnimationItem.prototype.goToAndStop=function(t,e,n){if(!n||this.name===n){var r=Number(t);if(isNaN(r)){var i=this.getMarkerData(t);i&&this.goToAndStop(i.time,!0)}else e?this.setCurrentRawFrameValue(t):this.setCurrentRawFrameValue(t*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(t,e,n){if(!n||this.name===n){var r=Number(t);if(isNaN(r)){var i=this.getMarkerData(t);i&&(i.duration?this.playSegments([i.time,i.time+i.duration],!0):this.goToAndStop(i.time,!0))}else this.goToAndStop(r,e,n);this.play()}},AnimationItem.prototype.advanceTime=function(t){if(!0!==this.isPaused&&!1!==this.isLoaded){var e=this.currentRawFrame+t*this.frameModifier,n=!1;e>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?e>=this.totalFrames?(this.playCount+=1,this.checkSegments(e%this.totalFrames)||(this.setCurrentRawFrameValue(e%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(e):this.checkSegments(e>this.totalFrames?e%this.totalFrames:0)||(n=!0,e=this.totalFrames-1):e<0?this.checkSegments(e%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(n=!0,e=0):(this.setCurrentRawFrameValue(this.totalFrames+e%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(e),n&&(this.setCurrentRawFrameValue(e),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(t,e){this.playCount=0,t[1]<t[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=t[0]-t[1],this.timeCompleted=this.totalFrames,this.firstFrame=t[1],this.setCurrentRawFrameValue(this.totalFrames-.001-e)):t[1]>t[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=t[1]-t[0],this.timeCompleted=this.totalFrames,this.firstFrame=t[0],this.setCurrentRawFrameValue(.001+e)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(t,e){var n=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<t?n=t:this.currentRawFrame+this.firstFrame>e&&(n=e-t)),this.firstFrame=t,this.totalFrames=e-t,this.timeCompleted=this.totalFrames,-1!==n&&this.goToAndStop(n,!0)},AnimationItem.prototype.playSegments=function(t,e){if(e&&(this.segments.length=0),"object"===_typeof$4(t[0])){var n,r=t.length;for(n=0;n<r;n+=1)this.segments.push(t[n])}else this.segments.push(t);this.segments.length&&e&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(t){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),t&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(t){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),t),!0)},AnimationItem.prototype.destroy=function(t){t&&this.name!==t||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(t){this.currentRawFrame=t,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(t){this.playSpeed=t,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(t){this.playDirection=t<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(t){this.loop=t},AnimationItem.prototype.setVolume=function(t,e){e&&this.name!==e||this.audioController.setVolume(t)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(t){t&&this.name!==t||this.audioController.mute()},AnimationItem.prototype.unmute=function(t){t&&this.name!==t||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(t){var e="";if(t.e)e=t.p;else if(this.assetsPath){var n=t.p;-1!==n.indexOf("images/")&&(n=n.split("/")[1]),e=this.assetsPath+n}else e=this.path,e+=t.u?t.u:"",e+=t.p;return e},AnimationItem.prototype.getAssetData=function(t){var e=0,n=this.assets.length;while(e<n){if(t===this.assets[e].id)return this.assets[e];e+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(t){return t?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(t,e,n){try{var r=this.renderer.getElementByPath(t);r.updateDocumentData(e,n)}catch(i){}},AnimationItem.prototype.trigger=function(t){if(this._cbs&&this._cbs[t])switch(t){case"enterFrame":this.triggerEvent(t,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(t,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(t,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(t,new BMCompleteEvent(t,this.frameMult));break;case"segmentStart":this.triggerEvent(t,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(t,new BMDestroyEvent(t,this));break;default:this.triggerEvent(t)}"enterFrame"===t&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===t&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult)),"complete"===t&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(t,this.frameMult)),"segmentStart"===t&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames)),"destroy"===t&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(t,this))},AnimationItem.prototype.triggerRenderFrameError=function(t){var e=new BMRenderFrameErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)},AnimationItem.prototype.triggerConfigError=function(t){var e=new BMConfigErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)};var animationManager=function(){var t={},e=[],n=0,r=0,i=0,a=!0,s=!1;function o(t){var n=0,i=t.target;while(n<r)e[n].animation===i&&(e.splice(n,1),n-=1,r-=1,i.isPaused||h()),n+=1}function l(t,n){if(!t)return null;var i=0;while(i<r){if(e[i].elem===t&&null!==e[i].elem)return e[i].animation;i+=1}var a=new AnimationItem;return p(a,t),a.setData(t,n),a}function c(){var t,n=e.length,r=[];for(t=0;t<n;t+=1)r.push(e[t].animation);return r}function u(){i+=1,T()}function h(){i-=1}function p(t,n){t.addEventListener("destroy",o),t.addEventListener("_active",u),t.addEventListener("_idle",h),e.push({elem:n,animation:t}),r+=1}function d(t){var e=new AnimationItem;return p(e,null),e.setParams(t),e}function f(t,n){var i;for(i=0;i<r;i+=1)e[i].animation.setSpeed(t,n)}function m(t,n){var i;for(i=0;i<r;i+=1)e[i].animation.setDirection(t,n)}function g(t){var n;for(n=0;n<r;n+=1)e[n].animation.play(t)}function v(t){var o,l=t-n;for(o=0;o<r;o+=1)e[o].animation.advanceTime(l);n=t,i&&!s?window.requestAnimationFrame(v):a=!0}function y(t){n=t,window.requestAnimationFrame(v)}function _(t){var n;for(n=0;n<r;n+=1)e[n].animation.pause(t)}function x(t,n,i){var a;for(a=0;a<r;a+=1)e[a].animation.goToAndStop(t,n,i)}function b(t){var n;for(n=0;n<r;n+=1)e[n].animation.stop(t)}function S(t){var n;for(n=0;n<r;n+=1)e[n].animation.togglePause(t)}function w(t){var n;for(n=r-1;n>=0;n-=1)e[n].animation.destroy(t)}function E(t,e,n){var r,i=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),a=i.length;for(r=0;r<a;r+=1)n&&i[r].setAttribute("data-bm-type",n),l(i[r],t);if(e&&0===a){n||(n="svg");var s=document.getElementsByTagName("body")[0];s.innerText="";var o=createTag("div");o.style.width="100%",o.style.height="100%",o.setAttribute("data-bm-type",n),s.appendChild(o),l(o,t)}}function M(){var t;for(t=0;t<r;t+=1)e[t].animation.resize()}function T(){!s&&i&&a&&(window.requestAnimationFrame(y),a=!1)}function C(){s=!0}function A(){s=!1,T()}function P(t,n){var i;for(i=0;i<r;i+=1)e[i].animation.setVolume(t,n)}function R(t){var n;for(n=0;n<r;n+=1)e[n].animation.mute(t)}function D(t){var n;for(n=0;n<r;n+=1)e[n].animation.unmute(t)}return t.registerAnimation=l,t.loadAnimation=d,t.setSpeed=f,t.setDirection=m,t.play=g,t.pause=_,t.stop=b,t.togglePause=S,t.searchAnimations=E,t.resize=M,t.goToAndStop=x,t.destroy=w,t.freeze=C,t.unfreeze=A,t.setVolume=P,t.mute=R,t.unmute=D,t.getRegisteredAnimations=c,t}(),BezierFactory=function(){var t={};t.getBezierEasing=n;var e={};function n(t,n,r,i,a){var s=a||("bez_"+t+"_"+n+"_"+r+"_"+i).replace(/\./g,"p");if(e[s])return e[s];var o=new v([t,n,r,i]);return e[s]=o,o}var r=4,i=.001,a=1e-7,s=10,o=11,l=1/(o-1),c="function"===typeof Float32Array;function u(t,e){return 1-3*e+3*t}function h(t,e){return 3*e-6*t}function p(t){return 3*t}function d(t,e,n){return((u(e,n)*t+h(e,n))*t+p(e))*t}function f(t,e,n){return 3*u(e,n)*t*t+2*h(e,n)*t+p(e)}function m(t,e,n,r,i){var o,l,c=0;do{l=e+(n-e)/2,o=d(l,r,i)-t,o>0?n=l:e=l}while(Math.abs(o)>a&&++c<s);return l}function g(t,e,n,i){for(var a=0;a<r;++a){var s=f(e,n,i);if(0===s)return e;var o=d(e,n,i)-t;e-=o/s}return e}function v(t){this._p=t,this._mSampleValues=c?new Float32Array(o):new Array(o),this._precomputed=!1,this.get=this.get.bind(this)}return v.prototype={get:function(t){var e=this._p[0],n=this._p[1],r=this._p[2],i=this._p[3];return this._precomputed||this._precompute(),e===n&&r===i?t:0===t?0:1===t?1:d(this._getTForX(t),n,i)},_precompute:function(){var t=this._p[0],e=this._p[1],n=this._p[2],r=this._p[3];this._precomputed=!0,t===e&&n===r||this._calcSampleValues()},_calcSampleValues:function(){for(var t=this._p[0],e=this._p[2],n=0;n<o;++n)this._mSampleValues[n]=d(n*l,t,e)},_getTForX:function(t){for(var e=this._p[0],n=this._p[2],r=this._mSampleValues,a=0,s=1,c=o-1;s!==c&&r[s]<=t;++s)a+=l;--s;var u=(t-r[s])/(r[s+1]-r[s]),h=a+u*l,p=f(h,e,n);return p>=i?g(t,h,e,n):0===p?h:m(t,a,a+l,e,n)}},t}(),pooling=function(){function t(t){return t.concat(createSizedArray(t.length))}return{double:t}}(),poolFactory=function(){return function(t,e,n){var r=0,i=t,a=createSizedArray(i),s={newElement:o,release:l};function o(){var t;return r?(r-=1,t=a[r]):t=e(),t}function l(t){r===i&&(a=pooling["double"](a),i*=2),n&&n(t),a[r]=t,r+=1}return s}}(),bezierLengthPool=function(){function t(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,t)}(),segmentsLengthPool=function(){function t(){return{lengths:[],totalLength:0}}function e(t){var e,n=t.lengths.length;for(e=0;e<n;e+=1)bezierLengthPool.release(t.lengths[e]);t.lengths.length=0}return poolFactory(8,t,e)}();function bezFunction(){var t=Math;function e(t,e,n,r,i,a){var s=t*r+e*i+n*a-i*r-a*t-n*e;return s>-.001&&s<.001}function n(n,r,i,a,s,o,l,c,u){if(0===i&&0===o&&0===u)return e(n,r,a,s,l,c);var h,p=t.sqrt(t.pow(a-n,2)+t.pow(s-r,2)+t.pow(o-i,2)),d=t.sqrt(t.pow(l-n,2)+t.pow(c-r,2)+t.pow(u-i,2)),f=t.sqrt(t.pow(l-a,2)+t.pow(c-s,2)+t.pow(u-o,2));return h=p>d?p>f?p-d-f:f-d-p:f>d?f-d-p:d-p-f,h>-1e-4&&h<1e-4}var r=function(){return function(t,e,n,r){var i,a,s,o,l,c,u=getDefaultCurveSegments(),h=0,p=[],d=[],f=bezierLengthPool.newElement();for(s=n.length,i=0;i<u;i+=1){for(l=i/(u-1),c=0,a=0;a<s;a+=1)o=bmPow(1-l,3)*t[a]+3*bmPow(1-l,2)*l*n[a]+3*(1-l)*bmPow(l,2)*r[a]+bmPow(l,3)*e[a],p[a]=o,null!==d[a]&&(c+=bmPow(p[a]-d[a],2)),d[a]=p[a];c&&(c=bmSqrt(c),h+=c),f.percents[i]=l,f.lengths[i]=h}return f.addedLength=h,f}}();function i(t){var e,n=segmentsLengthPool.newElement(),i=t.c,a=t.v,s=t.o,o=t.i,l=t._length,c=n.lengths,u=0;for(e=0;e<l-1;e+=1)c[e]=r(a[e],a[e+1],s[e],o[e+1]),u+=c[e].addedLength;return i&&l&&(c[e]=r(a[e],a[0],s[e],o[0]),u+=c[e].addedLength),n.totalLength=u,n}function a(t){this.segmentLength=0,this.points=new Array(t)}function s(t,e){this.partialLength=t,this.point=e}var o=function(){var t={};return function(n,r,i,o){var l=(n[0]+"_"+n[1]+"_"+r[0]+"_"+r[1]+"_"+i[0]+"_"+i[1]+"_"+o[0]+"_"+o[1]).replace(/\./g,"p");if(!t[l]){var c,u,h,p,d,f,m,g=getDefaultCurveSegments(),v=0,y=null;2===n.length&&(n[0]!==r[0]||n[1]!==r[1])&&e(n[0],n[1],r[0],r[1],n[0]+i[0],n[1]+i[1])&&e(n[0],n[1],r[0],r[1],r[0]+o[0],r[1]+o[1])&&(g=2);var _=new a(g);for(h=i.length,c=0;c<g;c+=1){for(m=createSizedArray(h),d=c/(g-1),f=0,u=0;u<h;u+=1)p=bmPow(1-d,3)*n[u]+3*bmPow(1-d,2)*d*(n[u]+i[u])+3*(1-d)*bmPow(d,2)*(r[u]+o[u])+bmPow(d,3)*r[u],m[u]=p,null!==y&&(f+=bmPow(m[u]-y[u],2));f=bmSqrt(f),v+=f,_.points[c]=new s(f,m),y=m}_.segmentLength=v,t[l]=_}return t[l]}}();function l(t,e){var n=e.percents,r=e.lengths,i=n.length,a=bmFloor((i-1)*t),s=t*e.addedLength,o=0;if(a===i-1||0===a||s===r[a])return n[a];var l=r[a]>s?-1:1,c=!0;while(c)if(r[a]<=s&&r[a+1]>s?(o=(s-r[a])/(r[a+1]-r[a]),c=!1):a+=l,a<0||a>=i-1){if(a===i-1)return n[a];c=!1}return n[a]+(n[a+1]-n[a])*o}function c(e,n,r,i,a,s){var o=l(a,s),c=1-o,u=t.round(1e3*(c*c*c*e[0]+(o*c*c+c*o*c+c*c*o)*r[0]+(o*o*c+c*o*o+o*c*o)*i[0]+o*o*o*n[0]))/1e3,h=t.round(1e3*(c*c*c*e[1]+(o*c*c+c*o*c+c*c*o)*r[1]+(o*o*c+c*o*o+o*c*o)*i[1]+o*o*o*n[1]))/1e3;return[u,h]}var u=createTypedArray("float32",8);function h(e,n,r,i,a,s,o){a<0?a=0:a>1&&(a=1);var c=l(a,o);s=s>1?1:s;var h,p=l(s,o),d=e.length,f=1-c,m=1-p,g=f*f*f,v=c*f*f*3,y=c*c*f*3,_=c*c*c,x=f*f*m,b=c*f*m+f*c*m+f*f*p,S=c*c*m+f*c*p+c*f*p,w=c*c*p,E=f*m*m,M=c*m*m+f*p*m+f*m*p,T=c*p*m+f*p*p+c*m*p,C=c*p*p,A=m*m*m,P=p*m*m+m*p*m+m*m*p,R=p*p*m+m*p*p+p*m*p,D=p*p*p;for(h=0;h<d;h+=1)u[4*h]=t.round(1e3*(g*e[h]+v*r[h]+y*i[h]+_*n[h]))/1e3,u[4*h+1]=t.round(1e3*(x*e[h]+b*r[h]+S*i[h]+w*n[h]))/1e3,u[4*h+2]=t.round(1e3*(E*e[h]+M*r[h]+T*i[h]+C*n[h]))/1e3,u[4*h+3]=t.round(1e3*(A*e[h]+P*r[h]+R*i[h]+D*n[h]))/1e3;return u}return{getSegmentsLength:i,getNewSegment:h,getPointInSegment:c,buildBezierData:o,pointOnLine2D:e,pointOnLine3D:n}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(t,e){var n,r=this.offsetTime;"multidimensional"===this.propType&&(n=createTypedArray("float32",this.pv.length));var i,a,s,o,l,c,u,h,p,d=e.lastIndex,f=d,m=this.keyframes.length-1,g=!0;while(g){if(i=this.keyframes[f],a=this.keyframes[f+1],f===m-1&&t>=a.t-r){i.h&&(i=a),d=0;break}if(a.t-r>t){d=f;break}f<m-1?f+=1:(d=0,g=!1)}s=this.keyframesMetadata[f]||{};var v,y=a.t-r,_=i.t-r;if(i.to){s.bezierData||(s.bezierData=bez.buildBezierData(i.s,a.s||i.e,i.to,i.ti));var x=s.bezierData;if(t>=y||t<_){var b=t>=y?x.points.length-1:0;for(l=x.points[b].point.length,o=0;o<l;o+=1)n[o]=x.points[b].point[o]}else{s.__fnct?p=s.__fnct:(p=BezierFactory.getBezierEasing(i.o.x,i.o.y,i.i.x,i.i.y,i.n).get,s.__fnct=p),c=p((t-_)/(y-_));var S,w=x.segmentLength*c,E=e.lastFrame<t&&e._lastKeyframeIndex===f?e._lastAddedLength:0;h=e.lastFrame<t&&e._lastKeyframeIndex===f?e._lastPoint:0,g=!0,u=x.points.length;while(g){if(E+=x.points[h].partialLength,0===w||0===c||h===x.points.length-1){for(l=x.points[h].point.length,o=0;o<l;o+=1)n[o]=x.points[h].point[o];break}if(w>=E&&w<E+x.points[h+1].partialLength){for(S=(w-E)/x.points[h+1].partialLength,l=x.points[h].point.length,o=0;o<l;o+=1)n[o]=x.points[h].point[o]+(x.points[h+1].point[o]-x.points[h].point[o])*S;break}h<u-1?h+=1:g=!1}e._lastPoint=h,e._lastAddedLength=E-x.points[h].partialLength,e._lastKeyframeIndex=f}}else{var M,T,C,A,P;if(m=i.s.length,v=a.s||i.e,this.sh&&1!==i.h)if(t>=y)n[0]=v[0],n[1]=v[1],n[2]=v[2];else if(t<=_)n[0]=i.s[0],n[1]=i.s[1],n[2]=i.s[2];else{var R=createQuaternion(i.s),D=createQuaternion(v),I=(t-_)/(y-_);quaternionToEuler(n,slerp(R,D,I))}else for(f=0;f<m;f+=1)1!==i.h&&(t>=y?c=1:t<_?c=0:(i.o.x.constructor===Array?(s.__fnct||(s.__fnct=[]),s.__fnct[f]?p=s.__fnct[f]:(M=void 0===i.o.x[f]?i.o.x[0]:i.o.x[f],T=void 0===i.o.y[f]?i.o.y[0]:i.o.y[f],C=void 0===i.i.x[f]?i.i.x[0]:i.i.x[f],A=void 0===i.i.y[f]?i.i.y[0]:i.i.y[f],p=BezierFactory.getBezierEasing(M,T,C,A).get,s.__fnct[f]=p)):s.__fnct?p=s.__fnct:(M=i.o.x,T=i.o.y,C=i.i.x,A=i.i.y,p=BezierFactory.getBezierEasing(M,T,C,A).get,i.keyframeMetadata=p),c=p((t-_)/(y-_)))),v=a.s||i.e,P=1===i.h?i.s[f]:i.s[f]+(v[f]-i.s[f])*c,"multidimensional"===this.propType?n[f]=P:n=P}return e.lastIndex=d,n}function slerp(t,e,n){var r,i,a,s,o,l=[],c=t[0],u=t[1],h=t[2],p=t[3],d=e[0],f=e[1],m=e[2],g=e[3];return i=c*d+u*f+h*m+p*g,i<0&&(i=-i,d=-d,f=-f,m=-m,g=-g),1-i>1e-6?(r=Math.acos(i),a=Math.sin(r),s=Math.sin((1-n)*r)/a,o=Math.sin(n*r)/a):(s=1-n,o=n),l[0]=s*c+o*d,l[1]=s*u+o*f,l[2]=s*h+o*m,l[3]=s*p+o*g,l}function quaternionToEuler(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],s=Math.atan2(2*r*a-2*n*i,1-2*r*r-2*i*i),o=Math.asin(2*n*r+2*i*a),l=Math.atan2(2*n*a-2*r*i,1-2*n*n-2*i*i);t[0]=s/degToRads,t[1]=o/degToRads,t[2]=l/degToRads}function createQuaternion(t){var e=t[0]*degToRads,n=t[1]*degToRads,r=t[2]*degToRads,i=Math.cos(e/2),a=Math.cos(n/2),s=Math.cos(r/2),o=Math.sin(e/2),l=Math.sin(n/2),c=Math.sin(r/2),u=i*a*s-o*l*c,h=o*l*s+i*a*c,p=o*a*s+i*l*c,d=i*l*s-o*a*c;return[h,p,d,u]}function getValueAtCurrentTime(){var t=this.comp.renderedFrame-this.offsetTime,e=this.keyframes[0].t-this.offsetTime,n=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(t===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=n&&t>=n||this._caching.lastFrame<e&&t<e))){this._caching.lastFrame>=t&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var r=this.interpolateValue(t,this._caching);this.pv=r}return this._caching.lastFrame=t,this.pv}function setVValue(t){var e;if("unidimensional"===this.propType)e=t*this.mult,mathAbs(this.v-e)>1e-5&&(this.v=e,this._mdf=!0);else{var n=0,r=this.v.length;while(n<r)e=t[n]*this.mult,mathAbs(this.v[n]-e)>1e-5&&(this.v[n]=e,this._mdf=!0),n+=1}}function processEffectsSequence(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var t;this.lock=!0,this._mdf=this._isFirstFrame;var e=this.effectsSequence.length,n=this.kf?this.pv:this.data.k;for(t=0;t<e;t+=1)n=this.effectsSequence[t](n);this.setVValue(n),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function ValueProperty(t,e,n,r){this.propType="unidimensional",this.mult=n||1,this.data=e,this.v=n?e.k*n:e.k,this.pv=e.k,this._mdf=!1,this.elem=t,this.container=r,this.comp=t.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(t,e,n,r){var i;this.propType="multidimensional",this.mult=n||1,this.data=e,this._mdf=!1,this.elem=t,this.container=r,this.comp=t.comp,this.k=!1,this.kf=!1,this.frameId=-1;var a=e.k.length;for(this.v=createTypedArray("float32",a),this.pv=createTypedArray("float32",a),this.vel=createTypedArray("float32",a),i=0;i<a;i+=1)this.v[i]=e.k[i]*this.mult,this.pv[i]=e.k[i];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(t,e,n,r){this.propType="unidimensional",this.keyframes=e.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=e,this.mult=n||1,this.elem=t,this.container=r,this.comp=t.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(t,e,n,r){var i;this.propType="multidimensional";var a,s,o,l,c=e.k.length;for(i=0;i<c-1;i+=1)e.k[i].to&&e.k[i].s&&e.k[i+1]&&e.k[i+1].s&&(a=e.k[i].s,s=e.k[i+1].s,o=e.k[i].to,l=e.k[i].ti,(2===a.length&&(a[0]!==s[0]||a[1]!==s[1])&&bez.pointOnLine2D(a[0],a[1],s[0],s[1],a[0]+o[0],a[1]+o[1])&&bez.pointOnLine2D(a[0],a[1],s[0],s[1],s[0]+l[0],s[1]+l[1])||3===a.length&&(a[0]!==s[0]||a[1]!==s[1]||a[2]!==s[2])&&bez.pointOnLine3D(a[0],a[1],a[2],s[0],s[1],s[2],a[0]+o[0],a[1]+o[1],a[2]+o[2])&&bez.pointOnLine3D(a[0],a[1],a[2],s[0],s[1],s[2],s[0]+l[0],s[1]+l[1],s[2]+l[2]))&&(e.k[i].to=null,e.k[i].ti=null),a[0]===s[0]&&a[1]===s[1]&&0===o[0]&&0===o[1]&&0===l[0]&&0===l[1]&&(2===a.length||a[2]===s[2]&&0===o[2]&&0===l[2])&&(e.k[i].to=null,e.k[i].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=e,this.keyframes=e.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=n||1,this.elem=t,this.container=r,this.comp=t.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var u=e.k[0].s.length;for(this.v=createTypedArray("float32",u),this.pv=createTypedArray("float32",u),i=0;i<u;i+=1)this.v[i]=initFrame,this.pv[i]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",u)},this.addEffect=addEffect}var PropertyFactory=function(){function t(t,e,n,r,i){var a;if(e.sid&&(e=t.globalData.slotManager.getProp(e)),e.k.length)if("number"===typeof e.k[0])a=new MultiDimensionalProperty(t,e,r,i);else switch(n){case 0:a=new KeyframedValueProperty(t,e,r,i);break;case 1:a=new KeyframedMultidimensionalProperty(t,e,r,i);break;default:break}else a=new ValueProperty(t,e,r,i);return a.effectsSequence.length&&i.addDynamicProperty(a),a}var e={getProp:t};return e}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&(this.dynamicProperties.push(t),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){var t;this._mdf=!1;var e=this.dynamicProperties.length;for(t=0;t<e;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(t){this.container=t,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=function(){function t(){return createTypedArray("float32",2)}return poolFactory(8,t)}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(t,e){this.c=t,this.setLength(e);var n=0;while(n<e)this.v[n]=pointPool.newElement(),this.o[n]=pointPool.newElement(),this.i[n]=pointPool.newElement(),n+=1},ShapePath.prototype.setLength=function(t){while(this._maxLength<t)this.doubleArrayLength();this._length=t},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(t,e,n,r,i){var a;switch(this._length=Math.max(this._length,r+1),this._length>=this._maxLength&&this.doubleArrayLength(),n){case"v":a=this.v;break;case"i":a=this.i;break;case"o":a=this.o;break;default:a=[];break}(!a[r]||a[r]&&!i)&&(a[r]=pointPool.newElement()),a[r][0]=t,a[r][1]=e},ShapePath.prototype.setTripleAt=function(t,e,n,r,i,a,s,o){this.setXYAt(t,e,"v",s,o),this.setXYAt(n,r,"o",s,o),this.setXYAt(i,a,"i",s,o)},ShapePath.prototype.reverse=function(){var t=new ShapePath;t.setPathData(this.c,this._length);var e=this.v,n=this.o,r=this.i,i=0;this.c&&(t.setTripleAt(e[0][0],e[0][1],r[0][0],r[0][1],n[0][0],n[0][1],0,!1),i=1);var a,s=this._length-1,o=this._length;for(a=i;a<o;a+=1)t.setTripleAt(e[s][0],e[s][1],r[s][0],r[s][1],n[s][0],n[s][1],a,!1),s-=1;return t},ShapePath.prototype.length=function(){return this._length};var shapePool=function(){function t(){return new ShapePath}function e(t){var e,n=t._length;for(e=0;e<n;e+=1)pointPool.release(t.v[e]),pointPool.release(t.i[e]),pointPool.release(t.o[e]),t.v[e]=null,t.i[e]=null,t.o[e]=null;t._length=0,t.c=!1}function n(t){var e,n=r.newElement(),i=void 0===t._length?t.v.length:t._length;for(n.setLength(i),n.c=t.c,e=0;e<i;e+=1)n.setTripleAt(t.v[e][0],t.v[e][1],t.o[e][0],t.o[e][1],t.i[e][0],t.i[e][1],e);return n}var r=poolFactory(4,t,e);return r.clone=n,r}();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(t){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=t,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var t;for(t=0;t<this._length;t+=1)shapePool.release(this.shapes[t]);this._length=0};var shapeCollectionPool=function(){var t={newShapeCollection:i,release:a},e=0,n=4,r=createSizedArray(n);function i(){var t;return e?(e-=1,t=r[e]):t=new ShapeCollection,t}function a(t){var i,a=t._length;for(i=0;i<a;i+=1)shapePool.release(t.shapes[i]);t._length=0,e===n&&(r=pooling["double"](r),n*=2),r[e]=t,e+=1}return t}(),ShapePropertyFactory=function(){var t=-999999;function e(t,e,n){var r,i,a,s,o,l,c,u,h,p=n.lastIndex,d=this.keyframes;if(t<d[0].t-this.offsetTime)r=d[0].s[0],a=!0,p=0;else if(t>=d[d.length-1].t-this.offsetTime)r=d[d.length-1].s?d[d.length-1].s[0]:d[d.length-2].e[0],a=!0;else{var f,m,g,v=p,y=d.length-1,_=!0;while(_){if(f=d[v],m=d[v+1],m.t-this.offsetTime>t)break;v<y-1?v+=1:_=!1}if(g=this.keyframesMetadata[v]||{},a=1===f.h,p=v,!a){if(t>=m.t-this.offsetTime)u=1;else if(t<f.t-this.offsetTime)u=0;else{var x;g.__fnct?x=g.__fnct:(x=BezierFactory.getBezierEasing(f.o.x,f.o.y,f.i.x,f.i.y).get,g.__fnct=x),u=x((t-(f.t-this.offsetTime))/(m.t-this.offsetTime-(f.t-this.offsetTime)))}i=m.s?m.s[0]:f.e[0]}r=f.s[0]}for(l=e._length,c=r.i[0].length,n.lastIndex=p,s=0;s<l;s+=1)for(o=0;o<c;o+=1)h=a?r.i[s][o]:r.i[s][o]+(i.i[s][o]-r.i[s][o])*u,e.i[s][o]=h,h=a?r.o[s][o]:r.o[s][o]+(i.o[s][o]-r.o[s][o])*u,e.o[s][o]=h,h=a?r.v[s][o]:r.v[s][o]+(i.v[s][o]-r.v[s][o])*u,e.v[s][o]=h}function n(){var e=this.comp.renderedFrame-this.offsetTime,n=this.keyframes[0].t-this.offsetTime,r=this.keyframes[this.keyframes.length-1].t-this.offsetTime,i=this._caching.lastFrame;return i!==t&&(i<n&&e<n||i>r&&e>r)||(this._caching.lastIndex=i<e?this._caching.lastIndex:0,this.interpolateShape(e,this.pv,this._caching)),this._caching.lastFrame=e,this.pv}function r(){this.paths=this.localShapeCollection}function i(t,e){if(t._length!==e._length||t.c!==e.c)return!1;var n,r=t._length;for(n=0;n<r;n+=1)if(t.v[n][0]!==e.v[n][0]||t.v[n][1]!==e.v[n][1]||t.o[n][0]!==e.o[n][0]||t.o[n][1]!==e.o[n][1]||t.i[n][0]!==e.i[n][0]||t.i[n][1]!==e.i[n][1])return!1;return!0}function a(t){i(this.v,t)||(this.v=shapePool.clone(t),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function s(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var t,e;this.lock=!0,this._mdf=!1,t=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var n=this.effectsSequence.length;for(e=0;e<n;e+=1)t=this.effectsSequence[e](t);this.setVValue(t),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function o(t,e,n){this.propType="shape",this.comp=t.comp,this.container=t,this.elem=t,this.data=e,this.k=!1,this.kf=!1,this._mdf=!1;var i=3===n?e.pt.k:e.ks.k;this.v=shapePool.clone(i),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=r,this.effectsSequence=[]}function l(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function c(e,i,a){this.propType="shape",this.comp=e.comp,this.elem=e,this.container=e,this.offsetTime=e.data.st,this.keyframes=3===a?i.pt.k:i.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var s=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,s),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=t,this.reset=r,this._caching={lastFrame:t,lastIndex:0},this.effectsSequence=[n.bind(this)]}o.prototype.interpolateShape=e,o.prototype.getValue=s,o.prototype.setVValue=a,o.prototype.addEffect=l,c.prototype.getValue=s,c.prototype.interpolateShape=e,c.prototype.setVValue=a,c.prototype.addEffect=l;var u=function(){var t=roundCorner;function e(t,e){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=e.d,this.elem=t,this.comp=t.comp,this.frameId=-1,this.initDynamicPropertyContainer(t),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.s=PropertyFactory.getProp(t,e.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return e.prototype={reset:r,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var e=this.p.v[0],n=this.p.v[1],r=this.s.v[0]/2,i=this.s.v[1]/2,a=3!==this.d,s=this.v;s.v[0][0]=e,s.v[0][1]=n-i,s.v[1][0]=a?e+r:e-r,s.v[1][1]=n,s.v[2][0]=e,s.v[2][1]=n+i,s.v[3][0]=a?e-r:e+r,s.v[3][1]=n,s.i[0][0]=a?e-r*t:e+r*t,s.i[0][1]=n-i,s.i[1][0]=a?e+r:e-r,s.i[1][1]=n-i*t,s.i[2][0]=a?e+r*t:e-r*t,s.i[2][1]=n+i,s.i[3][0]=a?e-r:e+r,s.i[3][1]=n+i*t,s.o[0][0]=a?e+r*t:e-r*t,s.o[0][1]=n-i,s.o[1][0]=a?e+r:e-r,s.o[1][1]=n+i*t,s.o[2][0]=a?e-r*t:e+r*t,s.o[2][1]=n+i,s.o[3][0]=a?e-r:e+r,s.o[3][1]=n-i*t}},extendPrototype([DynamicPropertyContainer],e),e}(),h=function(){function t(t,e){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=t,this.comp=t.comp,this.data=e,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),1===e.sy?(this.ir=PropertyFactory.getProp(t,e.ir,0,0,this),this.is=PropertyFactory.getProp(t,e.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(t,e.pt,0,0,this),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.r=PropertyFactory.getProp(t,e.r,0,degToRads,this),this.or=PropertyFactory.getProp(t,e.or,0,0,this),this.os=PropertyFactory.getProp(t,e.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return t.prototype={reset:r,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var t,e,n,r,i=2*Math.floor(this.pt.v),a=2*Math.PI/i,s=!0,o=this.or.v,l=this.ir.v,c=this.os.v,u=this.is.v,h=2*Math.PI*o/(2*i),p=2*Math.PI*l/(2*i),d=-Math.PI/2;d+=this.r.v;var f=3===this.data.d?-1:1;for(this.v._length=0,t=0;t<i;t+=1){e=s?o:l,n=s?c:u,r=s?h:p;var m=e*Math.cos(d),g=e*Math.sin(d),v=0===m&&0===g?0:g/Math.sqrt(m*m+g*g),y=0===m&&0===g?0:-m/Math.sqrt(m*m+g*g);m+=+this.p.v[0],g+=+this.p.v[1],this.v.setTripleAt(m,g,m-v*r*n*f,g-y*r*n*f,m+v*r*n*f,g+y*r*n*f,t,!0),s=!s,d+=a*f}},convertPolygonToPath:function(){var t,e=Math.floor(this.pt.v),n=2*Math.PI/e,r=this.or.v,i=this.os.v,a=2*Math.PI*r/(4*e),s=.5*-Math.PI,o=3===this.data.d?-1:1;for(s+=this.r.v,this.v._length=0,t=0;t<e;t+=1){var l=r*Math.cos(s),c=r*Math.sin(s),u=0===l&&0===c?0:c/Math.sqrt(l*l+c*c),h=0===l&&0===c?0:-l/Math.sqrt(l*l+c*c);l+=+this.p.v[0],c+=+this.p.v[1],this.v.setTripleAt(l,c,l-u*a*i*o,c-h*a*i*o,l+u*a*i*o,c+h*a*i*o,t,!0),s+=n*o}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],t),t}(),p=function(){function t(t,e){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=t,this.comp=t.comp,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.s=PropertyFactory.getProp(t,e.s,1,0,this),this.r=PropertyFactory.getProp(t,e.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return t.prototype={convertRectToPath:function(){var t=this.p.v[0],e=this.p.v[1],n=this.s.v[0]/2,r=this.s.v[1]/2,i=bmMin(n,r,this.r.v),a=i*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(t+n,e-r+i,t+n,e-r+i,t+n,e-r+a,0,!0),this.v.setTripleAt(t+n,e+r-i,t+n,e+r-a,t+n,e+r-i,1,!0),0!==i?(this.v.setTripleAt(t+n-i,e+r,t+n-i,e+r,t+n-a,e+r,2,!0),this.v.setTripleAt(t-n+i,e+r,t-n+a,e+r,t-n+i,e+r,3,!0),this.v.setTripleAt(t-n,e+r-i,t-n,e+r-i,t-n,e+r-a,4,!0),this.v.setTripleAt(t-n,e-r+i,t-n,e-r+a,t-n,e-r+i,5,!0),this.v.setTripleAt(t-n+i,e-r,t-n+i,e-r,t-n+a,e-r,6,!0),this.v.setTripleAt(t+n-i,e-r,t+n-a,e-r,t+n-i,e-r,7,!0)):(this.v.setTripleAt(t-n,e+r,t-n+a,e+r,t-n,e+r,2),this.v.setTripleAt(t-n,e-r,t-n,e-r+a,t-n,e-r,3))):(this.v.setTripleAt(t+n,e-r+i,t+n,e-r+a,t+n,e-r+i,0,!0),0!==i?(this.v.setTripleAt(t+n-i,e-r,t+n-i,e-r,t+n-a,e-r,1,!0),this.v.setTripleAt(t-n+i,e-r,t-n+a,e-r,t-n+i,e-r,2,!0),this.v.setTripleAt(t-n,e-r+i,t-n,e-r+i,t-n,e-r+a,3,!0),this.v.setTripleAt(t-n,e+r-i,t-n,e+r-a,t-n,e+r-i,4,!0),this.v.setTripleAt(t-n+i,e+r,t-n+i,e+r,t-n+a,e+r,5,!0),this.v.setTripleAt(t+n-i,e+r,t+n-a,e+r,t+n-i,e+r,6,!0),this.v.setTripleAt(t+n,e+r-i,t+n,e+r-i,t+n,e+r-a,7,!0)):(this.v.setTripleAt(t-n,e-r,t-n+a,e-r,t-n,e-r,1,!0),this.v.setTripleAt(t-n,e+r,t-n,e+r-a,t-n,e+r,2,!0),this.v.setTripleAt(t+n,e+r,t+n-a,e+r,t+n,e+r,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:r},extendPrototype([DynamicPropertyContainer],t),t}();function d(t,e,n){var r;if(3===n||4===n){var i=3===n?e.pt:e.ks,a=i.k;r=a.length?new c(t,e,n):new o(t,e,n)}else 5===n?r=new p(t,e):6===n?r=new u(t,e):7===n&&(r=new h(t,e));return r.k&&t.addDynamicProperty(r),r}function f(){return o}function m(){return c}var g={};return g.getShapeProp=d,g.getConstructorFunction=f,g.getKeyframedConstructorFunction=m,g}(),Matrix=function(){var t=Math.cos,e=Math.sin,n=Math.tan,r=Math.round;function i(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function a(n){if(0===n)return this;var r=t(n),i=e(n);return this._t(r,-i,0,0,i,r,0,0,0,0,1,0,0,0,0,1)}function s(n){if(0===n)return this;var r=t(n),i=e(n);return this._t(1,0,0,0,0,r,-i,0,0,i,r,0,0,0,0,1)}function o(n){if(0===n)return this;var r=t(n),i=e(n);return this._t(r,0,i,0,0,1,0,0,-i,0,r,0,0,0,0,1)}function l(n){if(0===n)return this;var r=t(n),i=e(n);return this._t(r,-i,0,0,i,r,0,0,0,0,1,0,0,0,0,1)}function c(t,e){return this._t(1,e,t,1,0,0)}function u(t,e){return this.shear(n(t),n(e))}function h(r,i){var a=t(i),s=e(i);return this._t(a,s,0,0,-s,a,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,n(r),1,0,0,0,0,1,0,0,0,0,1)._t(a,-s,0,0,s,a,0,0,0,0,1,0,0,0,0,1)}function p(t,e,n){return n||0===n||(n=1),1===t&&1===e&&1===n?this:this._t(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1)}function d(t,e,n,r,i,a,s,o,l,c,u,h,p,d,f,m){return this.props[0]=t,this.props[1]=e,this.props[2]=n,this.props[3]=r,this.props[4]=i,this.props[5]=a,this.props[6]=s,this.props[7]=o,this.props[8]=l,this.props[9]=c,this.props[10]=u,this.props[11]=h,this.props[12]=p,this.props[13]=d,this.props[14]=f,this.props[15]=m,this}function f(t,e,n){return n=n||0,0!==t||0!==e||0!==n?this._t(1,0,0,0,0,1,0,0,0,0,1,0,t,e,n,1):this}function m(t,e,n,r,i,a,s,o,l,c,u,h,p,d,f,m){var g=this.props;if(1===t&&0===e&&0===n&&0===r&&0===i&&1===a&&0===s&&0===o&&0===l&&0===c&&1===u&&0===h)return g[12]=g[12]*t+g[15]*p,g[13]=g[13]*a+g[15]*d,g[14]=g[14]*u+g[15]*f,g[15]*=m,this._identityCalculated=!1,this;var v=g[0],y=g[1],_=g[2],x=g[3],b=g[4],S=g[5],w=g[6],E=g[7],M=g[8],T=g[9],C=g[10],A=g[11],P=g[12],R=g[13],D=g[14],I=g[15];return g[0]=v*t+y*i+_*l+x*p,g[1]=v*e+y*a+_*c+x*d,g[2]=v*n+y*s+_*u+x*f,g[3]=v*r+y*o+_*h+x*m,g[4]=b*t+S*i+w*l+E*p,g[5]=b*e+S*a+w*c+E*d,g[6]=b*n+S*s+w*u+E*f,g[7]=b*r+S*o+w*h+E*m,g[8]=M*t+T*i+C*l+A*p,g[9]=M*e+T*a+C*c+A*d,g[10]=M*n+T*s+C*u+A*f,g[11]=M*r+T*o+C*h+A*m,g[12]=P*t+R*i+D*l+I*p,g[13]=P*e+R*a+D*c+I*d,g[14]=P*n+R*s+D*u+I*f,g[15]=P*r+R*o+D*h+I*m,this._identityCalculated=!1,this}function g(t){var e=t.props;return this.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function v(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function y(t){var e=0;while(e<16){if(t.props[e]!==this.props[e])return!1;e+=1}return!0}function _(t){var e;for(e=0;e<16;e+=1)t.props[e]=this.props[e];return t}function x(t){var e;for(e=0;e<16;e+=1)this.props[e]=t[e]}function b(t,e,n){return{x:t*this.props[0]+e*this.props[4]+n*this.props[8]+this.props[12],y:t*this.props[1]+e*this.props[5]+n*this.props[9]+this.props[13],z:t*this.props[2]+e*this.props[6]+n*this.props[10]+this.props[14]}}function S(t,e,n){return t*this.props[0]+e*this.props[4]+n*this.props[8]+this.props[12]}function w(t,e,n){return t*this.props[1]+e*this.props[5]+n*this.props[9]+this.props[13]}function E(t,e,n){return t*this.props[2]+e*this.props[6]+n*this.props[10]+this.props[14]}function M(){var t=this.props[0]*this.props[5]-this.props[1]*this.props[4],e=this.props[5]/t,n=-this.props[1]/t,r=-this.props[4]/t,i=this.props[0]/t,a=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/t,s=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/t,o=new Matrix;return o.props[0]=e,o.props[1]=n,o.props[4]=r,o.props[5]=i,o.props[12]=a,o.props[13]=s,o}function T(t){var e=this.getInverseMatrix();return e.applyToPointArray(t[0],t[1],t[2]||0)}function C(t){var e,n=t.length,r=[];for(e=0;e<n;e+=1)r[e]=T(t[e]);return r}function A(t,e,n){var r=createTypedArray("float32",6);if(this.isIdentity())r[0]=t[0],r[1]=t[1],r[2]=e[0],r[3]=e[1],r[4]=n[0],r[5]=n[1];else{var i=this.props[0],a=this.props[1],s=this.props[4],o=this.props[5],l=this.props[12],c=this.props[13];r[0]=t[0]*i+t[1]*s+l,r[1]=t[0]*a+t[1]*o+c,r[2]=e[0]*i+e[1]*s+l,r[3]=e[0]*a+e[1]*o+c,r[4]=n[0]*i+n[1]*s+l,r[5]=n[0]*a+n[1]*o+c}return r}function P(t,e,n){var r;return r=this.isIdentity()?[t,e,n]:[t*this.props[0]+e*this.props[4]+n*this.props[8]+this.props[12],t*this.props[1]+e*this.props[5]+n*this.props[9]+this.props[13],t*this.props[2]+e*this.props[6]+n*this.props[10]+this.props[14]],r}function R(t,e){if(this.isIdentity())return t+","+e;var n=this.props;return Math.round(100*(t*n[0]+e*n[4]+n[12]))/100+","+Math.round(100*(t*n[1]+e*n[5]+n[13]))/100}function D(){var t=0,e=this.props,n="matrix3d(",i=1e4;while(t<16)n+=r(e[t]*i)/i,n+=15===t?")":",",t+=1;return n}function I(t){var e=1e4;return t<1e-6&&t>0||t>-1e-6&&t<0?r(t*e)/e:t}function L(){var t=this.props,e=I(t[0]),n=I(t[1]),r=I(t[4]),i=I(t[5]),a=I(t[12]),s=I(t[13]);return"matrix("+e+","+n+","+r+","+i+","+a+","+s+")"}return function(){this.reset=i,this.rotate=a,this.rotateX=s,this.rotateY=o,this.rotateZ=l,this.skew=u,this.skewFromAxis=h,this.shear=c,this.scale=p,this.setTransform=d,this.translate=f,this.transform=m,this.multiply=g,this.applyToPoint=b,this.applyToX=S,this.applyToY=w,this.applyToZ=E,this.applyToPointArray=P,this.applyToTriplePoints=A,this.applyToPointStringified=R,this.toCSS=D,this.to2dCSS=L,this.clone=_,this.cloneFromProps=x,this.equals=y,this.inversePoints=C,this.inversePoint=T,this.getInverseMatrix=M,this._t=this.transform,this.isIdentity=v,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(t){return _typeof$3="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$3(t)}var lottie={},standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";function setLocation(t){setLocationHref(t)}function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(t){setSubframeEnabled(t)}function setPrefix(t){setIdPrefix(t)}function loadAnimation(t){return!0===standalone&&(t.animationData=JSON.parse(animationData)),animationManager.loadAnimation(t)}function setQuality(t){if("string"===typeof t)switch(t){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(t)&&t>1&&setDefaultCurveSegments(t);getDefaultCurveSegments()>=50?roundValues(!1):roundValues(!0)}function inBrowser(){return"undefined"!==typeof navigator}function installPlugin(t,e){"expressions"===t&&setExpressionsPlugin(e)}function getFactory(t){switch(t){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(t){for(var e=queryString.split("&"),n=0;n<e.length;n+=1){var r=e[n].split("=");if(decodeURIComponent(r[0])==t)return decodeURIComponent(r[1])}return null}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.12.2";var queryString="";if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{"object"!==_typeof$3(exports)&&__webpack_require__.amdO}catch(err){}var ShapeModifiers=function(){var t={},e={};function n(t,n){e[t]||(e[t]=n)}function r(t,n,r){return new e[t](n,r)}return t.registerModifier=n,t.getModifier=r,t}();function ShapeModifier(){}function TrimModifier(){}function PuckerAndBloatModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(t){if(!this.closed){t.sh.container.addDynamicProperty(t.sh);var e={shape:t.sh,data:t,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(e),this.addShapeToModifier(e),this._isAnimated&&t.setAsAnimated()}},ShapeModifier.prototype.init=function(t,e){this.shapes=[],this.elem=t,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(t,e){this.s=PropertyFactory.getProp(t,e.s,0,.01,this),this.e=PropertyFactory.getProp(t,e.e,0,.01,this),this.o=PropertyFactory.getProp(t,e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=e.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(t){t.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(t,e,n,r,i){var a=[];e<=1?a.push({s:t,e:e}):t>=1?a.push({s:t-1,e:e-1}):(a.push({s:t,e:1}),a.push({s:0,e:e-1}));var s,o,l=[],c=a.length;for(s=0;s<c;s+=1){var u,h;if(o=a[s],!(o.e*i<r||o.s*i>r+n))u=o.s*i<=r?0:(o.s*i-r)/n,h=o.e*i>=r+n?1:(o.e*i-r)/n,l.push([u,h])}return l.length||l.push([0,0]),l},TrimModifier.prototype.releasePathsData=function(t){var e,n=t.length;for(e=0;e<n;e+=1)segmentsLengthPool.release(t[e]);return t.length=0,t},TrimModifier.prototype.processShapes=function(t){var e,n,r,i;if(this._mdf||t){var a=this.o.v%360/360;if(a<0&&(a+=1),e=this.s.v>1?1+a:this.s.v<0?0+a:this.s.v+a,n=this.e.v>1?1+a:this.e.v<0?0+a:this.e.v+a,e>n){var s=e;e=n,n=s}e=1e-4*Math.round(1e4*e),n=1e-4*Math.round(1e4*n),this.sValue=e,this.eValue=n}else e=this.sValue,n=this.eValue;var o,l,c,u,h,p=this.shapes.length,d=0;if(n===e)for(i=0;i<p;i+=1)this.shapes[i].localShapeCollection.releaseShapes(),this.shapes[i].shape._mdf=!0,this.shapes[i].shape.paths=this.shapes[i].localShapeCollection,this._mdf&&(this.shapes[i].pathsData.length=0);else if(1===n&&0===e||0===n&&1===e){if(this._mdf)for(i=0;i<p;i+=1)this.shapes[i].pathsData.length=0,this.shapes[i].shape._mdf=!0}else{var f,m,g=[];for(i=0;i<p;i+=1)if(f=this.shapes[i],f.shape._mdf||this._mdf||t||2===this.m){if(r=f.shape.paths,l=r._length,h=0,!f.shape._mdf&&f.pathsData.length)h=f.totalShapeLength;else{for(c=this.releasePathsData(f.pathsData),o=0;o<l;o+=1)u=bez.getSegmentsLength(r.shapes[o]),c.push(u),h+=u.totalLength;f.totalShapeLength=h,f.pathsData=c}d+=h,f.shape._mdf=!0}else f.shape.paths=f.localShapeCollection;var v,y=e,_=n,x=0;for(i=p-1;i>=0;i-=1)if(f=this.shapes[i],f.shape._mdf){for(m=f.localShapeCollection,m.releaseShapes(),2===this.m&&p>1?(v=this.calculateShapeEdges(e,n,f.totalShapeLength,x,d),x+=f.totalShapeLength):v=[[y,_]],l=v.length,o=0;o<l;o+=1){y=v[o][0],_=v[o][1],g.length=0,_<=1?g.push({s:f.totalShapeLength*y,e:f.totalShapeLength*_}):y>=1?g.push({s:f.totalShapeLength*(y-1),e:f.totalShapeLength*(_-1)}):(g.push({s:f.totalShapeLength*y,e:f.totalShapeLength}),g.push({s:0,e:f.totalShapeLength*(_-1)}));var b=this.addShapes(f,g[0]);if(g[0].s!==g[0].e){if(g.length>1){var S=f.shape.paths.shapes[f.shape.paths._length-1];if(S.c){var w=b.pop();this.addPaths(b,m),b=this.addShapes(f,g[1],w)}else this.addPaths(b,m),b=this.addShapes(f,g[1])}this.addPaths(b,m)}}f.shape.paths=m}}},TrimModifier.prototype.addPaths=function(t,e){var n,r=t.length;for(n=0;n<r;n+=1)e.addShape(t[n])},TrimModifier.prototype.addSegment=function(t,e,n,r,i,a,s){i.setXYAt(e[0],e[1],"o",a),i.setXYAt(n[0],n[1],"i",a+1),s&&i.setXYAt(t[0],t[1],"v",a),i.setXYAt(r[0],r[1],"v",a+1)},TrimModifier.prototype.addSegmentFromArray=function(t,e,n,r){e.setXYAt(t[1],t[5],"o",n),e.setXYAt(t[2],t[6],"i",n+1),r&&e.setXYAt(t[0],t[4],"v",n),e.setXYAt(t[3],t[7],"v",n+1)},TrimModifier.prototype.addShapes=function(t,e,n){var r,i,a,s,o,l,c,u,h=t.pathsData,p=t.shape.paths.shapes,d=t.shape.paths._length,f=0,m=[],g=!0;for(n?(o=n._length,u=n._length):(n=shapePool.newElement(),o=0,u=0),m.push(n),r=0;r<d;r+=1){for(l=h[r].lengths,n.c=p[r].c,a=p[r].c?l.length:l.length+1,i=1;i<a;i+=1)if(s=l[i-1],f+s.addedLength<e.s)f+=s.addedLength,n.c=!1;else{if(f>e.e){n.c=!1;break}e.s<=f&&e.e>=f+s.addedLength?(this.addSegment(p[r].v[i-1],p[r].o[i-1],p[r].i[i],p[r].v[i],n,o,g),g=!1):(c=bez.getNewSegment(p[r].v[i-1],p[r].v[i],p[r].o[i-1],p[r].i[i],(e.s-f)/s.addedLength,(e.e-f)/s.addedLength,l[i-1]),this.addSegmentFromArray(c,n,o,g),g=!1,n.c=!1),f+=s.addedLength,o+=1}if(p[r].c&&l.length){if(s=l[i-1],f<=e.e){var v=l[i-1].addedLength;e.s<=f&&e.e>=f+v?(this.addSegment(p[r].v[i-1],p[r].o[i-1],p[r].i[0],p[r].v[0],n,o,g),g=!1):(c=bez.getNewSegment(p[r].v[i-1],p[r].v[0],p[r].o[i-1],p[r].i[0],(e.s-f)/v,(e.e-f)/v,l[i-1]),this.addSegmentFromArray(c,n,o,g),g=!1,n.c=!1)}else n.c=!1;f+=s.addedLength,o+=1}if(n._length&&(n.setXYAt(n.v[u][0],n.v[u][1],"i",u),n.setXYAt(n.v[n._length-1][0],n.v[n._length-1][1],"o",n._length-1)),f>e.e)break;r<d-1&&(n=shapePool.newElement(),g=!0,m.push(n),o=0)}return m},extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(t,e.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(t,e){var n=e/100,r=[0,0],i=t._length,a=0;for(a=0;a<i;a+=1)r[0]+=t.v[a][0],r[1]+=t.v[a][1];r[0]/=i,r[1]/=i;var s,o,l,c,u,h,p=shapePool.newElement();for(p.c=t.c,a=0;a<i;a+=1)s=t.v[a][0]+(r[0]-t.v[a][0])*n,o=t.v[a][1]+(r[1]-t.v[a][1])*n,l=t.o[a][0]+(r[0]-t.o[a][0])*-n,c=t.o[a][1]+(r[1]-t.o[a][1])*-n,u=t.i[a][0]+(r[0]-t.i[a][0])*-n,h=t.i[a][1]+(r[1]-t.i[a][1])*-n,p.setTripleAt(s,o,l,c,u,h,a);return p},PuckerAndBloatModifier.prototype.processShapes=function(t){var e,n,r,i,a,s,o=this.shapes.length,l=this.amount.v;if(0!==l)for(n=0;n<o;n+=1){if(a=this.shapes[n],s=a.localShapeCollection,a.shape._mdf||this._mdf||t)for(s.releaseShapes(),a.shape._mdf=!0,e=a.shape.paths.shapes,i=a.shape.paths._length,r=0;r<i;r+=1)s.addShape(this.processPath(e[r],l));a.shape.paths=a.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var t=[0,0];function e(t){var e=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||e,this.a&&t.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&t.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&t.skewFromAxis(-this.sk.v,this.sa.v),this.r?t.rotate(-this.r.v):t.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?t.translate(this.px.v,this.py.v,-this.pz.v):t.translate(this.px.v,this.py.v,0):t.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function n(e){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||e){var n;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var r,i;if(n=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(r=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/n,0),i=this.p.getValueAtTime(this.p.keyframes[0].t/n,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(r=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/n,0),i=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/n,0)):(r=this.p.pv,i=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/n,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){r=[],i=[];var a=this.px,s=this.py;a._caching.lastFrame+a.offsetTime<=a.keyframes[0].t?(r[0]=a.getValueAtTime((a.keyframes[0].t+.01)/n,0),r[1]=s.getValueAtTime((s.keyframes[0].t+.01)/n,0),i[0]=a.getValueAtTime(a.keyframes[0].t/n,0),i[1]=s.getValueAtTime(s.keyframes[0].t/n,0)):a._caching.lastFrame+a.offsetTime>=a.keyframes[a.keyframes.length-1].t?(r[0]=a.getValueAtTime(a.keyframes[a.keyframes.length-1].t/n,0),r[1]=s.getValueAtTime(s.keyframes[s.keyframes.length-1].t/n,0),i[0]=a.getValueAtTime((a.keyframes[a.keyframes.length-1].t-.01)/n,0),i[1]=s.getValueAtTime((s.keyframes[s.keyframes.length-1].t-.01)/n,0)):(r=[a.pv,s.pv],i[0]=a.getValueAtTime((a._caching.lastFrame+a.offsetTime-.01)/n,a.offsetTime),i[1]=s.getValueAtTime((s._caching.lastFrame+s.offsetTime-.01)/n,s.offsetTime))}else i=t,r=i;this.v.rotate(-Math.atan2(r[1]-i[1],r[0]-i[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function r(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}}function i(){}function a(t){this._addDynamicProperty(t),this.elem.addDynamicProperty(t),this._isDirty=!0}function s(t,e,n){if(this.elem=t,this.frameId=-1,this.propType="transform",this.data=e,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(n||t),e.p&&e.p.s?(this.px=PropertyFactory.getProp(t,e.p.x,0,0,this),this.py=PropertyFactory.getProp(t,e.p.y,0,0,this),e.p.z&&(this.pz=PropertyFactory.getProp(t,e.p.z,0,0,this))):this.p=PropertyFactory.getProp(t,e.p||{k:[0,0,0]},1,0,this),e.rx){if(this.rx=PropertyFactory.getProp(t,e.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(t,e.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(t,e.rz,0,degToRads,this),e.or.k[0].ti){var r,i=e.or.k.length;for(r=0;r<i;r+=1)e.or.k[r].to=null,e.or.k[r].ti=null}this.or=PropertyFactory.getProp(t,e.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(t,e.r||{k:0},0,degToRads,this);e.sk&&(this.sk=PropertyFactory.getProp(t,e.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(t,e.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(t,e.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(t,e.s||{k:[100,100,100]},1,.01,this),e.o?this.o=PropertyFactory.getProp(t,e.o,0,.01,t):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}function o(t,e,n){return new s(t,e,n)}return s.prototype={applyToMatrix:e,getValue:n,precalculateMatrix:r,autoOrient:i},extendPrototype([DynamicPropertyContainer],s),s.prototype.addDynamicProperty=a,s.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:o}}();function RepeaterModifier(){}function RoundCornersModifier(){}function floatEqual(t,e){return 1e5*Math.abs(t-e)<=Math.min(Math.abs(t),Math.abs(e))}function floatZero(t){return Math.abs(t)<=1e-5}function lerp(t,e,n){return t*(1-n)+e*n}function lerpPoint(t,e,n){return[lerp(t[0],e[0],n),lerp(t[1],e[1],n)]}function quadRoots(t,e,n){if(0===t)return[];var r=e*e-4*t*n;if(r<0)return[];var i=-e/(2*t);if(0===r)return[i];var a=Math.sqrt(r)/(2*t);return[i-a,i+a]}function polynomialCoefficients(t,e,n,r){return[3*e-t-3*n+r,3*t-6*e+3*n,-3*t+3*e,t]}function singlePoint(t){return new PolynomialBezier(t,t,t,t,!1)}function PolynomialBezier(t,e,n,r,i){i&&pointEqual(t,e)&&(e=lerpPoint(t,r,1/3)),i&&pointEqual(n,r)&&(n=lerpPoint(t,r,2/3));var a=polynomialCoefficients(t[0],e[0],n[0],r[0]),s=polynomialCoefficients(t[1],e[1],n[1],r[1]);this.a=[a[0],s[0]],this.b=[a[1],s[1]],this.c=[a[2],s[2]],this.d=[a[3],s[3]],this.points=[t,e,n,r]}function extrema(t,e){var n=t.points[0][e],r=t.points[t.points.length-1][e];if(n>r){var i=r;r=n,n=i}for(var a=quadRoots(3*t.a[e],2*t.b[e],t.c[e]),s=0;s<a.length;s+=1)if(a[s]>0&&a[s]<1){var o=t.point(a[s])[e];o<n?n=o:o>r&&(r=o)}return{min:n,max:r}}function intersectData(t,e,n){var r=t.boundingBox();return{cx:r.cx,cy:r.cy,width:r.width,height:r.height,bez:t,t:(e+n)/2,t1:e,t2:n}}function splitData(t){var e=t.bez.split(.5);return[intersectData(e[0],t.t1,t.t),intersectData(e[1],t.t,t.t2)]}function boxIntersect(t,e){return 2*Math.abs(t.cx-e.cx)<t.width+e.width&&2*Math.abs(t.cy-e.cy)<t.height+e.height}function intersectsImpl(t,e,n,r,i,a){if(boxIntersect(t,e))if(n>=a||t.width<=r&&t.height<=r&&e.width<=r&&e.height<=r)i.push([t.t,e.t]);else{var s=splitData(t),o=splitData(e);intersectsImpl(s[0],o[0],n+1,r,i,a),intersectsImpl(s[0],o[1],n+1,r,i,a),intersectsImpl(s[1],o[0],n+1,r,i,a),intersectsImpl(s[1],o[1],n+1,r,i,a)}}function crossProduct(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function lineIntersection(t,e,n,r){var i=[t[0],t[1],1],a=[e[0],e[1],1],s=[n[0],n[1],1],o=[r[0],r[1],1],l=crossProduct(crossProduct(i,a),crossProduct(s,o));return floatZero(l[2])?null:[l[0]/l[2],l[1]/l[2]]}function polarOffset(t,e,n){return[t[0]+Math.cos(e)*n,t[1]-Math.sin(e)*n]}function pointDistance(t,e){return Math.hypot(t[0]-e[0],t[1]-e[1])}function pointEqual(t,e){return floatEqual(t[0],e[0])&&floatEqual(t[1],e[1])}function ZigZagModifier(){}function setPoint(t,e,n,r,i,a,s){var o=n-Math.PI/2,l=n+Math.PI/2,c=e[0]+Math.cos(n)*r*i,u=e[1]-Math.sin(n)*r*i;t.setTripleAt(c,u,c+Math.cos(o)*a,u-Math.sin(o)*a,c+Math.cos(l)*s,u-Math.sin(l)*s,t.length())}function getPerpendicularVector(t,e){var n=[e[0]-t[0],e[1]-t[1]],r=.5*-Math.PI,i=[Math.cos(r)*n[0]-Math.sin(r)*n[1],Math.sin(r)*n[0]+Math.cos(r)*n[1]];return i}function getProjectingAngle(t,e){var n=0===e?t.length()-1:e-1,r=(e+1)%t.length(),i=t.v[n],a=t.v[r],s=getPerpendicularVector(i,a);return Math.atan2(0,1)-Math.atan2(s[1],s[0])}function zigZagCorner(t,e,n,r,i,a,s){var o=getProjectingAngle(e,n),l=e.v[n%e._length],c=e.v[0===n?e._length-1:n-1],u=e.v[(n+1)%e._length],h=2===a?Math.sqrt(Math.pow(l[0]-c[0],2)+Math.pow(l[1]-c[1],2)):0,p=2===a?Math.sqrt(Math.pow(l[0]-u[0],2)+Math.pow(l[1]-u[1],2)):0;setPoint(t,e.v[n%e._length],o,s,r,p/(2*(i+1)),h/(2*(i+1)),a)}function zigZagSegment(t,e,n,r,i,a){for(var s=0;s<r;s+=1){var o=(s+1)/(r+1),l=2===i?Math.sqrt(Math.pow(e.points[3][0]-e.points[0][0],2)+Math.pow(e.points[3][1]-e.points[0][1],2)):0,c=e.normalAngle(o),u=e.point(o);setPoint(t,u,c,a,n,l/(2*(r+1)),l/(2*(r+1)),i),a=-a}return a}function linearOffset(t,e,n){var r=Math.atan2(e[0]-t[0],e[1]-t[1]);return[polarOffset(t,r,n),polarOffset(e,r,n)]}function offsetSegment(t,e){var n,r,i,a,s,o,l;l=linearOffset(t.points[0],t.points[1],e),n=l[0],r=l[1],l=linearOffset(t.points[1],t.points[2],e),i=l[0],a=l[1],l=linearOffset(t.points[2],t.points[3],e),s=l[0],o=l[1];var c=lineIntersection(n,r,i,a);null===c&&(c=r);var u=lineIntersection(s,o,i,a);return null===u&&(u=s),new PolynomialBezier(n,c,u,o)}function joinLines(t,e,n,r,i){var a=e.points[3],s=n.points[0];if(3===r)return a;if(pointEqual(a,s))return a;if(2===r){var o=-e.tangentAngle(1),l=-n.tangentAngle(0)+Math.PI,c=lineIntersection(a,polarOffset(a,o+Math.PI/2,100),s,polarOffset(s,o+Math.PI/2,100)),u=c?pointDistance(c,a):pointDistance(a,s)/2,h=polarOffset(a,o,2*u*roundCorner);return t.setXYAt(h[0],h[1],"o",t.length()-1),h=polarOffset(s,l,2*u*roundCorner),t.setTripleAt(s[0],s[1],s[0],s[1],h[0],h[1],t.length()),s}var p=pointEqual(a,e.points[2])?e.points[0]:e.points[2],d=pointEqual(s,n.points[1])?n.points[3]:n.points[1],f=lineIntersection(p,a,s,d);return f&&pointDistance(f,a)<i?(t.setTripleAt(f[0],f[1],f[0],f[1],f[0],f[1],t.length()),f):a}function getIntersection(t,e){var n=t.intersections(e);return n.length&&floatEqual(n[0][0],1)&&n.shift(),n.length?n[0]:null}function pruneSegmentIntersection(t,e){var n=t.slice(),r=e.slice(),i=getIntersection(t[t.length-1],e[0]);return i&&(n[t.length-1]=t[t.length-1].split(i[0])[0],r[0]=e[0].split(i[1])[1]),t.length>1&&e.length>1&&(i=getIntersection(t[0],e[e.length-1]),i)?[[t[0].split(i[0])[0]],[e[e.length-1].split(i[1])[1]]]:[n,r]}function pruneIntersections(t){for(var e,n=1;n<t.length;n+=1)e=pruneSegmentIntersection(t[n-1],t[n]),t[n-1]=e[0],t[n]=e[1];return t.length>1&&(e=pruneSegmentIntersection(t[t.length-1],t[0]),t[t.length-1]=e[0],t[0]=e[1]),t}function offsetSegmentSplit(t,e){var n,r,i,a,s=t.inflectionPoints();if(0===s.length)return[offsetSegment(t,e)];if(1===s.length||floatEqual(s[1],1))return i=t.split(s[0]),n=i[0],r=i[1],[offsetSegment(n,e),offsetSegment(r,e)];i=t.split(s[0]),n=i[0];var o=(s[1]-s[0])/(1-s[0]);return i=i[1].split(o),a=i[0],r=i[1],[offsetSegment(n,e),offsetSegment(a,e),offsetSegment(r,e)]}function OffsetPathModifier(){}function getFontProperties(t){for(var e,n=t.fStyle?t.fStyle.split(" "):[],r="normal",i="normal",a=n.length,s=0;s<a;s+=1)switch(e=n[s].toLowerCase(),e){case"italic":i="italic";break;case"bold":r="700";break;case"black":r="900";break;case"medium":r="500";break;case"regular":case"normal":r="400";break;case"light":case"thin":r="200";break;default:break}return{style:i,weight:t.fWeight||r}}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(t,e.c,0,null,this),this.o=PropertyFactory.getProp(t,e.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(t,e.tr,this),this.so=PropertyFactory.getProp(t,e.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(t,e.tr.eo,0,.01,this),this.data=e,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(t,e,n,r,i,a){var s=a?-1:1,o=r.s.v[0]+(1-r.s.v[0])*(1-i),l=r.s.v[1]+(1-r.s.v[1])*(1-i);t.translate(r.p.v[0]*s*i,r.p.v[1]*s*i,r.p.v[2]),e.translate(-r.a.v[0],-r.a.v[1],r.a.v[2]),e.rotate(-r.r.v*s*i),e.translate(r.a.v[0],r.a.v[1],r.a.v[2]),n.translate(-r.a.v[0],-r.a.v[1],r.a.v[2]),n.scale(a?1/o:o,a?1/l:l),n.translate(r.a.v[0],r.a.v[1],r.a.v[2])},RepeaterModifier.prototype.init=function(t,e,n,r){this.elem=t,this.arr=e,this.pos=n,this.elemsData=r,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e[n]);while(n>0)n-=1,this._elements.unshift(e[n]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(t){var e,n=t.length;for(e=0;e<n;e+=1)t[e]._processed=!1,"gr"===t[e].ty&&this.resetElements(t[e].it)},RepeaterModifier.prototype.cloneElements=function(t){var e=JSON.parse(JSON.stringify(t));return this.resetElements(e),e},RepeaterModifier.prototype.changeGroupRender=function(t,e){var n,r=t.length;for(n=0;n<r;n+=1)t[n]._render=e,"gr"===t[n].ty&&this.changeGroupRender(t[n].it,e)},RepeaterModifier.prototype.processShapes=function(t){var e,n,r,i,a,s=!1;if(this._mdf||t){var o,l=Math.ceil(this.c.v);if(this._groups.length<l){while(this._groups.length<l){var c={it:this.cloneElements(this._elements),ty:"gr"};c.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,c),this._groups.splice(0,0,c),this._currentCopies+=1}this.elem.reloadShapes(),s=!0}for(a=0,r=0;r<=this._groups.length-1;r+=1){if(o=a<l,this._groups[r]._render=o,this.changeGroupRender(this._groups[r].it,o),!o){var u=this.elemsData[r].it,h=u[u.length-1];0!==h.transform.op.v?(h.transform.op._mdf=!0,h.transform.op.v=0):h.transform.op._mdf=!1}a+=1}this._currentCopies=l;var p=this.o.v,d=p%1,f=p>0?Math.floor(p):Math.ceil(p),m=this.pMatrix.props,g=this.rMatrix.props,v=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var y,_,x=0;if(p>0){while(x<f)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),x+=1;d&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,d,!1),x+=d)}else if(p<0){while(x>f)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),x-=1;d&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-d,!0),x-=d)}r=1===this.data.m?0:this._currentCopies-1,i=1===this.data.m?1:-1,a=this._currentCopies;while(a){if(e=this.elemsData[r].it,n=e[e.length-1].transform.mProps.v.props,_=n.length,e[e.length-1].transform.mProps._mdf=!0,e[e.length-1].transform.op._mdf=!0,e[e.length-1].transform.op.v=1===this._currentCopies?this.so.v:this.so.v+(this.eo.v-this.so.v)*(r/(this._currentCopies-1)),0!==x){for((0!==r&&1===i||r!==this._currentCopies-1&&-1===i)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],g[8],g[9],g[10],g[11],g[12],g[13],g[14],g[15]),this.matrix.transform(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],v[8],v[9],v[10],v[11],v[12],v[13],v[14],v[15]),this.matrix.transform(m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8],m[9],m[10],m[11],m[12],m[13],m[14],m[15]),y=0;y<_;y+=1)n[y]=this.matrix.props[y];this.matrix.reset()}else for(this.matrix.reset(),y=0;y<_;y+=1)n[y]=this.matrix.props[y];x+=1,a-=1,r+=i}}else{a=this._currentCopies,r=0,i=1;while(a)e=this.elemsData[r].it,n=e[e.length-1].transform.mProps.v.props,e[e.length-1].transform.mProps._mdf=!1,e[e.length-1].transform.op._mdf=!1,a-=1,r+=i}return s},RepeaterModifier.prototype.addShape=function(){},extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(t,e.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(t,e){var n,r=shapePool.newElement();r.c=t.c;var i,a,s,o,l,c,u,h,p,d,f,m,g=t._length,v=0;for(n=0;n<g;n+=1)i=t.v[n],s=t.o[n],a=t.i[n],i[0]===s[0]&&i[1]===s[1]&&i[0]===a[0]&&i[1]===a[1]?0!==n&&n!==g-1||t.c?(o=0===n?t.v[g-1]:t.v[n-1],l=Math.sqrt(Math.pow(i[0]-o[0],2)+Math.pow(i[1]-o[1],2)),c=l?Math.min(l/2,e)/l:0,f=i[0]+(o[0]-i[0])*c,u=f,m=i[1]-(i[1]-o[1])*c,h=m,p=u-(u-i[0])*roundCorner,d=h-(h-i[1])*roundCorner,r.setTripleAt(u,h,p,d,f,m,v),v+=1,o=n===g-1?t.v[0]:t.v[n+1],l=Math.sqrt(Math.pow(i[0]-o[0],2)+Math.pow(i[1]-o[1],2)),c=l?Math.min(l/2,e)/l:0,p=i[0]+(o[0]-i[0])*c,u=p,d=i[1]+(o[1]-i[1])*c,h=d,f=u-(u-i[0])*roundCorner,m=h-(h-i[1])*roundCorner,r.setTripleAt(u,h,p,d,f,m,v),v+=1):(r.setTripleAt(i[0],i[1],s[0],s[1],a[0],a[1],v),v+=1):(r.setTripleAt(t.v[n][0],t.v[n][1],t.o[n][0],t.o[n][1],t.i[n][0],t.i[n][1],v),v+=1);return r},RoundCornersModifier.prototype.processShapes=function(t){var e,n,r,i,a,s,o=this.shapes.length,l=this.rd.v;if(0!==l)for(n=0;n<o;n+=1){if(a=this.shapes[n],s=a.localShapeCollection,a.shape._mdf||this._mdf||t)for(s.releaseShapes(),a.shape._mdf=!0,e=a.shape.paths.shapes,i=a.shape.paths._length,r=0;r<i;r+=1)s.addShape(this.processPath(e[r],l));a.shape.paths=a.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},PolynomialBezier.prototype.point=function(t){return[((this.a[0]*t+this.b[0])*t+this.c[0])*t+this.d[0],((this.a[1]*t+this.b[1])*t+this.c[1])*t+this.d[1]]},PolynomialBezier.prototype.derivative=function(t){return[(3*t*this.a[0]+2*this.b[0])*t+this.c[0],(3*t*this.a[1]+2*this.b[1])*t+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(t){var e=this.derivative(t);return Math.atan2(e[1],e[0])},PolynomialBezier.prototype.normalAngle=function(t){var e=this.derivative(t);return Math.atan2(e[0],e[1])},PolynomialBezier.prototype.inflectionPoints=function(){var t=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(t))return[];var e=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/t,n=e*e-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/t;if(n<0)return[];var r=Math.sqrt(n);return floatZero(r)?r>0&&r<1?[e]:[]:[e-r,e+r].filter((function(t){return t>0&&t<1}))},PolynomialBezier.prototype.split=function(t){if(t<=0)return[singlePoint(this.points[0]),this];if(t>=1)return[this,singlePoint(this.points[this.points.length-1])];var e=lerpPoint(this.points[0],this.points[1],t),n=lerpPoint(this.points[1],this.points[2],t),r=lerpPoint(this.points[2],this.points[3],t),i=lerpPoint(e,n,t),a=lerpPoint(n,r,t),s=lerpPoint(i,a,t);return[new PolynomialBezier(this.points[0],e,i,s,!0),new PolynomialBezier(s,a,r,this.points[3],!0)]},PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var t=this.bounds();return{left:t.x.min,right:t.x.max,top:t.y.min,bottom:t.y.max,width:t.x.max-t.x.min,height:t.y.max-t.y.min,cx:(t.x.max+t.x.min)/2,cy:(t.y.max+t.y.min)/2}},PolynomialBezier.prototype.intersections=function(t,e,n){void 0===e&&(e=2),void 0===n&&(n=7);var r=[];return intersectsImpl(intersectData(this,0,1),intersectData(t,0,1),0,e,r,n),r},PolynomialBezier.shapeSegment=function(t,e){var n=(e+1)%t.length();return new PolynomialBezier(t.v[e],t.o[e],t.i[n],t.v[n],!0)},PolynomialBezier.shapeSegmentInverted=function(t,e){var n=(e+1)%t.length();return new PolynomialBezier(t.v[n],t.i[n],t.o[e],t.v[e],!0)},extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(t,e.s,0,null,this),this.frequency=PropertyFactory.getProp(t,e.r,0,null,this),this.pointsType=PropertyFactory.getProp(t,e.pt,0,null,this),this._isAnimated=0!==this.amplitude.effectsSequence.length||0!==this.frequency.effectsSequence.length||0!==this.pointsType.effectsSequence.length},ZigZagModifier.prototype.processPath=function(t,e,n,r){var i=t._length,a=shapePool.newElement();if(a.c=t.c,t.c||(i-=1),0===i)return a;var s=-1,o=PolynomialBezier.shapeSegment(t,0);zigZagCorner(a,t,0,e,n,r,s);for(var l=0;l<i;l+=1)s=zigZagSegment(a,o,e,n,r,-s),o=l!==i-1||t.c?PolynomialBezier.shapeSegment(t,(l+1)%i):null,zigZagCorner(a,t,l+1,e,n,r,s);return a},ZigZagModifier.prototype.processShapes=function(t){var e,n,r,i,a,s,o=this.shapes.length,l=this.amplitude.v,c=Math.max(0,Math.round(this.frequency.v)),u=this.pointsType.v;if(0!==l)for(n=0;n<o;n+=1){if(a=this.shapes[n],s=a.localShapeCollection,a.shape._mdf||this._mdf||t)for(s.releaseShapes(),a.shape._mdf=!0,e=a.shape.paths.shapes,i=a.shape.paths._length,r=0;r<i;r+=1)s.addShape(this.processPath(e[r],l,c,u));a.shape.paths=a.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(t,e.a,0,null,this),this.miterLimit=PropertyFactory.getProp(t,e.ml,0,null,this),this.lineJoin=e.lj,this._isAnimated=0!==this.amount.effectsSequence.length},OffsetPathModifier.prototype.processPath=function(t,e,n,r){var i=shapePool.newElement();i.c=t.c;var a,s,o,l=t.length();t.c||(l-=1);var c=[];for(a=0;a<l;a+=1)o=PolynomialBezier.shapeSegment(t,a),c.push(offsetSegmentSplit(o,e));if(!t.c)for(a=l-1;a>=0;a-=1)o=PolynomialBezier.shapeSegmentInverted(t,a),c.push(offsetSegmentSplit(o,e));c=pruneIntersections(c);var u=null,h=null;for(a=0;a<c.length;a+=1){var p=c[a];for(h&&(u=joinLines(i,h,p[0],n,r)),h=p[p.length-1],s=0;s<p.length;s+=1)o=p[s],u&&pointEqual(o.points[0],u)?i.setXYAt(o.points[1][0],o.points[1][1],"o",i.length()-1):i.setTripleAt(o.points[0][0],o.points[0][1],o.points[1][0],o.points[1][1],o.points[0][0],o.points[0][1],i.length()),i.setTripleAt(o.points[3][0],o.points[3][1],o.points[3][0],o.points[3][1],o.points[2][0],o.points[2][1],i.length()),u=o.points[3]}return c.length&&joinLines(i,h,c[0][0],n,r),i},OffsetPathModifier.prototype.processShapes=function(t){var e,n,r,i,a,s,o=this.shapes.length,l=this.amount.v,c=this.miterLimit.v,u=this.lineJoin;if(0!==l)for(n=0;n<o;n+=1){if(a=this.shapes[n],s=a.localShapeCollection,a.shape._mdf||this._mdf||t)for(s.releaseShapes(),a.shape._mdf=!0,e=a.shape.paths.shapes,i=a.shape.paths._length,r=0;r<i;r+=1)s.addShape(this.processPath(e[r],l,u,c));a.shape.paths=a.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var FontManager=function(){var t=5e3,e={w:0,size:0,shapes:[],data:{shapes:[]}},n=[];n=n.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var r=127988,i=917631,a=917601,s=917626,o=65039,l=8205,c=127462,u=127487,h=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function p(t){var e,n=t.split(","),r=n.length,i=[];for(e=0;e<r;e+=1)"sans-serif"!==n[e]&&"monospace"!==n[e]&&i.push(n[e]);return i.join(",")}function d(t,e){var n=createTag("span");n.setAttribute("aria-hidden",!0),n.style.fontFamily=e;var r=createTag("span");r.innerText="giItT1WQy@!-/#",n.style.position="absolute",n.style.left="-10000px",n.style.top="-10000px",n.style.fontSize="300px",n.style.fontVariant="normal",n.style.fontStyle="normal",n.style.fontWeight="normal",n.style.letterSpacing="0",n.appendChild(r),document.body.appendChild(n);var i=r.offsetWidth;return r.style.fontFamily=p(t)+", "+e,{node:r,w:i,parent:n}}function f(){var e,n,r,i=this.fonts.length,a=i;for(e=0;e<i;e+=1)this.fonts[e].loaded?a-=1:"n"===this.fonts[e].fOrigin||0===this.fonts[e].origin?this.fonts[e].loaded=!0:(n=this.fonts[e].monoCase.node,r=this.fonts[e].monoCase.w,n.offsetWidth!==r?(a-=1,this.fonts[e].loaded=!0):(n=this.fonts[e].sansCase.node,r=this.fonts[e].sansCase.w,n.offsetWidth!==r&&(a-=1,this.fonts[e].loaded=!0)),this.fonts[e].loaded&&(this.fonts[e].sansCase.parent.parentNode.removeChild(this.fonts[e].sansCase.parent),this.fonts[e].monoCase.parent.parentNode.removeChild(this.fonts[e].monoCase.parent)));0!==a&&Date.now()-this.initTime<t?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function m(t,e){var n,r=document.body&&e?"svg":"canvas",i=getFontProperties(t);if("svg"===r){var a=createNS("text");a.style.fontSize="100px",a.setAttribute("font-family",t.fFamily),a.setAttribute("font-style",i.style),a.setAttribute("font-weight",i.weight),a.textContent="1",t.fClass?(a.style.fontFamily="inherit",a.setAttribute("class",t.fClass)):a.style.fontFamily=t.fFamily,e.appendChild(a),n=a}else{var s=new OffscreenCanvas(500,500).getContext("2d");s.font=i.style+" "+i.weight+" 100px "+t.fFamily,n=s}function o(t){return"svg"===r?(n.textContent=t,n.getComputedTextLength()):n.measureText(t).width}return{measureText:o}}function g(t,e){if(t){if(this.chars)return this.isLoaded=!0,void(this.fonts=t.list);if(!document.body)return this.isLoaded=!0,t.list.forEach((function(t){t.helper=m(t),t.cache={}})),void(this.fonts=t.list);var n,r=t.list,i=r.length,a=i;for(n=0;n<i;n+=1){var s,o,l=!0;if(r[n].loaded=!1,r[n].monoCase=d(r[n].fFamily,"monospace"),r[n].sansCase=d(r[n].fFamily,"sans-serif"),r[n].fPath){if("p"===r[n].fOrigin||3===r[n].origin){if(s=document.querySelectorAll('style[f-forigin="p"][f-family="'+r[n].fFamily+'"], style[f-origin="3"][f-family="'+r[n].fFamily+'"]'),s.length>0&&(l=!1),l){var c=createTag("style");c.setAttribute("f-forigin",r[n].fOrigin),c.setAttribute("f-origin",r[n].origin),c.setAttribute("f-family",r[n].fFamily),c.type="text/css",c.innerText="@font-face {font-family: "+r[n].fFamily+"; font-style: normal; src: url('"+r[n].fPath+"');}",e.appendChild(c)}}else if("g"===r[n].fOrigin||1===r[n].origin){for(s=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),o=0;o<s.length;o+=1)-1!==s[o].href.indexOf(r[n].fPath)&&(l=!1);if(l){var u=createTag("link");u.setAttribute("f-forigin",r[n].fOrigin),u.setAttribute("f-origin",r[n].origin),u.type="text/css",u.rel="stylesheet",u.href=r[n].fPath,document.body.appendChild(u)}}else if("t"===r[n].fOrigin||2===r[n].origin){for(s=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),o=0;o<s.length;o+=1)r[n].fPath===s[o].src&&(l=!1);if(l){var h=createTag("link");h.setAttribute("f-forigin",r[n].fOrigin),h.setAttribute("f-origin",r[n].origin),h.setAttribute("rel","stylesheet"),h.setAttribute("href",r[n].fPath),e.appendChild(h)}}}else r[n].loaded=!0,a-=1;r[n].helper=m(r[n],e),r[n].cache={},this.fonts.push(r[n])}0===a?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0}function v(t){if(t){var e;this.chars||(this.chars=[]);var n,r,i=t.length,a=this.chars.length;for(e=0;e<i;e+=1){n=0,r=!1;while(n<a)this.chars[n].style===t[e].style&&this.chars[n].fFamily===t[e].fFamily&&this.chars[n].ch===t[e].ch&&(r=!0),n+=1;r||(this.chars.push(t[e]),a+=1)}}}function y(t,n,r){var i=0,a=this.chars.length;while(i<a){if(this.chars[i].ch===t&&this.chars[i].style===n&&this.chars[i].fFamily===r)return this.chars[i];i+=1}return("string"===typeof t&&13!==t.charCodeAt(0)||!t)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",t,n,r)),e}function _(t,e,n){var r=this.getFontByName(e),i=t;if(!r.cache[i]){var a=r.helper;if(" "===t){var s=a.measureText("|"+t+"|"),o=a.measureText("||");r.cache[i]=(s-o)/100}else r.cache[i]=a.measureText(t)/100}return r.cache[i]*n}function x(t){var e=0,n=this.fonts.length;while(e<n){if(this.fonts[e].fName===t)return this.fonts[e];e+=1}return this.fonts[0]}function b(t){var e=0,n=t.charCodeAt(0);if(n>=55296&&n<=56319){var r=t.charCodeAt(1);r>=56320&&r<=57343&&(e=1024*(n-55296)+r-56320+65536)}return e}function S(t,e){var n=t.toString(16)+e.toString(16);return-1!==h.indexOf(n)}function w(t){return t===l}function E(t){return t===o}function M(t){var e=b(t);return e>=c&&e<=u}function T(t){return M(t.substr(0,2))&&M(t.substr(2,2))}function C(t){return-1!==n.indexOf(t)}function A(t,e){var n=b(t.substr(e,2));if(n!==r)return!1;var o=0;e+=2;while(o<5){if(n=b(t.substr(e,2)),n<a||n>s)return!1;o+=1,e+=2}return b(t.substr(e,2))===i}function P(){this.isLoaded=!0}var R=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};R.isModifier=S,R.isZeroWidthJoiner=w,R.isFlagEmoji=T,R.isRegionalCode=M,R.isCombinedCharacter=C,R.isRegionalFlag=A,R.isVariationSelector=E,R.BLACK_FLAG_CODE_POINT=r;var D={addChars:v,addFonts:g,getCharData:y,getFontByName:x,measureText:_,checkLoadedFonts:f,setIsLoaded:P};return R.prototype=D,R}();function SlotManager(t){this.animationData=t}function slotFactory(t){return new SlotManager(t)}function RenderableElement(){}SlotManager.prototype.getProp=function(t){return this.animationData.slots&&this.animationData.slots[t.sid]?Object.assign(t,this.animationData.slots[t.sid].p):t},RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(t){-1===this.renderableComponents.indexOf(t)&&this.renderableComponents.push(t)},removeRenderableComponent:function(t){-1!==this.renderableComponents.indexOf(t)&&this.renderableComponents.splice(this.renderableComponents.indexOf(t),1)},prepareRenderableFrame:function(t){this.checkLayerLimits(t)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(t){this.data.ip-this.data.st<=t&&this.data.op-this.data.st>t?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var t,e=this.renderableComponents.length;for(t=0;t<e;t+=1)this.renderableComponents[t].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=function(){var t={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(e){return t[e]||""}}();function SliderEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function AngleEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function ColorEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,1,0,n)}function PointEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,1,0,n)}function LayerIndexEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function MaskIndexEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function CheckboxEffect(t,e,n){this.p=PropertyFactory.getProp(e,t.v,0,0,n)}function NoValueEffect(){this.p={}}function EffectsManager(t,e){var n,r=t.ef||[];this.effectElements=[];var i,a=r.length;for(n=0;n<a;n+=1)i=new GroupEffect(r[n],e),this.effectElements.push(i)}function GroupEffect(t,e){this.init(t,e)}function BaseElement(){}function FrameElement(){}function FootageElement(t,e,n){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.footageData=e.imageLoader.getAsset(this.assetData),this.initBaseData(t,e,n)}function AudioElement(t,e,n){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.initBaseData(t,e,n),this._isPlaying=!1,this._canPlay=!1;var r=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(r),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,t.au&&t.au.lv?t.au.lv:{k:[100]},1,.01,this)}function BaseRenderer(){}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(t,e){var n;this.data=t,this.effectElements=[],this.initDynamicPropertyContainer(e);var r,i=this.data.ef.length,a=this.data.ef;for(n=0;n<i;n+=1){switch(r=null,a[n].ty){case 0:r=new SliderEffect(a[n],e,this);break;case 1:r=new AngleEffect(a[n],e,this);break;case 2:r=new ColorEffect(a[n],e,this);break;case 3:r=new PointEffect(a[n],e,this);break;case 4:case 7:r=new CheckboxEffect(a[n],e,this);break;case 10:r=new LayerIndexEffect(a[n],e,this);break;case 11:r=new MaskIndexEffect(a[n],e,this);break;case 5:r=new EffectsManager(a[n],e,this);break;default:r=new NoValueEffect(a[n],e,this);break}r&&this.effectElements.push(r)}},BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;var t=0,e=this.data.masksProperties.length;while(t<e){if("n"!==this.data.masksProperties[t].mode&&!1!==this.data.masksProperties[t].cl)return!0;t+=1}return!1},initExpressions:function(){var t=getExpressionInterfaces();if(t){var e=t("layer"),n=t("effects"),r=t("shape"),i=t("text"),a=t("comp");this.layerInterface=e(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var s=n.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(s),0===this.data.ty||this.data.xt?this.compInterface=a(this):4===this.data.ty?(this.layerInterface.shapeInterface=r(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=i(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var t=getBlendMode(this.data.bm),e=this.baseElement||this.layerElement;e.style["mix-blend-mode"]=t},initBaseData:function(t,e,n){this.globalData=e,this.comp=n,this.data=t,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(t,e){var n,r=this.dynamicProperties.length;for(n=0;n<r;n+=1)(e||this._isParent&&"transform"===this.dynamicProperties[n].propType)&&(this.dynamicProperties[n].getValue(),this.dynamicProperties[n]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&this.dynamicProperties.push(t)}},FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var t=getExpressionInterfaces();if(t){var e=t("footage");this.layerInterface=e(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData},AudioElement.prototype.prepareFrame=function(t){if(this.prepareRenderableFrame(t,!0),this.prepareProperties(t,!0),this.tm._placeholder)this._currentTime=t/this.data.sr;else{var e=this.tm.v;this._currentTime=e}this._volume=this.lv.v[0];var n=this._volume*this._volumeMultiplier;this._previousVolume!==n&&(this._previousVolume=n,this.audio.volume(n))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(t){this.audio.rate(t)},AudioElement.prototype.volume=function(t){this._volumeMultiplier=t,this._previousVolume=t*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},BaseRenderer.prototype.checkLayers=function(t){var e,n,r=this.layers.length;for(this.completeLayers=!0,e=r-1;e>=0;e-=1)this.elements[e]||(n=this.layers[e],n.ip-n.st<=t-this.layers[e].st&&n.op-n.st>t-this.layers[e].st&&this.buildItem(e)),this.completeLayers=!!this.elements[e]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(t){switch(t.ty){case 2:return this.createImage(t);case 0:return this.createComp(t);case 1:return this.createSolid(t);case 3:return this.createNull(t);case 4:return this.createShape(t);case 5:return this.createText(t);case 6:return this.createAudio(t);case 13:return this.createCamera(t);case 15:return this.createFootage(t);default:return this.createNull(t)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(t){return new AudioElement(t,this.globalData,this)},BaseRenderer.prototype.createFootage=function(t){return new FootageElement(t,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.buildItem(t);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(t){var e;this.completeLayers=!1;var n,r=t.length,i=this.layers.length;for(e=0;e<r;e+=1){n=0;while(n<i){if(this.layers[n].id===t[e].id){this.layers[n]=t[e];break}n+=1}}},BaseRenderer.prototype.setProjectInterface=function(t){this.globalData.projectInterface=t},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(t,e,n){var r=this.elements,i=this.layers,a=0,s=i.length;while(a<s)i[a].ind==e&&(r[a]&&!0!==r[a]?(n.push(r[a]),r[a].setAsParent(),void 0!==i[a].parent?this.buildElementParenting(t,i[a].parent,n):t.setHierarchy(n)):(this.buildItem(a),this.addPendingElement(t))),a+=1},BaseRenderer.prototype.addPendingElement=function(t){this.pendingElements.push(t)},BaseRenderer.prototype.searchExtraCompositions=function(t){var e,n=t.length;for(e=0;e<n;e+=1)if(t[e].xt){var r=this.createComp(t[e]);r.initExpressions(),this.globalData.projectInterface.registerComposition(r)}},BaseRenderer.prototype.getElementById=function(t){var e,n=this.elements.length;for(e=0;e<n;e+=1)if(this.elements[e].data.ind===t)return this.elements[e];return null},BaseRenderer.prototype.getElementByPath=function(t){var e,n=t.shift();if("number"===typeof n)e=this.elements[n];else{var r,i=this.elements.length;for(r=0;r<i;r+=1)if(this.elements[r].data.nm===n){e=this.elements[r];break}}return 0===t.length?e:e.getElementByPath(t)},BaseRenderer.prototype.setupGlobalData=function(t,e){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(t),this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=t.fr,this.globalData.nm=t.nm,this.globalData.compSize={w:t.w,h:t.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}function MaskElement(t,e,n){this.data=t,this.element=e,this.globalData=n,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var r,i,a=this.globalData.defs,s=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(s),this.solidPath="";var o,l,c,u,h,p,d=this.masksProperties,f=0,m=[],g=createElementID(),v="clipPath",y="clip-path";for(r=0;r<s;r+=1)if(("a"!==d[r].mode&&"n"!==d[r].mode||d[r].inv||100!==d[r].o.k||d[r].o.x)&&(v="mask",y="mask"),"s"!==d[r].mode&&"i"!==d[r].mode||0!==f?c=null:(c=createNS("rect"),c.setAttribute("fill","#ffffff"),c.setAttribute("width",this.element.comp.data.w||0),c.setAttribute("height",this.element.comp.data.h||0),m.push(c)),i=createNS("path"),"n"===d[r].mode)this.viewData[r]={op:PropertyFactory.getProp(this.element,d[r].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,d[r],3),elem:i,lastPath:""},a.appendChild(i);else{var _;if(f+=1,i.setAttribute("fill","s"===d[r].mode?"#000000":"#ffffff"),i.setAttribute("clip-rule","nonzero"),0!==d[r].x.k?(v="mask",y="mask",p=PropertyFactory.getProp(this.element,d[r].x,0,null,this.element),_=createElementID(),u=createNS("filter"),u.setAttribute("id",_),h=createNS("feMorphology"),h.setAttribute("operator","erode"),h.setAttribute("in","SourceGraphic"),h.setAttribute("radius","0"),u.appendChild(h),a.appendChild(u),i.setAttribute("stroke","s"===d[r].mode?"#000000":"#ffffff")):(h=null,p=null),this.storedData[r]={elem:i,x:p,expan:h,lastPath:"",lastOperator:"",filterId:_,lastRadius:0},"i"===d[r].mode){l=m.length;var x=createNS("g");for(o=0;o<l;o+=1)x.appendChild(m[o]);var b=createNS("mask");b.setAttribute("mask-type","alpha"),b.setAttribute("id",g+"_"+f),b.appendChild(i),a.appendChild(b),x.setAttribute("mask","url("+getLocationHref()+"#"+g+"_"+f+")"),m.length=0,m.push(x)}else m.push(i);d[r].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[r]={elem:i,lastPath:"",op:PropertyFactory.getProp(this.element,d[r].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,d[r],3),invRect:c},this.viewData[r].prop.k||this.drawPath(d[r],this.viewData[r].prop.v,this.viewData[r])}for(this.maskElement=createNS(v),s=m.length,r=0;r<s;r+=1)this.maskElement.appendChild(m[r]);f>0&&(this.maskElement.setAttribute("id",g),this.element.maskedElement.setAttribute(y,"url("+getLocationHref()+"#"+g+")"),a.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}TransformElement.prototype={initTransform:function(){var t=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:t,localMat:t,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var t,e=this.finalTransform.mat,n=0,r=this.hierarchy.length;if(!this.finalTransform._matMdf)while(n<r){if(this.hierarchy[n].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}n+=1}if(this.finalTransform._matMdf)for(t=this.finalTransform.mProp.v.props,e.cloneFromProps(t),n=0;n<r;n+=1)e.multiply(this.hierarchy[n].finalTransform.mProp.v)}this.finalTransform._matMdf&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var t=0,e=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)while(t<e)this.localTransforms[t]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[t]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),t+=1;if(this.finalTransform._localMatMdf){var n=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(n),t=1;t<e;t+=1){var r=this.localTransforms[t].matrix;n.multiply(r)}n.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var i=this.finalTransform.localOpacity;for(t=0;t<e;t+=1)i*=.01*this.localTransforms[t].opacity;this.finalTransform.localOpacity=i}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var t=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(t.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var e=0,n=t.length;for(e=0;e<n;e+=1)this.localTransforms.push(t[e])}}},globalToLocal:function(t){var e=[];e.push(this.finalTransform);var n,r=!0,i=this.comp;while(r)i.finalTransform?(i.data.hasMask&&e.splice(0,0,i.finalTransform),i=i.comp):r=!1;var a,s=e.length;for(n=0;n<s;n+=1)a=e[n].mat.applyToPointArray(0,0,0),t=[t[0]-a[0],t[1]-a[1],0];return t},mHelper:new Matrix},MaskElement.prototype.getMaskProperty=function(t){return this.viewData[t].prop},MaskElement.prototype.renderFrame=function(t){var e,n=this.element.finalTransform.mat,r=this.masksProperties.length;for(e=0;e<r;e+=1)if((this.viewData[e].prop._mdf||t)&&this.drawPath(this.masksProperties[e],this.viewData[e].prop.v,this.viewData[e]),(this.viewData[e].op._mdf||t)&&this.viewData[e].elem.setAttribute("fill-opacity",this.viewData[e].op.v),"n"!==this.masksProperties[e].mode&&(this.viewData[e].invRect&&(this.element.finalTransform.mProp._mdf||t)&&this.viewData[e].invRect.setAttribute("transform",n.getInverseMatrix().to2dCSS()),this.storedData[e].x&&(this.storedData[e].x._mdf||t))){var i=this.storedData[e].expan;this.storedData[e].x.v<0?("erode"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="erode",this.storedData[e].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[e].filterId+")")),i.setAttribute("radius",-this.storedData[e].x.v)):("dilate"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="dilate",this.storedData[e].elem.setAttribute("filter",null)),this.storedData[e].elem.setAttribute("stroke-width",2*this.storedData[e].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var t="M0,0 ";return t+=" h"+this.globalData.compSize.w,t+=" v"+this.globalData.compSize.h,t+=" h-"+this.globalData.compSize.w,t+=" v-"+this.globalData.compSize.h+" ",t},MaskElement.prototype.drawPath=function(t,e,n){var r,i,a=" M"+e.v[0][0]+","+e.v[0][1];for(i=e._length,r=1;r<i;r+=1)a+=" C"+e.o[r-1][0]+","+e.o[r-1][1]+" "+e.i[r][0]+","+e.i[r][1]+" "+e.v[r][0]+","+e.v[r][1];if(e.c&&i>1&&(a+=" C"+e.o[r-1][0]+","+e.o[r-1][1]+" "+e.i[0][0]+","+e.i[0][1]+" "+e.v[0][0]+","+e.v[0][1]),n.lastPath!==a){var s="";n.elem&&(e.c&&(s=t.inv?this.solidPath+a:a),n.elem.setAttribute("d",s)),n.lastPath=a}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var t={};function e(t,e){var n=createNS("filter");return n.setAttribute("id",t),!0!==e&&(n.setAttribute("filterUnits","objectBoundingBox"),n.setAttribute("x","0%"),n.setAttribute("y","0%"),n.setAttribute("width","100%"),n.setAttribute("height","100%")),n}function n(){var t=createNS("feColorMatrix");return t.setAttribute("type","matrix"),t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),t}return t.createFilter=e,t.createAlphaToLuminanceFilter=n,t}(),featureSupport=function(){var t={maskType:!0,svgLumaHidden:!0,offscreenCanvas:"undefined"!==typeof OffscreenCanvas};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(t.maskType=!1),/firefox/i.test(navigator.userAgent)&&(t.svgLumaHidden=!1),t}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(t){var e,n,r="SourceGraphic",i=t.data.ef?t.data.ef.length:0,a=createElementID(),s=filtersFactory.createFilter(a,!0),o=0;for(this.filters=[],e=0;e<i;e+=1){n=null;var l=t.data.ef[e].ty;if(registeredEffects$1[l]){var c=registeredEffects$1[l].effect;n=new c(s,t.effectsManager.effectElements[e],t,idPrefix+o,r),r=idPrefix+o,registeredEffects$1[l].countsAsEffect&&(o+=1)}n&&this.filters.push(n)}o&&(t.globalData.defs.appendChild(s),t.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+a+")")),this.filters.length&&t.addRenderableComponent(this)}function registerEffect$1(t,e,n){registeredEffects$1[t]={effect:e,countsAsEffect:n}}function SVGBaseElement(){}function HierarchyElement(){}function RenderableDOMElement(){}function IImageElement(t,e,n){this.assetData=e.getAssetData(t.refId),this.assetData&&this.assetData.sid&&(this.assetData=e.slotManager.getProp(this.assetData)),this.initElement(t,e,n),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ProcessedElement(t,e){this.elem=t,this.pos=e}function IShapeElement(){}SVGEffects.prototype.renderFrame=function(t){var e,n=this.filters.length;for(e=0;e<n;e+=1)this.filters[e].renderFrame(t)},SVGEffects.prototype.getEffects=function(t){var e,n=this.filters.length,r=[];for(e=0;e<n;e+=1)this.filters[e].type===t&&r.push(this.filters[e]);return r},SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var t=null;if(this.data.td){this.matteMasks={};var e=createNS("g");e.setAttribute("id",this.layerId),e.appendChild(this.layerElement),t=e,this.globalData.defs.appendChild(e)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),t=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var n=createNS("clipPath"),r=createNS("path");r.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var i=createElementID();if(n.setAttribute("id",i),n.appendChild(r),this.globalData.defs.appendChild(n),this.checkMasks()){var a=createNS("g");a.setAttribute("clip-path","url("+getLocationHref()+"#"+i+")"),a.appendChild(this.layerElement),this.transformedElement=a,t?t.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+i+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(t){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[t]){var e,n,r,i,a=this.layerId+"_"+t;if(1===t||3===t){var s=createNS("mask");s.setAttribute("id",a),s.setAttribute("mask-type",3===t?"luminance":"alpha"),r=createNS("use"),r.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),s.appendChild(r),this.globalData.defs.appendChild(s),featureSupport.maskType||1!==t||(s.setAttribute("mask-type","luminance"),e=createElementID(),n=filtersFactory.createFilter(e),this.globalData.defs.appendChild(n),n.appendChild(filtersFactory.createAlphaToLuminanceFilter()),i=createNS("g"),i.appendChild(r),s.appendChild(i),i.setAttribute("filter","url("+getLocationHref()+"#"+e+")"))}else if(2===t){var o=createNS("mask");o.setAttribute("id",a),o.setAttribute("mask-type","alpha");var l=createNS("g");o.appendChild(l),e=createElementID(),n=filtersFactory.createFilter(e);var c=createNS("feComponentTransfer");c.setAttribute("in","SourceGraphic"),n.appendChild(c);var u=createNS("feFuncA");u.setAttribute("type","table"),u.setAttribute("tableValues","1.0 0.0"),c.appendChild(u),this.globalData.defs.appendChild(n);var h=createNS("rect");h.setAttribute("width",this.comp.data.w),h.setAttribute("height",this.comp.data.h),h.setAttribute("x","0"),h.setAttribute("y","0"),h.setAttribute("fill","#ffffff"),h.setAttribute("opacity","0"),l.setAttribute("filter","url("+getLocationHref()+"#"+e+")"),l.appendChild(h),r=createNS("use"),r.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),l.appendChild(r),featureSupport.maskType||(o.setAttribute("mask-type","luminance"),n.appendChild(filtersFactory.createAlphaToLuminanceFilter()),i=createNS("g"),l.appendChild(h),i.appendChild(this.layerElement),l.appendChild(i)),this.globalData.defs.appendChild(o)}this.matteMasks[t]=a}return this.matteMasks[t]},setMatte:function(t){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+t+")")}},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(t){this.hierarchy=t},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},function(){var t={initElement:function(t,e,n){this.initFrame(),this.initBaseData(t,e,n),this.initTransform(t,e,n),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var t=this.baseElement||this.layerElement;t.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var t=this.baseElement||this.layerElement;t.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(t)],RenderableDOMElement)}(),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},IShapeElement.prototype={addShapeToModifiers:function(t){var e,n=this.shapeModifiers.length;for(e=0;e<n;e+=1)this.shapeModifiers[e].addShape(t)},isShapeInAnimatedModifiers:function(t){var e=0,n=this.shapeModifiers.length;while(e<n)if(this.shapeModifiers[e].isAnimatedWithShape(t))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var t,e,n=this.shapes.length;for(t=0;t<n;t+=1)this.shapes[t].sh.reset();for(n=this.shapeModifiers.length,t=n-1;t>=0;t-=1)if(e=this.shapeModifiers[t].processShapes(this._isFirstFrame),e)break}},searchProcessedElement:function(t){var e=this.processedElements,n=0,r=e.length;while(n<r){if(e[n].elem===t)return e[n].pos;n+=1}return 0},addProcessedElement:function(t,e){var n=this.processedElements,r=n.length;while(r)if(r-=1,n[r].elem===t)return void(n[r].pos=e);n.push(new ProcessedElement(t,e))},prepareFrame:function(t){this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(t,e,n){this.caches=[],this.styles=[],this.transformers=t,this.lStr="",this.sh=n,this.lvl=e,this._isAnimated=!!n.k;var r=0,i=t.length;while(r<i){if(t[r].mProps.dynamicProperties.length){this._isAnimated=!0;break}r+=1}}function SVGStyleData(t,e){this.data=t,this.type=t.ty,this.d="",this.lvl=e,this._mdf=!1,this.closed=!0===t.hd,this.pElem=createNS("path"),this.msElem=null}function DashProperty(t,e,n,r){var i;this.elem=t,this.frameId=-1,this.dataProps=createSizedArray(e.length),this.renderer=n,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",e.length?e.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(r);var a,s=e.length||0;for(i=0;i<s;i+=1)a=PropertyFactory.getProp(t,e[i].v,0,0,this),this.k=a.k||this.k,this.dataProps[i]={n:e[i].n,p:a};this.k||this.getValue(!0),this._isAnimated=this.k}function SVGStrokeStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=n,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=n}function SVGNoStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.style=n}function GradientProperty(t,e,n){this.data=e,this.c=createTypedArray("uint8c",4*e.p);var r=e.k.k[0].s?e.k.k[0].s.length-4*e.p:e.k.k.length-4*e.p;this.o=createTypedArray("float32",r),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=r,this.initDynamicPropertyContainer(n),this.prop=PropertyFactory.getProp(t,e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}function SVGGradientFillStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.initGradientData(t,e,n)}function SVGGradientStrokeStyleData(t,e,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.initGradientData(t,e,n),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(t,e,n){this.transform={mProps:t,op:e,container:n},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},DashProperty.prototype.getValue=function(t){if((this.elem.globalData.frameId!==this.frameId||t)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||t,this._mdf)){var e=0,n=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),e=0;e<n;e+=1)"o"!==this.dataProps[e].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[e].p.v:this.dashArray[e]=this.dataProps[e].p.v:this.dashoffset[0]=this.dataProps[e].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),extendPrototype([DynamicPropertyContainer],SVGNoStyleData),GradientProperty.prototype.comparePoints=function(t,e){var n,r=0,i=this.o.length/2;while(r<i){if(n=Math.abs(t[4*r]-t[4*e+2*r]),n>.01)return!1;r+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s){var t=0,e=this.data.k.k.length;while(t<e){if(!this.comparePoints(this.data.k.k[t].s,this.data.p))return!1;t+=1}}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(t){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||t){var e,n,r,i=4*this.data.p;for(e=0;e<i;e+=1)n=e%4===0?100:255,r=Math.round(this.prop.v[e]*n),this.c[e]!==r&&(this.c[e]=r,this._cmdf=!t);if(this.o.length)for(i=this.prop.v.length,e=4*this.data.p;e<i;e+=1)n=e%2===0?100:1,r=e%2===0?Math.round(100*this.prop.v[e]):this.prop.v[e],this.o[e-4*this.data.p]!==r&&(this.o[e-4*this.data.p]=r,this._omdf=!t);this._mdf=!t}},extendPrototype([DynamicPropertyContainer],GradientProperty),SVGGradientFillStyleData.prototype.initGradientData=function(t,e,n){this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.s=PropertyFactory.getProp(t,e.s,1,null,this),this.e=PropertyFactory.getProp(t,e.e,1,null,this),this.h=PropertyFactory.getProp(t,e.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(t,e.a||{k:0},0,degToRads,this),this.g=new GradientProperty(t,e.g,this),this.style=n,this.stops=[],this.setGradientData(n.pElem,e),this.setGradientOpacity(e,n),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(t,e){var n=createElementID(),r=createNS(1===e.t?"linearGradient":"radialGradient");r.setAttribute("id",n),r.setAttribute("spreadMethod","pad"),r.setAttribute("gradientUnits","userSpaceOnUse");var i,a,s,o=[];for(s=4*e.g.p,a=0;a<s;a+=4)i=createNS("stop"),r.appendChild(i),o.push(i);t.setAttribute("gf"===e.ty?"fill":"stroke","url("+getLocationHref()+"#"+n+")"),this.gf=r,this.cst=o},SVGGradientFillStyleData.prototype.setGradientOpacity=function(t,e){if(this.g._hasOpacity&&!this.g._collapsable){var n,r,i,a=createNS("mask"),s=createNS("path");a.appendChild(s);var o=createElementID(),l=createElementID();a.setAttribute("id",l);var c=createNS(1===t.t?"linearGradient":"radialGradient");c.setAttribute("id",o),c.setAttribute("spreadMethod","pad"),c.setAttribute("gradientUnits","userSpaceOnUse"),i=t.g.k.k[0].s?t.g.k.k[0].s.length:t.g.k.k.length;var u=this.stops;for(r=4*t.g.p;r<i;r+=2)n=createNS("stop"),n.setAttribute("stop-color","rgb(255,255,255)"),c.appendChild(n),u.push(n);s.setAttribute("gf"===t.ty?"fill":"stroke","url("+getLocationHref()+"#"+o+")"),"gs"===t.ty&&(s.setAttribute("stroke-linecap",lineCapEnum[t.lc||2]),s.setAttribute("stroke-linejoin",lineJoinEnum[t.lj||2]),1===t.lj&&s.setAttribute("stroke-miterlimit",t.ml)),this.of=c,this.ms=a,this.ost=u,this.maskId=l,e.msElem=s}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var buildShapeString=function(t,e,n,r){if(0===e)return"";var i,a=t.o,s=t.i,o=t.v,l=" M"+r.applyToPointStringified(o[0][0],o[0][1]);for(i=1;i<e;i+=1)l+=" C"+r.applyToPointStringified(a[i-1][0],a[i-1][1])+" "+r.applyToPointStringified(s[i][0],s[i][1])+" "+r.applyToPointStringified(o[i][0],o[i][1]);return n&&e&&(l+=" C"+r.applyToPointStringified(a[i-1][0],a[i-1][1])+" "+r.applyToPointStringified(s[0][0],s[0][1])+" "+r.applyToPointStringified(o[0][0],o[0][1]),l+="z"),l},SVGElementsRenderer=function(){var t=new Matrix,e=new Matrix,n={createRenderFunction:r};function r(t){switch(t.ty){case"fl":return o;case"gf":return c;case"gs":return l;case"st":return u;case"sh":case"el":case"rc":case"sr":return s;case"tr":return i;case"no":return a;default:return null}}function i(t,e,n){(n||e.transform.op._mdf)&&e.transform.container.setAttribute("opacity",e.transform.op.v),(n||e.transform.mProps._mdf)&&e.transform.container.setAttribute("transform",e.transform.mProps.v.to2dCSS())}function a(){}function s(n,r,i){var a,s,o,l,c,u,h,p,d,f,m=r.styles.length,g=r.lvl;for(u=0;u<m;u+=1){if(l=r.sh._mdf||i,r.styles[u].lvl<g){p=e.reset(),d=g-r.styles[u].lvl,f=r.transformers.length-1;while(!l&&d>0)l=r.transformers[f].mProps._mdf||l,d-=1,f-=1;if(l){d=g-r.styles[u].lvl,f=r.transformers.length-1;while(d>0)p.multiply(r.transformers[f].mProps.v),d-=1,f-=1}}else p=t;if(h=r.sh.paths,s=h._length,l){for(o="",a=0;a<s;a+=1)c=h.shapes[a],c&&c._length&&(o+=buildShapeString(c,c._length,c.c,p));r.caches[u]=o}else o=r.caches[u];r.styles[u].d+=!0===n.hd?"":o,r.styles[u]._mdf=l||r.styles[u]._mdf}}function o(t,e,n){var r=e.style;(e.c._mdf||n)&&r.pElem.setAttribute("fill","rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||n)&&r.pElem.setAttribute("fill-opacity",e.o.v)}function l(t,e,n){c(t,e,n),u(t,e,n)}function c(t,e,n){var r,i,a,s,o,l=e.gf,c=e.g._hasOpacity,u=e.s.v,h=e.e.v;if(e.o._mdf||n){var p="gf"===t.ty?"fill-opacity":"stroke-opacity";e.style.pElem.setAttribute(p,e.o.v)}if(e.s._mdf||n){var d=1===t.t?"x1":"cx",f="x1"===d?"y1":"cy";l.setAttribute(d,u[0]),l.setAttribute(f,u[1]),c&&!e.g._collapsable&&(e.of.setAttribute(d,u[0]),e.of.setAttribute(f,u[1]))}if(e.g._cmdf||n){r=e.cst;var m=e.g.c;for(a=r.length,i=0;i<a;i+=1)s=r[i],s.setAttribute("offset",m[4*i]+"%"),s.setAttribute("stop-color","rgb("+m[4*i+1]+","+m[4*i+2]+","+m[4*i+3]+")")}if(c&&(e.g._omdf||n)){var g=e.g.o;for(r=e.g._collapsable?e.cst:e.ost,a=r.length,i=0;i<a;i+=1)s=r[i],e.g._collapsable||s.setAttribute("offset",g[2*i]+"%"),s.setAttribute("stop-opacity",g[2*i+1])}if(1===t.t)(e.e._mdf||n)&&(l.setAttribute("x2",h[0]),l.setAttribute("y2",h[1]),c&&!e.g._collapsable&&(e.of.setAttribute("x2",h[0]),e.of.setAttribute("y2",h[1])));else if((e.s._mdf||e.e._mdf||n)&&(o=Math.sqrt(Math.pow(u[0]-h[0],2)+Math.pow(u[1]-h[1],2)),l.setAttribute("r",o),c&&!e.g._collapsable&&e.of.setAttribute("r",o)),e.e._mdf||e.h._mdf||e.a._mdf||n){o||(o=Math.sqrt(Math.pow(u[0]-h[0],2)+Math.pow(u[1]-h[1],2)));var v=Math.atan2(h[1]-u[1],h[0]-u[0]),y=e.h.v;y>=1?y=.99:y<=-1&&(y=-.99);var _=o*y,x=Math.cos(v+e.a.v)*_+u[0],b=Math.sin(v+e.a.v)*_+u[1];l.setAttribute("fx",x),l.setAttribute("fy",b),c&&!e.g._collapsable&&(e.of.setAttribute("fx",x),e.of.setAttribute("fy",b))}}function u(t,e,n){var r=e.style,i=e.d;i&&(i._mdf||n)&&i.dashStr&&(r.pElem.setAttribute("stroke-dasharray",i.dashStr),r.pElem.setAttribute("stroke-dashoffset",i.dashoffset[0])),e.c&&(e.c._mdf||n)&&r.pElem.setAttribute("stroke","rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||n)&&r.pElem.setAttribute("stroke-opacity",e.o.v),(e.w._mdf||n)&&(r.pElem.setAttribute("stroke-width",e.w.v),r.msElem&&r.msElem.setAttribute("stroke-width",e.w.v))}return n}();function SVGShapeElement(t,e,n){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(t,e,n),this.prevViewData=[]}function LetterProps(t,e,n,r,i,a){this.o=t,this.sw=e,this.sc=n,this.fc=r,this.m=i,this.p=a,this._mdf={o:!0,sw:!!e,sc:!!n,fc:!!r,m:!0,p:!0}}function TextProperty(t,e){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,e.d&&e.d.sid&&(e.d=t.globalData.slotManager.getProp(e.d)),this.data=e,this.elem=t,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var t,e,n,r,i=this.shapes.length,a=this.stylesList.length,s=[],o=!1;for(n=0;n<a;n+=1){for(r=this.stylesList[n],o=!1,s.length=0,t=0;t<i;t+=1)e=this.shapes[t],-1!==e.styles.indexOf(r)&&(s.push(e),o=e._isAnimated||o);s.length>1&&o&&this.setShapesAsAnimated(s)}},SVGShapeElement.prototype.setShapesAsAnimated=function(t){var e,n=t.length;for(e=0;e<n;e+=1)t[e].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(t,e){var n,r=new SVGStyleData(t,e),i=r.pElem;if("st"===t.ty)n=new SVGStrokeStyleData(this,t,r);else if("fl"===t.ty)n=new SVGFillStyleData(this,t,r);else if("gf"===t.ty||"gs"===t.ty){var a="gf"===t.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData;n=new a(this,t,r),this.globalData.defs.appendChild(n.gf),n.maskId&&(this.globalData.defs.appendChild(n.ms),this.globalData.defs.appendChild(n.of),i.setAttribute("mask","url("+getLocationHref()+"#"+n.maskId+")"))}else"no"===t.ty&&(n=new SVGNoStyleData(this,t,r));return"st"!==t.ty&&"gs"!==t.ty||(i.setAttribute("stroke-linecap",lineCapEnum[t.lc||2]),i.setAttribute("stroke-linejoin",lineJoinEnum[t.lj||2]),i.setAttribute("fill-opacity","0"),1===t.lj&&i.setAttribute("stroke-miterlimit",t.ml)),2===t.r&&i.setAttribute("fill-rule","evenodd"),t.ln&&i.setAttribute("id",t.ln),t.cl&&i.setAttribute("class",t.cl),t.bm&&(i.style["mix-blend-mode"]=getBlendMode(t.bm)),this.stylesList.push(r),this.addToAnimatedContents(t,n),n},SVGShapeElement.prototype.createGroupElement=function(t){var e=new ShapeGroupData;return t.ln&&e.gr.setAttribute("id",t.ln),t.cl&&e.gr.setAttribute("class",t.cl),t.bm&&(e.gr.style["mix-blend-mode"]=getBlendMode(t.bm)),e},SVGShapeElement.prototype.createTransformElement=function(t,e){var n=TransformPropertyFactory.getTransformProperty(this,t,this),r=new SVGTransformData(n,n.o,e);return this.addToAnimatedContents(t,r),r},SVGShapeElement.prototype.createShapeElement=function(t,e,n){var r=4;"rc"===t.ty?r=5:"el"===t.ty?r=6:"sr"===t.ty&&(r=7);var i=ShapePropertyFactory.getShapeProp(this,t,r,this),a=new SVGShapeData(e,n,i);return this.shapes.push(a),this.addShapeToModifiers(a),this.addToAnimatedContents(t,a),a},SVGShapeElement.prototype.addToAnimatedContents=function(t,e){var n=0,r=this.animatedContents.length;while(n<r){if(this.animatedContents[n].element===e)return;n+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(t),element:e,data:t})},SVGShapeElement.prototype.setElementStyles=function(t){var e,n=t.styles,r=this.stylesList.length;for(e=0;e<r;e+=1)this.stylesList[e].closed||n.push(this.stylesList[e])},SVGShapeElement.prototype.reloadShapes=function(){var t;this._isFirstFrame=!0;var e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(t,e,n,r,i,a,s){var o,l,c,u,h,p,d=[].concat(a),f=t.length-1,m=[],g=[];for(o=f;o>=0;o-=1){if(p=this.searchProcessedElement(t[o]),p?e[o]=n[p-1]:t[o]._render=s,"fl"===t[o].ty||"st"===t[o].ty||"gf"===t[o].ty||"gs"===t[o].ty||"no"===t[o].ty)p?e[o].style.closed=!1:e[o]=this.createStyleElement(t[o],i),t[o]._render&&e[o].style.pElem.parentNode!==r&&r.appendChild(e[o].style.pElem),m.push(e[o].style);else if("gr"===t[o].ty){if(p)for(c=e[o].it.length,l=0;l<c;l+=1)e[o].prevViewData[l]=e[o].it[l];else e[o]=this.createGroupElement(t[o]);this.searchShapes(t[o].it,e[o].it,e[o].prevViewData,e[o].gr,i+1,d,s),t[o]._render&&e[o].gr.parentNode!==r&&r.appendChild(e[o].gr)}else"tr"===t[o].ty?(p||(e[o]=this.createTransformElement(t[o],r)),u=e[o].transform,d.push(u)):"sh"===t[o].ty||"rc"===t[o].ty||"el"===t[o].ty||"sr"===t[o].ty?(p||(e[o]=this.createShapeElement(t[o],d,i)),this.setElementStyles(e[o])):"tm"===t[o].ty||"rd"===t[o].ty||"ms"===t[o].ty||"pb"===t[o].ty||"zz"===t[o].ty||"op"===t[o].ty?(p?(h=e[o],h.closed=!1):(h=ShapeModifiers.getModifier(t[o].ty),h.init(this,t[o]),e[o]=h,this.shapeModifiers.push(h)),g.push(h)):"rp"===t[o].ty&&(p?(h=e[o],h.closed=!0):(h=ShapeModifiers.getModifier(t[o].ty),e[o]=h,h.init(this,t,o,e),this.shapeModifiers.push(h),s=!1),g.push(h));this.addProcessedElement(t[o],o+1)}for(f=m.length,o=0;o<f;o+=1)m[o].closed=!0;for(f=g.length,o=0;o<f;o+=1)g[o].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){var t;this.renderModifiers();var e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].reset();for(this.renderShape(),t=0;t<e;t+=1)(this.stylesList[t]._mdf||this._isFirstFrame)&&(this.stylesList[t].msElem&&(this.stylesList[t].msElem.setAttribute("d",this.stylesList[t].d),this.stylesList[t].d="M0 0"+this.stylesList[t].d),this.stylesList[t].pElem.setAttribute("d",this.stylesList[t].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var t,e,n=this.animatedContents.length;for(t=0;t<n;t+=1)e=this.animatedContents[t],(this._isFirstFrame||e.element._isAnimated)&&!0!==e.data&&e.fn(e.data,e.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},LetterProps.prototype.update=function(t,e,n,r,i,a){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var s=!1;return this.o!==t&&(this.o=t,this._mdf.o=!0,s=!0),this.sw!==e&&(this.sw=e,this._mdf.sw=!0,s=!0),this.sc!==n&&(this.sc=n,this._mdf.sc=!0,s=!0),this.fc!==r&&(this.fc=r,this._mdf.fc=!0,s=!0),this.m!==i&&(this.m=i,this._mdf.m=!0,s=!0),!a.length||this.p[0]===a[0]&&this.p[1]===a[1]&&this.p[4]===a[4]&&this.p[5]===a[5]&&this.p[12]===a[12]&&this.p[13]===a[13]||(this.p=a,this._mdf.p=!0,s=!0),s},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},TextProperty.prototype.setCurrentData=function(t){t.__complete||this.completeTextData(t),this.currentData=t,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(t){this.effectsSequence.push(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(t){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||t){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var e=this.currentData,n=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{var r;this.lock=!0,this._mdf=!1;var i=this.effectsSequence.length,a=t||this.data.d.k[this.keysIndex].s;for(r=0;r<i;r+=1)a=n!==this.keysIndex?this.effectsSequence[r](a,a.t):this.effectsSequence[r](this.currentData,a.t);e!==a&&this.setCurrentData(a),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){var t=this.data.d.k,e=this.elem.comp.renderedFrame,n=0,r=t.length;while(n<=r-1){if(n===r-1||t[n+1].t>e)break;n+=1}return this.keysIndex!==n&&(this.keysIndex=n),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(t){var e,n,r=[],i=0,a=t.length,s=!1,o=!1,l="";while(i<a)s=o,o=!1,e=t.charCodeAt(i),l=t.charAt(i),FontManager.isCombinedCharacter(e)?s=!0:e>=55296&&e<=56319?FontManager.isRegionalFlag(t,i)?l=t.substr(i,14):(n=t.charCodeAt(i+1),n>=56320&&n<=57343&&(FontManager.isModifier(e,n)?(l=t.substr(i,2),s=!0):l=FontManager.isFlagEmoji(t.substr(i,4))?t.substr(i,4):t.substr(i,2))):e>56319?(n=t.charCodeAt(i+1),FontManager.isVariationSelector(e)&&(s=!0)):FontManager.isZeroWidthJoiner(e)&&(s=!0,o=!0),s?(r[r.length-1]+=l,s=!1):r.push(l),i+=l.length;return r},TextProperty.prototype.completeTextData=function(t){t.__complete=!0;var e,n,r,i,a,s,o,l=this.elem.globalData.fontManager,c=this.data,u=[],h=0,p=c.m.g,d=0,f=0,m=0,g=[],v=0,y=0,_=l.getFontByName(t.f),x=0,b=getFontProperties(_);t.fWeight=b.weight,t.fStyle=b.style,t.finalSize=t.s,t.finalText=this.buildFinalText(t.t),n=t.finalText.length,t.finalLineHeight=t.lh;var S,w=t.tr/1e3*t.finalSize;if(t.sz){var E,M,T=!0,C=t.sz[0],A=t.sz[1];while(T){M=this.buildFinalText(t.t),E=0,v=0,n=M.length,w=t.tr/1e3*t.finalSize;var P=-1;for(e=0;e<n;e+=1)S=M[e].charCodeAt(0),r=!1," "===M[e]?P=e:13!==S&&3!==S||(v=0,r=!0,E+=t.finalLineHeight||1.2*t.finalSize),l.chars?(o=l.getCharData(M[e],_.fStyle,_.fFamily),x=r?0:o.w*t.finalSize/100):x=l.measureText(M[e],t.f,t.finalSize),v+x>C&&" "!==M[e]?(-1===P?n+=1:e=P,E+=t.finalLineHeight||1.2*t.finalSize,M.splice(e,P===e?1:0,"\r"),P=-1,v=0):(v+=x,v+=w);E+=_.ascent*t.finalSize/100,this.canResize&&t.finalSize>this.minimumFontSize&&A<E?(t.finalSize-=1,t.finalLineHeight=t.finalSize*t.lh/t.s):(t.finalText=M,n=t.finalText.length,T=!1)}}v=-w,x=0;var R,D=0;for(e=0;e<n;e+=1)if(r=!1,R=t.finalText[e],S=R.charCodeAt(0),13===S||3===S?(D=0,g.push(v),y=v>y?v:y,v=-2*w,i="",r=!0,m+=1):i=R,l.chars?(o=l.getCharData(R,_.fStyle,l.getFontByName(t.f).fFamily),x=r?0:o.w*t.finalSize/100):x=l.measureText(i,t.f,t.finalSize)," "===R?D+=x+w:(v+=x+w+D,D=0),u.push({l:x,an:x,add:d,n:r,anIndexes:[],val:i,line:m,animatorJustifyOffset:0}),2==p){if(d+=x,""===i||" "===i||e===n-1){""!==i&&" "!==i||(d-=x);while(f<=e)u[f].an=d,u[f].ind=h,u[f].extra=x,f+=1;h+=1,d=0}}else if(3==p){if(d+=x,""===i||e===n-1){""===i&&(d-=x);while(f<=e)u[f].an=d,u[f].ind=h,u[f].extra=x,f+=1;d=0,h+=1}}else u[h].ind=h,u[h].extra=0,h+=1;if(t.l=u,y=v>y?v:y,g.push(v),t.sz)t.boxWidth=t.sz[0],t.justifyOffset=0;else switch(t.boxWidth=y,t.j){case 1:t.justifyOffset=-t.boxWidth;break;case 2:t.justifyOffset=-t.boxWidth/2;break;default:t.justifyOffset=0}t.lineWidths=g;var I,L,k,O,F=c.a;s=F.length;var N=[];for(a=0;a<s;a+=1){for(I=F[a],I.a.sc&&(t.strokeColorAnim=!0),I.a.sw&&(t.strokeWidthAnim=!0),(I.a.fc||I.a.fh||I.a.fs||I.a.fb)&&(t.fillColorAnim=!0),O=0,k=I.s.b,e=0;e<n;e+=1)L=u[e],L.anIndexes[a]=O,(1==k&&""!==L.val||2==k&&""!==L.val&&" "!==L.val||3==k&&(L.n||" "==L.val||e==n-1)||4==k&&(L.n||e==n-1))&&(1===I.s.rn&&N.push(O),O+=1);c.a[a].s.totalChars=O;var B,U=-1;if(1===I.s.rn)for(e=0;e<n;e+=1)L=u[e],U!=L.anIndexes[a]&&(U=L.anIndexes[a],B=N.splice(Math.floor(Math.random()*N.length),1)[0]),L.anIndexes[a]=B}t.yOffset=t.finalLineHeight||1.2*t.finalSize,t.ls=t.ls||0,t.ascent=_.ascent*t.finalSize/100},TextProperty.prototype.updateDocumentData=function(t,e){e=void 0===e?this.keysIndex:e;var n=this.copyData({},this.data.d.k[e].s);n=this.copyData(n,t),this.data.d.k[e].s=n,this.recalculate(e),this.setCurrentData(n),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(t){var e=this.data.d.k[t].s;e.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(e)},TextProperty.prototype.canResizeFont=function(t){this.canResize=t,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(t){this.minimumFontSize=Math.floor(t)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var t=Math.max,e=Math.min,n=Math.floor;function r(t,e){this._currentTextLength=-1,this.k=!1,this.data=e,this.elem=t,this.comp=t.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(t),this.s=PropertyFactory.getProp(t,e.s||{k:0},0,0,this),this.e="e"in e?PropertyFactory.getProp(t,e.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(t,e.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(t,e.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(t,e.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(t,e.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(t,e.a,0,.01,this),this.dynamicProperties.length||this.getValue()}function i(t,e,n){return new r(t,e,n)}return r.prototype={getMult:function(r){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var i=0,a=0,s=1,o=1;this.ne.v>0?i=this.ne.v/100:a=-this.ne.v/100,this.xe.v>0?s=1-this.xe.v/100:o=1+this.xe.v/100;var l=BezierFactory.getBezierEasing(i,a,s,o).get,c=0,u=this.finalS,h=this.finalE,p=this.data.sh;if(2===p)c=h===u?r>=h?1:0:t(0,e(.5/(h-u)+(r-u)/(h-u),1)),c=l(c);else if(3===p)c=h===u?r>=h?0:1:1-t(0,e(.5/(h-u)+(r-u)/(h-u),1)),c=l(c);else if(4===p)h===u?c=0:(c=t(0,e(.5/(h-u)+(r-u)/(h-u),1)),c<.5?c*=2:c=1-2*(c-.5)),c=l(c);else if(5===p){if(h===u)c=0;else{var d=h-u;r=e(t(0,r+.5-u),h-u);var f=-d/2+r,m=d/2;c=Math.sqrt(1-f*f/(m*m))}c=l(c)}else 6===p?(h===u?c=0:(r=e(t(0,r+.5-u),h-u),c=(1+Math.cos(Math.PI+2*Math.PI*r/(h-u)))/2),c=l(c)):(r>=n(u)&&(c=t(0,e(r-u<0?e(h,1)-(u-r):h-r,1))),c=l(c));if(100!==this.sm.v){var g=.01*this.sm.v;0===g&&(g=1e-8);var v=.5-.5*g;c<v?c=0:(c=(c-v)/g,c>1&&(c=1))}return c*this.a.v},getValue:function(t){this.iterateDynamicProperties(),this._mdf=t||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,t&&2===this.data.r&&(this.e.v=this._currentTextLength);var e=2===this.data.r?1:100/this.data.totalChars,n=this.o.v/e,r=this.s.v/e+n,i=this.e.v/e+n;if(r>i){var a=r;r=i,i=a}this.finalS=r,this.finalE=i}},extendPrototype([DynamicPropertyContainer],r),{getTextSelectorProp:i}}();function TextAnimatorDataProperty(t,e,n){var r={propType:!1},i=PropertyFactory.getProp,a=e.a;this.a={r:a.r?i(t,a.r,0,degToRads,n):r,rx:a.rx?i(t,a.rx,0,degToRads,n):r,ry:a.ry?i(t,a.ry,0,degToRads,n):r,sk:a.sk?i(t,a.sk,0,degToRads,n):r,sa:a.sa?i(t,a.sa,0,degToRads,n):r,s:a.s?i(t,a.s,1,.01,n):r,a:a.a?i(t,a.a,1,0,n):r,o:a.o?i(t,a.o,0,.01,n):r,p:a.p?i(t,a.p,1,0,n):r,sw:a.sw?i(t,a.sw,0,0,n):r,sc:a.sc?i(t,a.sc,1,0,n):r,fc:a.fc?i(t,a.fc,1,0,n):r,fh:a.fh?i(t,a.fh,0,0,n):r,fs:a.fs?i(t,a.fs,0,.01,n):r,fb:a.fb?i(t,a.fb,0,.01,n):r,t:a.t?i(t,a.t,0,0,n):r},this.s=TextSelectorProp.getTextSelectorProp(t,e.s,n),this.s.t=e.s.t}function TextAnimatorProperty(t,e,n){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=t,this._renderType=e,this._elem=n,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(n)}function ITextElement(){}TextAnimatorProperty.prototype.searchProperties=function(){var t,e,n=this._textData.a.length,r=PropertyFactory.getProp;for(t=0;t<n;t+=1)e=this._textData.a[t],this._animatorsData[t]=new TextAnimatorDataProperty(this._elem,e,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:r(this._elem,this._textData.p.a,0,0,this),f:r(this._elem,this._textData.p.f,0,0,this),l:r(this._elem,this._textData.p.l,0,0,this),r:r(this._elem,this._textData.p.r,0,0,this),p:r(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=r(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(t,e){if(this.lettersChangedFlag=e,this._mdf||this._isFirstFrame||e||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var n,r,i,a,s,o,l,c,u,h,p,d,f,m,g,v,y,_,x,b=this._moreOptions.alignment.v,S=this._animatorsData,w=this._textData,E=this.mHelper,M=this._renderType,T=this.renderedLetters.length,C=t.l;if(this._hasMaskedPath){if(x=this._pathData.m,!this._pathData.n||this._pathData._mdf){var A,P=x.v;for(this._pathData.r.v&&(P=P.reverse()),s={tLength:0,segments:[]},a=P._length-1,v=0,i=0;i<a;i+=1)A=bez.buildBezierData(P.v[i],P.v[i+1],[P.o[i][0]-P.v[i][0],P.o[i][1]-P.v[i][1]],[P.i[i+1][0]-P.v[i+1][0],P.i[i+1][1]-P.v[i+1][1]]),s.tLength+=A.segmentLength,s.segments.push(A),v+=A.segmentLength;i=a,x.v.c&&(A=bez.buildBezierData(P.v[i],P.v[0],[P.o[i][0]-P.v[i][0],P.o[i][1]-P.v[i][1]],[P.i[0][0]-P.v[0][0],P.i[0][1]-P.v[0][1]]),s.tLength+=A.segmentLength,s.segments.push(A),v+=A.segmentLength),this._pathData.pi=s}if(s=this._pathData.pi,o=this._pathData.f.v,p=0,h=1,c=0,u=!0,m=s.segments,o<0&&x.v.c){s.tLength<Math.abs(o)&&(o=-Math.abs(o)%s.tLength),p=m.length-1,f=m[p].points,h=f.length-1;while(o<0)o+=f[h].partialLength,h-=1,h<0&&(p-=1,f=m[p].points,h=f.length-1)}f=m[p].points,d=f[h-1],l=f[h],g=l.partialLength}a=C.length,n=0,r=0;var R,D,I,L,k,O,F=1.2*t.finalSize*.714,N=!0;L=S.length;var B,U,z,V,H,G,W,j,q,$,X,Y,K=-1,Z=o,J=p,Q=h,tt=-1,et="",nt=this.defaultPropsArray;if(2===t.j||1===t.j){var rt=0,it=0,at=2===t.j?-.5:-1,st=0,ot=!0;for(i=0;i<a;i+=1)if(C[i].n){rt&&(rt+=it);while(st<i)C[st].animatorJustifyOffset=rt,st+=1;rt=0,ot=!0}else{for(I=0;I<L;I+=1)R=S[I].a,R.t.propType&&(ot&&2===t.j&&(it+=R.t.v*at),D=S[I].s,O=D.getMult(C[i].anIndexes[I],w.a[I].s.totalChars),O.length?rt+=R.t.v*O[0]*at:rt+=R.t.v*O*at);ot=!1}rt&&(rt+=it);while(st<i)C[st].animatorJustifyOffset=rt,st+=1}for(i=0;i<a;i+=1){if(E.reset(),V=1,C[i].n)n=0,r+=t.yOffset,r+=N?1:0,o=Z,N=!1,this._hasMaskedPath&&(p=J,h=Q,f=m[p].points,d=f[h-1],l=f[h],g=l.partialLength,c=0),et="",X="",q="",Y="",nt=this.defaultPropsArray;else{if(this._hasMaskedPath){if(tt!==C[i].line){switch(t.j){case 1:o+=v-t.lineWidths[C[i].line];break;case 2:o+=(v-t.lineWidths[C[i].line])/2;break;default:break}tt=C[i].line}K!==C[i].ind&&(C[K]&&(o+=C[K].extra),o+=C[i].an/2,K=C[i].ind),o+=b[0]*C[i].an*.005;var lt=0;for(I=0;I<L;I+=1)R=S[I].a,R.p.propType&&(D=S[I].s,O=D.getMult(C[i].anIndexes[I],w.a[I].s.totalChars),O.length?lt+=R.p.v[0]*O[0]:lt+=R.p.v[0]*O),R.a.propType&&(D=S[I].s,O=D.getMult(C[i].anIndexes[I],w.a[I].s.totalChars),O.length?lt+=R.a.v[0]*O[0]:lt+=R.a.v[0]*O);u=!0,this._pathData.a.v&&(o=.5*C[0].an+(v-this._pathData.f.v-.5*C[0].an-.5*C[C.length-1].an)*K/(a-1),o+=this._pathData.f.v);while(u)c+g>=o+lt||!f?(y=(o+lt-c)/l.partialLength,U=d.point[0]+(l.point[0]-d.point[0])*y,z=d.point[1]+(l.point[1]-d.point[1])*y,E.translate(-b[0]*C[i].an*.005,-b[1]*F*.01),u=!1):f&&(c+=l.partialLength,h+=1,h>=f.length&&(h=0,p+=1,m[p]?f=m[p].points:x.v.c?(h=0,p=0,f=m[p].points):(c-=l.partialLength,f=null)),f&&(d=l,l=f[h],g=l.partialLength));B=C[i].an/2-C[i].add,E.translate(-B,0,0)}else B=C[i].an/2-C[i].add,E.translate(-B,0,0),E.translate(-b[0]*C[i].an*.005,-b[1]*F*.01,0);for(I=0;I<L;I+=1)R=S[I].a,R.t.propType&&(D=S[I].s,O=D.getMult(C[i].anIndexes[I],w.a[I].s.totalChars),0===n&&0===t.j||(this._hasMaskedPath?O.length?o+=R.t.v*O[0]:o+=R.t.v*O:O.length?n+=R.t.v*O[0]:n+=R.t.v*O));for(t.strokeWidthAnim&&(G=t.sw||0),t.strokeColorAnim&&(H=t.sc?[t.sc[0],t.sc[1],t.sc[2]]:[0,0,0]),t.fillColorAnim&&t.fc&&(W=[t.fc[0],t.fc[1],t.fc[2]]),I=0;I<L;I+=1)R=S[I].a,R.a.propType&&(D=S[I].s,O=D.getMult(C[i].anIndexes[I],w.a[I].s.totalChars),O.length?E.translate(-R.a.v[0]*O[0],-R.a.v[1]*O[1],R.a.v[2]*O[2]):E.translate(-R.a.v[0]*O,-R.a.v[1]*O,R.a.v[2]*O));for(I=0;I<L;I+=1)R=S[I].a,R.s.propType&&(D=S[I].s,O=D.getMult(C[i].anIndexes[I],w.a[I].s.totalChars),O.length?E.scale(1+(R.s.v[0]-1)*O[0],1+(R.s.v[1]-1)*O[1],1):E.scale(1+(R.s.v[0]-1)*O,1+(R.s.v[1]-1)*O,1));for(I=0;I<L;I+=1){if(R=S[I].a,D=S[I].s,O=D.getMult(C[i].anIndexes[I],w.a[I].s.totalChars),R.sk.propType&&(O.length?E.skewFromAxis(-R.sk.v*O[0],R.sa.v*O[1]):E.skewFromAxis(-R.sk.v*O,R.sa.v*O)),R.r.propType&&(O.length?E.rotateZ(-R.r.v*O[2]):E.rotateZ(-R.r.v*O)),R.ry.propType&&(O.length?E.rotateY(R.ry.v*O[1]):E.rotateY(R.ry.v*O)),R.rx.propType&&(O.length?E.rotateX(R.rx.v*O[0]):E.rotateX(R.rx.v*O)),R.o.propType&&(O.length?V+=(R.o.v*O[0]-V)*O[0]:V+=(R.o.v*O-V)*O),t.strokeWidthAnim&&R.sw.propType&&(O.length?G+=R.sw.v*O[0]:G+=R.sw.v*O),t.strokeColorAnim&&R.sc.propType)for(j=0;j<3;j+=1)O.length?H[j]+=(R.sc.v[j]-H[j])*O[0]:H[j]+=(R.sc.v[j]-H[j])*O;if(t.fillColorAnim&&t.fc){if(R.fc.propType)for(j=0;j<3;j+=1)O.length?W[j]+=(R.fc.v[j]-W[j])*O[0]:W[j]+=(R.fc.v[j]-W[j])*O;R.fh.propType&&(W=O.length?addHueToRGB(W,R.fh.v*O[0]):addHueToRGB(W,R.fh.v*O)),R.fs.propType&&(W=O.length?addSaturationToRGB(W,R.fs.v*O[0]):addSaturationToRGB(W,R.fs.v*O)),R.fb.propType&&(W=O.length?addBrightnessToRGB(W,R.fb.v*O[0]):addBrightnessToRGB(W,R.fb.v*O))}}for(I=0;I<L;I+=1)R=S[I].a,R.p.propType&&(D=S[I].s,O=D.getMult(C[i].anIndexes[I],w.a[I].s.totalChars),this._hasMaskedPath?O.length?E.translate(0,R.p.v[1]*O[0],-R.p.v[2]*O[1]):E.translate(0,R.p.v[1]*O,-R.p.v[2]*O):O.length?E.translate(R.p.v[0]*O[0],R.p.v[1]*O[1],-R.p.v[2]*O[2]):E.translate(R.p.v[0]*O,R.p.v[1]*O,-R.p.v[2]*O));if(t.strokeWidthAnim&&(q=G<0?0:G),t.strokeColorAnim&&($="rgb("+Math.round(255*H[0])+","+Math.round(255*H[1])+","+Math.round(255*H[2])+")"),t.fillColorAnim&&t.fc&&(X="rgb("+Math.round(255*W[0])+","+Math.round(255*W[1])+","+Math.round(255*W[2])+")"),this._hasMaskedPath){if(E.translate(0,-t.ls),E.translate(0,b[1]*F*.01+r,0),this._pathData.p.v){_=(l.point[1]-d.point[1])/(l.point[0]-d.point[0]);var ct=180*Math.atan(_)/Math.PI;l.point[0]<d.point[0]&&(ct+=180),E.rotate(-ct*Math.PI/180)}E.translate(U,z,0),o-=b[0]*C[i].an*.005,C[i+1]&&K!==C[i+1].ind&&(o+=C[i].an/2,o+=.001*t.tr*t.finalSize)}else{switch(E.translate(n,r,0),t.ps&&E.translate(t.ps[0],t.ps[1]+t.ascent,0),t.j){case 1:E.translate(C[i].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[C[i].line]),0,0);break;case 2:E.translate(C[i].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[C[i].line])/2,0,0);break;default:break}E.translate(0,-t.ls),E.translate(B,0,0),E.translate(b[0]*C[i].an*.005,b[1]*F*.01,0),n+=C[i].l+.001*t.tr*t.finalSize}"html"===M?et=E.toCSS():"svg"===M?et=E.to2dCSS():nt=[E.props[0],E.props[1],E.props[2],E.props[3],E.props[4],E.props[5],E.props[6],E.props[7],E.props[8],E.props[9],E.props[10],E.props[11],E.props[12],E.props[13],E.props[14],E.props[15]],Y=V}T<=i?(k=new LetterProps(Y,q,$,X,et,nt),this.renderedLetters.push(k),T+=1,this.lettersChangedFlag=!0):(k=this.renderedLetters[i],this.lettersChangedFlag=k.update(Y,q,$,X,et,nt)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),ITextElement.prototype.initElement=function(t,e,n){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(t,e,n),this.textProperty=new TextProperty(this,t.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(t.t,this.renderType,this),this.initTransform(t,e,n),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)},ITextElement.prototype.createPathShape=function(t,e){var n,r,i=e.length,a="";for(n=0;n<i;n+=1)"sh"===e[n].ty&&(r=e[n].ks.k,a+=buildShapeString(r,r.i.length,!0,t));return a},ITextElement.prototype.updateDocumentData=function(t,e){this.textProperty.updateDocumentData(t,e)},ITextElement.prototype.canResizeFont=function(t){this.textProperty.canResizeFont(t)},ITextElement.prototype.setMinimumFontSize=function(t){this.textProperty.setMinimumFontSize(t)},ITextElement.prototype.applyTextPropertiesToMatrix=function(t,e,n,r,i){switch(t.ps&&e.translate(t.ps[0],t.ps[1]+t.ascent,0),e.translate(0,-t.ls,0),t.j){case 1:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[n]),0,0);break;case 2:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[n])/2,0,0);break;default:break}e.translate(r,i,0)},ITextElement.prototype.buildColor=function(t){return"rgb("+Math.round(255*t[0])+","+Math.round(255*t[1])+","+Math.round(255*t[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(t,e,n){this.textSpans=[],this.renderType="svg",this.initElement(t,e,n)}function ISolidElement(t,e,n){this.initElement(t,e,n)}function NullElement(t,e,n){this.initFrame(),this.initBaseData(t,e,n),this.initFrame(),this.initTransform(t,e,n),this.initHierarchy()}function SVGRendererBase(){}function ICompElement(){}function SVGCompElement(t,e,n){this.layers=t.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,n),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function SVGRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var n="";if(e&&e.title){var r=createNS("title"),i=createElementID();r.setAttribute("id",i),r.textContent=e.title,this.svgElement.appendChild(r),n+=i}if(e&&e.description){var a=createNS("desc"),s=createElementID();a.setAttribute("id",s),a.textContent=e.description,this.svgElement.appendChild(a),n+=" "+s}n&&this.svgElement.setAttribute("aria-labelledby",n);var o=createNS("defs");this.svgElement.appendChild(o);var l=createNS("g");this.svgElement.appendChild(l),this.layerElement=l,this.renderConfig={preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",progressiveLoad:e&&e.progressiveLoad||!1,hideOnTransparent:!(e&&!1===e.hideOnTransparent),viewBoxOnly:e&&e.viewBoxOnly||!1,viewBoxSize:e&&e.viewBoxSize||!1,className:e&&e.className||"",id:e&&e.id||"",focusable:e&&e.focusable,filterSize:{width:e&&e.filterSize&&e.filterSize.width||"100%",height:e&&e.filterSize&&e.filterSize.height||"100%",x:e&&e.filterSize&&e.filterSize.x||"0%",y:e&&e.filterSize&&e.filterSize.y||"0%"},width:e&&e.width,height:e&&e.height,runExpressions:!e||void 0===e.runExpressions||e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:o,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(t){var e=0,n=t.length,r=[],i="";while(e<n)t[e]===String.fromCharCode(13)||t[e]===String.fromCharCode(3)?(r.push(i),i=""):i+=t[e],e+=1;return r.push(i),r},SVGTextLottieElement.prototype.buildShapeData=function(t,e){if(t.shapes&&t.shapes.length){var n=t.shapes[0];if(n.it){var r=n.it[n.it.length-1];r.s&&(r.s.k[0]=e,r.s.k[1]=e)}}return t},SVGTextLottieElement.prototype.buildNewText=function(){var t,e;this.addDynamicProperty(this);var n=this.textProperty.currentData;this.renderedLetters=createSizedArray(n?n.l.length:0),n.fc?this.layerElement.setAttribute("fill",this.buildColor(n.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),n.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(n.sc)),this.layerElement.setAttribute("stroke-width",n.sw)),this.layerElement.setAttribute("font-size",n.finalSize);var r=this.globalData.fontManager.getFontByName(n.f);if(r.fClass)this.layerElement.setAttribute("class",r.fClass);else{this.layerElement.setAttribute("font-family",r.fFamily);var i=n.fWeight,a=n.fStyle;this.layerElement.setAttribute("font-style",a),this.layerElement.setAttribute("font-weight",i)}this.layerElement.setAttribute("aria-label",n.t);var s,o=n.l||[],l=!!this.globalData.fontManager.chars;e=o.length;var c=this.mHelper,u="",h=this.data.singleShape,p=0,d=0,f=!0,m=.001*n.tr*n.finalSize;if(!h||l||n.sz){var g,v=this.textSpans.length;for(t=0;t<e;t+=1){if(this.textSpans[t]||(this.textSpans[t]={span:null,childSpan:null,glyph:null}),!l||!h||0===t){if(s=v>t?this.textSpans[t].span:createNS(l?"g":"text"),v<=t){if(s.setAttribute("stroke-linecap","butt"),s.setAttribute("stroke-linejoin","round"),s.setAttribute("stroke-miterlimit","4"),this.textSpans[t].span=s,l){var y=createNS("g");s.appendChild(y),this.textSpans[t].childSpan=y}this.textSpans[t].span=s,this.layerElement.appendChild(s)}s.style.display="inherit"}if(c.reset(),h&&(o[t].n&&(p=-m,d+=n.yOffset,d+=f?1:0,f=!1),this.applyTextPropertiesToMatrix(n,c,o[t].line,p,d),p+=o[t].l||0,p+=m),l){var _;if(g=this.globalData.fontManager.getCharData(n.finalText[t],r.fStyle,this.globalData.fontManager.getFontByName(n.f).fFamily),1===g.t)_=new SVGCompElement(g.data,this.globalData,this);else{var x=emptyShapeData;g.data&&g.data.shapes&&(x=this.buildShapeData(g.data,n.finalSize)),_=new SVGShapeElement(x,this.globalData,this)}if(this.textSpans[t].glyph){var b=this.textSpans[t].glyph;this.textSpans[t].childSpan.removeChild(b.layerElement),b.destroy()}this.textSpans[t].glyph=_,_._debug=!0,_.prepareFrame(0),_.renderFrame(),this.textSpans[t].childSpan.appendChild(_.layerElement),1===g.t&&this.textSpans[t].childSpan.setAttribute("transform","scale("+n.finalSize/100+","+n.finalSize/100+")")}else h&&s.setAttribute("transform","translate("+c.props[12]+","+c.props[13]+")"),s.textContent=o[t].val,s.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}h&&s&&s.setAttribute("d",u)}else{var S=this.textContainer,w="start";switch(n.j){case 1:w="end";break;case 2:w="middle";break;default:w="start";break}S.setAttribute("text-anchor",w),S.setAttribute("letter-spacing",m);var E=this.buildTextContents(n.finalText);for(e=E.length,d=n.ps?n.ps[1]+n.ascent:0,t=0;t<e;t+=1)s=this.textSpans[t].span||createNS("tspan"),s.textContent=E[t],s.setAttribute("x",0),s.setAttribute("y",d),s.style.display="inherit",S.appendChild(s),this.textSpans[t]||(this.textSpans[t]={span:null,glyph:null}),this.textSpans[t].span=s,d+=n.finalLineHeight;this.layerElement.appendChild(S)}while(t<this.textSpans.length)this.textSpans[t].span.style.display="none",t+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var t=this.layerElement.getBBox();this.bbox={top:t.y,left:t.x,width:t.width,height:t.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var t,e,n=this.textSpans.length;for(this.renderedFrame=this.comp.renderedFrame,t=0;t<n;t+=1)e=this.textSpans[t].glyph,e&&(e.prepareFrame(this.comp.renderedFrame-this.data.st),e._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var t,e;this._sizeChanged=!0;var n,r,i,a=this.textAnimator.renderedLetters,s=this.textProperty.currentData.l;for(e=s.length,t=0;t<e;t+=1)s[t].n||(n=a[t],r=this.textSpans[t].span,i=this.textSpans[t].glyph,i&&i.renderFrame(),n._mdf.m&&r.setAttribute("transform",n.m),n._mdf.o&&r.setAttribute("opacity",n.o),n._mdf.sw&&r.setAttribute("stroke-width",n.sw),n._mdf.sc&&r.setAttribute("stroke",n.sc),n._mdf.fc&&r.setAttribute("fill",n.fc))}},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var t=createNS("rect");t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.layerElement.appendChild(t)},NullElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(t){return new NullElement(t,this.globalData,this)},SVGRendererBase.prototype.createShape=function(t){return new SVGShapeElement(t,this.globalData,this)},SVGRendererBase.prototype.createText=function(t){return new SVGTextLottieElement(t,this.globalData,this)},SVGRendererBase.prototype.createImage=function(t){return new IImageElement(t,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(t){return new ISolidElement(t,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(t){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+t.w+" "+t.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",t.w),this.svgElement.setAttribute("height",t.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var e=this.globalData.defs;this.setupGlobalData(t,e),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=t;var n=createNS("clipPath"),r=createNS("rect");r.setAttribute("width",t.w),r.setAttribute("height",t.h),r.setAttribute("x",0),r.setAttribute("y",0);var i=createElementID();n.setAttribute("id",i),n.appendChild(r),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+i+")"),e.appendChild(n),this.layers=t.layers,this.elements=createSizedArray(t.layers.length)},SVGRendererBase.prototype.destroy=function(){var t;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var e=this.layers?this.layers.length:0;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(t){var e=0,n=this.layers.length;for(e=0;e<n;e+=1)if(this.layers[e].ind===t)return e;return-1},SVGRendererBase.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&99!==this.layers[t].ty){e[t]=!0;var n=this.createItem(this.layers[t]);if(e[t]=n,getExpressionsPlugin()&&(0===this.layers[t].ty&&this.globalData.projectInterface.registerComposition(n),n.initExpressions()),this.appendElementInPos(n,t),this.layers[t].tt){var r="tp"in this.layers[t]?this.findIndexByInd(this.layers[t].tp):t-1;if(-1===r)return;if(this.elements[r]&&!0!==this.elements[r]){var i=e[r],a=i.getMatte(this.layers[t].tt);n.setMatte(a)}else this.buildItem(r),this.addPendingElement(n)}}},SVGRendererBase.prototype.checkPendingElements=function(){while(this.pendingElements.length){var t=this.pendingElements.pop();if(t.checkParenting(),t.data.tt){var e=0,n=this.elements.length;while(e<n){if(this.elements[e]===t){var r="tp"in t.data?this.findIndexByInd(t.data.tp):e-1,i=this.elements[r],a=i.getMatte(this.layers[e].tt);t.setMatte(a);break}e+=1}}}},SVGRendererBase.prototype.renderFrame=function(t){if(this.renderedFrame!==t&&!this.destroyed){var e;null===t?t=this.renderedFrame:this.renderedFrame=t,this.globalData.frameNum=t,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=t,this.globalData._mdf=!1;var n=this.layers.length;for(this.completeLayers||this.checkLayers(t),e=n-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(t-this.layers[e].st);if(this.globalData._mdf)for(e=0;e<n;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(t,e){var n=t.getBaseElement();if(n){var r,i=0;while(i<e)this.elements[i]&&!0!==this.elements[i]&&this.elements[i].getBaseElement()&&(r=this.elements[i].getBaseElement()),i+=1;r?this.layerElement.insertBefore(n,r):this.layerElement.appendChild(n)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(t,e,n){this.initFrame(),this.initBaseData(t,e,n),this.initTransform(t,e,n),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&e.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(t){if(this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=t/this.data.sr;else{var e=this.tm.v;e===this.data.op&&(e=this.data.op-1),this.renderedFrame=e}var n,r=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),n=r-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&(this.elements[n].prepareFrame(this.renderedFrame-this.layers[n].st),this.elements[n]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},ICompElement.prototype.setElements=function(t){this.elements=t},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)},extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)},ShapeTransformManager.prototype={addTransformSequence:function(t){var e,n=t.length,r="_";for(e=0;e<n;e+=1)r+=t[e].transform.key+"_";var i=this.sequences[r];return i||(i={transforms:[].concat(t),finalTransform:new Matrix,_mdf:!1},this.sequences[r]=i,this.sequenceList.push(i)),i},processSequence:function(t,e){var n=0,r=t.transforms.length,i=e;while(n<r&&!e){if(t.transforms[n].transform.mProps._mdf){i=!0;break}n+=1}if(i)for(t.finalTransform.reset(),n=r-1;n>=0;n-=1)t.finalTransform.multiply(t.transforms[n].transform.mProps.v);t._mdf=i},processSequences:function(t){var e,n=this.sequenceList.length;for(e=0;e<n;e+=1)this.processSequence(this.sequenceList[e],t)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var t="__lottie_element_luma_buffer",e=null,n=null,r=null;function i(){var e=createNS("svg"),n=createNS("filter"),r=createNS("feColorMatrix");return n.setAttribute("id",t),r.setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),n.appendChild(r),e.appendChild(n),e.setAttribute("id",t+"_svg"),featureSupport.svgLumaHidden&&(e.style.display="none"),e}function a(){e||(r=i(),document.body.appendChild(r),e=createTag("canvas"),n=e.getContext("2d"),n.filter="url(#"+t+")",n.fillStyle="rgba(0,0,0,0)",n.fillRect(0,0,1,1))}function s(r){return e||a(),e.width=r.width,e.height=r.height,n.filter="url(#"+t+")",e}return{load:a,get:s}};function createCanvas(t,e){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(t,e);var n=createTag("canvas");return n.width=t,n.height=e,n}var assetLoader=function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas:createCanvas}}(),registeredEffects={};function CVEffects(t){var e,n,r=t.data.ef?t.data.ef.length:0;for(this.filters=[],e=0;e<r;e+=1){n=null;var i=t.data.ef[e].ty;if(registeredEffects[i]){var a=registeredEffects[i].effect;n=new a(t.effectsManager.effectElements[e],t)}n&&this.filters.push(n)}this.filters.length&&t.addRenderableComponent(this)}function registerEffect(t,e){registeredEffects[t]={effect:e}}function CVMaskElement(t,e){var n;this.data=t,this.element=e,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var r=this.masksProperties.length,i=!1;for(n=0;n<r;n+=1)"n"!==this.masksProperties[n].mode&&(i=!0),this.viewData[n]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[n],3);this.hasMasks=i,i&&this.element.addRenderableComponent(this)}function CVBaseElement(){}CVEffects.prototype.renderFrame=function(t){var e,n=this.filters.length;for(e=0;e<n;e+=1)this.filters[e].renderFrame(t)},CVEffects.prototype.getEffects=function(t){var e,n=this.filters.length,r=[];for(e=0;e<n;e+=1)this.filters[e].type===t&&r.push(this.filters[e]);return r},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var t,e,n,r,i=this.element.finalTransform.mat,a=this.element.canvasContext,s=this.masksProperties.length;for(a.beginPath(),t=0;t<s;t+=1)if("n"!==this.masksProperties[t].mode){var o;this.masksProperties[t].inv&&(a.moveTo(0,0),a.lineTo(this.element.globalData.compSize.w,0),a.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),a.lineTo(0,this.element.globalData.compSize.h),a.lineTo(0,0)),r=this.viewData[t].v,e=i.applyToPointArray(r.v[0][0],r.v[0][1],0),a.moveTo(e[0],e[1]);var l=r._length;for(o=1;o<l;o+=1)n=i.applyToTriplePoints(r.o[o-1],r.i[o],r.v[o]),a.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5]);n=i.applyToTriplePoints(r.o[o-1],r.i[0],r.v[0]),a.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5])}this.element.globalData.renderer.save(!0),a.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};function CVShapeData(t,e,n,r){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var i,a=4;"rc"===e.ty?a=5:"el"===e.ty?a=6:"sr"===e.ty&&(a=7),this.sh=ShapePropertyFactory.getShapeProp(t,e,a,t);var s,o=n.length;for(i=0;i<o;i+=1)n[i].closed||(s={transforms:r.addTransformSequence(n[i].transforms),trNodes:[]},this.styledShapes.push(s),n[i].elements.push(s))}function CVShapeElement(t,e,n){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(t,e,n)}function CVTextElement(t,e,n){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(t,e,n)}function CVImageElement(t,e,n){this.assetData=e.getAssetData(t.refId),this.img=e.imageLoader.getAsset(this.assetData),this.initElement(t,e,n)}function CVSolidElement(t,e,n){this.initElement(t,e,n)}function CanvasRendererBase(){}function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){var t;this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var e=15;for(t=0;t<e;t+=1){var n=new CanvasContext;this.stack[t]=n}this._length=e,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}function CVCompElement(t,e,n){this.completeLayers=!1,this.layers=t.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(t,e,n),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function CanvasRenderer(t,e){this.animationItem=t,this.renderConfig={clearCanvas:!e||void 0===e.clearCanvas||e.clearCanvas,context:e&&e.context||null,progressiveLoad:e&&e.progressiveLoad||!1,preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",className:e&&e.className||"",id:e&&e.id||"",runExpressions:!e||void 0===e.runExpressions||e.runExpressions},this.renderConfig.dpr=e&&e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=e&&e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}function HBaseElement(){}function HSolidElement(t,e,n){this.initElement(t,e,n)}function HShapeElement(t,e,n){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(t,e,n),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(t,e,n){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(t,e,n)}function HCameraElement(t,e,n){this.initFrame(),this.initBaseData(t,e,n),this.initHierarchy();var r=PropertyFactory.getProp;if(this.pe=r(this,t.pe,0,0,this),t.ks.p.s?(this.px=r(this,t.ks.p.x,1,0,this),this.py=r(this,t.ks.p.y,1,0,this),this.pz=r(this,t.ks.p.z,1,0,this)):this.p=r(this,t.ks.p,1,0,this),t.ks.a&&(this.a=r(this,t.ks.a,1,0,this)),t.ks.or.k.length&&t.ks.or.k[0].to){var i,a=t.ks.or.k.length;for(i=0;i<a;i+=1)t.ks.or.k[i].to=null,t.ks.or.k[i].ti=null}this.or=r(this,t.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=r(this,t.ks.rx,0,degToRads,this),this.ry=r(this,t.ks.ry,0,degToRads,this),this.rz=r(this,t.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HImageElement(t,e,n){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,n)}function HybridRendererBase(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&!1===e.hideOnTransparent),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function HCompElement(t,e,n){this.layers=t.layers,this.supports3d=!t.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,n),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function HybridRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&!1===e.hideOnTransparent),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"},runExpressions:!e||void 0===e.runExpressions||e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var t=this.globalData.canvasContext,e=assetLoader.createCanvas(t.canvas.width,t.canvas.height);this.buffers.push(e);var n=assetLoader.createCanvas(t.canvas.width,t.canvas.height);this.buffers.push(n),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var t=this.globalData;if(t.blendMode!==this.data.bm){t.blendMode=this.data.bm;var e=getBlendMode(this.data.bm);t.canvasContext.globalCompositeOperation=e}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(t){t.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var t=this.buffers[0],e=t.getContext("2d");this.clearCanvas(e),e.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var t=this.buffers[1],e=t.getContext("2d");this.clearCanvas(e),e.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var n=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(n.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var r=assetLoader.getLumaCanvas(this.canvasContext.canvas),i=r.getContext("2d");i.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(r,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(t,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(t){if(!this.hidden&&!this.data.hd&&(1!==this.data.td||t)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var e=0===this.data.ty;this.prepareLayer(),this.globalData.renderer.save(e),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(e),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(t,e){var n={data:t,type:t.ty,preTransforms:this.transformsManager.addTransformSequence(e),transforms:[],elements:[],closed:!0===t.hd},r={};if("fl"===t.ty||"st"===t.ty?(r.c=PropertyFactory.getProp(this,t.c,1,255,this),r.c.k||(n.co="rgb("+bmFloor(r.c.v[0])+","+bmFloor(r.c.v[1])+","+bmFloor(r.c.v[2])+")")):"gf"!==t.ty&&"gs"!==t.ty||(r.s=PropertyFactory.getProp(this,t.s,1,null,this),r.e=PropertyFactory.getProp(this,t.e,1,null,this),r.h=PropertyFactory.getProp(this,t.h||{k:0},0,.01,this),r.a=PropertyFactory.getProp(this,t.a||{k:0},0,degToRads,this),r.g=new GradientProperty(this,t.g,this)),r.o=PropertyFactory.getProp(this,t.o,0,.01,this),"st"===t.ty||"gs"===t.ty){if(n.lc=lineCapEnum[t.lc||2],n.lj=lineJoinEnum[t.lj||2],1==t.lj&&(n.ml=t.ml),r.w=PropertyFactory.getProp(this,t.w,0,null,this),r.w.k||(n.wi=r.w.v),t.d){var i=new DashProperty(this,t.d,"canvas",this);r.d=i,r.d.k||(n.da=r.d.dashArray,n["do"]=r.d.dashoffset[0])}}else n.r=2===t.r?"evenodd":"nonzero";return this.stylesList.push(n),r.style=n,r},CVShapeElement.prototype.createGroupElement=function(){var t={it:[],prevViewData:[]};return t},CVShapeElement.prototype.createTransformElement=function(t){var e={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,t.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,t,this)}};return e},CVShapeElement.prototype.createShapeElement=function(t){var e=new CVShapeData(this,t,this.stylesList,this.transformsManager);return this.shapes.push(e),this.addShapeToModifiers(e),e},CVShapeElement.prototype.reloadShapes=function(){var t;this._isFirstFrame=!0;var e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(t){var e,n=this.stylesList.length;for(e=0;e<n;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.push(t)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var t,e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.pop()},CVShapeElement.prototype.closeStyles=function(t){var e,n=t.length;for(e=0;e<n;e+=1)t[e].closed=!0},CVShapeElement.prototype.searchShapes=function(t,e,n,r,i){var a,s,o,l,c,u,h=t.length-1,p=[],d=[],f=[].concat(i);for(a=h;a>=0;a-=1){if(l=this.searchProcessedElement(t[a]),l?e[a]=n[l-1]:t[a]._shouldRender=r,"fl"===t[a].ty||"st"===t[a].ty||"gf"===t[a].ty||"gs"===t[a].ty)l?e[a].style.closed=!1:e[a]=this.createStyleElement(t[a],f),p.push(e[a].style);else if("gr"===t[a].ty){if(l)for(o=e[a].it.length,s=0;s<o;s+=1)e[a].prevViewData[s]=e[a].it[s];else e[a]=this.createGroupElement(t[a]);this.searchShapes(t[a].it,e[a].it,e[a].prevViewData,r,f)}else"tr"===t[a].ty?(l||(u=this.createTransformElement(t[a]),e[a]=u),f.push(e[a]),this.addTransformToStyleList(e[a])):"sh"===t[a].ty||"rc"===t[a].ty||"el"===t[a].ty||"sr"===t[a].ty?l||(e[a]=this.createShapeElement(t[a])):"tm"===t[a].ty||"rd"===t[a].ty||"pb"===t[a].ty||"zz"===t[a].ty||"op"===t[a].ty?(l?(c=e[a],c.closed=!1):(c=ShapeModifiers.getModifier(t[a].ty),c.init(this,t[a]),e[a]=c,this.shapeModifiers.push(c)),d.push(c)):"rp"===t[a].ty&&(l?(c=e[a],c.closed=!0):(c=ShapeModifiers.getModifier(t[a].ty),e[a]=c,c.init(this,t,a,e),this.shapeModifiers.push(c),r=!1),d.push(c));this.addProcessedElement(t[a],a+1)}for(this.removeTransformFromStyleList(),this.closeStyles(p),h=d.length,a=0;a<h;a+=1)d[a].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(t,e){(t._opMdf||e.op._mdf||this._isFirstFrame)&&(e.opacity=t.opacity,e.opacity*=e.op.v,e._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var t,e,n,r,i,a,s,o,l,c=this.stylesList.length,u=this.globalData.renderer,h=this.globalData.canvasContext;for(t=0;t<c;t+=1)if(l=this.stylesList[t],o=l.type,("st"!==o&&"gs"!==o||0!==l.wi)&&l.data._shouldRender&&0!==l.coOp&&0!==this.globalData.currentGlobalAlpha){for(u.save(),a=l.elements,"st"===o||"gs"===o?(u.ctxStrokeStyle("st"===o?l.co:l.grd),u.ctxLineWidth(l.wi),u.ctxLineCap(l.lc),u.ctxLineJoin(l.lj),u.ctxMiterLimit(l.ml||0)):u.ctxFillStyle("fl"===o?l.co:l.grd),u.ctxOpacity(l.coOp),"st"!==o&&"gs"!==o&&h.beginPath(),u.ctxTransform(l.preTransforms.finalTransform.props),n=a.length,e=0;e<n;e+=1){for("st"!==o&&"gs"!==o||(h.beginPath(),l.da&&(h.setLineDash(l.da),h.lineDashOffset=l["do"])),s=a[e].trNodes,i=s.length,r=0;r<i;r+=1)"m"===s[r].t?h.moveTo(s[r].p[0],s[r].p[1]):"c"===s[r].t?h.bezierCurveTo(s[r].pts[0],s[r].pts[1],s[r].pts[2],s[r].pts[3],s[r].pts[4],s[r].pts[5]):h.closePath();"st"!==o&&"gs"!==o||(u.ctxStroke(),l.da&&h.setLineDash(this.dashResetter))}"st"!==o&&"gs"!==o&&this.globalData.renderer.ctxFill(l.r),u.restore()}},CVShapeElement.prototype.renderShape=function(t,e,n,r){var i,a,s=e.length-1;for(a=t,i=s;i>=0;i-=1)"tr"===e[i].ty?(a=n[i].transform,this.renderShapeTransform(t,a)):"sh"===e[i].ty||"el"===e[i].ty||"rc"===e[i].ty||"sr"===e[i].ty?this.renderPath(e[i],n[i]):"fl"===e[i].ty?this.renderFill(e[i],n[i],a):"st"===e[i].ty?this.renderStroke(e[i],n[i],a):"gf"===e[i].ty||"gs"===e[i].ty?this.renderGradientFill(e[i],n[i],a):"gr"===e[i].ty?this.renderShape(a,e[i].it,n[i].it):e[i].ty;r&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(t,e){if(this._isFirstFrame||e._mdf||t.transforms._mdf){var n,r,i,a=t.trNodes,s=e.paths,o=s._length;a.length=0;var l=t.transforms.finalTransform;for(i=0;i<o;i+=1){var c=s.shapes[i];if(c&&c.v){for(r=c._length,n=1;n<r;n+=1)1===n&&a.push({t:"m",p:l.applyToPointArray(c.v[0][0],c.v[0][1],0)}),a.push({t:"c",pts:l.applyToTriplePoints(c.o[n-1],c.i[n],c.v[n])});1===r&&a.push({t:"m",p:l.applyToPointArray(c.v[0][0],c.v[0][1],0)}),c.c&&r&&(a.push({t:"c",pts:l.applyToTriplePoints(c.o[n-1],c.i[0],c.v[0])}),a.push({t:"z"}))}}t.trNodes=a}},CVShapeElement.prototype.renderPath=function(t,e){if(!0!==t.hd&&t._shouldRender){var n,r=e.styledShapes.length;for(n=0;n<r;n+=1)this.renderStyledShape(e.styledShapes[n],e.sh)}},CVShapeElement.prototype.renderFill=function(t,e,n){var r=e.style;(e.c._mdf||this._isFirstFrame)&&(r.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||n._opMdf||this._isFirstFrame)&&(r.coOp=e.o.v*n.opacity)},CVShapeElement.prototype.renderGradientFill=function(t,e,n){var r,i=e.style;if(!i.grd||e.g._mdf||e.s._mdf||e.e._mdf||1!==t.t&&(e.h._mdf||e.a._mdf)){var a,s=this.globalData.canvasContext,o=e.s.v,l=e.e.v;if(1===t.t)r=s.createLinearGradient(o[0],o[1],l[0],l[1]);else{var c=Math.sqrt(Math.pow(o[0]-l[0],2)+Math.pow(o[1]-l[1],2)),u=Math.atan2(l[1]-o[1],l[0]-o[0]),h=e.h.v;h>=1?h=.99:h<=-1&&(h=-.99);var p=c*h,d=Math.cos(u+e.a.v)*p+o[0],f=Math.sin(u+e.a.v)*p+o[1];r=s.createRadialGradient(d,f,0,o[0],o[1],c)}var m=t.g.p,g=e.g.c,v=1;for(a=0;a<m;a+=1)e.g._hasOpacity&&e.g._collapsable&&(v=e.g.o[2*a+1]),r.addColorStop(g[4*a]/100,"rgba("+g[4*a+1]+","+g[4*a+2]+","+g[4*a+3]+","+v+")");i.grd=r}i.coOp=e.o.v*n.opacity},CVShapeElement.prototype.renderStroke=function(t,e,n){var r=e.style,i=e.d;i&&(i._mdf||this._isFirstFrame)&&(r.da=i.dashArray,r["do"]=i.dashoffset[0]),(e.c._mdf||this._isFirstFrame)&&(r.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||n._opMdf||this._isFirstFrame)&&(r.coOp=e.o.v*n.opacity),(e.w._mdf||this._isFirstFrame)&&(r.wi=e.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=!1;t.fc?(e=!0,this.values.fill=this.buildColor(t.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=e;var n=!1;t.sc&&(n=!0,this.values.stroke=this.buildColor(t.sc),this.values.sWidth=t.sw);var r,i,a,s,o,l,c,u,h,p,d,f,m=this.globalData.fontManager.getFontByName(t.f),g=t.l,v=this.mHelper;this.stroke=n,this.values.fValue=t.finalSize+"px "+this.globalData.fontManager.getFontByName(t.f).fFamily,i=t.finalText.length;var y=this.data.singleShape,_=.001*t.tr*t.finalSize,x=0,b=0,S=!0,w=0;for(r=0;r<i;r+=1){a=this.globalData.fontManager.getCharData(t.finalText[r],m.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily),s=a&&a.data||{},v.reset(),y&&g[r].n&&(x=-_,b+=t.yOffset,b+=S?1:0,S=!1),c=s.shapes?s.shapes[0].it:[],h=c.length,v.scale(t.finalSize/100,t.finalSize/100),y&&this.applyTextPropertiesToMatrix(t,v,g[r].line,x,b),d=createSizedArray(h-1);var E=0;for(u=0;u<h;u+=1)if("sh"===c[u].ty){for(l=c[u].ks.k.i.length,p=c[u].ks.k,f=[],o=1;o<l;o+=1)1===o&&f.push(v.applyToX(p.v[0][0],p.v[0][1],0),v.applyToY(p.v[0][0],p.v[0][1],0)),f.push(v.applyToX(p.o[o-1][0],p.o[o-1][1],0),v.applyToY(p.o[o-1][0],p.o[o-1][1],0),v.applyToX(p.i[o][0],p.i[o][1],0),v.applyToY(p.i[o][0],p.i[o][1],0),v.applyToX(p.v[o][0],p.v[o][1],0),v.applyToY(p.v[o][0],p.v[o][1],0));f.push(v.applyToX(p.o[o-1][0],p.o[o-1][1],0),v.applyToY(p.o[o-1][0],p.o[o-1][1],0),v.applyToX(p.i[0][0],p.i[0][1],0),v.applyToY(p.i[0][0],p.i[0][1],0),v.applyToX(p.v[0][0],p.v[0][1],0),v.applyToY(p.v[0][0],p.v[0][1],0)),d[E]=f,E+=1}y&&(x+=g[r].l,x+=_),this.textSpans[w]?this.textSpans[w].elem=d:this.textSpans[w]={elem:d},w+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText();var t,e,n,r,i,a,s=this.canvasContext;s.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var o,l=this.textAnimator.renderedLetters,c=this.textProperty.currentData.l;e=c.length;var u,h,p=null,d=null,f=null,m=this.globalData.renderer;for(t=0;t<e;t+=1)if(!c[t].n){if(o=l[t],o&&(m.save(),m.ctxTransform(o.p),m.ctxOpacity(o.o)),this.fill){for(o&&o.fc?p!==o.fc&&(m.ctxFillStyle(o.fc),p=o.fc):p!==this.values.fill&&(p=this.values.fill,m.ctxFillStyle(this.values.fill)),u=this.textSpans[t].elem,r=u.length,this.globalData.canvasContext.beginPath(),n=0;n<r;n+=1)for(h=u[n],a=h.length,this.globalData.canvasContext.moveTo(h[0],h[1]),i=2;i<a;i+=6)this.globalData.canvasContext.bezierCurveTo(h[i],h[i+1],h[i+2],h[i+3],h[i+4],h[i+5]);this.globalData.canvasContext.closePath(),m.ctxFill()}if(this.stroke){for(o&&o.sw?f!==o.sw&&(f=o.sw,m.ctxLineWidth(o.sw)):f!==this.values.sWidth&&(f=this.values.sWidth,m.ctxLineWidth(this.values.sWidth)),o&&o.sc?d!==o.sc&&(d=o.sc,m.ctxStrokeStyle(o.sc)):d!==this.values.stroke&&(d=this.values.stroke,m.ctxStrokeStyle(this.values.stroke)),u=this.textSpans[t].elem,r=u.length,this.globalData.canvasContext.beginPath(),n=0;n<r;n+=1)for(h=u[n],a=h.length,this.globalData.canvasContext.moveTo(h[0],h[1]),i=2;i<a;i+=6)this.globalData.canvasContext.bezierCurveTo(h[i],h[i+1],h[i+2],h[i+3],h[i+4],h[i+5]);this.globalData.canvasContext.closePath(),m.ctxStroke()}o&&this.globalData.renderer.restore()}},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var t=createTag("canvas");t.width=this.assetData.w,t.height=this.assetData.h;var e,n,r=t.getContext("2d"),i=this.img.width,a=this.img.height,s=i/a,o=this.assetData.w/this.assetData.h,l=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;s>o&&"xMidYMid slice"===l||s<o&&"xMidYMid slice"!==l?(n=a,e=n*o):(e=i,n=e/o),r.drawImage(this.img,(i-e)/2,(a-n)/2,e,n,0,0,this.assetData.w,this.assetData.h),this.img=t}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(t){return new CVShapeElement(t,this.globalData,this)},CanvasRendererBase.prototype.createText=function(t){return new CVTextElement(t,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(t){return new CVImageElement(t,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(t){return new CVSolidElement(t,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(t){1===t[0]&&0===t[1]&&0===t[4]&&1===t[5]&&0===t[12]&&0===t[13]||this.canvasContext.transform(t[0],t[1],t[4],t[5],t[12],t[13])},CanvasRendererBase.prototype.ctxOpacity=function(t){this.canvasContext.globalAlpha*=t<0?0:t},CanvasRendererBase.prototype.ctxFillStyle=function(t){this.canvasContext.fillStyle=t},CanvasRendererBase.prototype.ctxStrokeStyle=function(t){this.canvasContext.strokeStyle=t},CanvasRendererBase.prototype.ctxLineWidth=function(t){this.canvasContext.lineWidth=t},CanvasRendererBase.prototype.ctxLineCap=function(t){this.canvasContext.lineCap=t},CanvasRendererBase.prototype.ctxLineJoin=function(t){this.canvasContext.lineJoin=t},CanvasRendererBase.prototype.ctxMiterLimit=function(t){this.canvasContext.miterLimit=t},CanvasRendererBase.prototype.ctxFill=function(t){this.canvasContext.fill(t)},CanvasRendererBase.prototype.ctxFillRect=function(t,e,n,r){this.canvasContext.fillRect(t,e,n,r)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(t){this.renderConfig.clearCanvas?(t&&(this.globalData.blendMode="source-over"),this.contextData.restore(t)):this.canvasContext.restore()},CanvasRendererBase.prototype.configAnimation=function(t){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var e=this.animationItem.container.style;e.width="100%",e.height="100%";var n="0px 0px 0px";e.transformOrigin=n,e.mozTransformOrigin=n,e.webkitTransformOrigin=n,e["-webkit-transform"]=n,e.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=t,this.layers=t.layers,this.transformCanvas={w:t.w,h:t.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(t,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(t.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(t,e){var n,r,i,a;if(this.reset(),t?(n=t,r=e,this.canvasContext.canvas.width=n,this.canvasContext.canvas.height=r):(this.animationItem.wrapper&&this.animationItem.container?(n=this.animationItem.wrapper.offsetWidth,r=this.animationItem.wrapper.offsetHeight):(n=this.canvasContext.canvas.width,r=this.canvasContext.canvas.height),this.canvasContext.canvas.width=n*this.renderConfig.dpr,this.canvasContext.canvas.height=r*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var s=this.renderConfig.preserveAspectRatio.split(" "),o=s[1]||"meet",l=s[0]||"xMidYMid",c=l.substr(0,4),u=l.substr(4);i=n/r,a=this.transformCanvas.w/this.transformCanvas.h,a>i&&"meet"===o||a<i&&"slice"===o?(this.transformCanvas.sx=n/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=n/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=r/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=r/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===c&&(a<i&&"meet"===o||a>i&&"slice"===o)?(n-this.transformCanvas.w*(r/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===c&&(a<i&&"meet"===o||a>i&&"slice"===o)?(n-this.transformCanvas.w*(r/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===u&&(a>i&&"meet"===o||a<i&&"slice"===o)?(r-this.transformCanvas.h*(n/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===u&&(a>i&&"meet"===o||a<i&&"slice"===o)?(r-this.transformCanvas.h*(n/this.transformCanvas.w))*this.renderConfig.dpr:0}else"none"===this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=n/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=r/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){var t;this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var e=this.layers?this.layers.length:0;for(t=e-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(t,e){if((this.renderedFrame!==t||!0!==this.renderConfig.clearCanvas||e)&&!this.destroyed&&-1!==t){var n;this.renderedFrame=t,this.globalData.frameNum=t-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||e,this.globalData.projectInterface.currentFrame=t;var r=this.layers.length;for(this.completeLayers||this.checkLayers(t),n=r-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&this.elements[n].prepareFrame(t-this.layers[n].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),n=r-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&this.elements[n].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&99!==this.layers[t].ty){var n=this.createItem(this.layers[t],this,this.globalData);e[t]=n,n.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){while(this.pendingElements.length){var t=this.pendingElements.pop();t.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"},CVContextData.prototype.duplicate=function(){var t=2*this._length,e=0;for(e=this._length;e<t;e+=1)this.stack[e]=new CanvasContext;this._length=t},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(t){this.cArrPos-=1;var e,n=this.stack[this.cArrPos],r=n.transform,i=this.cTr.props;for(e=0;e<16;e+=1)i[e]=r[e];if(t){this.nativeContext.restore();var a=this.stack[this.cArrPos+1];this.appliedFillStyle=a.fillStyle,this.appliedStrokeStyle=a.strokeStyle,this.appliedLineWidth=a.lineWidth,this.appliedLineCap=a.lineCap,this.appliedLineJoin=a.lineJoin,this.appliedMiterLimit=a.miterLimit}this.nativeContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13]),(t||-1!==n.opacity&&this.currentOpacity!==n.opacity)&&(this.nativeContext.globalAlpha=n.opacity,this.currentOpacity=n.opacity),this.currentFillStyle=n.fillStyle,this.currentStrokeStyle=n.strokeStyle,this.currentLineWidth=n.lineWidth,this.currentLineCap=n.lineCap,this.currentLineJoin=n.lineJoin,this.currentMiterLimit=n.miterLimit},CVContextData.prototype.save=function(t){t&&this.nativeContext.save();var e=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var n,r=this.stack[this.cArrPos];for(n=0;n<16;n+=1)r.transform[n]=e[n];this.cArrPos+=1;var i=this.stack[this.cArrPos];i.opacity=r.opacity,i.fillStyle=r.fillStyle,i.strokeStyle=r.strokeStyle,i.lineWidth=r.lineWidth,i.lineCap=r.lineCap,i.lineJoin=r.lineJoin,i.miterLimit=r.miterLimit},CVContextData.prototype.setOpacity=function(t){this.stack[this.cArrPos].opacity=t},CVContextData.prototype.setContext=function(t){this.nativeContext=t},CVContextData.prototype.fillStyle=function(t){this.stack[this.cArrPos].fillStyle!==t&&(this.currentFillStyle=t,this.stack[this.cArrPos].fillStyle=t)},CVContextData.prototype.strokeStyle=function(t){this.stack[this.cArrPos].strokeStyle!==t&&(this.currentStrokeStyle=t,this.stack[this.cArrPos].strokeStyle=t)},CVContextData.prototype.lineWidth=function(t){this.stack[this.cArrPos].lineWidth!==t&&(this.currentLineWidth=t,this.stack[this.cArrPos].lineWidth=t)},CVContextData.prototype.lineCap=function(t){this.stack[this.cArrPos].lineCap!==t&&(this.currentLineCap=t,this.stack[this.cArrPos].lineCap=t)},CVContextData.prototype.lineJoin=function(t){this.stack[this.cArrPos].lineJoin!==t&&(this.currentLineJoin=t,this.stack[this.cArrPos].lineJoin=t)},CVContextData.prototype.miterLimit=function(t){this.stack[this.cArrPos].miterLimit!==t&&(this.currentMiterLimit=t,this.stack[this.cArrPos].miterLimit=t)},CVContextData.prototype.transform=function(t){this.transformMat.cloneFromProps(t);var e=this.cTr;this.transformMat.multiply(e),e.cloneFromProps(this.transformMat.props);var n=e.props;this.nativeContext.setTransform(n[0],n[1],n[4],n[5],n[12],n[13])},CVContextData.prototype.opacity=function(t){var e=this.stack[this.cArrPos].opacity;e*=t<0?0:t,this.stack[this.cArrPos].opacity!==e&&(this.currentOpacity!==t&&(this.nativeContext.globalAlpha=t,this.currentOpacity=t),this.stack[this.cArrPos].opacity=e)},CVContextData.prototype.fill=function(t){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(t)},CVContextData.prototype.fillRect=function(t,e,n,r){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(t,e,n,r)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()},extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var t,e=this.canvasContext;e.beginPath(),e.moveTo(0,0),e.lineTo(this.data.w,0),e.lineTo(this.data.w,this.data.h),e.lineTo(0,this.data.h),e.lineTo(0,0),e.clip();var n=this.layers.length;for(t=n-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},CVCompElement.prototype.destroy=function(){var t,e=this.layers.length;for(t=e-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)},extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){var t=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var e=this.finalTransform.mat.toCSS();t.transform=e,t.webkitTransform=e}this.finalTransform._opMdf&&(t.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var t;this.data.hasMask?(t=createNS("rect"),t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(t=createTag("div"),t.style.width=this.data.sw+"px",t.style.height=this.data.sh+"px",t.style.backgroundColor=this.data.sc),this.layerElement.appendChild(t)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var t;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),t=this.svgElement;else{t=createNS("svg");var e=this.comp.data?this.comp.data:this.globalData.compSize;t.setAttribute("width",e.w),t.setAttribute("height",e.h),t.appendChild(this.shapesContainer),this.layerElement.appendChild(t)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=t},HShapeElement.prototype.getTransformedPoint=function(t,e){var n,r=t.length;for(n=0;n<r;n+=1)e=t[n].mProps.v.applyToPointArray(e[0],e[1],0);return e},HShapeElement.prototype.calculateShapeBoundingBox=function(t,e){var n,r,i,a,s,o=t.sh.v,l=t.transformers,c=o._length;if(!(c<=1)){for(n=0;n<c-1;n+=1)r=this.getTransformedPoint(l,o.v[n]),i=this.getTransformedPoint(l,o.o[n]),a=this.getTransformedPoint(l,o.i[n+1]),s=this.getTransformedPoint(l,o.v[n+1]),this.checkBounds(r,i,a,s,e);o.c&&(r=this.getTransformedPoint(l,o.v[n]),i=this.getTransformedPoint(l,o.o[n]),a=this.getTransformedPoint(l,o.i[0]),s=this.getTransformedPoint(l,o.v[0]),this.checkBounds(r,i,a,s,e))}},HShapeElement.prototype.checkBounds=function(t,e,n,r,i){this.getBoundsOfCurve(t,e,n,r);var a=this.shapeBoundingBox;i.x=bmMin(a.left,i.x),i.xMax=bmMax(a.right,i.xMax),i.y=bmMin(a.top,i.y),i.yMax=bmMax(a.bottom,i.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(t,e,n,r){for(var i,a,s,o,l,c,u,h=[[t[0],r[0]],[t[1],r[1]]],p=0;p<2;++p)a=6*t[p]-12*e[p]+6*n[p],i=-3*t[p]+9*e[p]-9*n[p]+3*r[p],s=3*e[p]-3*t[p],a|=0,i|=0,s|=0,0===i&&0===a||(0===i?(o=-s/a,o>0&&o<1&&h[p].push(this.calculateF(o,t,e,n,r,p))):(l=a*a-4*s*i,l>=0&&(c=(-a+bmSqrt(l))/(2*i),c>0&&c<1&&h[p].push(this.calculateF(c,t,e,n,r,p)),u=(-a-bmSqrt(l))/(2*i),u>0&&u<1&&h[p].push(this.calculateF(u,t,e,n,r,p)))));this.shapeBoundingBox.left=bmMin.apply(null,h[0]),this.shapeBoundingBox.top=bmMin.apply(null,h[1]),this.shapeBoundingBox.right=bmMax.apply(null,h[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,h[1])},HShapeElement.prototype.calculateF=function(t,e,n,r,i,a){return bmPow(1-t,3)*e[a]+3*bmPow(1-t,2)*t*n[a]+3*(1-t)*bmPow(t,2)*r[a]+bmPow(t,3)*i[a]},HShapeElement.prototype.calculateBoundingBox=function(t,e){var n,r=t.length;for(n=0;n<r;n+=1)t[n]&&t[n].sh?this.calculateShapeBoundingBox(t[n],e):t[n]&&t[n].it?this.calculateBoundingBox(t[n].it,e):t[n]&&t[n].style&&t[n].w&&this.expandStrokeBoundingBox(t[n].w,e)},HShapeElement.prototype.expandStrokeBoundingBox=function(t,e){var n=0;if(t.keyframes){for(var r=0;r<t.keyframes.length;r+=1){var i=t.keyframes[r].s;i>n&&(n=i)}n*=t.mult}else n=t.v*t.mult;e.x-=n,e.xMax+=n,e.y-=n,e.yMax+=n},HShapeElement.prototype.currentBoxContains=function(t){return this.currentBBox.x<=t.x&&this.currentBBox.y<=t.y&&this.currentBBox.width+this.currentBBox.x>=t.x+t.width&&this.currentBBox.height+this.currentBBox.y>=t.y+t.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var t=this.tempBoundingBox,e=999999;if(t.x=e,t.xMax=-e,t.y=e,t.yMax=-e,this.calculateBoundingBox(this.itemsData,t),t.width=t.xMax<t.x?0:t.xMax-t.x,t.height=t.yMax<t.y?0:t.yMax-t.y,this.currentBoxContains(t))return;var n=!1;if(this.currentBBox.w!==t.width&&(this.currentBBox.w=t.width,this.shapeCont.setAttribute("width",t.width),n=!0),this.currentBBox.h!==t.height&&(this.currentBBox.h=t.height,this.shapeCont.setAttribute("height",t.height),n=!0),n||this.currentBBox.x!==t.x||this.currentBBox.y!==t.y){this.currentBBox.w=t.width,this.currentBBox.h=t.height,this.currentBBox.x=t.x,this.currentBBox.y=t.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var r=this.shapeCont.style,i="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";r.transform=i,r.webkitTransform=i}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var t=createNS("g");this.maskedElement.appendChild(t),this.innerElem=t}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=this.innerElem.style,n=t.fc?this.buildColor(t.fc):"rgba(0,0,0,0)";e.fill=n,e.color=n,t.sc&&(e.stroke=this.buildColor(t.sc),e.strokeWidth=t.sw+"px");var r,i,a=this.globalData.fontManager.getFontByName(t.f);if(!this.globalData.fontManager.chars)if(e.fontSize=t.finalSize+"px",e.lineHeight=t.finalSize+"px",a.fClass)this.innerElem.className=a.fClass;else{e.fontFamily=a.fFamily;var s=t.fWeight,o=t.fStyle;e.fontStyle=o,e.fontWeight=s}var l,c,u,h=t.l;i=h.length;var p,d=this.mHelper,f="",m=0;for(r=0;r<i;r+=1){if(this.globalData.fontManager.chars?(this.textPaths[m]?l=this.textPaths[m]:(l=createNS("path"),l.setAttribute("stroke-linecap",lineCapEnum[1]),l.setAttribute("stroke-linejoin",lineJoinEnum[2]),l.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[m]?(c=this.textSpans[m],u=c.children[0]):(c=createTag("div"),c.style.lineHeight=0,u=createNS("svg"),u.appendChild(l),styleDiv(c)))):this.isMasked?l=this.textPaths[m]?this.textPaths[m]:createNS("text"):this.textSpans[m]?(c=this.textSpans[m],l=this.textPaths[m]):(c=createTag("span"),styleDiv(c),l=createTag("span"),styleDiv(l),c.appendChild(l)),this.globalData.fontManager.chars){var g,v=this.globalData.fontManager.getCharData(t.finalText[r],a.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily);if(g=v?v.data:null,d.reset(),g&&g.shapes&&g.shapes.length&&(p=g.shapes[0].it,d.scale(t.finalSize/100,t.finalSize/100),f=this.createPathShape(d,p),l.setAttribute("d",f)),this.isMasked)this.innerElem.appendChild(l);else{if(this.innerElem.appendChild(c),g&&g.shapes){document.body.appendChild(u);var y=u.getBBox();u.setAttribute("width",y.width+2),u.setAttribute("height",y.height+2),u.setAttribute("viewBox",y.x-1+" "+(y.y-1)+" "+(y.width+2)+" "+(y.height+2));var _=u.style,x="translate("+(y.x-1)+"px,"+(y.y-1)+"px)";_.transform=x,_.webkitTransform=x,h[r].yOffset=y.y-1}else u.setAttribute("width",1),u.setAttribute("height",1);c.appendChild(u)}}else if(l.textContent=h[r].val,l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(l);else{this.innerElem.appendChild(c);var b=l.style,S="translate3d(0,"+-t.finalSize/1.2+"px,0)";b.transform=S,b.webkitTransform=S}this.isMasked?this.textSpans[m]=l:this.textSpans[m]=c,this.textSpans[m].style.display="block",this.textPaths[m]=l,m+=1}while(m<this.textSpans.length)this.textSpans[m].style.display="none",m+=1},HTextElement.prototype.renderInnerContent=function(){var t;if(this.validateText(),this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),t=this.svgElement.style;var e="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";t.transform=e,t.webkitTransform=e}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var n,r,i,a,s,o=0,l=this.textAnimator.renderedLetters,c=this.textProperty.currentData.l;for(r=c.length,n=0;n<r;n+=1)c[n].n?o+=1:(a=this.textSpans[n],s=this.textPaths[n],i=l[o],o+=1,i._mdf.m&&(this.isMasked?a.setAttribute("transform",i.m):(a.style.webkitTransform=i.m,a.style.transform=i.m)),a.style.opacity=i.o,i.sw&&i._mdf.sw&&s.setAttribute("stroke-width",i.sw),i.sc&&i._mdf.sc&&s.setAttribute("stroke",i.sc),i.fc&&i._mdf.fc&&(s.setAttribute("fill",i.fc),s.style.color=i.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var u=this.innerElem.getBBox();this.currentBBox.w!==u.width&&(this.currentBBox.w=u.width,this.svgElement.setAttribute("width",u.width)),this.currentBBox.h!==u.height&&(this.currentBBox.h=u.height,this.svgElement.setAttribute("height",u.height));var h=1;if(this.currentBBox.w!==u.width+2*h||this.currentBBox.h!==u.height+2*h||this.currentBBox.x!==u.x-h||this.currentBBox.y!==u.y-h){this.currentBBox.w=u.width+2*h,this.currentBBox.h=u.height+2*h,this.currentBBox.x=u.x-h,this.currentBBox.y=u.y-h,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),t=this.svgElement.style;var p="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";t.transform=p,t.webkitTransform=p}}}},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var t,e,n,r,i=this.comp.threeDElements.length;for(t=0;t<i;t+=1)if(e=this.comp.threeDElements[t],"3d"===e.type){n=e.perspectiveElem.style,r=e.container.style;var a=this.pe.v+"px",s="0px 0px 0px",o="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";n.perspective=a,n.webkitPerspective=a,r.transformOrigin=s,r.mozTransformOrigin=s,r.webkitTransformOrigin=s,n.transform=o,n.webkitTransform=o}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var t,e,n=this._isFirstFrame;if(this.hierarchy)for(e=this.hierarchy.length,t=0;t<e;t+=1)n=this.hierarchy[t].finalTransform.mProp._mdf||n;if(n||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(e=this.hierarchy.length-1,t=e;t>=0;t-=1){var r=this.hierarchy[t].finalTransform.mProp;this.mat.translate(-r.p.v[0],-r.p.v[1],r.p.v[2]),this.mat.rotateX(-r.or.v[0]).rotateY(-r.or.v[1]).rotateZ(r.or.v[2]),this.mat.rotateX(-r.rx.v).rotateY(-r.ry.v).rotateZ(r.rz.v),this.mat.scale(1/r.s.v[0],1/r.s.v[1],1/r.s.v[2]),this.mat.translate(r.a.v[0],r.a.v[1],r.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var i;i=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var a=Math.sqrt(Math.pow(i[0],2)+Math.pow(i[1],2)+Math.pow(i[2],2)),s=[i[0]/a,i[1]/a,i[2]/a],o=Math.sqrt(s[2]*s[2]+s[0]*s[0]),l=Math.atan2(s[1],o),c=Math.atan2(s[0],-s[2]);this.mat.rotateY(c).rotateX(-l)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var u=!this._prevMat.equals(this.mat);if((u||this.pe._mdf)&&this.comp.threeDElements){var h,p,d;for(e=this.comp.threeDElements.length,t=0;t<e;t+=1)if(h=this.comp.threeDElements[t],"3d"===h.type){if(u){var f=this.mat.toCSS();d=h.container.style,d.transform=f,d.webkitTransform=f}this.pe._mdf&&(p=h.perspectiveElem.style,p.perspective=this.pe.v+"px",p.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData),e=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(e),e.crossOrigin="anonymous",e.src=t,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){while(this.pendingElements.length){var t=this.pendingElements.pop();t.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(t,e){var n=t.getBaseElement();if(n){var r=this.layers[e];if(r.ddd&&this.supports3d)this.addTo3dContainer(n,e);else if(this.threeDElements)this.addTo3dContainer(n,e);else{var i,a,s,o=0;while(o<e)this.elements[o]&&!0!==this.elements[o]&&this.elements[o].getBaseElement&&(a=this.elements[o],s=this.layers[o].ddd?this.getThreeDContainerByPos(o):a.getBaseElement(),i=s||i),o+=1;i?r.ddd&&this.supports3d||this.layerElement.insertBefore(n,i):r.ddd&&this.supports3d||this.layerElement.appendChild(n)}}},HybridRendererBase.prototype.createShape=function(t){return this.supports3d?new HShapeElement(t,this.globalData,this):new SVGShapeElement(t,this.globalData,this)},HybridRendererBase.prototype.createText=function(t){return this.supports3d?new HTextElement(t,this.globalData,this):new SVGTextLottieElement(t,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(t){return this.camera=new HCameraElement(t,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(t){return this.supports3d?new HImageElement(t,this.globalData,this):new IImageElement(t,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(t){return this.supports3d?new HSolidElement(t,this.globalData,this):new ISolidElement(t,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(t){var e=0,n=this.threeDElements.length;while(e<n){if(this.threeDElements[e].startPos<=t&&this.threeDElements[e].endPos>=t)return this.threeDElements[e].perspectiveElem;e+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(t,e){var n,r,i=createTag("div");styleDiv(i);var a=createTag("div");if(styleDiv(a),"3d"===e){n=i.style,n.width=this.globalData.compSize.w+"px",n.height=this.globalData.compSize.h+"px";var s="50% 50%";n.webkitTransformOrigin=s,n.mozTransformOrigin=s,n.transformOrigin=s,r=a.style;var o="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";r.transform=o,r.webkitTransform=o}i.appendChild(a);var l={container:a,perspectiveElem:i,startPos:t,endPos:t,type:e};return this.threeDElements.push(l),l},HybridRendererBase.prototype.build3dContainers=function(){var t,e,n=this.layers.length,r="";for(t=0;t<n;t+=1)this.layers[t].ddd&&3!==this.layers[t].ty?("3d"!==r&&(r="3d",e=this.createThreeDContainer(t,"3d")),e.endPos=Math.max(e.endPos,t)):("2d"!==r&&(r="2d",e=this.createThreeDContainer(t,"2d")),e.endPos=Math.max(e.endPos,t));for(n=this.threeDElements.length,t=n-1;t>=0;t-=1)this.resizerElem.appendChild(this.threeDElements[t].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(t,e){var n=0,r=this.threeDElements.length;while(n<r){if(e<=this.threeDElements[n].endPos){var i,a=this.threeDElements[n].startPos;while(a<e)this.elements[a]&&this.elements[a].getBaseElement&&(i=this.elements[a].getBaseElement()),a+=1;i?this.threeDElements[n].container.insertBefore(t,i):this.threeDElements[n].container.appendChild(t);break}n+=1}},HybridRendererBase.prototype.configAnimation=function(t){var e=createTag("div"),n=this.animationItem.wrapper,r=e.style;r.width=t.w+"px",r.height=t.h+"px",this.resizerElem=e,styleDiv(e),r.transformStyle="flat",r.mozTransformStyle="flat",r.webkitTransformStyle="flat",this.renderConfig.className&&e.setAttribute("class",this.renderConfig.className),n.appendChild(e),r.overflow="hidden";var i=createNS("svg");i.setAttribute("width","1"),i.setAttribute("height","1"),styleDiv(i),this.resizerElem.appendChild(i);var a=createNS("defs");i.appendChild(a),this.data=t,this.setupGlobalData(t,i),this.globalData.defs=a,this.layers=t.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){var t;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var e=this.layers?this.layers.length:0;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var t,e,n,r,i=this.animationItem.wrapper.offsetWidth,a=this.animationItem.wrapper.offsetHeight,s=i/a,o=this.globalData.compSize.w/this.globalData.compSize.h;o>s?(t=i/this.globalData.compSize.w,e=i/this.globalData.compSize.w,n=0,r=(a-this.globalData.compSize.h*(i/this.globalData.compSize.w))/2):(t=a/this.globalData.compSize.h,e=a/this.globalData.compSize.h,n=(i-this.globalData.compSize.w*(a/this.globalData.compSize.h))/2,r=0);var l=this.resizerElem.style;l.webkitTransform="matrix3d("+t+",0,0,0,0,"+e+",0,0,0,0,1,0,"+n+","+r+",0,1)",l.transform=l.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var t,e=this.globalData.compSize.w,n=this.globalData.compSize.h,r=this.threeDElements.length;for(t=0;t<r;t+=1){var i=this.threeDElements[t].perspectiveElem.style;i.webkitPerspective=Math.sqrt(Math.pow(e,2)+Math.pow(n,2))+"px",i.perspective=i.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(t){var e,n=t.length,r=createTag("div");for(e=0;e<n;e+=1)if(t[e].xt){var i=this.createComp(t[e],r,this.globalData.comp,null);i.initExpressions(),this.globalData.projectInterface.registerComposition(i)}},extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(t,e){var n,r=0;while(r<e)this.elements[r]&&this.elements[r].getBaseElement&&(n=this.elements[r].getBaseElement()),r+=1;n?this.layerElement.insertBefore(t,n):this.layerElement.appendChild(t)},HCompElement.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)},extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)};var CompExpressionInterface=function(){return function(t){function e(e){var n=0,r=t.layers.length;while(n<r){if(t.layers[n].nm===e||t.layers[n].ind===e)return t.elements[n].layerInterface;n+=1}return null}return Object.defineProperty(e,"_name",{value:t.data.nm}),e.layer=e,e.pixelAspect=1,e.height=t.data.h||t.globalData.compSize.h,e.width=t.data.w||t.globalData.compSize.w,e.pixelAspect=1,e.frameDuration=1/t.globalData.frameRate,e.displayStartTime=0,e.numLayers=t.layers.length,e}}();function _typeof$2(t){return _typeof$2="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$2(t)}function seedRandom(t,e){var n,r=this,i=256,a=6,s=52,o="random",l=e.pow(i,a),c=e.pow(2,s),u=2*c,h=i-1;function p(n,r,s){var h=[];r=!0===r?{entropy:!0}:r||{};var p=g(m(r.entropy?[n,y(t)]:null===n?v():n,3),h),_=new d(h),x=function(){var t=_.g(a),e=l,n=0;while(t<c)t=(t+n)*i,e*=i,n=_.g(1);while(t>=u)t/=2,e/=2,n>>>=1;return(t+n)/e};return x.int32=function(){return 0|_.g(4)},x.quick=function(){return _.g(4)/4294967296},x["double"]=x,g(y(_.S),t),(r.pass||s||function(t,n,r,i){return i&&(i.S&&f(i,_),t.state=function(){return f(_,{})}),r?(e[o]=t,n):t})(x,p,"global"in r?r.global:this==e,r.state)}function d(t){var e,n=t.length,r=this,a=0,s=r.i=r.j=0,o=r.S=[];n||(t=[n++]);while(a<i)o[a]=a++;for(a=0;a<i;a++)o[a]=o[s=h&s+t[a%n]+(e=o[a])],o[s]=e;r.g=function(t){var e,n=0,a=r.i,s=r.j,o=r.S;while(t--)e=o[a=h&a+1],n=n*i+o[h&(o[a]=o[s=h&s+e])+(o[s]=e)];return r.i=a,r.j=s,n}}function f(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function m(t,e){var n,r=[],i=_typeof$2(t);if(e&&"object"==i)for(n in t)try{r.push(m(t[n],e-1))}catch(a){}return r.length?r:"string"==i?t:t+"\0"}function g(t,e){var n,r=t+"",i=0;while(i<r.length)e[h&i]=h&(n^=19*e[h&i])+r.charCodeAt(i++);return y(e)}function v(){try{if(n)return y(n.randomBytes(i));var e=new Uint8Array(i);return(r.crypto||r.msCrypto).getRandomValues(e),y(e)}catch(o){var a=r.navigator,s=a&&a.plugins;return[+new Date,r,s,r.screen,y(t)]}}function y(t){return String.fromCharCode.apply(0,t)}e["seed"+o]=p,g(e.random(),t)}function initialize$2(t){seedRandom([],t)}var propTypes={SHAPE:"shape"};function _typeof$1(t){return _typeof$1="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$1(t)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(t){return t.constructor===Array||t.constructor===Float32Array}function isNumerable(t,e){return"number"===t||e instanceof Number||"boolean"===t||"string"===t}function $bm_neg(t){var e=_typeof$1(t);if("number"===e||t instanceof Number||"boolean"===e)return-t;if($bm_isInstanceOfArray(t)){var n,r=t.length,i=[];for(n=0;n<r;n+=1)i[n]=-t[n];return i}return t.propType?t.v:-t}initialize$2(BMMath);var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(t,e){var n=_typeof$1(t),r=_typeof$1(e);if(isNumerable(n,t)&&isNumerable(r,e)||"string"===n||"string"===r)return t+e;if($bm_isInstanceOfArray(t)&&isNumerable(r,e))return t=t.slice(0),t[0]+=e,t;if(isNumerable(n,t)&&$bm_isInstanceOfArray(e))return e=e.slice(0),e[0]=t+e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){var i=0,a=t.length,s=e.length,o=[];while(i<a||i<s)("number"===typeof t[i]||t[i]instanceof Number)&&("number"===typeof e[i]||e[i]instanceof Number)?o[i]=t[i]+e[i]:o[i]=void 0===e[i]?t[i]:t[i]||e[i],i+=1;return o}return 0}var add=sum;function sub(t,e){var n=_typeof$1(t),r=_typeof$1(e);if(isNumerable(n,t)&&isNumerable(r,e))return"string"===n&&(t=parseInt(t,10)),"string"===r&&(e=parseInt(e,10)),t-e;if($bm_isInstanceOfArray(t)&&isNumerable(r,e))return t=t.slice(0),t[0]-=e,t;if(isNumerable(n,t)&&$bm_isInstanceOfArray(e))return e=e.slice(0),e[0]=t-e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){var i=0,a=t.length,s=e.length,o=[];while(i<a||i<s)("number"===typeof t[i]||t[i]instanceof Number)&&("number"===typeof e[i]||e[i]instanceof Number)?o[i]=t[i]-e[i]:o[i]=void 0===e[i]?t[i]:t[i]||e[i],i+=1;return o}return 0}function mul(t,e){var n,r,i,a=_typeof$1(t),s=_typeof$1(e);if(isNumerable(a,t)&&isNumerable(s,e))return t*e;if($bm_isInstanceOfArray(t)&&isNumerable(s,e)){for(i=t.length,n=createTypedArray("float32",i),r=0;r<i;r+=1)n[r]=t[r]*e;return n}if(isNumerable(a,t)&&$bm_isInstanceOfArray(e)){for(i=e.length,n=createTypedArray("float32",i),r=0;r<i;r+=1)n[r]=t*e[r];return n}return 0}function div(t,e){var n,r,i,a=_typeof$1(t),s=_typeof$1(e);if(isNumerable(a,t)&&isNumerable(s,e))return t/e;if($bm_isInstanceOfArray(t)&&isNumerable(s,e)){for(i=t.length,n=createTypedArray("float32",i),r=0;r<i;r+=1)n[r]=t[r]/e;return n}if(isNumerable(a,t)&&$bm_isInstanceOfArray(e)){for(i=e.length,n=createTypedArray("float32",i),r=0;r<i;r+=1)n[r]=t/e[r];return n}return 0}function mod(t,e){return"string"===typeof t&&(t=parseInt(t,10)),"string"===typeof e&&(e=parseInt(e,10)),t%e}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(t,e,n){if(e>n){var r=n;n=e,e=r}return Math.min(Math.max(t,e),n)}function radiansToDegrees(t){return t/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(t){return t*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(t,e){if("number"===typeof t||t instanceof Number)return e=e||0,Math.abs(t-e);var n;e||(e=helperLengthArray);var r=Math.min(t.length,e.length),i=0;for(n=0;n<r;n+=1)i+=Math.pow(e[n]-t[n],2);return Math.sqrt(i)}function normalize(t){return div(t,length(t))}function rgbToHsl(t){var e,n,r=t[0],i=t[1],a=t[2],s=Math.max(r,i,a),o=Math.min(r,i,a),l=(s+o)/2;if(s===o)e=0,n=0;else{var c=s-o;switch(n=l>.5?c/(2-s-o):c/(s+o),s){case r:e=(i-a)/c+(i<a?6:0);break;case i:e=(a-r)/c+2;break;case a:e=(r-i)/c+4;break;default:break}e/=6}return[e,n,l,t[3]]}function hue2rgb(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function hslToRgb(t){var e,n,r,i=t[0],a=t[1],s=t[2];if(0===a)e=s,r=s,n=s;else{var o=s<.5?s*(1+a):s+a-s*a,l=2*s-o;e=hue2rgb(l,o,i+1/3),n=hue2rgb(l,o,i),r=hue2rgb(l,o,i-1/3)}return[e,n,r,t[3]]}function linear(t,e,n,r,i){if(void 0!==r&&void 0!==i||(r=e,i=n,e=0,n=1),n<e){var a=n;n=e,e=a}if(t<=e)return r;if(t>=n)return i;var s,o=n===e?0:(t-e)/(n-e);if(!r.length)return r+(i-r)*o;var l=r.length,c=createTypedArray("float32",l);for(s=0;s<l;s+=1)c[s]=r[s]+(i[s]-r[s])*o;return c}function random(t,e){if(void 0===e&&(void 0===t?(t=0,e=1):(e=t,t=void 0)),e.length){var n,r=e.length;t||(t=createTypedArray("float32",r));var i=createTypedArray("float32",r),a=BMMath.random();for(n=0;n<r;n+=1)i[n]=t[n]+a*(e[n]-t[n]);return i}void 0===t&&(t=0);var s=BMMath.random();return t+s*(e-t)}function createPath(t,e,n,r){var i,a=t.length,s=shapePool.newElement();s.setPathData(!!r,a);var o,l,c=[0,0];for(i=0;i<a;i+=1)o=e&&e[i]?e[i]:c,l=n&&n[i]?n[i]:c,s.setTripleAt(t[i][0],t[i][1],l[0]+t[i][0],l[1]+t[i][1],o[0]+t[i][0],o[1]+t[i][1],i,!0);return s}function initiateExpression(elem,data,property){function noOp(t){return t}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=function(t,e){var n,r,i=this.pv.length?this.pv.length:1,a=createTypedArray("float32",i);t=5;var s=Math.floor(time*t);n=0,r=0;while(n<s){for(r=0;r<i;r+=1)a[r]+=-e+2*e*BMMath.random();n+=1}var o=time*t,l=o-Math.floor(o),c=createTypedArray("float32",i);if(i>1){for(r=0;r<i;r+=1)c[r]=this.pv[r]+a[r]+(-e+2*e*BMMath.random())*l;return c}return this.pv+a[0]+(-e+2*e*BMMath.random())*l}.bind(this);function loopInDuration(t,e){return loopIn(t,e,!0)}function loopOutDuration(t,e){return loopOut(t,e,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,text,textIndex,textTotal,selectorValue;function lookAt(t,e){var n=[e[0]-t[0],e[1]-t[1],e[2]-t[2]],r=Math.atan2(n[0],Math.sqrt(n[1]*n[1]+n[2]*n[2]))/degToRads,i=-Math.atan2(n[1],n[2])/degToRads;return[i,r,0]}function easeOut(t,e,n,r,i){return applyEase(easeOutBez,t,e,n,r,i)}function easeIn(t,e,n,r,i){return applyEase(easeInBez,t,e,n,r,i)}function ease(t,e,n,r,i){return applyEase(easeInOutBez,t,e,n,r,i)}function applyEase(t,e,n,r,i,a){void 0===i?(i=n,a=r):e=(e-n)/(r-n),e>1?e=1:e<0&&(e=0);var s=t(e);if($bm_isInstanceOfArray(i)){var o,l=i.length,c=createTypedArray("float32",l);for(o=0;o<l;o+=1)c[o]=(a[o]-i[o])*s+i[o];return c}return(a-i)*s+i}function nearestKey(t){var e,n,r,i=data.k.length;if(data.k.length&&"number"!==typeof data.k[0])if(n=-1,t*=elem.comp.globalData.frameRate,t<data.k[0].t)n=1,r=data.k[0].t;else{for(e=0;e<i-1;e+=1){if(t===data.k[e].t){n=e+1,r=data.k[e].t;break}if(t>data.k[e].t&&t<data.k[e+1].t){t-data.k[e].t>data.k[e+1].t-t?(n=e+2,r=data.k[e+1].t):(n=e+1,r=data.k[e].t);break}}-1===n&&(n=e+1,r=data.k[e].t)}else n=0,r=0;var a={};return a.index=n,a.time=r/elem.comp.globalData.frameRate,a}function key(t){var e,n,r;if(!data.k.length||"number"===typeof data.k[0])throw new Error("The property has no keyframe at index "+t);t-=1,e={time:data.k[t].t/elem.comp.globalData.frameRate,value:[]};var i=Object.prototype.hasOwnProperty.call(data.k[t],"s")?data.k[t].s:data.k[t-1].e;for(r=i.length,n=0;n<r;n+=1)e[n]=i[n],e.value[n]=i[n];return e}function framesToTime(t,e){return e||(e=elem.comp.globalData.frameRate),t/e}function timeToFrames(t,e){return t||0===t||(t=time),e||(e=elem.comp.globalData.frameRate),t*e}function seedRandom(t){BMMath.seedrandom(randSeed+t)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(t,e){return"string"===typeof value?void 0===e?value.substring(t):value.substring(t,e):""}function substr(t,e){return"string"===typeof value?void 0===e?value.substr(t):value.substr(t,e):""}function posterizeTime(t){time=0===t?0:Math.floor(time*t)/t,value=valueAtTime(time)}var index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(t){return value=t,this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!(!elem.hierarchy||!elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var t={};function e(t){var e=0,n=[];function r(){e+=1}function i(){e-=1,0===e&&s()}function a(t){-1===n.indexOf(t)&&n.push(t)}function s(){var t,e=n.length;for(t=0;t<e;t+=1)n[t].release();n.length=0}t.renderer.compInterface=CompExpressionInterface(t.renderer),t.renderer.globalData.projectInterface.registerComposition(t.renderer),t.renderer.globalData.pushExpression=r,t.renderer.globalData.popExpression=i,t.renderer.globalData.registerExpressionProperty=a}return t.initExpressions=e,t.resetFrame=ExpressionManager.resetFrame,t}(),MaskManagerInterface=function(){function t(t,e){this._mask=t,this._data=e}Object.defineProperty(t.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(t.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}});var e=function(e){var n,r=createSizedArray(e.viewData.length),i=e.viewData.length;for(n=0;n<i;n+=1)r[n]=new t(e.viewData[n],e.masksProperties[n]);var a=function(t){n=0;while(n<i){if(e.masksProperties[n].nm===t)return r[n];n+=1}return null};return a};return e}(),ExpressionPropertyInterface=function(){var t={pv:0,v:0,mult:1},e={pv:[0,0,0],v:[0,0,0],mult:1};function n(t,e,n){Object.defineProperty(t,"velocity",{get:function(){return e.getVelocityAtTime(e.comp.currentFrame)}}),t.numKeys=e.keyframes?e.keyframes.length:0,t.key=function(r){if(!t.numKeys)return 0;var i="";i="s"in e.keyframes[r-1]?e.keyframes[r-1].s:"e"in e.keyframes[r-2]?e.keyframes[r-2].e:e.keyframes[r-2].s;var a="unidimensional"===n?new Number(i):Object.assign({},i);return a.time=e.keyframes[r-1].t/e.elem.comp.globalData.frameRate,a.value="unidimensional"===n?i[0]:i,a},t.valueAtTime=e.getValueAtTime,t.speedAtTime=e.getSpeedAtTime,t.velocityAtTime=e.getVelocityAtTime,t.propertyGroup=e.propertyGroup}function r(e){e&&"pv"in e||(e=t);var r=1/e.mult,i=e.pv*r,a=new Number(i);return a.value=i,n(a,e,"unidimensional"),function(){return e.k&&e.getValue(),i=e.v*r,a.value!==i&&(a=new Number(i),a.value=i,n(a,e,"unidimensional")),a}}function i(t){t&&"pv"in t||(t=e);var r=1/t.mult,i=t.data&&t.data.l||t.pv.length,a=createTypedArray("float32",i),s=createTypedArray("float32",i);return a.value=s,n(a,t,"multidimensional"),function(){t.k&&t.getValue();for(var e=0;e<i;e+=1)s[e]=t.v[e]*r,a[e]=s[e];return a}}function a(){return t}return function(t){return t?"unidimensional"===t.propType?r(t):i(t):a}}(),TransformExpressionInterface=function(){return function(t){function e(t){switch(t){case"scale":case"Scale":case"ADBE Scale":case 6:return e.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return e.rotation;case"ADBE Rotate X":return e.xRotation;case"ADBE Rotate Y":return e.yRotation;case"position":case"Position":case"ADBE Position":case 2:return e.position;case"ADBE Position_0":return e.xPosition;case"ADBE Position_1":return e.yPosition;case"ADBE Position_2":return e.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return e.anchorPoint;case"opacity":case"Opacity":case 11:return e.opacity;default:return null}}var n,r,i,a;return Object.defineProperty(e,"rotation",{get:ExpressionPropertyInterface(t.r||t.rz)}),Object.defineProperty(e,"zRotation",{get:ExpressionPropertyInterface(t.rz||t.r)}),Object.defineProperty(e,"xRotation",{get:ExpressionPropertyInterface(t.rx)}),Object.defineProperty(e,"yRotation",{get:ExpressionPropertyInterface(t.ry)}),Object.defineProperty(e,"scale",{get:ExpressionPropertyInterface(t.s)}),t.p?a=ExpressionPropertyInterface(t.p):(n=ExpressionPropertyInterface(t.px),r=ExpressionPropertyInterface(t.py),t.pz&&(i=ExpressionPropertyInterface(t.pz))),Object.defineProperty(e,"position",{get:function(){return t.p?a():[n(),r(),i?i():0]}}),Object.defineProperty(e,"xPosition",{get:ExpressionPropertyInterface(t.px)}),Object.defineProperty(e,"yPosition",{get:ExpressionPropertyInterface(t.py)}),Object.defineProperty(e,"zPosition",{get:ExpressionPropertyInterface(t.pz)}),Object.defineProperty(e,"anchorPoint",{get:ExpressionPropertyInterface(t.a)}),Object.defineProperty(e,"opacity",{get:ExpressionPropertyInterface(t.o)}),Object.defineProperty(e,"skew",{get:ExpressionPropertyInterface(t.sk)}),Object.defineProperty(e,"skewAxis",{get:ExpressionPropertyInterface(t.sa)}),Object.defineProperty(e,"orientation",{get:ExpressionPropertyInterface(t.or)}),e}}(),LayerExpressionInterface=function(){function t(t){var e=new Matrix;if(void 0!==t){var n=this._elem.finalTransform.mProp.getValueAtTime(t);n.clone(e)}else{var r=this._elem.finalTransform.mProp;r.applyToMatrix(e)}return e}function e(t,e){var n=this.getMatrix(e);return n.props[12]=0,n.props[13]=0,n.props[14]=0,this.applyPoint(n,t)}function n(t,e){var n=this.getMatrix(e);return this.applyPoint(n,t)}function r(t,e){var n=this.getMatrix(e);return n.props[12]=0,n.props[13]=0,n.props[14]=0,this.invertPoint(n,t)}function i(t,e){var n=this.getMatrix(e);return this.invertPoint(n,t)}function a(t,e){if(this._elem.hierarchy&&this._elem.hierarchy.length){var n,r=this._elem.hierarchy.length;for(n=0;n<r;n+=1)this._elem.hierarchy[n].finalTransform.mProp.applyToMatrix(t)}return t.applyToPointArray(e[0],e[1],e[2]||0)}function s(t,e){if(this._elem.hierarchy&&this._elem.hierarchy.length){var n,r=this._elem.hierarchy.length;for(n=0;n<r;n+=1)this._elem.hierarchy[n].finalTransform.mProp.applyToMatrix(t)}return t.inversePoint(e)}function o(t){var e=new Matrix;if(e.reset(),this._elem.finalTransform.mProp.applyToMatrix(e),this._elem.hierarchy&&this._elem.hierarchy.length){var n,r=this._elem.hierarchy.length;for(n=0;n<r;n+=1)this._elem.hierarchy[n].finalTransform.mProp.applyToMatrix(e);return e.inversePoint(t)}return e.inversePoint(t)}function l(){return[1,1,1,1]}return function(c){var u;function h(t){d.mask=new MaskManagerInterface(t,c)}function p(t){d.effect=t}function d(t){switch(t){case"ADBE Root Vectors Group":case"Contents":case 2:return d.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return u;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return d.effect;case"ADBE Text Properties":return d.textInterface;default:return null}}d.getMatrix=t,d.invertPoint=s,d.applyPoint=a,d.toWorld=n,d.toWorldVec=e,d.fromWorld=i,d.fromWorldVec=r,d.toComp=n,d.fromComp=o,d.sampleImage=l,d.sourceRectAtTime=c.sourceRectAtTime.bind(c),d._elem=c,u=TransformExpressionInterface(c.finalTransform.mProp);var f=getDescriptor(u,"anchorPoint");return Object.defineProperties(d,{hasParent:{get:function(){return c.hierarchy.length}},parent:{get:function(){return c.hierarchy[0].layerInterface}},rotation:getDescriptor(u,"rotation"),scale:getDescriptor(u,"scale"),position:getDescriptor(u,"position"),opacity:getDescriptor(u,"opacity"),anchorPoint:f,anchor_point:f,transform:{get:function(){return u}},active:{get:function(){return c.isInRange}}}),d.startTime=c.data.st,d.index=c.data.ind,d.source=c.data.refId,d.height=0===c.data.ty?c.data.h:100,d.width=0===c.data.ty?c.data.w:100,d.inPoint=c.data.ip/c.comp.globalData.frameRate,d.outPoint=c.data.op/c.comp.globalData.frameRate,d._name=c.data.nm,d.registerMaskInterface=h,d.registerEffectsInterface=p,d}}(),propertyGroupFactory=function(){return function(t,e){return function(n){return n=void 0===n?1:n,n<=0?t:e(n-1)}}}(),PropertyInterface=function(){return function(t,e){var n={_name:t};function r(t){return t=void 0===t?1:t,t<=0?n:e(t-1)}return r}}(),EffectsExpressionInterface=function(){var t={createEffectsInterface:e};function e(t,e){if(t.effectsManager){var r,i=[],a=t.data.ef,s=t.effectsManager.effectElements.length;for(r=0;r<s;r+=1)i.push(n(a[r],t.effectsManager.effectElements[r],e,t));var o=t.data.ef||[],l=function(t){r=0,s=o.length;while(r<s){if(t===o[r].nm||t===o[r].mn||t===o[r].ix)return i[r];r+=1}return null};return Object.defineProperty(l,"numProperties",{get:function(){return o.length}}),l}return null}function n(t,e,i,a){function s(e){var n=t.ef,r=0,i=n.length;while(r<i){if(e===n[r].nm||e===n[r].mn||e===n[r].ix)return 5===n[r].ty?c[r]:c[r]();r+=1}throw new Error}var o,l=propertyGroupFactory(s,i),c=[],u=t.ef.length;for(o=0;o<u;o+=1)5===t.ef[o].ty?c.push(n(t.ef[o],e.effectElements[o],e.effectElements[o].propertyGroup,a)):c.push(r(e.effectElements[o],t.ef[o].ty,a,l));return"ADBE Color Control"===t.mn&&Object.defineProperty(s,"color",{get:function(){return c[0]()}}),Object.defineProperties(s,{numProperties:{get:function(){return t.np}},_name:{value:t.nm},propertyGroup:{value:l}}),s.enabled=0!==t.en,s.active=s.enabled,s}function r(t,e,n,r){var i=ExpressionPropertyInterface(t.p);function a(){return 10===e?n.comp.compInterface(t.p.v):i()}return t.p.setGroupProperty&&t.p.setGroupProperty(PropertyInterface("",r)),a}return t}(),ShapePathInterface=function(){return function(t,e,n){var r=e.sh;function i(t){return"Shape"===t||"shape"===t||"Path"===t||"path"===t||"ADBE Vector Shape"===t||2===t?i.path:null}var a=propertyGroupFactory(i,n);return r.setGroupProperty(PropertyInterface("Path",a)),Object.defineProperties(i,{path:{get:function(){return r.k&&r.getValue(),r}},shape:{get:function(){return r.k&&r.getValue(),r}},_name:{value:t.nm},ix:{value:t.ix},propertyIndex:{value:t.ix},mn:{value:t.mn},propertyGroup:{value:n}}),i}}(),ShapeExpressionInterface=function(){function t(t,e,l){var f,m=[],g=t?t.length:0;for(f=0;f<g;f+=1)"gr"===t[f].ty?m.push(n(t[f],e[f],l)):"fl"===t[f].ty?m.push(r(t[f],e[f],l)):"st"===t[f].ty?m.push(s(t[f],e[f],l)):"tm"===t[f].ty?m.push(o(t[f],e[f],l)):"tr"===t[f].ty||("el"===t[f].ty?m.push(c(t[f],e[f],l)):"sr"===t[f].ty?m.push(u(t[f],e[f],l)):"sh"===t[f].ty?m.push(ShapePathInterface(t[f],e[f],l)):"rc"===t[f].ty?m.push(h(t[f],e[f],l)):"rd"===t[f].ty?m.push(p(t[f],e[f],l)):"rp"===t[f].ty?m.push(d(t[f],e[f],l)):"gf"===t[f].ty?m.push(i(t[f],e[f],l)):m.push(a(t[f],e[f],l)));return m}function e(e,n,r){var i,a=function(t){var e=0,n=i.length;while(e<n){if(i[e]._name===t||i[e].mn===t||i[e].propertyIndex===t||i[e].ix===t||i[e].ind===t)return i[e];e+=1}return"number"===typeof t?i[t-1]:null};a.propertyGroup=propertyGroupFactory(a,r),i=t(e.it,n.it,a.propertyGroup),a.numProperties=i.length;var s=l(e.it[e.it.length-1],n.it[n.it.length-1],a.propertyGroup);return a.transform=s,a.propertyIndex=e.cix,a._name=e.nm,a}function n(t,n,r){var i=function(t){switch(t){case"ADBE Vectors Group":case"Contents":case 2:return i.content;default:return i.transform}};i.propertyGroup=propertyGroupFactory(i,r);var a=e(t,n,i.propertyGroup),s=l(t.it[t.it.length-1],n.it[n.it.length-1],i.propertyGroup);return i.content=a,i.transform=s,Object.defineProperty(i,"_name",{get:function(){return t.nm}}),i.numProperties=t.np,i.propertyIndex=t.ix,i.nm=t.nm,i.mn=t.mn,i}function r(t,e,n){function r(t){return"Color"===t||"color"===t?r.color:"Opacity"===t||"opacity"===t?r.opacity:null}return Object.defineProperties(r,{color:{get:ExpressionPropertyInterface(e.c)},opacity:{get:ExpressionPropertyInterface(e.o)},_name:{value:t.nm},mn:{value:t.mn}}),e.c.setGroupProperty(PropertyInterface("Color",n)),e.o.setGroupProperty(PropertyInterface("Opacity",n)),r}function i(t,e,n){function r(t){return"Start Point"===t||"start point"===t?r.startPoint:"End Point"===t||"end point"===t?r.endPoint:"Opacity"===t||"opacity"===t?r.opacity:null}return Object.defineProperties(r,{startPoint:{get:ExpressionPropertyInterface(e.s)},endPoint:{get:ExpressionPropertyInterface(e.e)},opacity:{get:ExpressionPropertyInterface(e.o)},type:{get:function(){return"a"}},_name:{value:t.nm},mn:{value:t.mn}}),e.s.setGroupProperty(PropertyInterface("Start Point",n)),e.e.setGroupProperty(PropertyInterface("End Point",n)),e.o.setGroupProperty(PropertyInterface("Opacity",n)),r}function a(){function t(){return null}return t}function s(t,e,n){var r,i=propertyGroupFactory(c,n),a=propertyGroupFactory(l,i);function s(n){Object.defineProperty(l,t.d[n].nm,{get:ExpressionPropertyInterface(e.d.dataProps[n].p)})}var o=t.d?t.d.length:0,l={};for(r=0;r<o;r+=1)s(r),e.d.dataProps[r].p.setGroupProperty(a);function c(t){return"Color"===t||"color"===t?c.color:"Opacity"===t||"opacity"===t?c.opacity:"Stroke Width"===t||"stroke width"===t?c.strokeWidth:null}return Object.defineProperties(c,{color:{get:ExpressionPropertyInterface(e.c)},opacity:{get:ExpressionPropertyInterface(e.o)},strokeWidth:{get:ExpressionPropertyInterface(e.w)},dash:{get:function(){return l}},_name:{value:t.nm},mn:{value:t.mn}}),e.c.setGroupProperty(PropertyInterface("Color",i)),e.o.setGroupProperty(PropertyInterface("Opacity",i)),e.w.setGroupProperty(PropertyInterface("Stroke Width",i)),c}function o(t,e,n){function r(e){return e===t.e.ix||"End"===e||"end"===e?r.end:e===t.s.ix?r.start:e===t.o.ix?r.offset:null}var i=propertyGroupFactory(r,n);return r.propertyIndex=t.ix,e.s.setGroupProperty(PropertyInterface("Start",i)),e.e.setGroupProperty(PropertyInterface("End",i)),e.o.setGroupProperty(PropertyInterface("Offset",i)),r.propertyIndex=t.ix,r.propertyGroup=n,Object.defineProperties(r,{start:{get:ExpressionPropertyInterface(e.s)},end:{get:ExpressionPropertyInterface(e.e)},offset:{get:ExpressionPropertyInterface(e.o)},_name:{value:t.nm}}),r.mn=t.mn,r}function l(t,e,n){function r(e){return t.a.ix===e||"Anchor Point"===e?r.anchorPoint:t.o.ix===e||"Opacity"===e?r.opacity:t.p.ix===e||"Position"===e?r.position:t.r.ix===e||"Rotation"===e||"ADBE Vector Rotation"===e?r.rotation:t.s.ix===e||"Scale"===e?r.scale:t.sk&&t.sk.ix===e||"Skew"===e?r.skew:t.sa&&t.sa.ix===e||"Skew Axis"===e?r.skewAxis:null}var i=propertyGroupFactory(r,n);return e.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",i)),e.transform.mProps.p.setGroupProperty(PropertyInterface("Position",i)),e.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",i)),e.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",i)),e.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",i)),e.transform.mProps.sk&&(e.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",i)),e.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",i))),e.transform.op.setGroupProperty(PropertyInterface("Opacity",i)),Object.defineProperties(r,{opacity:{get:ExpressionPropertyInterface(e.transform.mProps.o)},position:{get:ExpressionPropertyInterface(e.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(e.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(e.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(e.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(e.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(e.transform.mProps.sa)},_name:{value:t.nm}}),r.ty="tr",r.mn=t.mn,r.propertyGroup=n,r}function c(t,e,n){function r(e){return t.p.ix===e?r.position:t.s.ix===e?r.size:null}var i=propertyGroupFactory(r,n);r.propertyIndex=t.ix;var a="tm"===e.sh.ty?e.sh.prop:e.sh;return a.s.setGroupProperty(PropertyInterface("Size",i)),a.p.setGroupProperty(PropertyInterface("Position",i)),Object.defineProperties(r,{size:{get:ExpressionPropertyInterface(a.s)},position:{get:ExpressionPropertyInterface(a.p)},_name:{value:t.nm}}),r.mn=t.mn,r}function u(t,e,n){function r(e){return t.p.ix===e?r.position:t.r.ix===e?r.rotation:t.pt.ix===e?r.points:t.or.ix===e||"ADBE Vector Star Outer Radius"===e?r.outerRadius:t.os.ix===e?r.outerRoundness:!t.ir||t.ir.ix!==e&&"ADBE Vector Star Inner Radius"!==e?t.is&&t.is.ix===e?r.innerRoundness:null:r.innerRadius}var i=propertyGroupFactory(r,n),a="tm"===e.sh.ty?e.sh.prop:e.sh;return r.propertyIndex=t.ix,a.or.setGroupProperty(PropertyInterface("Outer Radius",i)),a.os.setGroupProperty(PropertyInterface("Outer Roundness",i)),a.pt.setGroupProperty(PropertyInterface("Points",i)),a.p.setGroupProperty(PropertyInterface("Position",i)),a.r.setGroupProperty(PropertyInterface("Rotation",i)),t.ir&&(a.ir.setGroupProperty(PropertyInterface("Inner Radius",i)),a.is.setGroupProperty(PropertyInterface("Inner Roundness",i))),Object.defineProperties(r,{position:{get:ExpressionPropertyInterface(a.p)},rotation:{get:ExpressionPropertyInterface(a.r)},points:{get:ExpressionPropertyInterface(a.pt)},outerRadius:{get:ExpressionPropertyInterface(a.or)},outerRoundness:{get:ExpressionPropertyInterface(a.os)},innerRadius:{get:ExpressionPropertyInterface(a.ir)},innerRoundness:{get:ExpressionPropertyInterface(a.is)},_name:{value:t.nm}}),r.mn=t.mn,r}function h(t,e,n){function r(e){return t.p.ix===e?r.position:t.r.ix===e?r.roundness:t.s.ix===e||"Size"===e||"ADBE Vector Rect Size"===e?r.size:null}var i=propertyGroupFactory(r,n),a="tm"===e.sh.ty?e.sh.prop:e.sh;return r.propertyIndex=t.ix,a.p.setGroupProperty(PropertyInterface("Position",i)),a.s.setGroupProperty(PropertyInterface("Size",i)),a.r.setGroupProperty(PropertyInterface("Rotation",i)),Object.defineProperties(r,{position:{get:ExpressionPropertyInterface(a.p)},roundness:{get:ExpressionPropertyInterface(a.r)},size:{get:ExpressionPropertyInterface(a.s)},_name:{value:t.nm}}),r.mn=t.mn,r}function p(t,e,n){function r(e){return t.r.ix===e||"Round Corners 1"===e?r.radius:null}var i=propertyGroupFactory(r,n),a=e;return r.propertyIndex=t.ix,a.rd.setGroupProperty(PropertyInterface("Radius",i)),Object.defineProperties(r,{radius:{get:ExpressionPropertyInterface(a.rd)},_name:{value:t.nm}}),r.mn=t.mn,r}function d(t,e,n){function r(e){return t.c.ix===e||"Copies"===e?r.copies:t.o.ix===e||"Offset"===e?r.offset:null}var i=propertyGroupFactory(r,n),a=e;return r.propertyIndex=t.ix,a.c.setGroupProperty(PropertyInterface("Copies",i)),a.o.setGroupProperty(PropertyInterface("Offset",i)),Object.defineProperties(r,{copies:{get:ExpressionPropertyInterface(a.c)},offset:{get:ExpressionPropertyInterface(a.o)},_name:{value:t.nm}}),r.mn=t.mn,r}return function(e,n,r){var i;function a(t){if("number"===typeof t)return t=void 0===t?1:t,0===t?r:i[t-1];var e=0,n=i.length;while(e<n){if(i[e]._name===t)return i[e];e+=1}return null}function s(){return r}return a.propertyGroup=propertyGroupFactory(a,s),i=t(e,n,a.propertyGroup),a.numProperties=i.length,a._name="Contents",a}}(),TextExpressionInterface=function(){return function(t){var e;function n(t){switch(t){case"ADBE Text Document":return n.sourceText;default:return null}}return Object.defineProperty(n,"sourceText",{get:function(){t.textProperty.getValue();var n=t.textProperty.currentData.t;return e&&n===e.value||(e=new String(n),e.value=n||new String(n),Object.defineProperty(e,"style",{get:function(){return{fillColor:t.textProperty.currentData.fc}}})),e}}),n}}();function _typeof(t){return _typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}var FootageInterface=function(){var t=function(t){var e="",n=t.getFootageData();function r(){return e="",n=t.getFootageData(),i}function i(t){if(n[t])return e=t,n=n[t],"object"===_typeof(n)?i:n;var r=t.indexOf(e);if(-1!==r){var a=parseInt(t.substr(r+e.length),10);return n=n[a],"object"===_typeof(n)?i:n}return""}return r},e=function(e){function n(t){return"Outline"===t?n.outlineInterface():null}return n._name="Outline",n.outlineInterface=t(e),n};return function(t){function n(t){return"Data"===t?n.dataInterface:null}return n._name="Data",n.dataInterface=e(t),n}}(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(t){return interfaces[t]||null}var expressionHelpers=function(){function t(t,e,n){e.x&&(n.k=!0,n.x=!0,n.initiateExpression=ExpressionManager.initiateExpression,n.effectsSequence.push(n.initiateExpression(t,e,n).bind(n)))}function e(t){return t*=this.elem.globalData.frameRate,t-=this.offsetTime,t!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<t?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(t,this._cachingAtTime),this._cachingAtTime.lastFrame=t),this._cachingAtTime.value}function n(t){var e=-.01,n=this.getValueAtTime(t),r=this.getValueAtTime(t+e),i=0;if(n.length){var a;for(a=0;a<n.length;a+=1)i+=Math.pow(r[a]-n[a],2);i=100*Math.sqrt(i)}else i=0;return i}function r(t){if(void 0!==this.vel)return this.vel;var e,n,r=-.001,i=this.getValueAtTime(t),a=this.getValueAtTime(t+r);if(i.length)for(e=createTypedArray("float32",i.length),n=0;n<i.length;n+=1)e[n]=(a[n]-i[n])/r;else e=(a-i)/r;return e}function i(){return this.pv}function a(t){this.propertyGroup=t}return{searchExpressions:t,getSpeedAtTime:n,getVelocityAtTime:r,getValueAtTime:e,getStaticValueAtTime:i,setGroupProperty:a}}();function addPropertyDecorator(){function t(t,e,n){if(!this.k||!this.keyframes)return this.pv;t=t?t.toLowerCase():"";var r,i,a,s,o,l=this.comp.renderedFrame,c=this.keyframes,u=c[c.length-1].t;if(l<=u)return this.pv;if(n?(r=e?Math.abs(u-this.elem.comp.globalData.frameRate*e):Math.max(0,u-this.elem.data.ip),i=u-r):((!e||e>c.length-1)&&(e=c.length-1),i=c[c.length-1-e].t,r=u-i),"pingpong"===t){var h=Math.floor((l-i)/r);if(h%2!==0)return this.getValueAtTime((r-(l-i)%r+i)/this.comp.globalData.frameRate,0)}else{if("offset"===t){var p=this.getValueAtTime(i/this.comp.globalData.frameRate,0),d=this.getValueAtTime(u/this.comp.globalData.frameRate,0),f=this.getValueAtTime(((l-i)%r+i)/this.comp.globalData.frameRate,0),m=Math.floor((l-i)/r);if(this.pv.length){for(o=new Array(p.length),s=o.length,a=0;a<s;a+=1)o[a]=(d[a]-p[a])*m+f[a];return o}return(d-p)*m+f}if("continue"===t){var g=this.getValueAtTime(u/this.comp.globalData.frameRate,0),v=this.getValueAtTime((u-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(o=new Array(g.length),s=o.length,a=0;a<s;a+=1)o[a]=g[a]+(g[a]-v[a])*((l-u)/this.comp.globalData.frameRate)/5e-4;return o}return g+(l-u)/.001*(g-v)}}return this.getValueAtTime(((l-i)%r+i)/this.comp.globalData.frameRate,0)}function e(t,e,n){if(!this.k)return this.pv;t=t?t.toLowerCase():"";var r,i,a,s,o,l=this.comp.renderedFrame,c=this.keyframes,u=c[0].t;if(l>=u)return this.pv;if(n?(r=e?Math.abs(this.elem.comp.globalData.frameRate*e):Math.max(0,this.elem.data.op-u),i=u+r):((!e||e>c.length-1)&&(e=c.length-1),i=c[e].t,r=i-u),"pingpong"===t){var h=Math.floor((u-l)/r);if(h%2===0)return this.getValueAtTime(((u-l)%r+u)/this.comp.globalData.frameRate,0)}else{if("offset"===t){var p=this.getValueAtTime(u/this.comp.globalData.frameRate,0),d=this.getValueAtTime(i/this.comp.globalData.frameRate,0),f=this.getValueAtTime((r-(u-l)%r+u)/this.comp.globalData.frameRate,0),m=Math.floor((u-l)/r)+1;if(this.pv.length){for(o=new Array(p.length),s=o.length,a=0;a<s;a+=1)o[a]=f[a]-(d[a]-p[a])*m;return o}return f-(d-p)*m}if("continue"===t){var g=this.getValueAtTime(u/this.comp.globalData.frameRate,0),v=this.getValueAtTime((u+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(o=new Array(g.length),s=o.length,a=0;a<s;a+=1)o[a]=g[a]+(g[a]-v[a])*(u-l)/.001;return o}return g+(g-v)*(u-l)/.001}}return this.getValueAtTime((r-((u-l)%r+u))/this.comp.globalData.frameRate,0)}function n(t,e){if(!this.k)return this.pv;if(t=.5*(t||.4),e=Math.floor(e||5),e<=1)return this.pv;var n,r,i=this.comp.renderedFrame/this.comp.globalData.frameRate,a=i-t,s=i+t,o=e>1?(s-a)/(e-1):1,l=0,c=0;n=this.pv.length?createTypedArray("float32",this.pv.length):0;while(l<e){if(r=this.getValueAtTime(a+l*o),this.pv.length)for(c=0;c<this.pv.length;c+=1)n[c]+=r[c];else n+=r;l+=1}if(this.pv.length)for(c=0;c<this.pv.length;c+=1)n[c]/=e;else n/=e;return n}function r(t){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var e=this._transformCachingAtTime.v;if(e.cloneFromProps(this.pre.props),this.appliedTransformations<1){var n=this.a.getValueAtTime(t);e.translate(-n[0]*this.a.mult,-n[1]*this.a.mult,n[2]*this.a.mult)}if(this.appliedTransformations<2){var r=this.s.getValueAtTime(t);e.scale(r[0]*this.s.mult,r[1]*this.s.mult,r[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var i=this.sk.getValueAtTime(t),a=this.sa.getValueAtTime(t);e.skewFromAxis(-i*this.sk.mult,a*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var s=this.r.getValueAtTime(t);e.rotate(-s*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var o=this.rz.getValueAtTime(t),l=this.ry.getValueAtTime(t),c=this.rx.getValueAtTime(t),u=this.or.getValueAtTime(t);e.rotateZ(-o*this.rz.mult).rotateY(l*this.ry.mult).rotateX(c*this.rx.mult).rotateZ(-u[2]*this.or.mult).rotateY(u[1]*this.or.mult).rotateX(u[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var h=this.px.getValueAtTime(t),p=this.py.getValueAtTime(t);if(this.data.p.z){var d=this.pz.getValueAtTime(t);e.translate(h*this.px.mult,p*this.py.mult,-d*this.pz.mult)}else e.translate(h*this.px.mult,p*this.py.mult,0)}else{var f=this.p.getValueAtTime(t);e.translate(f[0]*this.p.mult,f[1]*this.p.mult,-f[2]*this.p.mult)}return e}function i(){return this.v.clone(new Matrix)}var a=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(t,e,n){var s=a(t,e,n);return s.dynamicProperties.length?s.getValueAtTime=r.bind(s):s.getValueAtTime=i.bind(s),s.setGroupProperty=expressionHelpers.setGroupProperty,s};var s=PropertyFactory.getProp;function o(t){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),t*=this.elem.globalData.frameRate,t-=this.offsetTime,t!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<t?this._caching.lastIndex:0,this._cachingAtTime.lastTime=t,this.interpolateShape(t,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}PropertyFactory.getProp=function(r,i,a,o,l){var c=s(r,i,a,o,l);c.kf?c.getValueAtTime=expressionHelpers.getValueAtTime.bind(c):c.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(c),c.setGroupProperty=expressionHelpers.setGroupProperty,c.loopOut=t,c.loopIn=e,c.smooth=n,c.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(c),c.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(c),c.numKeys=1===i.a?i.k.length:0,c.propertyIndex=i.ix;var u=0;return 0!==a&&(u=createTypedArray("float32",1===i.a?i.k[0].s.length:i.k.length)),c._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:u},expressionHelpers.searchExpressions(r,i,c),c.k&&l.addDynamicProperty(c),c};var l=ShapePropertyFactory.getConstructorFunction(),c=ShapePropertyFactory.getKeyframedConstructorFunction();function u(){}u.prototype={vertices:function(t,e){this.k&&this.getValue();var n,r=this.v;void 0!==e&&(r=this.getValueAtTime(e,0));var i=r._length,a=r[t],s=r.v,o=createSizedArray(i);for(n=0;n<i;n+=1)o[n]="i"===t||"o"===t?[a[n][0]-s[n][0],a[n][1]-s[n][1]]:[a[n][0],a[n][1]];return o},points:function(t){return this.vertices("v",t)},inTangents:function(t){return this.vertices("i",t)},outTangents:function(t){return this.vertices("o",t)},isClosed:function(){return this.v.c},pointOnPath:function(t,e){var n=this.v;void 0!==e&&(n=this.getValueAtTime(e,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(n));var r,i=this._segmentsLength,a=i.lengths,s=i.totalLength*t,o=0,l=a.length,c=0;while(o<l){if(c+a[o].addedLength>s){var u=o,h=n.c&&o===l-1?0:o+1,p=(s-c)/a[o].addedLength;r=bez.getPointInSegment(n.v[u],n.v[h],n.o[u],n.i[h],p,a[o]);break}c+=a[o].addedLength,o+=1}return r||(r=n.c?[n.v[0][0],n.v[0][1]]:[n.v[n._length-1][0],n.v[n._length-1][1]]),r},vectorOnPath:function(t,e,n){1==t?t=this.v.c:0==t&&(t=.999);var r=this.pointOnPath(t,e),i=this.pointOnPath(t+.001,e),a=i[0]-r[0],s=i[1]-r[1],o=Math.sqrt(Math.pow(a,2)+Math.pow(s,2));if(0===o)return[0,0];var l="tangent"===n?[a/o,s/o]:[-s/o,a/o];return l},tangentOnPath:function(t,e){return this.vectorOnPath(t,e,"tangent")},normalOnPath:function(t,e){return this.vectorOnPath(t,e,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([u],l),extendPrototype([u],c),c.prototype.getValueAtTime=o,c.prototype.initiateExpression=ExpressionManager.initiateExpression;var h=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(t,e,n,r,i){var a=h(t,e,n,r,i);return a.propertyIndex=e.ix,a.lock=!1,3===n?expressionHelpers.searchExpressions(t,e.pt,a):4===n&&expressionHelpers.searchExpressions(t,e.ks,a),a.k&&t.addDynamicProperty(a),a}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function t(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(t,e){var n=this.calculateExpression(e);if(t.t!==n){var r={};return this.copyData(r,t),r.t=n.toString(),r.__complete=!1,r}return t},TextProperty.prototype.searchProperty=function(){var t=this.searchKeyframes(),e=this.searchExpressions();return this.kf=t||e,this.kf},TextProperty.prototype.searchExpressions=t}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function(t,e){var n,r,i=createNS("feMerge");for(i.setAttribute("result",t),r=0;r<e.length;r+=1)n=createNS("feMergeNode"),n.setAttribute("in",e[r]),i.appendChild(n),i.appendChild(n);return i}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(t,e,n,r,i){this.filterManager=e;var a=createNS("feColorMatrix");a.setAttribute("type","matrix"),a.setAttribute("color-interpolation-filters","linearRGB"),a.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=a,a.setAttribute("result",r+"_tint_1"),t.appendChild(a),a=createNS("feColorMatrix"),a.setAttribute("type","matrix"),a.setAttribute("color-interpolation-filters","sRGB"),a.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),a.setAttribute("result",r+"_tint_2"),t.appendChild(a),this.matrixFilter=a;var s=this.createMergeNode(r,[i,r+"_tint_1",r+"_tint_2"]);t.appendChild(s)}function SVGFillFilter(t,e,n,r){this.filterManager=e;var i=createNS("feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),i.setAttribute("result",r),t.appendChild(i),this.matrixFilter=i}function SVGStrokeEffect(t,e,n){this.initialized=!1,this.filterManager=e,this.elem=n,this.paths=[]}function SVGTritoneFilter(t,e,n,r){this.filterManager=e;var i=createNS("feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","linearRGB"),i.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),t.appendChild(i);var a=createNS("feComponentTransfer");a.setAttribute("color-interpolation-filters","sRGB"),a.setAttribute("result",r),this.matrixFilter=a;var s=createNS("feFuncR");s.setAttribute("type","table"),a.appendChild(s),this.feFuncR=s;var o=createNS("feFuncG");o.setAttribute("type","table"),a.appendChild(o),this.feFuncG=o;var l=createNS("feFuncB");l.setAttribute("type","table"),a.appendChild(l),this.feFuncB=l,t.appendChild(a)}function SVGProLevelsFilter(t,e,n,r){this.filterManager=e;var i=this.filterManager.effectElements,a=createNS("feComponentTransfer");(i[10].p.k||0!==i[10].p.v||i[11].p.k||1!==i[11].p.v||i[12].p.k||1!==i[12].p.v||i[13].p.k||0!==i[13].p.v||i[14].p.k||1!==i[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",a)),(i[17].p.k||0!==i[17].p.v||i[18].p.k||1!==i[18].p.v||i[19].p.k||1!==i[19].p.v||i[20].p.k||0!==i[20].p.v||i[21].p.k||1!==i[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",a)),(i[24].p.k||0!==i[24].p.v||i[25].p.k||1!==i[25].p.v||i[26].p.k||1!==i[26].p.v||i[27].p.k||0!==i[27].p.v||i[28].p.k||1!==i[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",a)),(i[31].p.k||0!==i[31].p.v||i[32].p.k||1!==i[32].p.v||i[33].p.k||1!==i[33].p.v||i[34].p.k||0!==i[34].p.v||i[35].p.k||1!==i[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",a)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(a.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(a)),(i[3].p.k||0!==i[3].p.v||i[4].p.k||1!==i[4].p.v||i[5].p.k||1!==i[5].p.v||i[6].p.k||0!==i[6].p.v||i[7].p.k||1!==i[7].p.v)&&(a=createNS("feComponentTransfer"),a.setAttribute("color-interpolation-filters","sRGB"),a.setAttribute("result",r),t.appendChild(a),this.feFuncRComposed=this.createFeFunc("feFuncR",a),this.feFuncGComposed=this.createFeFunc("feFuncG",a),this.feFuncBComposed=this.createFeFunc("feFuncB",a))}function SVGDropShadowEffect(t,e,n,r,i){var a=e.container.globalData.renderConfig.filterSize,s=e.data.fs||a;t.setAttribute("x",s.x||a.x),t.setAttribute("y",s.y||a.y),t.setAttribute("width",s.width||a.width),t.setAttribute("height",s.height||a.height),this.filterManager=e;var o=createNS("feGaussianBlur");o.setAttribute("in","SourceAlpha"),o.setAttribute("result",r+"_drop_shadow_1"),o.setAttribute("stdDeviation","0"),this.feGaussianBlur=o,t.appendChild(o);var l=createNS("feOffset");l.setAttribute("dx","25"),l.setAttribute("dy","0"),l.setAttribute("in",r+"_drop_shadow_1"),l.setAttribute("result",r+"_drop_shadow_2"),this.feOffset=l,t.appendChild(l);var c=createNS("feFlood");c.setAttribute("flood-color","#00ff00"),c.setAttribute("flood-opacity","1"),c.setAttribute("result",r+"_drop_shadow_3"),this.feFlood=c,t.appendChild(c);var u=createNS("feComposite");u.setAttribute("in",r+"_drop_shadow_3"),u.setAttribute("in2",r+"_drop_shadow_2"),u.setAttribute("operator","in"),u.setAttribute("result",r+"_drop_shadow_4"),t.appendChild(u);var h=this.createMergeNode(r,[r+"_drop_shadow_4",i]);t.appendChild(h)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v,r=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+r+" 0"),this.matrixFilter.setAttribute("values",n[0]-e[0]+" 0 0 0 "+e[0]+" "+(n[1]-e[1])+" 0 0 0 "+e[1]+" "+(n[2]-e[2])+" 0 0 0 "+e[2]+" 0 0 0 1 0")}},SVGFillFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[2].p.v,n=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+e[0]+" 0 0 0 0 "+e[1]+" 0 0 0 0 "+e[2]+" 0 0 0 "+n+" 0")}},SVGStrokeEffect.prototype.initialize=function(){var t,e,n,r,i=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(r=this.elem.maskManager.masksProperties.length,n=0):(n=this.filterManager.effectElements[0].p.v-1,r=n+1),e=createNS("g"),e.setAttribute("fill","none"),e.setAttribute("stroke-linecap","round"),e.setAttribute("stroke-dashoffset",1),n;n<r;n+=1)t=createNS("path"),e.appendChild(t),this.paths.push({p:t,m:n});if(3===this.filterManager.effectElements[10].p.v){var a=createNS("mask"),s=createElementID();a.setAttribute("id",s),a.setAttribute("mask-type","alpha"),a.appendChild(e),this.elem.globalData.defs.appendChild(a);var o=createNS("g");o.setAttribute("mask","url("+getLocationHref()+"#"+s+")");while(i[0])o.appendChild(i[0]);this.elem.layerElement.appendChild(o),this.masker=a,e.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v){i=this.elem.layerElement.children||this.elem.layerElement.childNodes;while(i.length)this.elem.layerElement.removeChild(i[0])}this.elem.layerElement.appendChild(e),this.elem.layerElement.removeAttribute("mask"),e.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=e},SVGStrokeEffect.prototype.renderFrame=function(t){var e;this.initialized||this.initialize();var n,r,i=this.paths.length;for(e=0;e<i;e+=1)if(-1!==this.paths[e].m&&(n=this.elem.maskManager.viewData[this.paths[e].m],r=this.paths[e].p,(t||this.filterManager._mdf||n.prop._mdf)&&r.setAttribute("d",n.lastPath),t||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||n.prop._mdf)){var a;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var s=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),o=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),l=r.getTotalLength();a="0 0 0 "+l*s+" ";var c,u=l*(o-s),h=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01,p=Math.floor(u/h);for(c=0;c<p;c+=1)a+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";a+="0 "+10*l+" 0 0"}else a="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;r.setAttribute("stroke-dasharray",a)}if((t||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(t||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(t||this.filterManager.effectElements[3].p._mdf)){var d=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*d[0])+","+bmFloor(255*d[1])+","+bmFloor(255*d[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v,r=this.filterManager.effectElements[2].p.v,i=r[0]+" "+n[0]+" "+e[0],a=r[1]+" "+n[1]+" "+e[1],s=r[2]+" "+n[2]+" "+e[2];this.feFuncR.setAttribute("tableValues",i),this.feFuncG.setAttribute("tableValues",a),this.feFuncB.setAttribute("tableValues",s)}},SVGProLevelsFilter.prototype.createFeFunc=function(t,e){var n=createNS(t);return n.setAttribute("type","table"),e.appendChild(n),n},SVGProLevelsFilter.prototype.getTableValue=function(t,e,n,r,i){var a,s,o=0,l=256,c=Math.min(t,e),u=Math.max(t,e),h=Array.call(null,{length:l}),p=0,d=i-r,f=e-t;while(o<=256)a=o/256,s=a<=c?f<0?i:r:a>=u?f<0?r:i:r+d*Math.pow((a-t)/f,1/n),h[p]=s,p+=1,o+=256/(l-1);return h.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e,n=this.filterManager.effectElements;this.feFuncRComposed&&(t||n[3].p._mdf||n[4].p._mdf||n[5].p._mdf||n[6].p._mdf||n[7].p._mdf)&&(e=this.getTableValue(n[3].p.v,n[4].p.v,n[5].p.v,n[6].p.v,n[7].p.v),this.feFuncRComposed.setAttribute("tableValues",e),this.feFuncGComposed.setAttribute("tableValues",e),this.feFuncBComposed.setAttribute("tableValues",e)),this.feFuncR&&(t||n[10].p._mdf||n[11].p._mdf||n[12].p._mdf||n[13].p._mdf||n[14].p._mdf)&&(e=this.getTableValue(n[10].p.v,n[11].p.v,n[12].p.v,n[13].p.v,n[14].p.v),this.feFuncR.setAttribute("tableValues",e)),this.feFuncG&&(t||n[17].p._mdf||n[18].p._mdf||n[19].p._mdf||n[20].p._mdf||n[21].p._mdf)&&(e=this.getTableValue(n[17].p.v,n[18].p.v,n[19].p.v,n[20].p.v,n[21].p.v),this.feFuncG.setAttribute("tableValues",e)),this.feFuncB&&(t||n[24].p._mdf||n[25].p._mdf||n[26].p._mdf||n[27].p._mdf||n[28].p._mdf)&&(e=this.getTableValue(n[24].p.v,n[25].p.v,n[26].p.v,n[27].p.v,n[28].p.v),this.feFuncB.setAttribute("tableValues",e)),this.feFuncA&&(t||n[31].p._mdf||n[32].p._mdf||n[33].p._mdf||n[34].p._mdf||n[35].p._mdf)&&(e=this.getTableValue(n[31].p.v,n[32].p.v,n[33].p.v,n[34].p.v,n[35].p.v),this.feFuncA.setAttribute("tableValues",e))}},extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){if((t||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),t||this.filterManager.effectElements[0].p._mdf){var e=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*e[0]),Math.round(255*e[1]),Math.round(255*e[2])))}if((t||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),t||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var n=this.filterManager.effectElements[3].p.v,r=(this.filterManager.effectElements[2].p.v-90)*degToRads,i=n*Math.cos(r),a=n*Math.sin(r);this.feOffset.setAttribute("dx",i),this.feOffset.setAttribute("dy",a)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(t,e,n){this.initialized=!1,this.filterManager=e,this.filterElem=t,this.elem=n,n.matteElement=createNS("g"),n.matteElement.appendChild(n.layerElement),n.matteElement.appendChild(n.transformedElement),n.baseElement=n.matteElement}function SVGGaussianBlurEffect(t,e,n,r){t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width","300%"),t.setAttribute("height","300%"),this.filterManager=e;var i=createNS("feGaussianBlur");i.setAttribute("result",r),t.appendChild(i),this.feGaussianBlur=i}function TransformEffect(){}function SVGTransformEffect(t,e){this.init(e)}function CVTransformEffect(t){this.init(t)}return SVGMatte3Effect.prototype.findSymbol=function(t){var e=0,n=_svgMatteSymbols.length;while(e<n){if(_svgMatteSymbols[e]===t)return _svgMatteSymbols[e];e+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(t,e){var n=t.layerElement.parentNode;if(n){var r,i=n.children,a=0,s=i.length;while(a<s){if(i[a]===t.layerElement)break;a+=1}a<=s-2&&(r=i[a+1]);var o=createNS("use");o.setAttribute("href","#"+e),r?n.insertBefore(o,r):n.appendChild(o)}},SVGMatte3Effect.prototype.setElementAsMask=function(t,e){if(!this.findSymbol(e)){var n=createElementID(),r=createNS("mask");r.setAttribute("id",e.layerId),r.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(e);var i=t.globalData.defs;i.appendChild(r);var a=createNS("symbol");a.setAttribute("id",n),this.replaceInParent(e,n),a.appendChild(e.layerElement),i.appendChild(a);var s=createNS("use");s.setAttribute("href","#"+n),r.appendChild(s),e.data.hd=!1,e.show()}t.setMatte(e.layerId)},SVGMatte3Effect.prototype.initialize=function(){var t=this.filterManager.effectElements[0].p.v,e=this.elem.comp.elements,n=0,r=e.length;while(n<r)e[n]&&e[n].data.ind===t&&this.setElementAsMask(this.elem,e[n]),n+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGGaussianBlurEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=.3,n=this.filterManager.effectElements[0].p.v*e,r=this.filterManager.effectElements[1].p.v,i=3==r?0:n,a=2==r?0:n;this.feGaussianBlur.setAttribute("stdDeviation",i+" "+a);var s=1==this.filterManager.effectElements[2].p.v?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",s)}},TransformEffect.prototype.init=function(t){this.effectsManager=t,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(t){if(this._opMdf=!1,this._mdf=!1,t||this.effectsManager._mdf){var e=this.effectsManager.effectElements,n=e[0].p.v,r=e[1].p.v,i=1===e[2].p.v,a=e[3].p.v,s=i?a:e[4].p.v,o=e[5].p.v,l=e[6].p.v,c=e[7].p.v;this.matrix.reset(),this.matrix.translate(-n[0],-n[1],n[2]),this.matrix.scale(.01*s,.01*a,1),this.matrix.rotate(-c*degToRads),this.matrix.skewFromAxis(-o*degToRads,(l+90)*degToRads),this.matrix.translate(r[0],r[1],0),this._mdf=!0,this.opacity!==e[8].p.v&&(this.opacity=e[8].p.v,this._opMdf=!0)}},extendPrototype([TransformEffect],SVGTransformEffect),extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie}))},4501:function(t,e,n){n(4114),
/*!
 * matter-js 0.20.0 by @liabru
 * http://brm.io/matter-js/
 * License MIT
 * 
 * The MIT License (MIT)
 * 
 * Copyright (c) Liam Brummitt and contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
function(e,n){t.exports=n()}(0,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=20)}([function(t,e){var r={};t.exports=r,function(){r._baseDelta=1e3/60,r._nextId=0,r._seed=0,r._nowStartTime=+new Date,r._warnedOnce={},r._decomp=null,r.extend=function(t,e){var n,i;"boolean"===typeof e?(n=2,i=e):(n=1,i=!0);for(var a=n;a<arguments.length;a++){var s=arguments[a];if(s)for(var o in s)i&&s[o]&&s[o].constructor===Object?t[o]&&t[o].constructor!==Object?t[o]=s[o]:(t[o]=t[o]||{},r.extend(t[o],i,s[o])):t[o]=s[o]}return t},r.clone=function(t,e){return r.extend({},e,t)},r.keys=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var n in t)e.push(n);return e},r.values=function(t){var e=[];if(Object.keys){for(var n=Object.keys(t),r=0;r<n.length;r++)e.push(t[n[r]]);return e}for(var i in t)e.push(t[i]);return e},r.get=function(t,e,n,r){e=e.split(".").slice(n,r);for(var i=0;i<e.length;i+=1)t=t[e[i]];return t},r.set=function(t,e,n,i,a){var s=e.split(".").slice(i,a);return r.get(t,e,0,-1)[s[s.length-1]]=n,n},r.shuffle=function(t){for(var e=t.length-1;e>0;e--){var n=Math.floor(r.random()*(e+1)),i=t[e];t[e]=t[n],t[n]=i}return t},r.choose=function(t){return t[Math.floor(r.random()*t.length)]},r.isElement=function(t){return"undefined"!==typeof HTMLElement?t instanceof HTMLElement:!!(t&&t.nodeType&&t.nodeName)},r.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},r.isFunction=function(t){return"function"===typeof t},r.isPlainObject=function(t){return"object"===typeof t&&t.constructor===Object},r.isString=function(t){return"[object String]"===toString.call(t)},r.clamp=function(t,e,n){return t<e?e:t>n?n:t},r.sign=function(t){return t<0?-1:1},r.now=function(){if("undefined"!==typeof window&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-r._nowStartTime},r.random=function(e,n){return e="undefined"!==typeof e?e:0,n="undefined"!==typeof n?n:1,e+t()*(n-e)};var t=function(){return r._seed=(9301*r._seed+49297)%233280,r._seed/233280};r.colorToNumber=function(t){return t=t.replace("#",""),3==t.length&&(t=t.charAt(0)+t.charAt(0)+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)),parseInt(t,16)},r.logLevel=1,r.log=function(){console&&r.logLevel>0&&r.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},r.info=function(){console&&r.logLevel>0&&r.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},r.warn=function(){console&&r.logLevel>0&&r.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},r.warnOnce=function(){var t=Array.prototype.slice.call(arguments).join(" ");r._warnedOnce[t]||(r.warn(t),r._warnedOnce[t]=!0)},r.deprecated=function(t,e,n){t[e]=r.chain((function(){r.warnOnce("🔅 deprecated 🔅",n)}),t[e])},r.nextId=function(){return r._nextId++},r.indexOf=function(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1},r.map=function(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r+=1)n.push(e(t[r]));return n},r.topologicalSort=function(t){var e=[],n=[],i=[];for(var a in t)n[a]||i[a]||r._topologicalSort(a,n,i,t,e);return e},r._topologicalSort=function(t,e,n,i,a){var s=i[t]||[];n[t]=!0;for(var o=0;o<s.length;o+=1){var l=s[o];n[l]||(e[l]||r._topologicalSort(l,e,n,i,a))}n[t]=!1,e[t]=!0,a.push(t)},r.chain=function(){for(var t=[],e=0;e<arguments.length;e+=1){var n=arguments[e];n._chained?t.push.apply(t,n._chained):t.push(n)}var r=function(){for(var e,n=new Array(arguments.length),r=0,i=arguments.length;r<i;r++)n[r]=arguments[r];for(r=0;r<t.length;r+=1){var a=t[r].apply(e,n);"undefined"!==typeof a&&(e=a)}return e};return r._chained=t,r},r.chainPathBefore=function(t,e,n){return r.set(t,e,r.chain(n,r.get(t,e)))},r.chainPathAfter=function(t,e,n){return r.set(t,e,r.chain(r.get(t,e),n))},r.setDecomp=function(t){r._decomp=t},r.getDecomp=function(){var t=r._decomp;try{t||"undefined"===typeof window||(t=window.decomp),t||"undefined"===typeof n.g||(t=n.g.decomp)}catch(e){t=null}return t}}()},function(t,e){var n={};t.exports=n,function(){n.create=function(t){var e={min:{x:0,y:0},max:{x:0,y:0}};return t&&n.update(e,t),e},n.update=function(t,e,n){t.min.x=1/0,t.max.x=-1/0,t.min.y=1/0,t.max.y=-1/0;for(var r=0;r<e.length;r++){var i=e[r];i.x>t.max.x&&(t.max.x=i.x),i.x<t.min.x&&(t.min.x=i.x),i.y>t.max.y&&(t.max.y=i.y),i.y<t.min.y&&(t.min.y=i.y)}n&&(n.x>0?t.max.x+=n.x:t.min.x+=n.x,n.y>0?t.max.y+=n.y:t.min.y+=n.y)},n.contains=function(t,e){return e.x>=t.min.x&&e.x<=t.max.x&&e.y>=t.min.y&&e.y<=t.max.y},n.overlaps=function(t,e){return t.min.x<=e.max.x&&t.max.x>=e.min.x&&t.max.y>=e.min.y&&t.min.y<=e.max.y},n.translate=function(t,e){t.min.x+=e.x,t.max.x+=e.x,t.min.y+=e.y,t.max.y+=e.y},n.shift=function(t,e){var n=t.max.x-t.min.x,r=t.max.y-t.min.y;t.min.x=e.x,t.max.x=e.x+n,t.min.y=e.y,t.max.y=e.y+r}}()},function(t,e){var n={};t.exports=n,function(){n.create=function(t,e){return{x:t||0,y:e||0}},n.clone=function(t){return{x:t.x,y:t.y}},n.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},n.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},n.rotate=function(t,e,n){var r=Math.cos(e),i=Math.sin(e);n||(n={});var a=t.x*r-t.y*i;return n.y=t.x*i+t.y*r,n.x=a,n},n.rotateAbout=function(t,e,n,r){var i=Math.cos(e),a=Math.sin(e);r||(r={});var s=n.x+((t.x-n.x)*i-(t.y-n.y)*a);return r.y=n.y+((t.x-n.x)*a+(t.y-n.y)*i),r.x=s,r},n.normalise=function(t){var e=n.magnitude(t);return 0===e?{x:0,y:0}:{x:t.x/e,y:t.y/e}},n.dot=function(t,e){return t.x*e.x+t.y*e.y},n.cross=function(t,e){return t.x*e.y-t.y*e.x},n.cross3=function(t,e,n){return(e.x-t.x)*(n.y-t.y)-(e.y-t.y)*(n.x-t.x)},n.add=function(t,e,n){return n||(n={}),n.x=t.x+e.x,n.y=t.y+e.y,n},n.sub=function(t,e,n){return n||(n={}),n.x=t.x-e.x,n.y=t.y-e.y,n},n.mult=function(t,e){return{x:t.x*e,y:t.y*e}},n.div=function(t,e){return{x:t.x/e,y:t.y/e}},n.perp=function(t,e){return e=!0===e?-1:1,{x:e*-t.y,y:e*t.x}},n.neg=function(t){return{x:-t.x,y:-t.y}},n.angle=function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)},n._temp=[n.create(),n.create(),n.create(),n.create(),n.create(),n.create()]}()},function(t,e,n){var r={};t.exports=r;var i=n(2),a=n(0);(function(){r.create=function(t,e){for(var n=[],r=0;r<t.length;r++){var i=t[r],a={x:i.x,y:i.y,index:r,body:e,isInternal:!1};n.push(a)}return n},r.fromPath=function(t,e){var n=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/gi,i=[];return t.replace(n,(function(t,e,n){i.push({x:parseFloat(e),y:parseFloat(n)})})),r.create(i,e)},r.centre=function(t){for(var e,n,a,s=r.area(t,!0),o={x:0,y:0},l=0;l<t.length;l++)a=(l+1)%t.length,e=i.cross(t[l],t[a]),n=i.mult(i.add(t[l],t[a]),e),o=i.add(o,n);return i.div(o,6*s)},r.mean=function(t){for(var e={x:0,y:0},n=0;n<t.length;n++)e.x+=t[n].x,e.y+=t[n].y;return i.div(e,t.length)},r.area=function(t,e){for(var n=0,r=t.length-1,i=0;i<t.length;i++)n+=(t[r].x-t[i].x)*(t[r].y+t[i].y),r=i;return e?n/2:Math.abs(n)/2},r.inertia=function(t,e){for(var n,r,a=0,s=0,o=t,l=0;l<o.length;l++)r=(l+1)%o.length,n=Math.abs(i.cross(o[r],o[l])),a+=n*(i.dot(o[r],o[r])+i.dot(o[r],o[l])+i.dot(o[l],o[l])),s+=n;return e/6*(a/s)},r.translate=function(t,e,n){n="undefined"!==typeof n?n:1;var r,i=t.length,a=e.x*n,s=e.y*n;for(r=0;r<i;r++)t[r].x+=a,t[r].y+=s;return t},r.rotate=function(t,e,n){if(0!==e){var r,i,a,s,o=Math.cos(e),l=Math.sin(e),c=n.x,u=n.y,h=t.length;for(s=0;s<h;s++)r=t[s],i=r.x-c,a=r.y-u,r.x=c+(i*o-a*l),r.y=u+(i*l+a*o);return t}},r.contains=function(t,e){for(var n,r=e.x,i=e.y,a=t.length,s=t[a-1],o=0;o<a;o++){if(n=t[o],(r-s.x)*(n.y-s.y)+(i-s.y)*(s.x-n.x)>0)return!1;s=n}return!0},r.scale=function(t,e,n,a){if(1===e&&1===n)return t;var s,o;a=a||r.centre(t);for(var l=0;l<t.length;l++)s=t[l],o=i.sub(s,a),t[l].x=a.x+o.x*e,t[l].y=a.y+o.y*n;return t},r.chamfer=function(t,e,n,r,s){e="number"===typeof e?[e]:e||[8],n="undefined"!==typeof n?n:-1,r=r||2,s=s||14;for(var o=[],l=0;l<t.length;l++){var c=t[l-1>=0?l-1:t.length-1],u=t[l],h=t[(l+1)%t.length],p=e[l<e.length?l:e.length-1];if(0!==p){var d=i.normalise({x:u.y-c.y,y:c.x-u.x}),f=i.normalise({x:h.y-u.y,y:u.x-h.x}),m=Math.sqrt(2*Math.pow(p,2)),g=i.mult(a.clone(d),p),v=i.normalise(i.mult(i.add(d,f),.5)),y=i.sub(u,i.mult(v,m)),_=n;-1===n&&(_=1.75*Math.pow(p,.32)),_=a.clamp(_,r,s),_%2===1&&(_+=1);for(var x=Math.acos(i.dot(d,f)),b=x/_,S=0;S<_;S++)o.push(i.add(i.rotate(g,b*S),y))}else o.push(u)}return o},r.clockwiseSort=function(t){var e=r.mean(t);return t.sort((function(t,n){return i.angle(e,t)-i.angle(e,n)})),t},r.isConvex=function(t){var e,n,r,i,a=0,s=t.length;if(s<3)return null;for(e=0;e<s;e++)if(n=(e+1)%s,r=(e+2)%s,i=(t[n].x-t[e].x)*(t[r].y-t[n].y),i-=(t[n].y-t[e].y)*(t[r].x-t[n].x),i<0?a|=1:i>0&&(a|=2),3===a)return!1;return 0!==a||null},r.hull=function(t){var e,n,r=[],a=[];for(t=t.slice(0),t.sort((function(t,e){var n=t.x-e.x;return 0!==n?n:t.y-e.y})),n=0;n<t.length;n+=1){e=t[n];while(a.length>=2&&i.cross3(a[a.length-2],a[a.length-1],e)<=0)a.pop();a.push(e)}for(n=t.length-1;n>=0;n-=1){e=t[n];while(r.length>=2&&i.cross3(r[r.length-2],r[r.length-1],e)<=0)r.pop();r.push(e)}return r.pop(),a.pop(),r.concat(a)}})()},function(t,e,n){var r={};t.exports=r;var i=n(3),a=n(2),s=n(7),o=n(0),l=n(1),c=n(11);(function(){r._timeCorrection=!0,r._inertiaScale=4,r._nextCollidingGroupId=1,r._nextNonCollidingGroupId=-1,r._nextCategory=1,r._baseDelta=1e3/60,r.create=function(e){var n={id:o.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:i.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:1e3/60,_original:null},r=o.extend(n,e);return t(r,e),r},r.nextGroup=function(t){return t?r._nextNonCollidingGroupId--:r._nextCollidingGroupId++},r.nextCategory=function(){return r._nextCategory=r._nextCategory<<1,r._nextCategory};var t=function(t,e){e=e||{},r.set(t,{bounds:t.bounds||l.create(t.vertices),positionPrev:t.positionPrev||a.clone(t.position),anglePrev:t.anglePrev||t.angle,vertices:t.vertices,parts:t.parts||[t],isStatic:t.isStatic,isSleeping:t.isSleeping,parent:t.parent||t}),i.rotate(t.vertices,t.angle,t.position),c.rotate(t.axes,t.angle),l.update(t.bounds,t.vertices,t.velocity),r.set(t,{axes:e.axes||t.axes,area:e.area||t.area,mass:e.mass||t.mass,inertia:e.inertia||t.inertia});var n=t.isStatic?"#14151f":o.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),s=t.isStatic?"#555":"#ccc",u=t.isStatic&&null===t.render.fillStyle?1:0;t.render.fillStyle=t.render.fillStyle||n,t.render.strokeStyle=t.render.strokeStyle||s,t.render.lineWidth=t.render.lineWidth||u,t.render.sprite.xOffset+=-(t.bounds.min.x-t.position.x)/(t.bounds.max.x-t.bounds.min.x),t.render.sprite.yOffset+=-(t.bounds.min.y-t.position.y)/(t.bounds.max.y-t.bounds.min.y)};r.set=function(t,e,n){var i;for(i in"string"===typeof e&&(i=e,e={},e[i]=n),e)if(Object.prototype.hasOwnProperty.call(e,i))switch(n=e[i],i){case"isStatic":r.setStatic(t,n);break;case"isSleeping":s.set(t,n);break;case"mass":r.setMass(t,n);break;case"density":r.setDensity(t,n);break;case"inertia":r.setInertia(t,n);break;case"vertices":r.setVertices(t,n);break;case"position":r.setPosition(t,n);break;case"angle":r.setAngle(t,n);break;case"velocity":r.setVelocity(t,n);break;case"angularVelocity":r.setAngularVelocity(t,n);break;case"speed":r.setSpeed(t,n);break;case"angularSpeed":r.setAngularSpeed(t,n);break;case"parts":r.setParts(t,n);break;case"centre":r.setCentre(t,n);break;default:t[i]=n}},r.setStatic=function(t,e){for(var n=0;n<t.parts.length;n++){var r=t.parts[n];e?(r.isStatic||(r._original={restitution:r.restitution,friction:r.friction,mass:r.mass,inertia:r.inertia,density:r.density,inverseMass:r.inverseMass,inverseInertia:r.inverseInertia}),r.restitution=0,r.friction=1,r.mass=r.inertia=r.density=1/0,r.inverseMass=r.inverseInertia=0,r.positionPrev.x=r.position.x,r.positionPrev.y=r.position.y,r.anglePrev=r.angle,r.angularVelocity=0,r.speed=0,r.angularSpeed=0,r.motion=0):r._original&&(r.restitution=r._original.restitution,r.friction=r._original.friction,r.mass=r._original.mass,r.inertia=r._original.inertia,r.density=r._original.density,r.inverseMass=r._original.inverseMass,r.inverseInertia=r._original.inverseInertia,r._original=null),r.isStatic=e}},r.setMass=function(t,e){var n=t.inertia/(t.mass/6);t.inertia=n*(e/6),t.inverseInertia=1/t.inertia,t.mass=e,t.inverseMass=1/t.mass,t.density=t.mass/t.area},r.setDensity=function(t,e){r.setMass(t,e*t.area),t.density=e},r.setInertia=function(t,e){t.inertia=e,t.inverseInertia=1/t.inertia},r.setVertices=function(t,e){e[0].body===t?t.vertices=e:t.vertices=i.create(e,t),t.axes=c.fromVertices(t.vertices),t.area=i.area(t.vertices),r.setMass(t,t.density*t.area);var n=i.centre(t.vertices);i.translate(t.vertices,n,-1),r.setInertia(t,r._inertiaScale*i.inertia(t.vertices,t.mass)),i.translate(t.vertices,t.position),l.update(t.bounds,t.vertices,t.velocity)},r.setParts=function(t,e,n){var a;for(e=e.slice(0),t.parts.length=0,t.parts.push(t),t.parent=t,a=0;a<e.length;a++){var s=e[a];s!==t&&(s.parent=t,t.parts.push(s))}if(1!==t.parts.length){if(n="undefined"===typeof n||n,n){var o=[];for(a=0;a<e.length;a++)o=o.concat(e[a].vertices);i.clockwiseSort(o);var l=i.hull(o),c=i.centre(l);r.setVertices(t,l),i.translate(t.vertices,c)}var u=r._totalProperties(t);t.area=u.area,t.parent=t,t.position.x=u.centre.x,t.position.y=u.centre.y,t.positionPrev.x=u.centre.x,t.positionPrev.y=u.centre.y,r.setMass(t,u.mass),r.setInertia(t,u.inertia),r.setPosition(t,u.centre)}},r.setCentre=function(t,e,n){n?(t.positionPrev.x+=e.x,t.positionPrev.y+=e.y,t.position.x+=e.x,t.position.y+=e.y):(t.positionPrev.x=e.x-(t.position.x-t.positionPrev.x),t.positionPrev.y=e.y-(t.position.y-t.positionPrev.y),t.position.x=e.x,t.position.y=e.y)},r.setPosition=function(t,e,n){var r=a.sub(e,t.position);n?(t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.velocity.x=r.x,t.velocity.y=r.y,t.speed=a.magnitude(r)):(t.positionPrev.x+=r.x,t.positionPrev.y+=r.y);for(var s=0;s<t.parts.length;s++){var o=t.parts[s];o.position.x+=r.x,o.position.y+=r.y,i.translate(o.vertices,r),l.update(o.bounds,o.vertices,t.velocity)}},r.setAngle=function(t,e,n){var r=e-t.angle;n?(t.anglePrev=t.angle,t.angularVelocity=r,t.angularSpeed=Math.abs(r)):t.anglePrev+=r;for(var s=0;s<t.parts.length;s++){var o=t.parts[s];o.angle+=r,i.rotate(o.vertices,r,t.position),c.rotate(o.axes,r),l.update(o.bounds,o.vertices,t.velocity),s>0&&a.rotateAbout(o.position,r,t.position,o.position)}},r.setVelocity=function(t,e){var n=t.deltaTime/r._baseDelta;t.positionPrev.x=t.position.x-e.x*n,t.positionPrev.y=t.position.y-e.y*n,t.velocity.x=(t.position.x-t.positionPrev.x)/n,t.velocity.y=(t.position.y-t.positionPrev.y)/n,t.speed=a.magnitude(t.velocity)},r.getVelocity=function(t){var e=r._baseDelta/t.deltaTime;return{x:(t.position.x-t.positionPrev.x)*e,y:(t.position.y-t.positionPrev.y)*e}},r.getSpeed=function(t){return a.magnitude(r.getVelocity(t))},r.setSpeed=function(t,e){r.setVelocity(t,a.mult(a.normalise(r.getVelocity(t)),e))},r.setAngularVelocity=function(t,e){var n=t.deltaTime/r._baseDelta;t.anglePrev=t.angle-e*n,t.angularVelocity=(t.angle-t.anglePrev)/n,t.angularSpeed=Math.abs(t.angularVelocity)},r.getAngularVelocity=function(t){return(t.angle-t.anglePrev)*r._baseDelta/t.deltaTime},r.getAngularSpeed=function(t){return Math.abs(r.getAngularVelocity(t))},r.setAngularSpeed=function(t,e){r.setAngularVelocity(t,o.sign(r.getAngularVelocity(t))*e)},r.translate=function(t,e,n){r.setPosition(t,a.add(t.position,e),n)},r.rotate=function(t,e,n,i){if(n){var a=Math.cos(e),s=Math.sin(e),o=t.position.x-n.x,l=t.position.y-n.y;r.setPosition(t,{x:n.x+(o*a-l*s),y:n.y+(o*s+l*a)},i),r.setAngle(t,t.angle+e,i)}else r.setAngle(t,t.angle+e,i)},r.scale=function(t,e,n,a){var s=0,o=0;a=a||t.position;for(var u=0;u<t.parts.length;u++){var h=t.parts[u];i.scale(h.vertices,e,n,a),h.axes=c.fromVertices(h.vertices),h.area=i.area(h.vertices),r.setMass(h,t.density*h.area),i.translate(h.vertices,{x:-h.position.x,y:-h.position.y}),r.setInertia(h,r._inertiaScale*i.inertia(h.vertices,h.mass)),i.translate(h.vertices,{x:h.position.x,y:h.position.y}),u>0&&(s+=h.area,o+=h.inertia),h.position.x=a.x+(h.position.x-a.x)*e,h.position.y=a.y+(h.position.y-a.y)*n,l.update(h.bounds,h.vertices,t.velocity)}t.parts.length>1&&(t.area=s,t.isStatic||(r.setMass(t,t.density*s),r.setInertia(t,o))),t.circleRadius&&(e===n?t.circleRadius*=e:t.circleRadius=null)},r.update=function(t,e){e=("undefined"!==typeof e?e:1e3/60)*t.timeScale;var n=e*e,s=r._timeCorrection?e/(t.deltaTime||e):1,u=1-t.frictionAir*(e/o._baseDelta),h=(t.position.x-t.positionPrev.x)*s,p=(t.position.y-t.positionPrev.y)*s;t.velocity.x=h*u+t.force.x/t.mass*n,t.velocity.y=p*u+t.force.y/t.mass*n,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.position.x+=t.velocity.x,t.position.y+=t.velocity.y,t.deltaTime=e,t.angularVelocity=(t.angle-t.anglePrev)*u*s+t.torque/t.inertia*n,t.anglePrev=t.angle,t.angle+=t.angularVelocity;for(var d=0;d<t.parts.length;d++){var f=t.parts[d];i.translate(f.vertices,t.velocity),d>0&&(f.position.x+=t.velocity.x,f.position.y+=t.velocity.y),0!==t.angularVelocity&&(i.rotate(f.vertices,t.angularVelocity,t.position),c.rotate(f.axes,t.angularVelocity),d>0&&a.rotateAbout(f.position,t.angularVelocity,t.position,f.position)),l.update(f.bounds,f.vertices,t.velocity)}},r.updateVelocities=function(t){var e=r._baseDelta/t.deltaTime,n=t.velocity;n.x=(t.position.x-t.positionPrev.x)*e,n.y=(t.position.y-t.positionPrev.y)*e,t.speed=Math.sqrt(n.x*n.x+n.y*n.y),t.angularVelocity=(t.angle-t.anglePrev)*e,t.angularSpeed=Math.abs(t.angularVelocity)},r.applyForce=function(t,e,n){var r={x:e.x-t.position.x,y:e.y-t.position.y};t.force.x+=n.x,t.force.y+=n.y,t.torque+=r.x*n.y-r.y*n.x},r._totalProperties=function(t){for(var e={mass:0,area:0,inertia:0,centre:{x:0,y:0}},n=1===t.parts.length?0:1;n<t.parts.length;n++){var r=t.parts[n],i=r.mass!==1/0?r.mass:1;e.mass+=i,e.area+=r.area,e.inertia+=r.inertia,e.centre=a.add(e.centre,a.mult(r.position,i))}return e.centre=a.div(e.centre,e.mass),e}})()},function(t,e,n){var r={};t.exports=r;var i=n(0);(function(){r.on=function(t,e,n){for(var r,i=e.split(" "),a=0;a<i.length;a++)r=i[a],t.events=t.events||{},t.events[r]=t.events[r]||[],t.events[r].push(n);return n},r.off=function(t,e,n){if(e){"function"===typeof e&&(n=e,e=i.keys(t.events).join(" "));for(var r=e.split(" "),a=0;a<r.length;a++){var s=t.events[r[a]],o=[];if(n&&s)for(var l=0;l<s.length;l++)s[l]!==n&&o.push(s[l]);t.events[r[a]]=o}}else t.events={}},r.trigger=function(t,e,n){var r,a,s,o,l=t.events;if(l&&i.keys(l).length>0){n||(n={}),r=e.split(" ");for(var c=0;c<r.length;c++)if(a=r[c],s=l[a],s){o=i.clone(n,!1),o.name=a,o.source=t;for(var u=0;u<s.length;u++)s[u].apply(t,[o])}}}})()},function(t,e,n){var r={};t.exports=r;var i=n(5),a=n(0),s=n(1),o=n(4);(function(){r.create=function(t){return a.extend({id:a.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},t)},r.setModified=function(t,e,n,i){if(t.isModified=e,e&&t.cache&&(t.cache.allBodies=null,t.cache.allConstraints=null,t.cache.allComposites=null),n&&t.parent&&r.setModified(t.parent,e,n,i),i)for(var a=0;a<t.composites.length;a++){var s=t.composites[a];r.setModified(s,e,n,i)}},r.add=function(t,e){var n=[].concat(e);i.trigger(t,"beforeAdd",{object:e});for(var s=0;s<n.length;s++){var o=n[s];switch(o.type){case"body":if(o.parent!==o){a.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}r.addBody(t,o);break;case"constraint":r.addConstraint(t,o);break;case"composite":r.addComposite(t,o);break;case"mouseConstraint":r.addConstraint(t,o.constraint);break}}return i.trigger(t,"afterAdd",{object:e}),t},r.remove=function(t,e,n){var a=[].concat(e);i.trigger(t,"beforeRemove",{object:e});for(var s=0;s<a.length;s++){var o=a[s];switch(o.type){case"body":r.removeBody(t,o,n);break;case"constraint":r.removeConstraint(t,o,n);break;case"composite":r.removeComposite(t,o,n);break;case"mouseConstraint":r.removeConstraint(t,o.constraint);break}}return i.trigger(t,"afterRemove",{object:e}),t},r.addComposite=function(t,e){return t.composites.push(e),e.parent=t,r.setModified(t,!0,!0,!1),t},r.removeComposite=function(t,e,n){var i=a.indexOf(t.composites,e);if(-1!==i){var s=r.allBodies(e);r.removeCompositeAt(t,i);for(var o=0;o<s.length;o++)s[o].sleepCounter=0}if(n)for(o=0;o<t.composites.length;o++)r.removeComposite(t.composites[o],e,!0);return t},r.removeCompositeAt=function(t,e){return t.composites.splice(e,1),r.setModified(t,!0,!0,!1),t},r.addBody=function(t,e){return t.bodies.push(e),r.setModified(t,!0,!0,!1),t},r.removeBody=function(t,e,n){var i=a.indexOf(t.bodies,e);if(-1!==i&&(r.removeBodyAt(t,i),e.sleepCounter=0),n)for(var s=0;s<t.composites.length;s++)r.removeBody(t.composites[s],e,!0);return t},r.removeBodyAt=function(t,e){return t.bodies.splice(e,1),r.setModified(t,!0,!0,!1),t},r.addConstraint=function(t,e){return t.constraints.push(e),r.setModified(t,!0,!0,!1),t},r.removeConstraint=function(t,e,n){var i=a.indexOf(t.constraints,e);if(-1!==i&&r.removeConstraintAt(t,i),n)for(var s=0;s<t.composites.length;s++)r.removeConstraint(t.composites[s],e,!0);return t},r.removeConstraintAt=function(t,e){return t.constraints.splice(e,1),r.setModified(t,!0,!0,!1),t},r.clear=function(t,e,n){if(n)for(var i=0;i<t.composites.length;i++)r.clear(t.composites[i],e,!0);return e?t.bodies=t.bodies.filter((function(t){return t.isStatic})):t.bodies.length=0,t.constraints.length=0,t.composites.length=0,r.setModified(t,!0,!0,!1),t},r.allBodies=function(t){if(t.cache&&t.cache.allBodies)return t.cache.allBodies;for(var e=[].concat(t.bodies),n=0;n<t.composites.length;n++)e=e.concat(r.allBodies(t.composites[n]));return t.cache&&(t.cache.allBodies=e),e},r.allConstraints=function(t){if(t.cache&&t.cache.allConstraints)return t.cache.allConstraints;for(var e=[].concat(t.constraints),n=0;n<t.composites.length;n++)e=e.concat(r.allConstraints(t.composites[n]));return t.cache&&(t.cache.allConstraints=e),e},r.allComposites=function(t){if(t.cache&&t.cache.allComposites)return t.cache.allComposites;for(var e=[].concat(t.composites),n=0;n<t.composites.length;n++)e=e.concat(r.allComposites(t.composites[n]));return t.cache&&(t.cache.allComposites=e),e},r.get=function(t,e,n){var i,a;switch(n){case"body":i=r.allBodies(t);break;case"constraint":i=r.allConstraints(t);break;case"composite":i=r.allComposites(t).concat(t);break}return i?(a=i.filter((function(t){return t.id.toString()===e.toString()})),0===a.length?null:a[0]):null},r.move=function(t,e,n){return r.remove(t,e),r.add(n,e),t},r.rebase=function(t){for(var e=r.allBodies(t).concat(r.allConstraints(t)).concat(r.allComposites(t)),n=0;n<e.length;n++)e[n].id=a.nextId();return t},r.translate=function(t,e,n){for(var i=n?r.allBodies(t):t.bodies,a=0;a<i.length;a++)o.translate(i[a],e);return t},r.rotate=function(t,e,n,i){for(var a=Math.cos(e),s=Math.sin(e),l=i?r.allBodies(t):t.bodies,c=0;c<l.length;c++){var u=l[c],h=u.position.x-n.x,p=u.position.y-n.y;o.setPosition(u,{x:n.x+(h*a-p*s),y:n.y+(h*s+p*a)}),o.rotate(u,e)}return t},r.scale=function(t,e,n,i,a){for(var s=a?r.allBodies(t):t.bodies,l=0;l<s.length;l++){var c=s[l],u=c.position.x-i.x,h=c.position.y-i.y;o.setPosition(c,{x:i.x+u*e,y:i.y+h*n}),o.scale(c,e,n)}return t},r.bounds=function(t){for(var e=r.allBodies(t),n=[],i=0;i<e.length;i+=1){var a=e[i];n.push(a.bounds.min,a.bounds.max)}return s.create(n)}})()},function(t,e,n){var r={};t.exports=r;var i=n(4),a=n(5),s=n(0);(function(){r._motionWakeThreshold=.18,r._motionSleepThreshold=.08,r._minBias=.9,r.update=function(t,e){for(var n=e/s._baseDelta,a=r._motionSleepThreshold,o=0;o<t.length;o++){var l=t[o],c=i.getSpeed(l),u=i.getAngularSpeed(l),h=c*c+u*u;if(0===l.force.x&&0===l.force.y){var p=Math.min(l.motion,h),d=Math.max(l.motion,h);l.motion=r._minBias*p+(1-r._minBias)*d,l.sleepThreshold>0&&l.motion<a?(l.sleepCounter+=1,l.sleepCounter>=l.sleepThreshold/n&&r.set(l,!0)):l.sleepCounter>0&&(l.sleepCounter-=1)}else r.set(l,!1)}},r.afterCollisions=function(t){for(var e=r._motionSleepThreshold,n=0;n<t.length;n++){var i=t[n];if(i.isActive){var a=i.collision,s=a.bodyA.parent,o=a.bodyB.parent;if(!(s.isSleeping&&o.isSleeping||s.isStatic||o.isStatic)&&(s.isSleeping||o.isSleeping)){var l=s.isSleeping&&!s.isStatic?s:o,c=l===s?o:s;!l.isStatic&&c.motion>e&&r.set(l,!1)}}}},r.set=function(t,e){var n=t.isSleeping;e?(t.isSleeping=!0,t.sleepCounter=t.sleepThreshold,t.positionImpulse.x=0,t.positionImpulse.y=0,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.anglePrev=t.angle,t.speed=0,t.angularSpeed=0,t.motion=0,n||a.trigger(t,"sleepStart")):(t.isSleeping=!1,t.sleepCounter=0,n&&a.trigger(t,"sleepEnd"))}})()},function(t,e,n){var r={};t.exports=r;var i=n(3),a=n(9);(function(){var t=[],e={overlap:0,axis:null},n={overlap:0,axis:null};r.create=function(t,e){return{pair:null,collided:!1,bodyA:t,bodyB:e,parentA:t.parent,parentB:e.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},r.collides=function(t,s,o){if(r._overlapAxes(e,t.vertices,s.vertices,t.axes),e.overlap<=0)return null;if(r._overlapAxes(n,s.vertices,t.vertices,s.axes),n.overlap<=0)return null;var l,c,u=o&&o.table[a.id(t,s)];u?l=u.collision:(l=r.create(t,s),l.collided=!0,l.bodyA=t.id<s.id?t:s,l.bodyB=t.id<s.id?s:t,l.parentA=l.bodyA.parent,l.parentB=l.bodyB.parent),t=l.bodyA,s=l.bodyB,c=e.overlap<n.overlap?e:n;var h=l.normal,p=l.tangent,d=l.penetration,f=l.supports,m=c.overlap,g=c.axis,v=g.x,y=g.y,_=s.position.x-t.position.x,x=s.position.y-t.position.y;v*_+y*x>=0&&(v=-v,y=-y),h.x=v,h.y=y,p.x=-y,p.y=v,d.x=v*m,d.y=y*m,l.depth=m;var b=r._findSupports(t,s,h,1),S=0;if(i.contains(t.vertices,b[0])&&(f[S++]=b[0]),i.contains(t.vertices,b[1])&&(f[S++]=b[1]),S<2){var w=r._findSupports(s,t,h,-1);i.contains(s.vertices,w[0])&&(f[S++]=w[0]),S<2&&i.contains(s.vertices,w[1])&&(f[S++]=w[1])}return 0===S&&(f[S++]=b[0]),l.supportCount=S,l},r._overlapAxes=function(t,e,n,r){var i,a,s,o,l,c,u=e.length,h=n.length,p=e[0].x,d=e[0].y,f=n[0].x,m=n[0].y,g=r.length,v=Number.MAX_VALUE,y=0;for(l=0;l<g;l++){var _=r[l],x=_.x,b=_.y,S=p*x+d*b,w=f*x+m*b,E=S,M=w;for(c=1;c<u;c+=1)o=e[c].x*x+e[c].y*b,o>E?E=o:o<S&&(S=o);for(c=1;c<h;c+=1)o=n[c].x*x+n[c].y*b,o>M?M=o:o<w&&(w=o);if(a=E-w,s=M-S,i=a<s?a:s,i<v&&(v=i,y=l,i<=0))break}t.axis=r[y],t.overlap=v},r._findSupports=function(e,n,r,i){var a,s,o,l=n.vertices,c=l.length,u=e.position.x,h=e.position.y,p=r.x*i,d=r.y*i,f=l[0],m=f,g=p*(u-m.x)+d*(h-m.y);for(o=1;o<c;o+=1)m=l[o],s=p*(u-m.x)+d*(h-m.y),s<g&&(g=s,f=m);return a=l[(c+f.index-1)%c],g=p*(u-a.x)+d*(h-a.y),m=l[(f.index+1)%c],p*(u-m.x)+d*(h-m.y)<g?(t[0]=f,t[1]=m,t):(t[0]=f,t[1]=a,t)}})()},function(t,e,n){var r={};t.exports=r;var i=n(16);(function(){r.create=function(t,e){var n=t.bodyA,a=t.bodyB,s={id:r.id(n,a),bodyA:n,bodyB:a,collision:t,contacts:[i.create(),i.create()],contactCount:0,separation:0,isActive:!0,isSensor:n.isSensor||a.isSensor,timeCreated:e,timeUpdated:e,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return r.update(s,t,e),s},r.update=function(t,e,n){var r=e.supports,i=e.supportCount,a=t.contacts,s=e.parentA,o=e.parentB;t.isActive=!0,t.timeUpdated=n,t.collision=e,t.separation=e.depth,t.inverseMass=s.inverseMass+o.inverseMass,t.friction=s.friction<o.friction?s.friction:o.friction,t.frictionStatic=s.frictionStatic>o.frictionStatic?s.frictionStatic:o.frictionStatic,t.restitution=s.restitution>o.restitution?s.restitution:o.restitution,t.slop=s.slop>o.slop?s.slop:o.slop,t.contactCount=i,e.pair=t;var l=r[0],c=a[0],u=r[1],h=a[1];h.vertex!==l&&c.vertex!==u||(a[1]=c,a[0]=c=h,h=a[1]),c.vertex=l,h.vertex=u},r.setActive=function(t,e,n){e?(t.isActive=!0,t.timeUpdated=n):(t.isActive=!1,t.contactCount=0)},r.id=function(t,e){return t.id<e.id?t.id.toString(36)+":"+e.id.toString(36):e.id.toString(36)+":"+t.id.toString(36)}})()},function(t,e,n){var r={};t.exports=r;var i=n(3),a=n(2),s=n(7),o=n(1),l=n(11),c=n(0);(function(){r._warming=.4,r._torqueDampen=1,r._minLength=1e-6,r.create=function(t){var e=t;e.bodyA&&!e.pointA&&(e.pointA={x:0,y:0}),e.bodyB&&!e.pointB&&(e.pointB={x:0,y:0});var n=e.bodyA?a.add(e.bodyA.position,e.pointA):e.pointA,r=e.bodyB?a.add(e.bodyB.position,e.pointB):e.pointB,i=a.magnitude(a.sub(n,r));e.length="undefined"!==typeof e.length?e.length:i,e.id=e.id||c.nextId(),e.label=e.label||"Constraint",e.type="constraint",e.stiffness=e.stiffness||(e.length>0?1:.7),e.damping=e.damping||0,e.angularStiffness=e.angularStiffness||0,e.angleA=e.bodyA?e.bodyA.angle:e.angleA,e.angleB=e.bodyB?e.bodyB.angle:e.angleB,e.plugin={};var s={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return 0===e.length&&e.stiffness>.1?(s.type="pin",s.anchors=!1):e.stiffness<.9&&(s.type="spring"),e.render=c.extend(s,e.render),e},r.preSolveAll=function(t){for(var e=0;e<t.length;e+=1){var n=t[e],r=n.constraintImpulse;n.isStatic||0===r.x&&0===r.y&&0===r.angle||(n.position.x+=r.x,n.position.y+=r.y,n.angle+=r.angle)}},r.solveAll=function(t,e){for(var n=c.clamp(e/c._baseDelta,0,1),i=0;i<t.length;i+=1){var a=t[i],s=!a.bodyA||a.bodyA&&a.bodyA.isStatic,o=!a.bodyB||a.bodyB&&a.bodyB.isStatic;(s||o)&&r.solve(t[i],n)}for(i=0;i<t.length;i+=1)a=t[i],s=!a.bodyA||a.bodyA&&a.bodyA.isStatic,o=!a.bodyB||a.bodyB&&a.bodyB.isStatic,s||o||r.solve(t[i],n)},r.solve=function(t,e){var n=t.bodyA,i=t.bodyB,s=t.pointA,o=t.pointB;if(n||i){n&&!n.isStatic&&(a.rotate(s,n.angle-t.angleA,s),t.angleA=n.angle),i&&!i.isStatic&&(a.rotate(o,i.angle-t.angleB,o),t.angleB=i.angle);var l=s,c=o;if(n&&(l=a.add(n.position,s)),i&&(c=a.add(i.position,o)),l&&c){var u=a.sub(l,c),h=a.magnitude(u);h<r._minLength&&(h=r._minLength);var p,d,f,m,g,v=(h-t.length)/h,y=t.stiffness>=1||0===t.length,_=y?t.stiffness*e:t.stiffness*e*e,x=t.damping*e,b=a.mult(u,v*_),S=(n?n.inverseMass:0)+(i?i.inverseMass:0),w=(n?n.inverseInertia:0)+(i?i.inverseInertia:0),E=S+w;if(x>0){var M=a.create();f=a.div(u,h),g=a.sub(i&&a.sub(i.position,i.positionPrev)||M,n&&a.sub(n.position,n.positionPrev)||M),m=a.dot(f,g)}n&&!n.isStatic&&(d=n.inverseMass/S,n.constraintImpulse.x-=b.x*d,n.constraintImpulse.y-=b.y*d,n.position.x-=b.x*d,n.position.y-=b.y*d,x>0&&(n.positionPrev.x-=x*f.x*m*d,n.positionPrev.y-=x*f.y*m*d),p=a.cross(s,b)/E*r._torqueDampen*n.inverseInertia*(1-t.angularStiffness),n.constraintImpulse.angle-=p,n.angle-=p),i&&!i.isStatic&&(d=i.inverseMass/S,i.constraintImpulse.x+=b.x*d,i.constraintImpulse.y+=b.y*d,i.position.x+=b.x*d,i.position.y+=b.y*d,x>0&&(i.positionPrev.x+=x*f.x*m*d,i.positionPrev.y+=x*f.y*m*d),p=a.cross(o,b)/E*r._torqueDampen*i.inverseInertia*(1-t.angularStiffness),i.constraintImpulse.angle+=p,i.angle+=p)}}},r.postSolveAll=function(t){for(var e=0;e<t.length;e++){var n=t[e],c=n.constraintImpulse;if(!(n.isStatic||0===c.x&&0===c.y&&0===c.angle)){s.set(n,!1);for(var u=0;u<n.parts.length;u++){var h=n.parts[u];i.translate(h.vertices,c),u>0&&(h.position.x+=c.x,h.position.y+=c.y),0!==c.angle&&(i.rotate(h.vertices,c.angle,n.position),l.rotate(h.axes,c.angle),u>0&&a.rotateAbout(h.position,c.angle,n.position,h.position)),o.update(h.bounds,h.vertices,n.velocity)}c.angle*=r._warming,c.x*=r._warming,c.y*=r._warming}}},r.pointAWorld=function(t){return{x:(t.bodyA?t.bodyA.position.x:0)+(t.pointA?t.pointA.x:0),y:(t.bodyA?t.bodyA.position.y:0)+(t.pointA?t.pointA.y:0)}},r.pointBWorld=function(t){return{x:(t.bodyB?t.bodyB.position.x:0)+(t.pointB?t.pointB.x:0),y:(t.bodyB?t.bodyB.position.y:0)+(t.pointB?t.pointB.y:0)}},r.currentLength=function(t){var e=(t.bodyA?t.bodyA.position.x:0)+(t.pointA?t.pointA.x:0),n=(t.bodyA?t.bodyA.position.y:0)+(t.pointA?t.pointA.y:0),r=(t.bodyB?t.bodyB.position.x:0)+(t.pointB?t.pointB.x:0),i=(t.bodyB?t.bodyB.position.y:0)+(t.pointB?t.pointB.y:0),a=e-r,s=n-i;return Math.sqrt(a*a+s*s)}})()},function(t,e,n){var r={};t.exports=r;var i=n(2),a=n(0);(function(){r.fromVertices=function(t){for(var e={},n=0;n<t.length;n++){var r=(n+1)%t.length,s=i.normalise({x:t[r].y-t[n].y,y:t[n].x-t[r].x}),o=0===s.y?1/0:s.x/s.y;o=o.toFixed(3).toString(),e[o]=s}return a.values(e)},r.rotate=function(t,e){if(0!==e)for(var n=Math.cos(e),r=Math.sin(e),i=0;i<t.length;i++){var a,s=t[i];a=s.x*n-s.y*r,s.y=s.x*r+s.y*n,s.x=a}}})()},function(t,e,n){var r={};t.exports=r;var i=n(3),a=n(0),s=n(4),o=n(1),l=n(2);(function(){r.rectangle=function(t,e,n,r,o){o=o||{};var l={label:"Rectangle Body",position:{x:t,y:e},vertices:i.fromPath("L 0 0 L "+n+" 0 L "+n+" "+r+" L 0 "+r)};if(o.chamfer){var c=o.chamfer;l.vertices=i.chamfer(l.vertices,c.radius,c.quality,c.qualityMin,c.qualityMax),delete o.chamfer}return s.create(a.extend({},l,o))},r.trapezoid=function(t,e,n,r,o,l){l=l||{},o>=1&&a.warn("Bodies.trapezoid: slope parameter must be < 1."),o*=.5;var c,u=(1-2*o)*n,h=n*o,p=h+u,d=p+h;c=o<.5?"L 0 0 L "+h+" "+-r+" L "+p+" "+-r+" L "+d+" 0":"L 0 0 L "+p+" "+-r+" L "+d+" 0";var f={label:"Trapezoid Body",position:{x:t,y:e},vertices:i.fromPath(c)};if(l.chamfer){var m=l.chamfer;f.vertices=i.chamfer(f.vertices,m.radius,m.quality,m.qualityMin,m.qualityMax),delete l.chamfer}return s.create(a.extend({},f,l))},r.circle=function(t,e,n,i,s){i=i||{};var o={label:"Circle Body",circleRadius:n};s=s||25;var l=Math.ceil(Math.max(10,Math.min(s,n)));return l%2===1&&(l+=1),r.polygon(t,e,l,n,a.extend({},o,i))},r.polygon=function(t,e,n,o,l){if(l=l||{},n<3)return r.circle(t,e,o,l);for(var c=2*Math.PI/n,u="",h=.5*c,p=0;p<n;p+=1){var d=h+p*c,f=Math.cos(d)*o,m=Math.sin(d)*o;u+="L "+f.toFixed(3)+" "+m.toFixed(3)+" "}var g={label:"Polygon Body",position:{x:t,y:e},vertices:i.fromPath(u)};if(l.chamfer){var v=l.chamfer;g.vertices=i.chamfer(g.vertices,v.radius,v.quality,v.qualityMin,v.qualityMax),delete l.chamfer}return s.create(a.extend({},g,l))},r.fromVertices=function(t,e,n,r,c,u,h,p){var d,f,m,g,v,y,_,x,b,S,w,E=a.getDecomp();for(d=Boolean(E&&E.quickDecomp),r=r||{},m=[],c="undefined"!==typeof c&&c,u="undefined"!==typeof u?u:.01,h="undefined"!==typeof h?h:10,p="undefined"!==typeof p?p:.01,a.isArray(n[0])||(n=[n]),S=0;S<n.length;S+=1)if(y=n[S],g=i.isConvex(y),v=!g,v&&!d&&a.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),g||!d)y=g?i.clockwiseSort(y):i.hull(y),m.push({position:{x:t,y:e},vertices:y});else{var M=y.map((function(t){return[t.x,t.y]}));E.makeCCW(M),!1!==u&&E.removeCollinearPoints(M,u),!1!==p&&E.removeDuplicatePoints&&E.removeDuplicatePoints(M,p);var T=E.quickDecomp(M);for(_=0;_<T.length;_++){var C=T[_],A=C.map((function(t){return{x:t[0],y:t[1]}}));h>0&&i.area(A)<h||m.push({position:i.centre(A),vertices:A})}}for(_=0;_<m.length;_++)m[_]=s.create(a.extend(m[_],r));if(c){var P=5;for(_=0;_<m.length;_++){var R=m[_];for(x=_+1;x<m.length;x++){var D=m[x];if(o.overlaps(R.bounds,D.bounds)){var I=R.vertices,L=D.vertices;for(b=0;b<R.vertices.length;b++)for(w=0;w<D.vertices.length;w++){var k=l.magnitudeSquared(l.sub(I[(b+1)%I.length],L[w])),O=l.magnitudeSquared(l.sub(I[b],L[(w+1)%L.length]));k<P&&O<P&&(I[b].isInternal=!0,L[w].isInternal=!0)}}}}}return m.length>1?(f=s.create(a.extend({parts:m.slice(0)},r)),s.setPosition(f,{x:t,y:e}),f):m[0]}})()},function(t,e,n){var r={};t.exports=r;var i=n(0),a=n(8);(function(){r.create=function(t){var e={bodies:[],collisions:[],pairs:null};return i.extend(e,t)},r.setBodies=function(t,e){t.bodies=e.slice(0)},r.clear=function(t){t.bodies=[],t.collisions=[]},r.collisions=function(t){var e,n,i=t.pairs,s=t.bodies,o=s.length,l=r.canCollide,c=a.collides,u=t.collisions,h=0;for(s.sort(r._compareBoundsX),e=0;e<o;e++){var p=s[e],d=p.bounds,f=p.bounds.max.x,m=p.bounds.max.y,g=p.bounds.min.y,v=p.isStatic||p.isSleeping,y=p.parts.length,_=1===y;for(n=e+1;n<o;n++){var x=s[n],b=x.bounds;if(b.min.x>f)break;if(!(m<b.min.y||g>b.max.y)&&((!v||!x.isStatic&&!x.isSleeping)&&l(p.collisionFilter,x.collisionFilter))){var S=x.parts.length;if(_&&1===S){var w=c(p,x,i);w&&(u[h++]=w)}else for(var E=y>1?1:0,M=S>1?1:0,T=E;T<y;T++)for(var C=p.parts[T],A=(d=C.bounds,M);A<S;A++){var P=x.parts[A];b=P.bounds;if(!(d.min.x>b.max.x||d.max.x<b.min.x||d.max.y<b.min.y||d.min.y>b.max.y)){w=c(C,P,i);w&&(u[h++]=w)}}}}}return u.length!==h&&(u.length=h),u},r.canCollide=function(t,e){return t.group===e.group&&0!==t.group?t.group>0:0!==(t.mask&e.category)&&0!==(e.mask&t.category)},r._compareBoundsX=function(t,e){return t.bounds.min.x-e.bounds.min.x}})()},function(t,e,n){var r={};t.exports=r;var i=n(0);(function(){r.create=function(t){var e={};return t||i.log("Mouse.create: element was undefined, defaulting to document.body","warn"),e.element=t||document.body,e.absolute={x:0,y:0},e.position={x:0,y:0},e.mousedownPosition={x:0,y:0},e.mouseupPosition={x:0,y:0},e.offset={x:0,y:0},e.scale={x:1,y:1},e.wheelDelta=0,e.button=-1,e.pixelRatio=parseInt(e.element.getAttribute("data-pixel-ratio"),10)||1,e.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},e.mousemove=function(t){var n=r._getRelativeMousePosition(t,e.element,e.pixelRatio),i=t.changedTouches;i&&(e.button=0,t.preventDefault()),e.absolute.x=n.x,e.absolute.y=n.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y,e.sourceEvents.mousemove=t},e.mousedown=function(t){var n=r._getRelativeMousePosition(t,e.element,e.pixelRatio),i=t.changedTouches;i?(e.button=0,t.preventDefault()):e.button=t.button,e.absolute.x=n.x,e.absolute.y=n.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y,e.mousedownPosition.x=e.position.x,e.mousedownPosition.y=e.position.y,e.sourceEvents.mousedown=t},e.mouseup=function(t){var n=r._getRelativeMousePosition(t,e.element,e.pixelRatio),i=t.changedTouches;i&&t.preventDefault(),e.button=-1,e.absolute.x=n.x,e.absolute.y=n.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y,e.mouseupPosition.x=e.position.x,e.mouseupPosition.y=e.position.y,e.sourceEvents.mouseup=t},e.mousewheel=function(t){e.wheelDelta=Math.max(-1,Math.min(1,t.wheelDelta||-t.detail)),t.preventDefault(),e.sourceEvents.mousewheel=t},r.setElement(e,e.element),e},r.setElement=function(t,e){t.element=e,e.addEventListener("mousemove",t.mousemove,{passive:!0}),e.addEventListener("mousedown",t.mousedown,{passive:!0}),e.addEventListener("mouseup",t.mouseup,{passive:!0}),e.addEventListener("wheel",t.mousewheel,{passive:!1}),e.addEventListener("touchmove",t.mousemove,{passive:!1}),e.addEventListener("touchstart",t.mousedown,{passive:!1}),e.addEventListener("touchend",t.mouseup,{passive:!1})},r.clearSourceEvents=function(t){t.sourceEvents.mousemove=null,t.sourceEvents.mousedown=null,t.sourceEvents.mouseup=null,t.sourceEvents.mousewheel=null,t.wheelDelta=0},r.setOffset=function(t,e){t.offset.x=e.x,t.offset.y=e.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y},r.setScale=function(t,e){t.scale.x=e.x,t.scale.y=e.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y},r._getRelativeMousePosition=function(t,e,n){var r,i,a=e.getBoundingClientRect(),s=document.documentElement||document.body.parentNode||document.body,o=void 0!==window.pageXOffset?window.pageXOffset:s.scrollLeft,l=void 0!==window.pageYOffset?window.pageYOffset:s.scrollTop,c=t.changedTouches;return c?(r=c[0].pageX-a.left-o,i=c[0].pageY-a.top-l):(r=t.pageX-a.left-o,i=t.pageY-a.top-l),{x:r/(e.clientWidth/(e.width||e.clientWidth)*n),y:i/(e.clientHeight/(e.height||e.clientHeight)*n)}}})()},function(t,e,n){var r={};t.exports=r;var i=n(0);(function(){r._registry={},r.register=function(t){if(r.isPlugin(t)||i.warn("Plugin.register:",r.toString(t),"does not implement all required fields."),t.name in r._registry){var e=r._registry[t.name],n=r.versionParse(t.version).number,a=r.versionParse(e.version).number;n>a?(i.warn("Plugin.register:",r.toString(e),"was upgraded to",r.toString(t)),r._registry[t.name]=t):n<a?i.warn("Plugin.register:",r.toString(e),"can not be downgraded to",r.toString(t)):t!==e&&i.warn("Plugin.register:",r.toString(t),"is already registered to different plugin object")}else r._registry[t.name]=t;return t},r.resolve=function(t){return r._registry[r.dependencyParse(t).name]},r.toString=function(t){return"string"===typeof t?t:(t.name||"anonymous")+"@"+(t.version||t.range||"0.0.0")},r.isPlugin=function(t){return t&&t.name&&t.version&&t.install},r.isUsed=function(t,e){return t.used.indexOf(e)>-1},r.isFor=function(t,e){var n=t.for&&r.dependencyParse(t.for);return!t.for||e.name===n.name&&r.versionSatisfies(e.version,n.range)},r.use=function(t,e){if(t.uses=(t.uses||[]).concat(e||[]),0!==t.uses.length){for(var n=r.dependencies(t),a=i.topologicalSort(n),s=[],o=0;o<a.length;o+=1)if(a[o]!==t.name){var l=r.resolve(a[o]);l?r.isUsed(t,l.name)||(r.isFor(l,t)||(i.warn("Plugin.use:",r.toString(l),"is for",l.for,"but installed on",r.toString(t)+"."),l._warned=!0),l.install?l.install(t):(i.warn("Plugin.use:",r.toString(l),"does not specify an install function."),l._warned=!0),l._warned?(s.push("🔶 "+r.toString(l)),delete l._warned):s.push("✅ "+r.toString(l)),t.used.push(l.name)):s.push("❌ "+a[o])}s.length>0&&i.info(s.join("  "))}else i.warn("Plugin.use:",r.toString(t),"does not specify any dependencies to install.")},r.dependencies=function(t,e){var n=r.dependencyParse(t),a=n.name;if(e=e||{},!(a in e)){t=r.resolve(t)||t,e[a]=i.map(t.uses||[],(function(e){r.isPlugin(e)&&r.register(e);var a=r.dependencyParse(e),s=r.resolve(e);return s&&!r.versionSatisfies(s.version,a.range)?(i.warn("Plugin.dependencies:",r.toString(s),"does not satisfy",r.toString(a),"used by",r.toString(n)+"."),s._warned=!0,t._warned=!0):s||(i.warn("Plugin.dependencies:",r.toString(e),"used by",r.toString(n),"could not be resolved."),t._warned=!0),a.name}));for(var s=0;s<e[a].length;s+=1)r.dependencies(e[a][s],e);return e}},r.dependencyParse=function(t){if(i.isString(t)){var e=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return e.test(t)||i.warn("Plugin.dependencyParse:",t,"is not a valid dependency string."),{name:t.split("@")[0],range:t.split("@")[1]||"*"}}return{name:t.name,range:t.range||t.version}},r.versionParse=function(t){var e=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;e.test(t)||i.warn("Plugin.versionParse:",t,"is not a valid version or range.");var n=e.exec(t),r=Number(n[4]),a=Number(n[5]),s=Number(n[6]);return{isRange:Boolean(n[1]||n[2]),version:n[3],range:t,operator:n[1]||n[2]||"",major:r,minor:a,patch:s,parts:[r,a,s],prerelease:n[7],number:1e8*r+1e4*a+s}},r.versionSatisfies=function(t,e){e=e||"*";var n=r.versionParse(e),i=r.versionParse(t);if(n.isRange){if("*"===n.operator||"*"===t)return!0;if(">"===n.operator)return i.number>n.number;if(">="===n.operator)return i.number>=n.number;if("~"===n.operator)return i.major===n.major&&i.minor===n.minor&&i.patch>=n.patch;if("^"===n.operator)return n.major>0?i.major===n.major&&i.number>=n.number:n.minor>0?i.minor===n.minor&&i.patch>=n.patch:i.patch===n.patch}return t===e||"*"===t}})()},function(t,e){var n={};t.exports=n,function(){n.create=function(t){return{vertex:t,normalImpulse:0,tangentImpulse:0}}}()},function(t,e,n){var r={};t.exports=r;var i=n(7),a=n(18),s=n(13),o=n(19),l=n(5),c=n(6),u=n(10),h=n(0),p=n(4);(function(){r._deltaMax=1e3/60,r.create=function(t){t=t||{};var e={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},n=h.extend(e,t);return n.world=t.world||c.create({label:"World"}),n.pairs=t.pairs||o.create(),n.detector=t.detector||s.create(),n.detector.pairs=n.pairs,n.grid={buckets:[]},n.world.gravity=n.gravity,n.broadphase=n.grid,n.metrics={},n},r.update=function(t,e){var n,p=h.now(),d=t.world,f=t.detector,m=t.pairs,g=t.timing,v=g.timestamp;e>r._deltaMax&&h.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",r._deltaMax.toFixed(3),"ms."),e="undefined"!==typeof e?e:h._baseDelta,e*=g.timeScale,g.timestamp+=e,g.lastDelta=e;var y={timestamp:g.timestamp,delta:e};l.trigger(t,"beforeUpdate",y);var _=c.allBodies(d),x=c.allConstraints(d);for(d.isModified&&(s.setBodies(f,_),c.setModified(d,!1,!1,!0)),t.enableSleeping&&i.update(_,e),r._bodiesApplyGravity(_,t.gravity),e>0&&r._bodiesUpdate(_,e),l.trigger(t,"beforeSolve",y),u.preSolveAll(_),n=0;n<t.constraintIterations;n++)u.solveAll(x,e);u.postSolveAll(_);var b=s.collisions(f);o.update(m,b,v),t.enableSleeping&&i.afterCollisions(m.list),m.collisionStart.length>0&&l.trigger(t,"collisionStart",{pairs:m.collisionStart,timestamp:g.timestamp,delta:e});var S=h.clamp(20/t.positionIterations,0,1);for(a.preSolvePosition(m.list),n=0;n<t.positionIterations;n++)a.solvePosition(m.list,e,S);for(a.postSolvePosition(_),u.preSolveAll(_),n=0;n<t.constraintIterations;n++)u.solveAll(x,e);for(u.postSolveAll(_),a.preSolveVelocity(m.list),n=0;n<t.velocityIterations;n++)a.solveVelocity(m.list,e);return r._bodiesUpdateVelocities(_),m.collisionActive.length>0&&l.trigger(t,"collisionActive",{pairs:m.collisionActive,timestamp:g.timestamp,delta:e}),m.collisionEnd.length>0&&l.trigger(t,"collisionEnd",{pairs:m.collisionEnd,timestamp:g.timestamp,delta:e}),r._bodiesClearForces(_),l.trigger(t,"afterUpdate",y),t.timing.lastElapsed=h.now()-p,t},r.merge=function(t,e){if(h.extend(t,e),e.world){t.world=e.world,r.clear(t);for(var n=c.allBodies(t.world),a=0;a<n.length;a++){var s=n[a];i.set(s,!1),s.id=h.nextId()}}},r.clear=function(t){o.clear(t.pairs),s.clear(t.detector)},r._bodiesClearForces=function(t){for(var e=t.length,n=0;n<e;n++){var r=t[n];r.force.x=0,r.force.y=0,r.torque=0}},r._bodiesApplyGravity=function(t,e){var n="undefined"!==typeof e.scale?e.scale:.001,r=t.length;if((0!==e.x||0!==e.y)&&0!==n)for(var i=0;i<r;i++){var a=t[i];a.isStatic||a.isSleeping||(a.force.y+=a.mass*e.y*n,a.force.x+=a.mass*e.x*n)}},r._bodiesUpdate=function(t,e){for(var n=t.length,r=0;r<n;r++){var i=t[r];i.isStatic||i.isSleeping||p.update(i,e)}},r._bodiesUpdateVelocities=function(t){for(var e=t.length,n=0;n<e;n++)p.updateVelocities(t[n])}})()},function(t,e,n){var r={};t.exports=r;var i=n(3),a=n(0),s=n(1);(function(){r._restingThresh=2,r._restingThreshTangent=Math.sqrt(6),r._positionDampen=.9,r._positionWarming=.8,r._frictionNormalMultiplier=5,r._frictionMaxStatic=Number.MAX_VALUE,r.preSolvePosition=function(t){var e,n,r,i=t.length;for(e=0;e<i;e++)n=t[e],n.isActive&&(r=n.contactCount,n.collision.parentA.totalContacts+=r,n.collision.parentB.totalContacts+=r)},r.solvePosition=function(t,e,n){var i,s,o,l,c,u,h,p,d=r._positionDampen*(n||1),f=a.clamp(e/a._baseDelta,0,1),m=t.length;for(i=0;i<m;i++)s=t[i],s.isActive&&!s.isSensor&&(o=s.collision,l=o.parentA,c=o.parentB,u=o.normal,s.separation=o.depth+u.x*(c.positionImpulse.x-l.positionImpulse.x)+u.y*(c.positionImpulse.y-l.positionImpulse.y));for(i=0;i<m;i++)s=t[i],s.isActive&&!s.isSensor&&(o=s.collision,l=o.parentA,c=o.parentB,u=o.normal,p=s.separation-s.slop*f,(l.isStatic||c.isStatic)&&(p*=2),l.isStatic||l.isSleeping||(h=d/l.totalContacts,l.positionImpulse.x+=u.x*p*h,l.positionImpulse.y+=u.y*p*h),c.isStatic||c.isSleeping||(h=d/c.totalContacts,c.positionImpulse.x-=u.x*p*h,c.positionImpulse.y-=u.y*p*h))},r.postSolvePosition=function(t){for(var e=r._positionWarming,n=t.length,a=i.translate,o=s.update,l=0;l<n;l++){var c=t[l],u=c.positionImpulse,h=u.x,p=u.y,d=c.velocity;if(c.totalContacts=0,0!==h||0!==p){for(var f=0;f<c.parts.length;f++){var m=c.parts[f];a(m.vertices,u),o(m.bounds,m.vertices,d),m.position.x+=h,m.position.y+=p}c.positionPrev.x+=h,c.positionPrev.y+=p,h*d.x+p*d.y<0?(u.x=0,u.y=0):(u.x*=e,u.y*=e)}}},r.preSolveVelocity=function(t){var e,n,r=t.length;for(e=0;e<r;e++){var i=t[e];if(i.isActive&&!i.isSensor){var a=i.contacts,s=i.contactCount,o=i.collision,l=o.parentA,c=o.parentB,u=o.normal,h=o.tangent;for(n=0;n<s;n++){var p=a[n],d=p.vertex,f=p.normalImpulse,m=p.tangentImpulse;if(0!==f||0!==m){var g=u.x*f+h.x*m,v=u.y*f+h.y*m;l.isStatic||l.isSleeping||(l.positionPrev.x+=g*l.inverseMass,l.positionPrev.y+=v*l.inverseMass,l.anglePrev+=l.inverseInertia*((d.x-l.position.x)*v-(d.y-l.position.y)*g)),c.isStatic||c.isSleeping||(c.positionPrev.x-=g*c.inverseMass,c.positionPrev.y-=v*c.inverseMass,c.anglePrev-=c.inverseInertia*((d.x-c.position.x)*v-(d.y-c.position.y)*g))}}}}},r.solveVelocity=function(t,e){var n,i,s,o,l=e/a._baseDelta,c=l*l,u=c*l,h=-r._restingThresh*l,p=r._restingThreshTangent,d=r._frictionNormalMultiplier*l,f=r._frictionMaxStatic,m=t.length;for(s=0;s<m;s++){var g=t[s];if(g.isActive&&!g.isSensor){var v=g.collision,y=v.parentA,_=v.parentB,x=v.normal.x,b=v.normal.y,S=v.tangent.x,w=v.tangent.y,E=g.inverseMass,M=g.friction*g.frictionStatic*d,T=g.contacts,C=g.contactCount,A=1/C,P=y.position.x-y.positionPrev.x,R=y.position.y-y.positionPrev.y,D=y.angle-y.anglePrev,I=_.position.x-_.positionPrev.x,L=_.position.y-_.positionPrev.y,k=_.angle-_.anglePrev;for(o=0;o<C;o++){var O=T[o],F=O.vertex,N=F.x-y.position.x,B=F.y-y.position.y,U=F.x-_.position.x,z=F.y-_.position.y,V=P-B*D,H=R+N*D,G=I-z*k,W=L+U*k,j=V-G,q=H-W,$=x*j+b*q,X=S*j+w*q,Y=g.separation+$,K=Math.min(Y,1);K=Y<0?0:K;var Z=K*M;X<-Z||X>Z?(i=X>0?X:-X,n=g.friction*(X>0?1:-1)*u,n<-i?n=-i:n>i&&(n=i)):(n=X,i=f);var J=N*b-B*x,Q=U*b-z*x,tt=A/(E+y.inverseInertia*J*J+_.inverseInertia*Q*Q),et=(1+g.restitution)*$*tt;if(n*=tt,$<h)O.normalImpulse=0;else{var nt=O.normalImpulse;O.normalImpulse+=et,O.normalImpulse>0&&(O.normalImpulse=0),et=O.normalImpulse-nt}if(X<-p||X>p)O.tangentImpulse=0;else{var rt=O.tangentImpulse;O.tangentImpulse+=n,O.tangentImpulse<-i&&(O.tangentImpulse=-i),O.tangentImpulse>i&&(O.tangentImpulse=i),n=O.tangentImpulse-rt}var it=x*et+S*n,at=b*et+w*n;y.isStatic||y.isSleeping||(y.positionPrev.x+=it*y.inverseMass,y.positionPrev.y+=at*y.inverseMass,y.anglePrev+=(N*at-B*it)*y.inverseInertia),_.isStatic||_.isSleeping||(_.positionPrev.x-=it*_.inverseMass,_.positionPrev.y-=at*_.inverseMass,_.anglePrev-=(U*at-z*it)*_.inverseInertia)}}}}})()},function(t,e,n){var r={};t.exports=r;var i=n(9),a=n(0);(function(){r.create=function(t){return a.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},t)},r.update=function(t,e,n){var r,a,s,o=i.update,l=i.create,c=i.setActive,u=t.table,h=t.list,p=h.length,d=p,f=t.collisionStart,m=t.collisionEnd,g=t.collisionActive,v=e.length,y=0,_=0,x=0;for(s=0;s<v;s++)r=e[s],a=r.pair,a?(a.isActive&&(g[x++]=a),o(a,r,n)):(a=l(r,n),u[a.id]=a,f[y++]=a,h[d++]=a);for(d=0,p=h.length,s=0;s<p;s++)a=h[s],a.timeUpdated>=n?h[d++]=a:(c(a,!1,n),a.collision.bodyA.sleepCounter>0&&a.collision.bodyB.sleepCounter>0?h[d++]=a:(m[_++]=a,delete u[a.id]));h.length!==d&&(h.length=d),f.length!==y&&(f.length=y),m.length!==_&&(m.length=_),g.length!==x&&(g.length=x)},r.clear=function(t){return t.table={},t.list.length=0,t.collisionStart.length=0,t.collisionActive.length=0,t.collisionEnd.length=0,t}})()},function(t,e,n){var r=t.exports=n(21);r.Axes=n(11),r.Bodies=n(12),r.Body=n(4),r.Bounds=n(1),r.Collision=n(8),r.Common=n(0),r.Composite=n(6),r.Composites=n(22),r.Constraint=n(10),r.Contact=n(16),r.Detector=n(13),r.Engine=n(17),r.Events=n(5),r.Grid=n(23),r.Mouse=n(14),r.MouseConstraint=n(24),r.Pair=n(9),r.Pairs=n(19),r.Plugin=n(15),r.Query=n(25),r.Render=n(26),r.Resolver=n(18),r.Runner=n(27),r.SAT=n(28),r.Sleeping=n(7),r.Svg=n(29),r.Vector=n(2),r.Vertices=n(3),r.World=n(30),r.Engine.run=r.Runner.run,r.Common.deprecated(r.Engine,"run","Engine.run ➤ use Matter.Runner.run(engine) instead")},function(t,e,n){var r={};t.exports=r;var i=n(15),a=n(0);(function(){r.name="matter-js",r.version="0.20.0",r.uses=[],r.used=[],r.use=function(){i.use(r,Array.prototype.slice.call(arguments))},r.before=function(t,e){return t=t.replace(/^Matter./,""),a.chainPathBefore(r,t,e)},r.after=function(t,e){return t=t.replace(/^Matter./,""),a.chainPathAfter(r,t,e)}})()},function(t,e,n){var r={};t.exports=r;var i=n(6),a=n(10),s=n(0),o=n(4),l=n(12),c=s.deprecated;(function(){r.stack=function(t,e,n,r,a,s,l){for(var c,u=i.create({label:"Stack"}),h=t,p=e,d=0,f=0;f<r;f++){for(var m=0,g=0;g<n;g++){var v=l(h,p,g,f,c,d);if(v){var y=v.bounds.max.y-v.bounds.min.y,_=v.bounds.max.x-v.bounds.min.x;y>m&&(m=y),o.translate(v,{x:.5*_,y:.5*y}),h=v.bounds.max.x+a,i.addBody(u,v),c=v,d+=1}else h+=a}p+=m+s,h=t}return u},r.chain=function(t,e,n,r,o,l){for(var c=t.bodies,u=1;u<c.length;u++){var h=c[u-1],p=c[u],d=h.bounds.max.y-h.bounds.min.y,f=h.bounds.max.x-h.bounds.min.x,m=p.bounds.max.y-p.bounds.min.y,g=p.bounds.max.x-p.bounds.min.x,v={bodyA:h,pointA:{x:f*e,y:d*n},bodyB:p,pointB:{x:g*r,y:m*o}},y=s.extend(v,l);i.addConstraint(t,a.create(y))}return t.label+=" Chain",t},r.mesh=function(t,e,n,r,o){var l,c,u,h,p,d=t.bodies;for(l=0;l<n;l++){for(c=1;c<e;c++)u=d[c-1+l*e],h=d[c+l*e],i.addConstraint(t,a.create(s.extend({bodyA:u,bodyB:h},o)));if(l>0)for(c=0;c<e;c++)u=d[c+(l-1)*e],h=d[c+l*e],i.addConstraint(t,a.create(s.extend({bodyA:u,bodyB:h},o))),r&&c>0&&(p=d[c-1+(l-1)*e],i.addConstraint(t,a.create(s.extend({bodyA:p,bodyB:h},o)))),r&&c<e-1&&(p=d[c+1+(l-1)*e],i.addConstraint(t,a.create(s.extend({bodyA:p,bodyB:h},o))))}return t.label+=" Mesh",t},r.pyramid=function(t,e,n,i,a,s,l){return r.stack(t,e,n,i,a,s,(function(e,r,s,c,u,h){var p=Math.min(i,Math.ceil(n/2)),d=u?u.bounds.max.x-u.bounds.min.x:0;if(!(c>p)){c=p-c;var f=c,m=n-1-c;if(!(s<f||s>m)){1===h&&o.translate(u,{x:(s+(n%2===1?1:-1))*d,y:0});var g=u?s*d:0;return l(t+g+s*a,r,s,c,u,h)}}}))},r.newtonsCradle=function(t,e,n,r,s){for(var o=i.create({label:"Newtons Cradle"}),c=0;c<n;c++){var u=1.9,h=l.circle(t+c*(r*u),e+s,r,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),p=a.create({pointA:{x:t+c*(r*u),y:e},bodyB:h});i.addBody(o,h),i.addConstraint(o,p)}return o},c(r,"newtonsCradle","Composites.newtonsCradle ➤ moved to newtonsCradle example"),r.car=function(t,e,n,r,s){var c=o.nextGroup(!0),u=20,h=.5*-n+u,p=.5*n-u,d=0,f=i.create({label:"Car"}),m=l.rectangle(t,e,n,r,{collisionFilter:{group:c},chamfer:{radius:.5*r},density:2e-4}),g=l.circle(t+h,e+d,s,{collisionFilter:{group:c},friction:.8}),v=l.circle(t+p,e+d,s,{collisionFilter:{group:c},friction:.8}),y=a.create({bodyB:m,pointB:{x:h,y:d},bodyA:g,stiffness:1,length:0}),_=a.create({bodyB:m,pointB:{x:p,y:d},bodyA:v,stiffness:1,length:0});return i.addBody(f,m),i.addBody(f,g),i.addBody(f,v),i.addConstraint(f,y),i.addConstraint(f,_),f},c(r,"car","Composites.car ➤ moved to car example"),r.softBody=function(t,e,n,i,a,o,c,u,h,p){h=s.extend({inertia:1/0},h),p=s.extend({stiffness:.2,render:{type:"line",anchors:!1}},p);var d=r.stack(t,e,n,i,a,o,(function(t,e){return l.circle(t,e,u,h)}));return r.mesh(d,n,i,c,p),d.label="Soft Body",d},c(r,"softBody","Composites.softBody ➤ moved to softBody and cloth examples")})()},function(t,e,n){var r={};t.exports=r;var i=n(9),a=n(0),s=a.deprecated;(function(){r.create=function(t){var e={buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return a.extend(e,t)},r.update=function(t,e,n,i){var a,s,o,l,c,u=n.world,h=t.buckets,p=!1;for(a=0;a<e.length;a++){var d=e[a];if((!d.isSleeping||i)&&(!u.bounds||!(d.bounds.max.x<u.bounds.min.x||d.bounds.min.x>u.bounds.max.x||d.bounds.max.y<u.bounds.min.y||d.bounds.min.y>u.bounds.max.y))){var f=r._getRegion(t,d);if(!d.region||f.id!==d.region.id||i){d.region&&!i||(d.region=f);var m=r._regionUnion(f,d.region);for(s=m.startCol;s<=m.endCol;s++)for(o=m.startRow;o<=m.endRow;o++){c=r._getBucketId(s,o),l=h[c];var g=s>=f.startCol&&s<=f.endCol&&o>=f.startRow&&o<=f.endRow,v=s>=d.region.startCol&&s<=d.region.endCol&&o>=d.region.startRow&&o<=d.region.endRow;!g&&v&&v&&l&&r._bucketRemoveBody(t,l,d),(d.region===f||g&&!v||i)&&(l||(l=r._createBucket(h,c)),r._bucketAddBody(t,l,d))}d.region=f,p=!0}}}p&&(t.pairsList=r._createActivePairsList(t))},s(r,"update","Grid.update ➤ replaced by Matter.Detector"),r.clear=function(t){t.buckets={},t.pairs={},t.pairsList=[]},s(r,"clear","Grid.clear ➤ replaced by Matter.Detector"),r._regionUnion=function(t,e){var n=Math.min(t.startCol,e.startCol),i=Math.max(t.endCol,e.endCol),a=Math.min(t.startRow,e.startRow),s=Math.max(t.endRow,e.endRow);return r._createRegion(n,i,a,s)},r._getRegion=function(t,e){var n=e.bounds,i=Math.floor(n.min.x/t.bucketWidth),a=Math.floor(n.max.x/t.bucketWidth),s=Math.floor(n.min.y/t.bucketHeight),o=Math.floor(n.max.y/t.bucketHeight);return r._createRegion(i,a,s,o)},r._createRegion=function(t,e,n,r){return{id:t+","+e+","+n+","+r,startCol:t,endCol:e,startRow:n,endRow:r}},r._getBucketId=function(t,e){return"C"+t+"R"+e},r._createBucket=function(t,e){var n=t[e]=[];return n},r._bucketAddBody=function(t,e,n){var r,a=t.pairs,s=i.id,o=e.length;for(r=0;r<o;r++){var l=e[r];if(!(n.id===l.id||n.isStatic&&l.isStatic)){var c=s(n,l),u=a[c];u?u[2]+=1:a[c]=[n,l,1]}}e.push(n)},r._bucketRemoveBody=function(t,e,n){var r,s=t.pairs,o=i.id;e.splice(a.indexOf(e,n),1);var l=e.length;for(r=0;r<l;r++){var c=s[o(n,e[r])];c&&(c[2]-=1)}},r._createActivePairsList=function(t){var e,n,r=t.pairs,i=a.keys(r),s=i.length,o=[];for(n=0;n<s;n++)e=r[i[n]],e[2]>0?o.push(e):delete r[i[n]];return o}})()},function(t,e,n){var r={};t.exports=r;var i=n(3),a=n(7),s=n(14),o=n(5),l=n(13),c=n(10),u=n(6),h=n(0),p=n(1);(function(){r.create=function(t,e){var n=(t?t.mouse:null)||(e?e.mouse:null);n||(t&&t.render&&t.render.canvas?n=s.create(t.render.canvas):e&&e.element?n=s.create(e.element):(n=s.create(),h.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var i=c.create({label:"Mouse Constraint",pointA:n.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),a={type:"mouseConstraint",mouse:n,element:null,body:null,constraint:i,collisionFilter:{category:1,mask:4294967295,group:0}},l=h.extend(a,e);return o.on(t,"beforeUpdate",(function(){var e=u.allBodies(t.world);r.update(l,e),r._triggerEvents(l)})),l},r.update=function(t,e){var n=t.mouse,r=t.constraint,s=t.body;if(0===n.button){if(r.bodyB)a.set(r.bodyB,!1),r.pointA=n.position;else for(var c=0;c<e.length;c++)if(s=e[c],p.contains(s.bounds,n.position)&&l.canCollide(s.collisionFilter,t.collisionFilter))for(var u=s.parts.length>1?1:0;u<s.parts.length;u++){var h=s.parts[u];if(i.contains(h.vertices,n.position)){r.pointA=n.position,r.bodyB=t.body=s,r.pointB={x:n.position.x-s.position.x,y:n.position.y-s.position.y},r.angleB=s.angle,a.set(s,!1),o.trigger(t,"startdrag",{mouse:n,body:s});break}}}else r.bodyB=t.body=null,r.pointB=null,s&&o.trigger(t,"enddrag",{mouse:n,body:s})},r._triggerEvents=function(t){var e=t.mouse,n=e.sourceEvents;n.mousemove&&o.trigger(t,"mousemove",{mouse:e}),n.mousedown&&o.trigger(t,"mousedown",{mouse:e}),n.mouseup&&o.trigger(t,"mouseup",{mouse:e}),s.clearSourceEvents(e)}})()},function(t,e,n){var r={};t.exports=r;var i=n(2),a=n(8),s=n(1),o=n(12),l=n(3);(function(){r.collides=function(t,e){for(var n=[],r=e.length,i=t.bounds,o=a.collides,l=s.overlaps,c=0;c<r;c++){var u=e[c],h=u.parts.length,p=1===h?0:1;if(l(u.bounds,i))for(var d=p;d<h;d++){var f=u.parts[d];if(l(f.bounds,i)){var m=o(f,t);if(m){n.push(m);break}}}}return n},r.ray=function(t,e,n,a){a=a||1e-100;for(var s=i.angle(e,n),l=i.magnitude(i.sub(e,n)),c=.5*(n.x+e.x),u=.5*(n.y+e.y),h=o.rectangle(c,u,l,a,{angle:s}),p=r.collides(h,t),d=0;d<p.length;d+=1){var f=p[d];f.body=f.bodyB=f.bodyA}return p},r.region=function(t,e,n){for(var r=[],i=0;i<t.length;i++){var a=t[i],o=s.overlaps(a.bounds,e);(o&&!n||!o&&n)&&r.push(a)}return r},r.point=function(t,e){for(var n=[],r=0;r<t.length;r++){var i=t[r];if(s.contains(i.bounds,e))for(var a=1===i.parts.length?0:1;a<i.parts.length;a++){var o=i.parts[a];if(s.contains(o.bounds,e)&&l.contains(o.vertices,e)){n.push(i);break}}}return n}})()},function(t,e,n){var r={};t.exports=r;var i=n(4),a=n(0),s=n(6),o=n(1),l=n(5),c=n(2),u=n(14);(function(){var t,e;"undefined"!==typeof window&&(t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout((function(){t(a.now())}),1e3/60)},e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),r._goodFps=30,r._goodDelta=1e3/60,r.create=function(t){var e={engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],engineUpdatesHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",wireframeStrokeStyle:"#bbb",hasBounds:!!t.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},n=a.extend(e,t);return n.canvas&&(n.canvas.width=n.options.width||n.canvas.width,n.canvas.height=n.options.height||n.canvas.height),n.mouse=t.mouse,n.engine=t.engine,n.canvas=n.canvas||p(n.options.width,n.options.height),n.context=n.canvas.getContext("2d"),n.textures={},n.bounds=n.bounds||{min:{x:0,y:0},max:{x:n.canvas.width,y:n.canvas.height}},n.controller=r,n.options.showBroadphase=!1,1!==n.options.pixelRatio&&r.setPixelRatio(n,n.options.pixelRatio),a.isElement(n.element)&&n.element.appendChild(n.canvas),n},r.run=function(e){(function i(a){e.frameRequestId=t(i),n(e,a),r.world(e,a),e.context.setTransform(e.options.pixelRatio,0,0,e.options.pixelRatio,0,0),(e.options.showStats||e.options.showDebug)&&r.stats(e,e.context,a),(e.options.showPerformance||e.options.showDebug)&&r.performance(e,e.context,a),e.context.setTransform(1,0,0,1,0,0)})()},r.stop=function(t){e(t.frameRequestId)},r.setPixelRatio=function(t,e){var n=t.options,r=t.canvas;"auto"===e&&(e=d(r)),n.pixelRatio=e,r.setAttribute("data-pixel-ratio",e),r.width=n.width*e,r.height=n.height*e,r.style.width=n.width+"px",r.style.height=n.height+"px"},r.setSize=function(t,e,n){t.options.width=e,t.options.height=n,t.bounds.max.x=t.bounds.min.x+e,t.bounds.max.y=t.bounds.min.y+n,1!==t.options.pixelRatio?r.setPixelRatio(t,t.options.pixelRatio):(t.canvas.width=e,t.canvas.height=n)},r.lookAt=function(t,e,n,r){r="undefined"===typeof r||r,e=a.isArray(e)?e:[e],n=n||{x:0,y:0};for(var i={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},s=0;s<e.length;s+=1){var o=e[s],l=o.bounds?o.bounds.min:o.min||o.position||o,c=o.bounds?o.bounds.max:o.max||o.position||o;l&&c&&(l.x<i.min.x&&(i.min.x=l.x),c.x>i.max.x&&(i.max.x=c.x),l.y<i.min.y&&(i.min.y=l.y),c.y>i.max.y&&(i.max.y=c.y))}var h=i.max.x-i.min.x+2*n.x,p=i.max.y-i.min.y+2*n.y,d=t.canvas.height,f=t.canvas.width,m=f/d,g=h/p,v=1,y=1;g>m?y=g/m:v=m/g,t.options.hasBounds=!0,t.bounds.min.x=i.min.x,t.bounds.max.x=i.min.x+h*v,t.bounds.min.y=i.min.y,t.bounds.max.y=i.min.y+p*y,r&&(t.bounds.min.x+=.5*h-h*v*.5,t.bounds.max.x+=.5*h-h*v*.5,t.bounds.min.y+=.5*p-p*y*.5,t.bounds.max.y+=.5*p-p*y*.5),t.bounds.min.x-=n.x,t.bounds.max.x-=n.x,t.bounds.min.y-=n.y,t.bounds.max.y-=n.y,t.mouse&&(u.setScale(t.mouse,{x:(t.bounds.max.x-t.bounds.min.x)/t.canvas.width,y:(t.bounds.max.y-t.bounds.min.y)/t.canvas.height}),u.setOffset(t.mouse,t.bounds.min))},r.startViewTransform=function(t){var e=t.bounds.max.x-t.bounds.min.x,n=t.bounds.max.y-t.bounds.min.y,r=e/t.options.width,i=n/t.options.height;t.context.setTransform(t.options.pixelRatio/r,0,0,t.options.pixelRatio/i,0,0),t.context.translate(-t.bounds.min.x,-t.bounds.min.y)},r.endViewTransform=function(t){t.context.setTransform(t.options.pixelRatio,0,0,t.options.pixelRatio,0,0)},r.world=function(t,e){var n,i=a.now(),h=t.engine,p=h.world,d=t.canvas,f=t.context,g=t.options,v=t.timing,y=s.allBodies(p),_=s.allConstraints(p),x=g.wireframes?g.wireframeBackground:g.background,b=[],S=[],w={timestamp:h.timing.timestamp};if(l.trigger(t,"beforeRender",w),t.currentBackground!==x&&m(t,x),f.globalCompositeOperation="source-in",f.fillStyle="transparent",f.fillRect(0,0,d.width,d.height),f.globalCompositeOperation="source-over",g.hasBounds){for(n=0;n<y.length;n++){var E=y[n];o.overlaps(E.bounds,t.bounds)&&b.push(E)}for(n=0;n<_.length;n++){var M=_[n],T=M.bodyA,C=M.bodyB,A=M.pointA,P=M.pointB;T&&(A=c.add(T.position,M.pointA)),C&&(P=c.add(C.position,M.pointB)),A&&P&&((o.contains(t.bounds,A)||o.contains(t.bounds,P))&&S.push(M))}r.startViewTransform(t),t.mouse&&(u.setScale(t.mouse,{x:(t.bounds.max.x-t.bounds.min.x)/t.options.width,y:(t.bounds.max.y-t.bounds.min.y)/t.options.height}),u.setOffset(t.mouse,t.bounds.min))}else S=_,b=y,1!==t.options.pixelRatio&&t.context.setTransform(t.options.pixelRatio,0,0,t.options.pixelRatio,0,0);!g.wireframes||h.enableSleeping&&g.showSleeping?r.bodies(t,b,f):(g.showConvexHulls&&r.bodyConvexHulls(t,b,f),r.bodyWireframes(t,b,f)),g.showBounds&&r.bodyBounds(t,b,f),(g.showAxes||g.showAngleIndicator)&&r.bodyAxes(t,b,f),g.showPositions&&r.bodyPositions(t,b,f),g.showVelocity&&r.bodyVelocity(t,b,f),g.showIds&&r.bodyIds(t,b,f),g.showSeparations&&r.separations(t,h.pairs.list,f),g.showCollisions&&r.collisions(t,h.pairs.list,f),g.showVertexNumbers&&r.vertexNumbers(t,b,f),g.showMousePosition&&r.mousePosition(t,t.mouse,f),r.constraints(S,f),g.hasBounds&&r.endViewTransform(t),l.trigger(t,"afterRender",w),v.lastElapsed=a.now()-i},r.stats=function(t,e,n){for(var r=t.engine,i=r.world,a=s.allBodies(i),o=0,l=55,c=44,u=0,h=0,p=0;p<a.length;p+=1)o+=a[p].parts.length;var d={Part:o,Body:a.length,Cons:s.allConstraints(i).length,Comp:s.allComposites(i).length,Pair:r.pairs.list.length};for(var f in e.fillStyle="#0e0f19",e.fillRect(u,h,5.5*l,c),e.font="12px Arial",e.textBaseline="top",e.textAlign="right",d){var m=d[f];e.fillStyle="#aaa",e.fillText(f,u+l,h+8),e.fillStyle="#eee",e.fillText(m,u+l,h+26),u+=l}},r.performance=function(t,e){var n=t.engine,i=t.timing,s=i.deltaHistory,o=i.elapsedHistory,l=i.timestampElapsedHistory,c=i.engineDeltaHistory,u=i.engineUpdatesHistory,p=i.engineElapsedHistory,d=n.timing.lastUpdatesPerFrame,f=n.timing.lastDelta,m=h(s),g=h(o),v=h(c),y=h(u),_=h(p),x=h(l),b=x/m||0,S=Math.round(m/f),w=1e3/m||0,E=4,M=12,T=60,C=34,A=10,P=69;e.fillStyle="#0e0f19",e.fillRect(0,50,5*M+6*T+22,C),r.status(e,A,P,T,E,s.length,Math.round(w)+" fps",w/r._goodFps,(function(t){return s[t]/m-1})),r.status(e,A+M+T,P,T,E,c.length,f.toFixed(2)+" dt",r._goodDelta/f,(function(t){return c[t]/v-1})),r.status(e,A+2*(M+T),P,T,E,u.length,d+" upf",Math.pow(a.clamp(y/S||1,0,1),4),(function(t){return u[t]/y-1})),r.status(e,A+3*(M+T),P,T,E,p.length,_.toFixed(2)+" ut",1-d*_/r._goodFps,(function(t){return p[t]/_-1})),r.status(e,A+4*(M+T),P,T,E,o.length,g.toFixed(2)+" rt",1-g/r._goodFps,(function(t){return o[t]/g-1})),r.status(e,A+5*(M+T),P,T,E,l.length,b.toFixed(2)+" x",b*b*b,(function(t){return(l[t]/s[t]/b||0)-1}))},r.status=function(t,e,n,r,i,s,o,l,c){t.strokeStyle="#888",t.fillStyle="#444",t.lineWidth=1,t.fillRect(e,n+7,r,1),t.beginPath(),t.moveTo(e,n+7-i*a.clamp(.4*c(0),-2,2));for(var u=0;u<r;u+=1)t.lineTo(e+u,n+7-(u<s?i*a.clamp(.4*c(u),-2,2):0));t.stroke(),t.fillStyle="hsl("+a.clamp(25+95*l,0,120)+",100%,60%)",t.fillRect(e,n-7,4,4),t.font="12px Arial",t.textBaseline="middle",t.textAlign="right",t.fillStyle="#eee",t.fillText(o,e+r,n-5)},r.constraints=function(t,e){for(var n=e,r=0;r<t.length;r++){var i=t[r];if(i.render.visible&&i.pointA&&i.pointB){var s,o,l=i.bodyA,u=i.bodyB;if(s=l?c.add(l.position,i.pointA):i.pointA,"pin"===i.render.type)n.beginPath(),n.arc(s.x,s.y,3,0,2*Math.PI),n.closePath();else{if(o=u?c.add(u.position,i.pointB):i.pointB,n.beginPath(),n.moveTo(s.x,s.y),"spring"===i.render.type)for(var h,p=c.sub(o,s),d=c.perp(c.normalise(p)),f=Math.ceil(a.clamp(i.length/5,12,20)),m=1;m<f;m+=1)h=m%2===0?1:-1,n.lineTo(s.x+p.x*(m/f)+d.x*h*4,s.y+p.y*(m/f)+d.y*h*4);n.lineTo(o.x,o.y)}i.render.lineWidth&&(n.lineWidth=i.render.lineWidth,n.strokeStyle=i.render.strokeStyle,n.stroke()),i.render.anchors&&(n.fillStyle=i.render.strokeStyle,n.beginPath(),n.arc(s.x,s.y,3,0,2*Math.PI),n.arc(o.x,o.y,3,0,2*Math.PI),n.closePath(),n.fill())}}},r.bodies=function(t,e,n){var r,i,a,s,o=n,l=(t.engine,t.options),c=l.showInternalEdges||!l.wireframes;for(a=0;a<e.length;a++)if(r=e[a],r.render.visible)for(s=r.parts.length>1?1:0;s<r.parts.length;s++)if(i=r.parts[s],i.render.visible){if(l.showSleeping&&r.isSleeping?o.globalAlpha=.5*i.render.opacity:1!==i.render.opacity&&(o.globalAlpha=i.render.opacity),i.render.sprite&&i.render.sprite.texture&&!l.wireframes){var u=i.render.sprite,h=f(t,u.texture);o.translate(i.position.x,i.position.y),o.rotate(i.angle),o.drawImage(h,h.width*-u.xOffset*u.xScale,h.height*-u.yOffset*u.yScale,h.width*u.xScale,h.height*u.yScale),o.rotate(-i.angle),o.translate(-i.position.x,-i.position.y)}else{if(i.circleRadius)o.beginPath(),o.arc(i.position.x,i.position.y,i.circleRadius,0,2*Math.PI);else{o.beginPath(),o.moveTo(i.vertices[0].x,i.vertices[0].y);for(var p=1;p<i.vertices.length;p++)!i.vertices[p-1].isInternal||c?o.lineTo(i.vertices[p].x,i.vertices[p].y):o.moveTo(i.vertices[p].x,i.vertices[p].y),i.vertices[p].isInternal&&!c&&o.moveTo(i.vertices[(p+1)%i.vertices.length].x,i.vertices[(p+1)%i.vertices.length].y);o.lineTo(i.vertices[0].x,i.vertices[0].y),o.closePath()}l.wireframes?(o.lineWidth=1,o.strokeStyle=t.options.wireframeStrokeStyle,o.stroke()):(o.fillStyle=i.render.fillStyle,i.render.lineWidth&&(o.lineWidth=i.render.lineWidth,o.strokeStyle=i.render.strokeStyle,o.stroke()),o.fill())}o.globalAlpha=1}},r.bodyWireframes=function(t,e,n){var r,i,a,s,o,l=n,c=t.options.showInternalEdges;for(l.beginPath(),a=0;a<e.length;a++)if(r=e[a],r.render.visible)for(o=r.parts.length>1?1:0;o<r.parts.length;o++){for(i=r.parts[o],l.moveTo(i.vertices[0].x,i.vertices[0].y),s=1;s<i.vertices.length;s++)!i.vertices[s-1].isInternal||c?l.lineTo(i.vertices[s].x,i.vertices[s].y):l.moveTo(i.vertices[s].x,i.vertices[s].y),i.vertices[s].isInternal&&!c&&l.moveTo(i.vertices[(s+1)%i.vertices.length].x,i.vertices[(s+1)%i.vertices.length].y);l.lineTo(i.vertices[0].x,i.vertices[0].y)}l.lineWidth=1,l.strokeStyle=t.options.wireframeStrokeStyle,l.stroke()},r.bodyConvexHulls=function(t,e,n){var r,i,a,s=n;for(s.beginPath(),i=0;i<e.length;i++)if(r=e[i],r.render.visible&&1!==r.parts.length){for(s.moveTo(r.vertices[0].x,r.vertices[0].y),a=1;a<r.vertices.length;a++)s.lineTo(r.vertices[a].x,r.vertices[a].y);s.lineTo(r.vertices[0].x,r.vertices[0].y)}s.lineWidth=1,s.strokeStyle="rgba(255,255,255,0.2)",s.stroke()},r.vertexNumbers=function(t,e,n){var r,i,a,s=n;for(r=0;r<e.length;r++){var o=e[r].parts;for(a=o.length>1?1:0;a<o.length;a++){var l=o[a];for(i=0;i<l.vertices.length;i++)s.fillStyle="rgba(255,255,255,0.2)",s.fillText(r+"_"+i,l.position.x+.8*(l.vertices[i].x-l.position.x),l.position.y+.8*(l.vertices[i].y-l.position.y))}}},r.mousePosition=function(t,e,n){var r=n;r.fillStyle="rgba(255,255,255,0.8)",r.fillText(e.position.x+"  "+e.position.y,e.position.x+5,e.position.y-5)},r.bodyBounds=function(t,e,n){var r=n,i=(t.engine,t.options);r.beginPath();for(var a=0;a<e.length;a++){var s=e[a];if(s.render.visible)for(var o=e[a].parts,l=o.length>1?1:0;l<o.length;l++){var c=o[l];r.rect(c.bounds.min.x,c.bounds.min.y,c.bounds.max.x-c.bounds.min.x,c.bounds.max.y-c.bounds.min.y)}}i.wireframes?r.strokeStyle="rgba(255,255,255,0.08)":r.strokeStyle="rgba(0,0,0,0.1)",r.lineWidth=1,r.stroke()},r.bodyAxes=function(t,e,n){var r,i,a,s,o=n,l=(t.engine,t.options);for(o.beginPath(),i=0;i<e.length;i++){var c=e[i],u=c.parts;if(c.render.visible)if(l.showAxes)for(a=u.length>1?1:0;a<u.length;a++)for(r=u[a],s=0;s<r.axes.length;s++){var h=r.axes[s];o.moveTo(r.position.x,r.position.y),o.lineTo(r.position.x+20*h.x,r.position.y+20*h.y)}else for(a=u.length>1?1:0;a<u.length;a++)for(r=u[a],s=0;s<r.axes.length;s++)o.moveTo(r.position.x,r.position.y),o.lineTo((r.vertices[0].x+r.vertices[r.vertices.length-1].x)/2,(r.vertices[0].y+r.vertices[r.vertices.length-1].y)/2)}l.wireframes?(o.strokeStyle="indianred",o.lineWidth=1):(o.strokeStyle="rgba(255, 255, 255, 0.4)",o.globalCompositeOperation="overlay",o.lineWidth=2),o.stroke(),o.globalCompositeOperation="source-over"},r.bodyPositions=function(t,e,n){var r,i,a,s,o=n,l=(t.engine,t.options);for(o.beginPath(),a=0;a<e.length;a++)if(r=e[a],r.render.visible)for(s=0;s<r.parts.length;s++)i=r.parts[s],o.arc(i.position.x,i.position.y,3,0,2*Math.PI,!1),o.closePath();for(l.wireframes?o.fillStyle="indianred":o.fillStyle="rgba(0,0,0,0.5)",o.fill(),o.beginPath(),a=0;a<e.length;a++)r=e[a],r.render.visible&&(o.arc(r.positionPrev.x,r.positionPrev.y,2,0,2*Math.PI,!1),o.closePath());o.fillStyle="rgba(255,165,0,0.8)",o.fill()},r.bodyVelocity=function(t,e,n){var r=n;r.beginPath();for(var a=0;a<e.length;a++){var s=e[a];if(s.render.visible){var o=i.getVelocity(s);r.moveTo(s.position.x,s.position.y),r.lineTo(s.position.x+o.x,s.position.y+o.y)}}r.lineWidth=3,r.strokeStyle="cornflowerblue",r.stroke()},r.bodyIds=function(t,e,n){var r,i,a=n;for(r=0;r<e.length;r++)if(e[r].render.visible){var s=e[r].parts;for(i=s.length>1?1:0;i<s.length;i++){var o=s[i];a.font="12px Arial",a.fillStyle="rgba(255,255,255,0.5)",a.fillText(o.id,o.position.x+10,o.position.y-10)}}},r.collisions=function(t,e,n){var r,i,a,s,o=n,l=t.options;for(o.beginPath(),a=0;a<e.length;a++)if(r=e[a],r.isActive)for(i=r.collision,s=0;s<r.contactCount;s++){var c=r.contacts[s],u=c.vertex;o.rect(u.x-1.5,u.y-1.5,3.5,3.5)}for(l.wireframes?o.fillStyle="rgba(255,255,255,0.7)":o.fillStyle="orange",o.fill(),o.beginPath(),a=0;a<e.length;a++)if(r=e[a],r.isActive&&(i=r.collision,r.contactCount>0)){var h=r.contacts[0].vertex.x,p=r.contacts[0].vertex.y;2===r.contactCount&&(h=(r.contacts[0].vertex.x+r.contacts[1].vertex.x)/2,p=(r.contacts[0].vertex.y+r.contacts[1].vertex.y)/2),i.bodyB===i.supports[0].body||!0===i.bodyA.isStatic?o.moveTo(h-8*i.normal.x,p-8*i.normal.y):o.moveTo(h+8*i.normal.x,p+8*i.normal.y),o.lineTo(h,p)}l.wireframes?o.strokeStyle="rgba(255,165,0,0.7)":o.strokeStyle="orange",o.lineWidth=1,o.stroke()},r.separations=function(t,e,n){var r,i,a,s,o,l=n,c=t.options;for(l.beginPath(),o=0;o<e.length;o++)if(r=e[o],r.isActive){i=r.collision,a=i.bodyA,s=i.bodyB;var u=1;s.isStatic||a.isStatic||(u=.5),s.isStatic&&(u=0),l.moveTo(s.position.x,s.position.y),l.lineTo(s.position.x-i.penetration.x*u,s.position.y-i.penetration.y*u),u=1,s.isStatic||a.isStatic||(u=.5),a.isStatic&&(u=0),l.moveTo(a.position.x,a.position.y),l.lineTo(a.position.x+i.penetration.x*u,a.position.y+i.penetration.y*u)}c.wireframes?l.strokeStyle="rgba(255,165,0,0.5)":l.strokeStyle="orange",l.stroke()},r.inspector=function(t,e){t.engine;var n,r=t.selected,i=t.render,a=i.options;if(a.hasBounds){var s=i.bounds.max.x-i.bounds.min.x,o=i.bounds.max.y-i.bounds.min.y,l=s/i.options.width,c=o/i.options.height;e.scale(1/l,1/c),e.translate(-i.bounds.min.x,-i.bounds.min.y)}for(var u=0;u<r.length;u++){var h=r[u].data;switch(e.translate(.5,.5),e.lineWidth=1,e.strokeStyle="rgba(255,165,0,0.9)",e.setLineDash([1,2]),h.type){case"body":n=h.bounds,e.beginPath(),e.rect(Math.floor(n.min.x-3),Math.floor(n.min.y-3),Math.floor(n.max.x-n.min.x+6),Math.floor(n.max.y-n.min.y+6)),e.closePath(),e.stroke();break;case"constraint":var p=h.pointA;h.bodyA&&(p=h.pointB),e.beginPath(),e.arc(p.x,p.y,10,0,2*Math.PI),e.closePath(),e.stroke();break}e.setLineDash([]),e.translate(-.5,-.5)}null!==t.selectStart&&(e.translate(.5,.5),e.lineWidth=1,e.strokeStyle="rgba(255,165,0,0.6)",e.fillStyle="rgba(255,165,0,0.1)",n=t.selectBounds,e.beginPath(),e.rect(Math.floor(n.min.x),Math.floor(n.min.y),Math.floor(n.max.x-n.min.x),Math.floor(n.max.y-n.min.y)),e.closePath(),e.stroke(),e.fill(),e.translate(-.5,-.5)),a.hasBounds&&e.setTransform(1,0,0,1,0,0)};var n=function(t,e){var n=t.engine,i=t.timing,a=i.historySize,s=n.timing.timestamp;i.delta=e-i.lastTime||r._goodDelta,i.lastTime=e,i.timestampElapsed=s-i.lastTimestamp||0,i.lastTimestamp=s,i.deltaHistory.unshift(i.delta),i.deltaHistory.length=Math.min(i.deltaHistory.length,a),i.engineDeltaHistory.unshift(n.timing.lastDelta),i.engineDeltaHistory.length=Math.min(i.engineDeltaHistory.length,a),i.timestampElapsedHistory.unshift(i.timestampElapsed),i.timestampElapsedHistory.length=Math.min(i.timestampElapsedHistory.length,a),i.engineUpdatesHistory.unshift(n.timing.lastUpdatesPerFrame),i.engineUpdatesHistory.length=Math.min(i.engineUpdatesHistory.length,a),i.engineElapsedHistory.unshift(n.timing.lastElapsed),i.engineElapsedHistory.length=Math.min(i.engineElapsedHistory.length,a),i.elapsedHistory.unshift(i.lastElapsed),i.elapsedHistory.length=Math.min(i.elapsedHistory.length,a)},h=function(t){for(var e=0,n=0;n<t.length;n+=1)e+=t[n];return e/t.length||0},p=function(t,e){var n=document.createElement("canvas");return n.width=t,n.height=e,n.oncontextmenu=function(){return!1},n.onselectstart=function(){return!1},n},d=function(t){var e=t.getContext("2d"),n=window.devicePixelRatio||1,r=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return n/r},f=function(t,e){var n=t.textures[e];return n||(n=t.textures[e]=new Image,n.src=e,n)},m=function(t,e){var n=e;/(jpg|gif|png)$/.test(e)&&(n="url("+e+")"),t.canvas.style.background=n,t.canvas.style.backgroundSize="contain",t.currentBackground=e}})()},function(t,e,n){var r={};t.exports=r;var i=n(5),a=n(17),s=n(0);(function(){r._maxFrameDelta=1e3/15,r._frameDeltaFallback=1e3/60,r._timeBufferMargin=1.5,r._elapsedNextEstimate=1,r._smoothingLowerBound=.1,r._smoothingUpperBound=.9,r.create=function(t){var e={delta:1e3/60,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:1e3/30,lastUpdatesDeferred:0,enabled:!0},n=s.extend(e,t);return n.fps=0,n},r.run=function(t,e){return t.timeBuffer=r._frameDeltaFallback,function n(i){t.frameRequestId=r._onNextFrame(t,n),i&&t.enabled&&r.tick(t,e,i)}(),t},r.tick=function(e,n,o){var l=s.now(),c=e.delta,u=0,h=o-e.timeLastTick;if((!h||!e.timeLastTick||h>Math.max(r._maxFrameDelta,e.maxFrameTime))&&(h=e.frameDelta||r._frameDeltaFallback),e.frameDeltaSmoothing){e.frameDeltaHistory.push(h),e.frameDeltaHistory=e.frameDeltaHistory.slice(-e.frameDeltaHistorySize);var p=e.frameDeltaHistory.slice(0).sort(),d=e.frameDeltaHistory.slice(p.length*r._smoothingLowerBound,p.length*r._smoothingUpperBound),f=t(d);h=f||h}e.frameDeltaSnapping&&(h=1e3/Math.round(1e3/h)),e.frameDelta=h,e.timeLastTick=o,e.timeBuffer+=e.frameDelta,e.timeBuffer=s.clamp(e.timeBuffer,0,e.frameDelta+c*r._timeBufferMargin),e.lastUpdatesDeferred=0;var m=e.maxUpdates||Math.ceil(e.maxFrameTime/c),g={timestamp:n.timing.timestamp};i.trigger(e,"beforeTick",g),i.trigger(e,"tick",g);var v=s.now();while(c>0&&e.timeBuffer>=c*r._timeBufferMargin){i.trigger(e,"beforeUpdate",g),a.update(n,c),i.trigger(e,"afterUpdate",g),e.timeBuffer-=c,u+=1;var y=s.now()-l,_=s.now()-v,x=y+r._elapsedNextEstimate*_/u;if(u>=m||x>e.maxFrameTime){e.lastUpdatesDeferred=Math.round(Math.max(0,e.timeBuffer/c-r._timeBufferMargin));break}}n.timing.lastUpdatesPerFrame=u,i.trigger(e,"afterTick",g),e.frameDeltaHistory.length>=100&&(e.lastUpdatesDeferred&&Math.round(e.frameDelta/c)>m?s.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):e.lastUpdatesDeferred&&s.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),"undefined"!==typeof e.isFixed&&s.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(e.deltaMin||e.deltaMax)&&s.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),0!==e.fps&&s.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},r.stop=function(t){r._cancelNextFrame(t)},r._onNextFrame=function(t,e){if("undefined"===typeof window||!window.requestAnimationFrame)throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return t.frameRequestId=window.requestAnimationFrame(e),t.frameRequestId},r._cancelNextFrame=function(t){if("undefined"===typeof window||!window.cancelAnimationFrame)throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.");window.cancelAnimationFrame(t.frameRequestId)};var t=function(t){for(var e=0,n=t.length,r=0;r<n;r+=1)e+=t[r];return e/n||0}})()},function(t,e,n){var r={};t.exports=r;var i=n(8),a=n(0),s=a.deprecated;(function(){r.collides=function(t,e){return i.collides(t,e)},s(r,"collides","SAT.collides ➤ replaced by Collision.collides")})()},function(t,e,n){var r={};t.exports=r;n(1);var i=n(0);(function(){r.pathToVertices=function(t,e){"undefined"===typeof window||"SVGPathSeg"in window||i.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var n,a,s,o,l,c,u,h,p,d,f,m,g=[],v=0,y=0,_=0;e=e||15;var x=function(t,e,n){var r=n%2===1&&n>1;if(!p||t!=p.x||e!=p.y){p&&r?(f=p.x,m=p.y):(f=0,m=0);var i={x:f+t,y:m+e};!r&&p||(p=i),g.push(i),y=f+t,_=m+e}},b=function(t){var e=t.pathSegTypeAsLetter.toUpperCase();if("Z"!==e){switch(e){case"M":case"L":case"T":case"C":case"S":case"Q":y=t.x,_=t.y;break;case"H":y=t.x;break;case"V":_=t.y;break}x(y,_,t.pathSegType)}};for(r._svgPathToAbsolute(t),s=t.getTotalLength(),c=[],n=0;n<t.pathSegList.numberOfItems;n+=1)c.push(t.pathSegList.getItem(n));u=c.concat();while(v<s){if(d=t.getPathSegAtLength(v),l=c[d],l!=h){while(u.length&&u[0]!=l)b(u.shift());h=l}switch(l.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":o=t.getPointAtLength(v),x(o.x,o.y,0);break}v+=e}for(n=0,a=u.length;n<a;++n)b(u[n]);return g},r._svgPathToAbsolute=function(t){for(var e,n,r,i,a,s,o=t.pathSegList,l=0,c=0,u=o.numberOfItems,h=0;h<u;++h){var p=o.getItem(h),d=p.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(d))"x"in p&&(l=p.x),"y"in p&&(c=p.y);else switch("x1"in p&&(r=l+p.x1),"x2"in p&&(a=l+p.x2),"y1"in p&&(i=c+p.y1),"y2"in p&&(s=c+p.y2),"x"in p&&(l+=p.x),"y"in p&&(c+=p.y),d){case"m":o.replaceItem(t.createSVGPathSegMovetoAbs(l,c),h);break;case"l":o.replaceItem(t.createSVGPathSegLinetoAbs(l,c),h);break;case"h":o.replaceItem(t.createSVGPathSegLinetoHorizontalAbs(l),h);break;case"v":o.replaceItem(t.createSVGPathSegLinetoVerticalAbs(c),h);break;case"c":o.replaceItem(t.createSVGPathSegCurvetoCubicAbs(l,c,r,i,a,s),h);break;case"s":o.replaceItem(t.createSVGPathSegCurvetoCubicSmoothAbs(l,c,a,s),h);break;case"q":o.replaceItem(t.createSVGPathSegCurvetoQuadraticAbs(l,c,r,i),h);break;case"t":o.replaceItem(t.createSVGPathSegCurvetoQuadraticSmoothAbs(l,c),h);break;case"a":o.replaceItem(t.createSVGPathSegArcAbs(l,c,p.r1,p.r2,p.angle,p.largeArcFlag,p.sweepFlag),h);break;case"z":case"Z":l=e,c=n;break}"M"!=d&&"m"!=d||(e=l,n=c)}}})()},function(t,e,n){var r={};t.exports=r;var i=n(6);n(0);(function(){r.create=i.create,r.add=i.add,r.remove=i.remove,r.clear=i.clear,r.addComposite=i.addComposite,r.addBody=i.addBody,r.addConstraint=i.addConstraint})()}])}))},6178:function(t,e,n){"use strict";n.d(e,{Ay:function(){return Se}});n(4114);function r(t,e){for(var n in e)t[n]=e[n];return t}var i=/[!'()*]/g,a=function(t){return"%"+t.charCodeAt(0).toString(16)},s=/%2C/g,o=function(t){return encodeURIComponent(t).replace(i,a).replace(s,",")};function l(t){try{return decodeURIComponent(t)}catch(e){0}return t}function c(t,e,n){void 0===e&&(e={});var r,i=n||h;try{r=i(t||"")}catch(o){r={}}for(var a in e){var s=e[a];r[a]=Array.isArray(s)?s.map(u):u(s)}return r}var u=function(t){return null==t||"object"===typeof t?t:String(t)};function h(t){var e={};return t=t.trim().replace(/^(\?|#|&)/,""),t?(t.split("&").forEach((function(t){var n=t.replace(/\+/g," ").split("="),r=l(n.shift()),i=n.length>0?l(n.join("=")):null;void 0===e[r]?e[r]=i:Array.isArray(e[r])?e[r].push(i):e[r]=[e[r],i]})),e):e}function p(t){var e=t?Object.keys(t).map((function(e){var n=t[e];if(void 0===n)return"";if(null===n)return o(e);if(Array.isArray(n)){var r=[];return n.forEach((function(t){void 0!==t&&(null===t?r.push(o(e)):r.push(o(e)+"="+o(t)))})),r.join("&")}return o(e)+"="+o(n)})).filter((function(t){return t.length>0})).join("&"):null;return e?"?"+e:""}var d=/\/?$/;function f(t,e,n,r){var i=r&&r.options.stringifyQuery,a=e.query||{};try{a=m(a)}catch(o){}var s={name:e.name||t&&t.name,meta:t&&t.meta||{},path:e.path||"/",hash:e.hash||"",query:a,params:e.params||{},fullPath:y(e,i),matched:t?v(t):[]};return n&&(s.redirectedFrom=y(n,i)),Object.freeze(s)}function m(t){if(Array.isArray(t))return t.map(m);if(t&&"object"===typeof t){var e={};for(var n in t)e[n]=m(t[n]);return e}return t}var g=f(null,{path:"/"});function v(t){var e=[];while(t)e.unshift(t),t=t.parent;return e}function y(t,e){var n=t.path,r=t.query;void 0===r&&(r={});var i=t.hash;void 0===i&&(i="");var a=e||p;return(n||"/")+a(r)+i}function _(t,e,n){return e===g?t===e:!!e&&(t.path&&e.path?t.path.replace(d,"")===e.path.replace(d,"")&&(n||t.hash===e.hash&&x(t.query,e.query)):!(!t.name||!e.name)&&(t.name===e.name&&(n||t.hash===e.hash&&x(t.query,e.query)&&x(t.params,e.params))))}function x(t,e){if(void 0===t&&(t={}),void 0===e&&(e={}),!t||!e)return t===e;var n=Object.keys(t).sort(),r=Object.keys(e).sort();return n.length===r.length&&n.every((function(n,i){var a=t[n],s=r[i];if(s!==n)return!1;var o=e[n];return null==a||null==o?a===o:"object"===typeof a&&"object"===typeof o?x(a,o):String(a)===String(o)}))}function b(t,e){return 0===t.path.replace(d,"/").indexOf(e.path.replace(d,"/"))&&(!e.hash||t.hash===e.hash)&&S(t.query,e.query)}function S(t,e){for(var n in e)if(!(n in t))return!1;return!0}function w(t){for(var e=0;e<t.matched.length;e++){var n=t.matched[e];for(var r in n.instances){var i=n.instances[r],a=n.enteredCbs[r];if(i&&a){delete n.enteredCbs[r];for(var s=0;s<a.length;s++)i._isBeingDestroyed||a[s](i)}}}}var E={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(t,e){var n=e.props,i=e.children,a=e.parent,s=e.data;s.routerView=!0;var o=a.$createElement,l=n.name,c=a.$route,u=a._routerViewCache||(a._routerViewCache={}),h=0,p=!1;while(a&&a._routerRoot!==a){var d=a.$vnode?a.$vnode.data:{};d.routerView&&h++,d.keepAlive&&a._directInactive&&a._inactive&&(p=!0),a=a.$parent}if(s.routerViewDepth=h,p){var f=u[l],m=f&&f.component;return m?(f.configProps&&M(m,s,f.route,f.configProps),o(m,s,i)):o()}var g=c.matched[h],v=g&&g.components[l];if(!g||!v)return u[l]=null,o();u[l]={component:v},s.registerRouteInstance=function(t,e){var n=g.instances[l];(e&&n!==t||!e&&n===t)&&(g.instances[l]=e)},(s.hook||(s.hook={})).prepatch=function(t,e){g.instances[l]=e.componentInstance},s.hook.init=function(t){t.data.keepAlive&&t.componentInstance&&t.componentInstance!==g.instances[l]&&(g.instances[l]=t.componentInstance),w(c)};var y=g.props&&g.props[l];return y&&(r(u[l],{route:c,configProps:y}),M(v,s,c,y)),o(v,s,i)}};function M(t,e,n,i){var a=e.props=T(n,i);if(a){a=e.props=r({},a);var s=e.attrs=e.attrs||{};for(var o in a)t.props&&o in t.props||(s[o]=a[o],delete a[o])}}function T(t,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(t);case"boolean":return e?t.params:void 0;default:0}}function C(t,e,n){var r=t.charAt(0);if("/"===r)return t;if("?"===r||"#"===r)return e+t;var i=e.split("/");n&&i[i.length-1]||i.pop();for(var a=t.replace(/^\//,"").split("/"),s=0;s<a.length;s++){var o=a[s];".."===o?i.pop():"."!==o&&i.push(o)}return""!==i[0]&&i.unshift(""),i.join("/")}function A(t){var e="",n="",r=t.indexOf("#");r>=0&&(e=t.slice(r),t=t.slice(0,r));var i=t.indexOf("?");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{path:t,query:n,hash:e}}function P(t){return t.replace(/\/(?:\s*\/)+/g,"/")}var R=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},D=K,I=N,L=B,k=V,O=Y,F=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function N(t,e){var n,r=[],i=0,a=0,s="",o=e&&e.delimiter||"/";while(null!=(n=F.exec(t))){var l=n[0],c=n[1],u=n.index;if(s+=t.slice(a,u),a=u+l.length,c)s+=c[1];else{var h=t[a],p=n[2],d=n[3],f=n[4],m=n[5],g=n[6],v=n[7];s&&(r.push(s),s="");var y=null!=p&&null!=h&&h!==p,_="+"===g||"*"===g,x="?"===g||"*"===g,b=n[2]||o,S=f||m;r.push({name:d||i++,prefix:p||"",delimiter:b,optional:x,repeat:_,partial:y,asterisk:!!v,pattern:S?G(S):v?".*":"[^"+H(b)+"]+?"})}}return a<t.length&&(s+=t.substr(a)),s&&r.push(s),r}function B(t,e){return V(N(t,e),e)}function U(t){return encodeURI(t).replace(/[\/?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function z(t){return encodeURI(t).replace(/[?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function V(t,e){for(var n=new Array(t.length),r=0;r<t.length;r++)"object"===typeof t[r]&&(n[r]=new RegExp("^(?:"+t[r].pattern+")$",j(e)));return function(e,r){for(var i="",a=e||{},s=r||{},o=s.pretty?U:encodeURIComponent,l=0;l<t.length;l++){var c=t[l];if("string"!==typeof c){var u,h=a[c.name];if(null==h){if(c.optional){c.partial&&(i+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(R(h)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var p=0;p<h.length;p++){if(u=o(h[p]),!n[l].test(u))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(u)+"`");i+=(0===p?c.prefix:c.delimiter)+u}}else{if(u=c.asterisk?z(h):o(h),!n[l].test(u))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+u+'"');i+=c.prefix+u}}else i+=c}return i}}function H(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function G(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function W(t,e){return t.keys=e,t}function j(t){return t&&t.sensitive?"":"i"}function q(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return W(t,e)}function $(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(K(t[i],e,n).source);var a=new RegExp("(?:"+r.join("|")+")",j(n));return W(a,e)}function X(t,e,n){return Y(N(t,n),e,n)}function Y(t,e,n){R(e)||(n=e||n,e=[]),n=n||{};for(var r=n.strict,i=!1!==n.end,a="",s=0;s<t.length;s++){var o=t[s];if("string"===typeof o)a+=H(o);else{var l=H(o.prefix),c="(?:"+o.pattern+")";e.push(o),o.repeat&&(c+="(?:"+l+c+")*"),c=o.optional?o.partial?l+"("+c+")?":"(?:"+l+"("+c+"))?":l+"("+c+")",a+=c}}var u=H(n.delimiter||"/"),h=a.slice(-u.length)===u;return r||(a=(h?a.slice(0,-u.length):a)+"(?:"+u+"(?=$))?"),a+=i?"$":r&&h?"":"(?="+u+"|$)",W(new RegExp("^"+a,j(n)),e)}function K(t,e,n){return R(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?q(t,e):R(t)?$(t,e,n):X(t,e,n)}D.parse=I,D.compile=L,D.tokensToFunction=k,D.tokensToRegExp=O;var Z=Object.create(null);function J(t,e,n){e=e||{};try{var r=Z[t]||(Z[t]=D.compile(t));return"string"===typeof e.pathMatch&&(e[0]=e.pathMatch),r(e,{pretty:!0})}catch(i){return""}finally{delete e[0]}}function Q(t,e,n,i){var a="string"===typeof t?{path:t}:t;if(a._normalized)return a;if(a.name){a=r({},t);var s=a.params;return s&&"object"===typeof s&&(a.params=r({},s)),a}if(!a.path&&a.params&&e){a=r({},a),a._normalized=!0;var o=r(r({},e.params),a.params);if(e.name)a.name=e.name,a.params=o;else if(e.matched.length){var l=e.matched[e.matched.length-1].path;a.path=J(l,o,"path "+e.path)}else 0;return a}var u=A(a.path||""),h=e&&e.path||"/",p=u.path?C(u.path,h,n||a.append):h,d=c(u.query,a.query,i&&i.options.parseQuery),f=a.hash||u.hash;return f&&"#"!==f.charAt(0)&&(f="#"+f),{_normalized:!0,path:p,query:d,hash:f}}var tt,et=[String,Object],nt=[String,Array],rt=function(){},it={name:"RouterLink",props:{to:{type:et,required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:nt,default:"click"}},render:function(t){var e=this,n=this.$router,i=this.$route,a=n.resolve(this.to,i,this.append),s=a.location,o=a.route,l=a.href,c={},u=n.options.linkActiveClass,h=n.options.linkExactActiveClass,p=null==u?"router-link-active":u,d=null==h?"router-link-exact-active":h,m=null==this.activeClass?p:this.activeClass,g=null==this.exactActiveClass?d:this.exactActiveClass,v=o.redirectedFrom?f(null,Q(o.redirectedFrom),null,n):o;c[g]=_(i,v,this.exactPath),c[m]=this.exact||this.exactPath?c[g]:b(i,v);var y=c[g]?this.ariaCurrentValue:null,x=function(t){at(t)&&(e.replace?n.replace(s,rt):n.push(s,rt))},S={click:at};Array.isArray(this.event)?this.event.forEach((function(t){S[t]=x})):S[this.event]=x;var w={class:c},E=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:l,route:o,navigate:x,isActive:c[m],isExactActive:c[g]});if(E){if(1===E.length)return E[0];if(E.length>1||!E.length)return 0===E.length?t():t("span",{},E)}if("a"===this.tag)w.on=S,w.attrs={href:l,"aria-current":y};else{var M=st(this.$slots.default);if(M){M.isStatic=!1;var T=M.data=r({},M.data);for(var C in T.on=T.on||{},T.on){var A=T.on[C];C in S&&(T.on[C]=Array.isArray(A)?A:[A])}for(var P in S)P in T.on?T.on[P].push(S[P]):T.on[P]=x;var R=M.data.attrs=r({},M.data.attrs);R.href=l,R["aria-current"]=y}else w.on=S}return t(this.tag,w,this.$slots.default)}};function at(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&(void 0===t.button||0===t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){var e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function st(t){if(t)for(var e,n=0;n<t.length;n++){if(e=t[n],"a"===e.tag)return e;if(e.children&&(e=st(e.children)))return e}}function ot(t){if(!ot.installed||tt!==t){ot.installed=!0,tt=t;var e=function(t){return void 0!==t},n=function(t,n){var r=t.$options._parentVnode;e(r)&&e(r=r.data)&&e(r=r.registerRouteInstance)&&r(t,n)};t.mixin({beforeCreate:function(){e(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),t.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,n(this,this)},destroyed:function(){n(this)}}),Object.defineProperty(t.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(t.prototype,"$route",{get:function(){return this._routerRoot._route}}),t.component("RouterView",E),t.component("RouterLink",it);var r=t.config.optionMergeStrategies;r.beforeRouteEnter=r.beforeRouteLeave=r.beforeRouteUpdate=r.created}}var lt="undefined"!==typeof window;function ct(t,e,n,r,i){var a=e||[],s=n||Object.create(null),o=r||Object.create(null);t.forEach((function(t){ut(a,s,o,t,i)}));for(var l=0,c=a.length;l<c;l++)"*"===a[l]&&(a.push(a.splice(l,1)[0]),c--,l--);return{pathList:a,pathMap:s,nameMap:o}}function ut(t,e,n,r,i,a){var s=r.path,o=r.name;var l=r.pathToRegexpOptions||{},c=pt(s,i,l.strict);"boolean"===typeof r.caseSensitive&&(l.sensitive=r.caseSensitive);var u={path:c,regex:ht(c,l),components:r.components||{default:r.component},alias:r.alias?"string"===typeof r.alias?[r.alias]:r.alias:[],instances:{},enteredCbs:{},name:o,parent:i,matchAs:a,redirect:r.redirect,beforeEnter:r.beforeEnter,meta:r.meta||{},props:null==r.props?{}:r.components?r.props:{default:r.props}};if(r.children&&r.children.forEach((function(r){var i=a?P(a+"/"+r.path):void 0;ut(t,e,n,r,u,i)})),e[u.path]||(t.push(u.path),e[u.path]=u),void 0!==r.alias)for(var h=Array.isArray(r.alias)?r.alias:[r.alias],p=0;p<h.length;++p){var d=h[p];0;var f={path:d,children:r.children};ut(t,e,n,f,i,u.path||"/")}o&&(n[o]||(n[o]=u))}function ht(t,e){var n=D(t,[],e);return n}function pt(t,e,n){return n||(t=t.replace(/\/$/,"")),"/"===t[0]||null==e?t:P(e.path+"/"+t)}function dt(t,e){var n=ct(t),r=n.pathList,i=n.pathMap,a=n.nameMap;function s(t){ct(t,r,i,a)}function o(t,e){var n="object"!==typeof t?a[t]:void 0;ct([e||t],r,i,a,n),n&&n.alias.length&&ct(n.alias.map((function(t){return{path:t,children:[e]}})),r,i,a,n)}function l(){return r.map((function(t){return i[t]}))}function c(t,n,s){var o=Q(t,n,!1,e),l=o.name;if(l){var c=a[l];if(!c)return p(null,o);var u=c.regex.keys.filter((function(t){return!t.optional})).map((function(t){return t.name}));if("object"!==typeof o.params&&(o.params={}),n&&"object"===typeof n.params)for(var h in n.params)!(h in o.params)&&u.indexOf(h)>-1&&(o.params[h]=n.params[h]);return o.path=J(c.path,o.params,'named route "'+l+'"'),p(c,o,s)}if(o.path){o.params={};for(var d=0;d<r.length;d++){var f=r[d],m=i[f];if(ft(m.regex,o.path,o.params))return p(m,o,s)}}return p(null,o)}function u(t,n){var r=t.redirect,i="function"===typeof r?r(f(t,n,null,e)):r;if("string"===typeof i&&(i={path:i}),!i||"object"!==typeof i)return p(null,n);var s=i,o=s.name,l=s.path,u=n.query,h=n.hash,d=n.params;if(u=s.hasOwnProperty("query")?s.query:u,h=s.hasOwnProperty("hash")?s.hash:h,d=s.hasOwnProperty("params")?s.params:d,o){a[o];return c({_normalized:!0,name:o,query:u,hash:h,params:d},void 0,n)}if(l){var m=mt(l,t),g=J(m,d,'redirect route with path "'+m+'"');return c({_normalized:!0,path:g,query:u,hash:h},void 0,n)}return p(null,n)}function h(t,e,n){var r=J(n,e.params,'aliased route with path "'+n+'"'),i=c({_normalized:!0,path:r});if(i){var a=i.matched,s=a[a.length-1];return e.params=i.params,p(s,e)}return p(null,e)}function p(t,n,r){return t&&t.redirect?u(t,r||n):t&&t.matchAs?h(t,n,t.matchAs):f(t,n,r,e)}return{match:c,addRoute:o,getRoutes:l,addRoutes:s}}function ft(t,e,n){var r=e.match(t);if(!r)return!1;if(!n)return!0;for(var i=1,a=r.length;i<a;++i){var s=t.keys[i-1];s&&(n[s.name||"pathMatch"]="string"===typeof r[i]?l(r[i]):r[i])}return!0}function mt(t,e){return C(t,e.parent?e.parent.path:"/",!0)}var gt=lt&&window.performance&&window.performance.now?window.performance:Date;function vt(){return gt.now().toFixed(3)}var yt=vt();function _t(){return yt}function xt(t){return yt=t}var bt=Object.create(null);function St(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var t=window.location.protocol+"//"+window.location.host,e=window.location.href.replace(t,""),n=r({},window.history.state);return n.key=_t(),window.history.replaceState(n,"",e),window.addEventListener("popstate",Mt),function(){window.removeEventListener("popstate",Mt)}}function wt(t,e,n,r){if(t.app){var i=t.options.scrollBehavior;i&&t.app.$nextTick((function(){var a=Tt(),s=i.call(t,e,n,r?a:null);s&&("function"===typeof s.then?s.then((function(t){Lt(t,a)})).catch((function(t){0})):Lt(s,a))}))}}function Et(){var t=_t();t&&(bt[t]={x:window.pageXOffset,y:window.pageYOffset})}function Mt(t){Et(),t.state&&t.state.key&&xt(t.state.key)}function Tt(){var t=_t();if(t)return bt[t]}function Ct(t,e){var n=document.documentElement,r=n.getBoundingClientRect(),i=t.getBoundingClientRect();return{x:i.left-r.left-e.x,y:i.top-r.top-e.y}}function At(t){return Dt(t.x)||Dt(t.y)}function Pt(t){return{x:Dt(t.x)?t.x:window.pageXOffset,y:Dt(t.y)?t.y:window.pageYOffset}}function Rt(t){return{x:Dt(t.x)?t.x:0,y:Dt(t.y)?t.y:0}}function Dt(t){return"number"===typeof t}var It=/^#\d/;function Lt(t,e){var n="object"===typeof t;if(n&&"string"===typeof t.selector){var r=It.test(t.selector)?document.getElementById(t.selector.slice(1)):document.querySelector(t.selector);if(r){var i=t.offset&&"object"===typeof t.offset?t.offset:{};i=Rt(i),e=Ct(r,i)}else At(t)&&(e=Pt(t))}else n&&At(t)&&(e=Pt(t));e&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:e.x,top:e.y,behavior:t.behavior}):window.scrollTo(e.x,e.y))}var kt=lt&&function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&(window.history&&"function"===typeof window.history.pushState)}();function Ot(t,e){Et();var n=window.history;try{if(e){var i=r({},n.state);i.key=_t(),n.replaceState(i,"",t)}else n.pushState({key:xt(vt())},"",t)}catch(a){window.location[e?"replace":"assign"](t)}}function Ft(t){Ot(t,!0)}var Nt={redirected:2,aborted:4,cancelled:8,duplicated:16};function Bt(t,e){return Ht(t,e,Nt.redirected,'Redirected when going from "'+t.fullPath+'" to "'+Wt(e)+'" via a navigation guard.')}function Ut(t,e){var n=Ht(t,e,Nt.duplicated,'Avoided redundant navigation to current location: "'+t.fullPath+'".');return n.name="NavigationDuplicated",n}function zt(t,e){return Ht(t,e,Nt.cancelled,'Navigation cancelled from "'+t.fullPath+'" to "'+e.fullPath+'" with a new navigation.')}function Vt(t,e){return Ht(t,e,Nt.aborted,'Navigation aborted from "'+t.fullPath+'" to "'+e.fullPath+'" via a navigation guard.')}function Ht(t,e,n,r){var i=new Error(r);return i._isRouter=!0,i.from=t,i.to=e,i.type=n,i}var Gt=["params","query","hash"];function Wt(t){if("string"===typeof t)return t;if("path"in t)return t.path;var e={};return Gt.forEach((function(n){n in t&&(e[n]=t[n])})),JSON.stringify(e,null,2)}function jt(t){return Object.prototype.toString.call(t).indexOf("Error")>-1}function qt(t,e){return jt(t)&&t._isRouter&&(null==e||t.type===e)}function $t(t,e,n){var r=function(i){i>=t.length?n():t[i]?e(t[i],(function(){r(i+1)})):r(i+1)};r(0)}function Xt(t){return function(e,n,r){var i=!1,a=0,s=null;Yt(t,(function(t,e,n,o){if("function"===typeof t&&void 0===t.cid){i=!0,a++;var l,c=Qt((function(e){Jt(e)&&(e=e.default),t.resolved="function"===typeof e?e:tt.extend(e),n.components[o]=e,a--,a<=0&&r()})),u=Qt((function(t){var e="Failed to resolve async component "+o+": "+t;s||(s=jt(t)?t:new Error(e),r(s))}));try{l=t(c,u)}catch(p){u(p)}if(l)if("function"===typeof l.then)l.then(c,u);else{var h=l.component;h&&"function"===typeof h.then&&h.then(c,u)}}})),i||r()}}function Yt(t,e){return Kt(t.map((function(t){return Object.keys(t.components).map((function(n){return e(t.components[n],t.instances[n],t,n)}))})))}function Kt(t){return Array.prototype.concat.apply([],t)}var Zt="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag;function Jt(t){return t.__esModule||Zt&&"Module"===t[Symbol.toStringTag]}function Qt(t){var e=!1;return function(){var n=[],r=arguments.length;while(r--)n[r]=arguments[r];if(!e)return e=!0,t.apply(this,n)}}var te=function(t,e){this.router=t,this.base=ee(e),this.current=g,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};function ee(t){if(!t)if(lt){var e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^https?:\/\/[^\/]+/,"")}else t="/";return"/"!==t.charAt(0)&&(t="/"+t),t.replace(/\/$/,"")}function ne(t,e){var n,r=Math.max(t.length,e.length);for(n=0;n<r;n++)if(t[n]!==e[n])break;return{updated:e.slice(0,n),activated:e.slice(n),deactivated:t.slice(n)}}function re(t,e,n,r){var i=Yt(t,(function(t,r,i,a){var s=ie(t,e);if(s)return Array.isArray(s)?s.map((function(t){return n(t,r,i,a)})):n(s,r,i,a)}));return Kt(r?i.reverse():i)}function ie(t,e){return"function"!==typeof t&&(t=tt.extend(t)),t.options[e]}function ae(t){return re(t,"beforeRouteLeave",oe,!0)}function se(t){return re(t,"beforeRouteUpdate",oe)}function oe(t,e){if(e)return function(){return t.apply(e,arguments)}}function le(t){return re(t,"beforeRouteEnter",(function(t,e,n,r){return ce(t,n,r)}))}function ce(t,e,n){return function(r,i,a){return t(r,i,(function(t){"function"===typeof t&&(e.enteredCbs[n]||(e.enteredCbs[n]=[]),e.enteredCbs[n].push(t)),a(t)}))}}te.prototype.listen=function(t){this.cb=t},te.prototype.onReady=function(t,e){this.ready?t():(this.readyCbs.push(t),e&&this.readyErrorCbs.push(e))},te.prototype.onError=function(t){this.errorCbs.push(t)},te.prototype.transitionTo=function(t,e,n){var r,i=this;try{r=this.router.match(t,this.current)}catch(s){throw this.errorCbs.forEach((function(t){t(s)})),s}var a=this.current;this.confirmTransition(r,(function(){i.updateRoute(r),e&&e(r),i.ensureURL(),i.router.afterHooks.forEach((function(t){t&&t(r,a)})),i.ready||(i.ready=!0,i.readyCbs.forEach((function(t){t(r)})))}),(function(t){n&&n(t),t&&!i.ready&&(qt(t,Nt.redirected)&&a===g||(i.ready=!0,i.readyErrorCbs.forEach((function(e){e(t)}))))}))},te.prototype.confirmTransition=function(t,e,n){var r=this,i=this.current;this.pending=t;var a=function(t){!qt(t)&&jt(t)&&(r.errorCbs.length?r.errorCbs.forEach((function(e){e(t)})):console.error(t)),n&&n(t)},s=t.matched.length-1,o=i.matched.length-1;if(_(t,i)&&s===o&&t.matched[s]===i.matched[o])return this.ensureURL(),t.hash&&wt(this.router,i,t,!1),a(Ut(i,t));var l=ne(this.current.matched,t.matched),c=l.updated,u=l.deactivated,h=l.activated,p=[].concat(ae(u),this.router.beforeHooks,se(c),h.map((function(t){return t.beforeEnter})),Xt(h)),d=function(e,n){if(r.pending!==t)return a(zt(i,t));try{e(t,i,(function(e){!1===e?(r.ensureURL(!0),a(Vt(i,t))):jt(e)?(r.ensureURL(!0),a(e)):"string"===typeof e||"object"===typeof e&&("string"===typeof e.path||"string"===typeof e.name)?(a(Bt(i,t)),"object"===typeof e&&e.replace?r.replace(e):r.push(e)):n(e)}))}catch(s){a(s)}};$t(p,d,(function(){var n=le(h),s=n.concat(r.router.resolveHooks);$t(s,d,(function(){if(r.pending!==t)return a(zt(i,t));r.pending=null,e(t),r.router.app&&r.router.app.$nextTick((function(){w(t)}))}))}))},te.prototype.updateRoute=function(t){this.current=t,this.cb&&this.cb(t)},te.prototype.setupListeners=function(){},te.prototype.teardown=function(){this.listeners.forEach((function(t){t()})),this.listeners=[],this.current=g,this.pending=null};var ue=function(t){function e(e,n){t.call(this,e,n),this._startLocation=he(this.base)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this;if(!(this.listeners.length>0)){var e=this.router,n=e.options.scrollBehavior,r=kt&&n;r&&this.listeners.push(St());var i=function(){var n=t.current,i=he(t.base);t.current===g&&i===t._startLocation||t.transitionTo(i,(function(t){r&&wt(e,t,n,!0)}))};window.addEventListener("popstate",i),this.listeners.push((function(){window.removeEventListener("popstate",i)}))}},e.prototype.go=function(t){window.history.go(t)},e.prototype.push=function(t,e,n){var r=this,i=this,a=i.current;this.transitionTo(t,(function(t){Ot(P(r.base+t.fullPath)),wt(r.router,t,a,!1),e&&e(t)}),n)},e.prototype.replace=function(t,e,n){var r=this,i=this,a=i.current;this.transitionTo(t,(function(t){Ft(P(r.base+t.fullPath)),wt(r.router,t,a,!1),e&&e(t)}),n)},e.prototype.ensureURL=function(t){if(he(this.base)!==this.current.fullPath){var e=P(this.base+this.current.fullPath);t?Ot(e):Ft(e)}},e.prototype.getCurrentLocation=function(){return he(this.base)},e}(te);function he(t){var e=window.location.pathname,n=e.toLowerCase(),r=t.toLowerCase();return!t||n!==r&&0!==n.indexOf(P(r+"/"))||(e=e.slice(t.length)),(e||"/")+window.location.search+window.location.hash}var pe=function(t){function e(e,n,r){t.call(this,e,n),r&&de(this.base)||fe()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this;if(!(this.listeners.length>0)){var e=this.router,n=e.options.scrollBehavior,r=kt&&n;r&&this.listeners.push(St());var i=function(){var e=t.current;fe()&&t.transitionTo(me(),(function(n){r&&wt(t.router,n,e,!0),kt||ye(n.fullPath)}))},a=kt?"popstate":"hashchange";window.addEventListener(a,i),this.listeners.push((function(){window.removeEventListener(a,i)}))}},e.prototype.push=function(t,e,n){var r=this,i=this,a=i.current;this.transitionTo(t,(function(t){ve(t.fullPath),wt(r.router,t,a,!1),e&&e(t)}),n)},e.prototype.replace=function(t,e,n){var r=this,i=this,a=i.current;this.transitionTo(t,(function(t){ye(t.fullPath),wt(r.router,t,a,!1),e&&e(t)}),n)},e.prototype.go=function(t){window.history.go(t)},e.prototype.ensureURL=function(t){var e=this.current.fullPath;me()!==e&&(t?ve(e):ye(e))},e.prototype.getCurrentLocation=function(){return me()},e}(te);function de(t){var e=he(t);if(!/^\/#/.test(e))return window.location.replace(P(t+"/#"+e)),!0}function fe(){var t=me();return"/"===t.charAt(0)||(ye("/"+t),!1)}function me(){var t=window.location.href,e=t.indexOf("#");return e<0?"":(t=t.slice(e+1),t)}function ge(t){var e=window.location.href,n=e.indexOf("#"),r=n>=0?e.slice(0,n):e;return r+"#"+t}function ve(t){kt?Ot(ge(t)):window.location.hash=t}function ye(t){kt?Ft(ge(t)):window.location.replace(ge(t))}var _e=function(t){function e(e,n){t.call(this,e,n),this.stack=[],this.index=-1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e,n){var r=this;this.transitionTo(t,(function(t){r.stack=r.stack.slice(0,r.index+1).concat(t),r.index++,e&&e(t)}),n)},e.prototype.replace=function(t,e,n){var r=this;this.transitionTo(t,(function(t){r.stack=r.stack.slice(0,r.index).concat(t),e&&e(t)}),n)},e.prototype.go=function(t){var e=this,n=this.index+t;if(!(n<0||n>=this.stack.length)){var r=this.stack[n];this.confirmTransition(r,(function(){var t=e.current;e.index=n,e.updateRoute(r),e.router.afterHooks.forEach((function(e){e&&e(r,t)}))}),(function(t){qt(t,Nt.duplicated)&&(e.index=n)}))}},e.prototype.getCurrentLocation=function(){var t=this.stack[this.stack.length-1];return t?t.fullPath:"/"},e.prototype.ensureURL=function(){},e}(te),xe=function(t){void 0===t&&(t={}),this.app=null,this.apps=[],this.options=t,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=dt(t.routes||[],this);var e=t.mode||"hash";switch(this.fallback="history"===e&&!kt&&!1!==t.fallback,this.fallback&&(e="hash"),lt||(e="abstract"),this.mode=e,e){case"history":this.history=new ue(this,t.base);break;case"hash":this.history=new pe(this,t.base,this.fallback);break;case"abstract":this.history=new _e(this,t.base);break;default:0}},be={currentRoute:{configurable:!0}};xe.prototype.match=function(t,e,n){return this.matcher.match(t,e,n)},be.currentRoute.get=function(){return this.history&&this.history.current},xe.prototype.init=function(t){var e=this;if(this.apps.push(t),t.$once("hook:destroyed",(function(){var n=e.apps.indexOf(t);n>-1&&e.apps.splice(n,1),e.app===t&&(e.app=e.apps[0]||null),e.app||e.history.teardown()})),!this.app){this.app=t;var n=this.history;if(n instanceof ue||n instanceof pe){var r=function(t){var r=n.current,i=e.options.scrollBehavior,a=kt&&i;a&&"fullPath"in t&&wt(e,t,r,!1)},i=function(t){n.setupListeners(),r(t)};n.transitionTo(n.getCurrentLocation(),i,i)}n.listen((function(t){e.apps.forEach((function(e){e._route=t}))}))}},xe.prototype.beforeEach=function(t){return we(this.beforeHooks,t)},xe.prototype.beforeResolve=function(t){return we(this.resolveHooks,t)},xe.prototype.afterEach=function(t){return we(this.afterHooks,t)},xe.prototype.onReady=function(t,e){this.history.onReady(t,e)},xe.prototype.onError=function(t){this.history.onError(t)},xe.prototype.push=function(t,e,n){var r=this;if(!e&&!n&&"undefined"!==typeof Promise)return new Promise((function(e,n){r.history.push(t,e,n)}));this.history.push(t,e,n)},xe.prototype.replace=function(t,e,n){var r=this;if(!e&&!n&&"undefined"!==typeof Promise)return new Promise((function(e,n){r.history.replace(t,e,n)}));this.history.replace(t,e,n)},xe.prototype.go=function(t){this.history.go(t)},xe.prototype.back=function(){this.go(-1)},xe.prototype.forward=function(){this.go(1)},xe.prototype.getMatchedComponents=function(t){var e=t?t.matched?t:this.resolve(t).route:this.currentRoute;return e?[].concat.apply([],e.matched.map((function(t){return Object.keys(t.components).map((function(e){return t.components[e]}))}))):[]},xe.prototype.resolve=function(t,e,n){e=e||this.history.current;var r=Q(t,e,n,this),i=this.match(r,e),a=i.redirectedFrom||i.fullPath,s=this.history.base,o=Ee(s,a,this.mode);return{location:r,route:i,href:o,normalizedTo:r,resolved:i}},xe.prototype.getRoutes=function(){return this.matcher.getRoutes()},xe.prototype.addRoute=function(t,e){this.matcher.addRoute(t,e),this.history.current!==g&&this.history.transitionTo(this.history.getCurrentLocation())},xe.prototype.addRoutes=function(t){this.matcher.addRoutes(t),this.history.current!==g&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(xe.prototype,be);var Se=xe;function we(t,e){return t.push(e),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function Ee(t,e,n){var r="hash"===n?"#"+e:e;return t?P(t+"/"+r):r}xe.install=ot,xe.version="3.6.5",xe.isNavigationFailure=qt,xe.NavigationFailureType=Nt,xe.START_LOCATION=g,lt&&window.Vue&&window.Vue.use(xe)},6848:function(t,e,n){"use strict";n.d(e,{Ay:function(){return Jr}});n(4114),n(7642),n(8004),n(3853),n(5876),n(2475),n(5024),n(1698),n(9848);var r=Object.freeze({}),i=Array.isArray;function a(t){return void 0===t||null===t}function s(t){return void 0!==t&&null!==t}function o(t){return!0===t}function l(t){return!1===t}function c(t){return"string"===typeof t||"number"===typeof t||"symbol"===typeof t||"boolean"===typeof t}function u(t){return"function"===typeof t}function h(t){return null!==t&&"object"===typeof t}var p=Object.prototype.toString;function d(t){return"[object Object]"===p.call(t)}function f(t){return"[object RegExp]"===p.call(t)}function m(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function g(t){return s(t)&&"function"===typeof t.then&&"function"===typeof t.catch}function v(t){return null==t?"":Array.isArray(t)||d(t)&&t.toString===p?JSON.stringify(t,y,2):String(t)}function y(t,e){return e&&e.__v_isRef?e.value:e}function _(t){var e=parseFloat(t);return isNaN(e)?t:e}function x(t,e){for(var n=Object.create(null),r=t.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}x("slot,component",!0);var b=x("key,ref,slot,slot-scope,is");function S(t,e){var n=t.length;if(n){if(e===t[n-1])return void(t.length=n-1);var r=t.indexOf(e);if(r>-1)return t.splice(r,1)}}var w=Object.prototype.hasOwnProperty;function E(t,e){return w.call(t,e)}function M(t){var e=Object.create(null);return function(n){var r=e[n];return r||(e[n]=t(n))}}var T=/-(\w)/g,C=M((function(t){return t.replace(T,(function(t,e){return e?e.toUpperCase():""}))})),A=M((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})),P=/\B([A-Z])/g,R=M((function(t){return t.replace(P,"-$1").toLowerCase()}));function D(t,e){function n(n){var r=arguments.length;return r?r>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n}function I(t,e){return t.bind(e)}var L=Function.prototype.bind?I:D;function k(t,e){e=e||0;var n=t.length-e,r=new Array(n);while(n--)r[n]=t[n+e];return r}function O(t,e){for(var n in e)t[n]=e[n];return t}function F(t){for(var e={},n=0;n<t.length;n++)t[n]&&O(e,t[n]);return e}function N(t,e,n){}var B=function(t,e,n){return!1},U=function(t){return t};function z(t,e){if(t===e)return!0;var n=h(t),r=h(e);if(!n||!r)return!n&&!r&&String(t)===String(e);try{var i=Array.isArray(t),a=Array.isArray(e);if(i&&a)return t.length===e.length&&t.every((function(t,n){return z(t,e[n])}));if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(i||a)return!1;var s=Object.keys(t),o=Object.keys(e);return s.length===o.length&&s.every((function(n){return z(t[n],e[n])}))}catch(l){return!1}}function V(t,e){for(var n=0;n<t.length;n++)if(z(t[n],e))return n;return-1}function H(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}function G(t,e){return t===e?0===t&&1/t!==1/e:t===t||e===e}var W="data-server-rendered",j=["component","directive","filter"],q=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],$={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:B,isReservedAttr:B,isUnknownElement:B,getTagNamespace:N,parsePlatformTagName:U,mustUseProp:B,async:!0,_lifecycleHooks:q},X=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function Y(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function K(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var Z=new RegExp("[^".concat(X.source,".$_\\d]"));function J(t){if(!Z.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}var Q="__proto__"in{},tt="undefined"!==typeof window,et=tt&&window.navigator.userAgent.toLowerCase(),nt=et&&/msie|trident/.test(et),rt=et&&et.indexOf("msie 9.0")>0,it=et&&et.indexOf("edge/")>0;et&&et.indexOf("android");var at=et&&/iphone|ipad|ipod|ios/.test(et);et&&/chrome\/\d+/.test(et),et&&/phantomjs/.test(et);var st,ot=et&&et.match(/firefox\/(\d+)/),lt={}.watch,ct=!1;if(tt)try{var ut={};Object.defineProperty(ut,"passive",{get:function(){ct=!0}}),window.addEventListener("test-passive",null,ut)}catch(Js){}var ht=function(){return void 0===st&&(st=!tt&&"undefined"!==typeof n.g&&(n.g["process"]&&"server"===n.g["process"].env.VUE_ENV)),st},pt=tt&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function dt(t){return"function"===typeof t&&/native code/.test(t.toString())}var ft,mt="undefined"!==typeof Symbol&&dt(Symbol)&&"undefined"!==typeof Reflect&&dt(Reflect.ownKeys);ft="undefined"!==typeof Set&&dt(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var gt=null;function vt(t){void 0===t&&(t=null),t||gt&&gt._scope.off(),gt=t,t&&t._scope.on()}var yt=function(){function t(t,e,n,r,i,a,s,o){this.tag=t,this.data=e,this.children=n,this.text=r,this.elm=i,this.ns=void 0,this.context=a,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=s,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=o,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(t.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),t}(),_t=function(t){void 0===t&&(t="");var e=new yt;return e.text=t,e.isComment=!0,e};function xt(t){return new yt(void 0,void 0,void 0,String(t))}function bt(t){var e=new yt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}"function"===typeof SuppressedError&&SuppressedError;var St=0,wt=[],Et=function(){for(var t=0;t<wt.length;t++){var e=wt[t];e.subs=e.subs.filter((function(t){return t})),e._pending=!1}wt.length=0},Mt=function(){function t(){this._pending=!1,this.id=St++,this.subs=[]}return t.prototype.addSub=function(t){this.subs.push(t)},t.prototype.removeSub=function(t){this.subs[this.subs.indexOf(t)]=null,this._pending||(this._pending=!0,wt.push(this))},t.prototype.depend=function(e){t.target&&t.target.addDep(this)},t.prototype.notify=function(t){var e=this.subs.filter((function(t){return t}));for(var n=0,r=e.length;n<r;n++){var i=e[n];0,i.update()}},t}();Mt.target=null;var Tt=[];function Ct(t){Tt.push(t),Mt.target=t}function At(){Tt.pop(),Mt.target=Tt[Tt.length-1]}var Pt=Array.prototype,Rt=Object.create(Pt),Dt=["push","pop","shift","unshift","splice","sort","reverse"];Dt.forEach((function(t){var e=Pt[t];K(Rt,t,(function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i,a=e.apply(this,n),s=this.__ob__;switch(t){case"push":case"unshift":i=n;break;case"splice":i=n.slice(2);break}return i&&s.observeArray(i),s.dep.notify(),a}))}));var It=Object.getOwnPropertyNames(Rt),Lt={},kt=!0;function Ot(t){kt=t}var Ft={notify:N,depend:N,addSub:N,removeSub:N},Nt=function(){function t(t,e,n){if(void 0===e&&(e=!1),void 0===n&&(n=!1),this.value=t,this.shallow=e,this.mock=n,this.dep=n?Ft:new Mt,this.vmCount=0,K(t,"__ob__",this),i(t)){if(!n)if(Q)t.__proto__=Rt;else for(var r=0,a=It.length;r<a;r++){var s=It[r];K(t,s,Rt[s])}e||this.observeArray(t)}else{var o=Object.keys(t);for(r=0;r<o.length;r++){s=o[r];Ut(t,s,Lt,void 0,e,n)}}}return t.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)Bt(t[e],!1,this.mock)},t}();function Bt(t,e,n){return t&&E(t,"__ob__")&&t.__ob__ instanceof Nt?t.__ob__:!kt||!n&&ht()||!i(t)&&!d(t)||!Object.isExtensible(t)||t.__v_skip||qt(t)||t instanceof yt?void 0:new Nt(t,e,n)}function Ut(t,e,n,r,a,s,o){void 0===o&&(o=!1);var l=new Mt,c=Object.getOwnPropertyDescriptor(t,e);if(!c||!1!==c.configurable){var u=c&&c.get,h=c&&c.set;u&&!h||n!==Lt&&2!==arguments.length||(n=t[e]);var p=a?n&&n.__ob__:Bt(n,!1,s);return Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=u?u.call(t):n;return Mt.target&&(l.depend(),p&&(p.dep.depend(),i(e)&&Ht(e))),qt(e)&&!a?e.value:e},set:function(e){var r=u?u.call(t):n;if(G(r,e)){if(h)h.call(t,e);else{if(u)return;if(!a&&qt(r)&&!qt(e))return void(r.value=e);n=e}p=a?e&&e.__ob__:Bt(e,!1,s),l.notify()}}}),l}}function zt(t,e,n){if(!jt(t)){var r=t.__ob__;return i(t)&&m(e)?(t.length=Math.max(t.length,e),t.splice(e,1,n),r&&!r.shallow&&r.mock&&Bt(n,!1,!0),n):e in t&&!(e in Object.prototype)?(t[e]=n,n):t._isVue||r&&r.vmCount?n:r?(Ut(r.value,e,n,void 0,r.shallow,r.mock),r.dep.notify(),n):(t[e]=n,n)}}function Vt(t,e){if(i(t)&&m(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||jt(t)||E(t,e)&&(delete t[e],n&&n.dep.notify())}}function Ht(t){for(var e=void 0,n=0,r=t.length;n<r;n++)e=t[n],e&&e.__ob__&&e.__ob__.dep.depend(),i(e)&&Ht(e)}function Gt(t){return Wt(t,!0),K(t,"__v_isShallow",!0),t}function Wt(t,e){if(!jt(t)){Bt(t,e,ht());0}}function jt(t){return!(!t||!t.__v_isReadonly)}function qt(t){return!(!t||!0!==t.__v_isRef)}function $t(t,e,n){Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:function(){var t=e[n];if(qt(t))return t.value;var r=t&&t.__ob__;return r&&r.dep.depend(),t},set:function(t){var r=e[n];qt(r)&&!qt(t)?r.value=t:e[n]=t}})}var Xt="watcher";"".concat(Xt," callback"),"".concat(Xt," getter"),"".concat(Xt," cleanup");var Yt;var Kt=function(){function t(t){void 0===t&&(t=!1),this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Yt,!t&&Yt&&(this.index=(Yt.scopes||(Yt.scopes=[])).push(this)-1)}return t.prototype.run=function(t){if(this.active){var e=Yt;try{return Yt=this,t()}finally{Yt=e}}else 0},t.prototype.on=function(){Yt=this},t.prototype.off=function(){Yt=this.parent},t.prototype.stop=function(t){if(this.active){var e=void 0,n=void 0;for(e=0,n=this.effects.length;e<n;e++)this.effects[e].teardown();for(e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!t){var r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this.active=!1}},t}();function Zt(t,e){void 0===e&&(e=Yt),e&&e.active&&e.effects.push(t)}function Jt(){return Yt}function Qt(t){var e=t._provided,n=t.$parent&&t.$parent._provided;return n===e?t._provided=Object.create(n):e}var te=M((function(t){var e="&"===t.charAt(0);t=e?t.slice(1):t;var n="~"===t.charAt(0);t=n?t.slice(1):t;var r="!"===t.charAt(0);return t=r?t.slice(1):t,{name:t,once:n,capture:r,passive:e}}));function ee(t,e){function n(){var t=n.fns;if(!i(t))return Ze(t,null,arguments,e,"v-on handler");for(var r=t.slice(),a=0;a<r.length;a++)Ze(r[a],null,arguments,e,"v-on handler")}return n.fns=t,n}function ne(t,e,n,r,i,s){var l,c,u,h;for(l in t)c=t[l],u=e[l],h=te(l),a(c)||(a(u)?(a(c.fns)&&(c=t[l]=ee(c,s)),o(h.once)&&(c=t[l]=i(h.name,c,h.capture)),n(h.name,c,h.capture,h.passive,h.params)):c!==u&&(u.fns=c,t[l]=u));for(l in e)a(t[l])&&(h=te(l),r(h.name,e[l],h.capture))}function re(t,e,n){var r;t instanceof yt&&(t=t.data.hook||(t.data.hook={}));var i=t[e];function l(){n.apply(this,arguments),S(r.fns,l)}a(i)?r=ee([l]):s(i.fns)&&o(i.merged)?(r=i,r.fns.push(l)):r=ee([i,l]),r.merged=!0,t[e]=r}function ie(t,e,n){var r=e.options.props;if(!a(r)){var i={},o=t.attrs,l=t.props;if(s(o)||s(l))for(var c in r){var u=R(c);ae(i,l,c,u,!0)||ae(i,o,c,u,!1)}return i}}function ae(t,e,n,r,i){if(s(e)){if(E(e,n))return t[n]=e[n],i||delete e[n],!0;if(E(e,r))return t[n]=e[r],i||delete e[r],!0}return!1}function se(t){for(var e=0;e<t.length;e++)if(i(t[e]))return Array.prototype.concat.apply([],t);return t}function oe(t){return c(t)?[xt(t)]:i(t)?ce(t):void 0}function le(t){return s(t)&&s(t.text)&&l(t.isComment)}function ce(t,e){var n,r,l,u,h=[];for(n=0;n<t.length;n++)r=t[n],a(r)||"boolean"===typeof r||(l=h.length-1,u=h[l],i(r)?r.length>0&&(r=ce(r,"".concat(e||"","_").concat(n)),le(r[0])&&le(u)&&(h[l]=xt(u.text+r[0].text),r.shift()),h.push.apply(h,r)):c(r)?le(u)?h[l]=xt(u.text+r):""!==r&&h.push(xt(r)):le(r)&&le(u)?h[l]=xt(u.text+r.text):(o(t._isVList)&&s(r.tag)&&a(r.key)&&s(e)&&(r.key="__vlist".concat(e,"_").concat(n,"__")),h.push(r)));return h}function ue(t,e){var n,r,a,o,l=null;if(i(t)||"string"===typeof t)for(l=new Array(t.length),n=0,r=t.length;n<r;n++)l[n]=e(t[n],n);else if("number"===typeof t)for(l=new Array(t),n=0;n<t;n++)l[n]=e(n+1,n);else if(h(t))if(mt&&t[Symbol.iterator]){l=[];var c=t[Symbol.iterator](),u=c.next();while(!u.done)l.push(e(u.value,l.length)),u=c.next()}else for(a=Object.keys(t),l=new Array(a.length),n=0,r=a.length;n<r;n++)o=a[n],l[n]=e(t[o],o,n);return s(l)||(l=[]),l._isVList=!0,l}function he(t,e,n,r){var i,a=this.$scopedSlots[t];a?(n=n||{},r&&(n=O(O({},r),n)),i=a(n)||(u(e)?e():e)):i=this.$slots[t]||(u(e)?e():e);var s=n&&n.slot;return s?this.$createElement("template",{slot:s},i):i}function pe(t){return Mr(this.$options,"filters",t,!0)||U}function de(t,e){return i(t)?-1===t.indexOf(e):t!==e}function fe(t,e,n,r,i){var a=$.keyCodes[e]||n;return i&&r&&!$.keyCodes[e]?de(i,r):a?de(a,t):r?R(r)!==e:void 0===t}function me(t,e,n,r,a){if(n)if(h(n)){i(n)&&(n=F(n));var s=void 0,o=function(i){if("class"===i||"style"===i||b(i))s=t;else{var o=t.attrs&&t.attrs.type;s=r||$.mustUseProp(e,o,i)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var l=C(i),c=R(i);if(!(l in s)&&!(c in s)&&(s[i]=n[i],a)){var u=t.on||(t.on={});u["update:".concat(i)]=function(t){n[i]=t}}};for(var l in n)o(l)}else;return t}function ge(t,e){var n=this._staticTrees||(this._staticTrees=[]),r=n[t];return r&&!e||(r=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,this._c,this),ye(r,"__static__".concat(t),!1)),r}function ve(t,e,n){return ye(t,"__once__".concat(e).concat(n?"_".concat(n):""),!0),t}function ye(t,e,n){if(i(t))for(var r=0;r<t.length;r++)t[r]&&"string"!==typeof t[r]&&_e(t[r],"".concat(e,"_").concat(r),n);else _e(t,e,n)}function _e(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function xe(t,e){if(e)if(d(e)){var n=t.on=t.on?O({},t.on):{};for(var r in e){var i=n[r],a=e[r];n[r]=i?[].concat(i,a):a}}else;return t}function be(t,e,n,r){e=e||{$stable:!n};for(var a=0;a<t.length;a++){var s=t[a];i(s)?be(s,e,n):s&&(s.proxy&&(s.fn.proxy=!0),e[s.key]=s.fn)}return r&&(e.$key=r),e}function Se(t,e){for(var n=0;n<e.length;n+=2){var r=e[n];"string"===typeof r&&r&&(t[e[n]]=e[n+1])}return t}function we(t,e){return"string"===typeof t?e+t:t}function Ee(t){t._o=ve,t._n=_,t._s=v,t._l=ue,t._t=he,t._q=z,t._i=V,t._m=ge,t._f=pe,t._k=fe,t._b=me,t._v=xt,t._e=_t,t._u=be,t._g=xe,t._d=Se,t._p=we}function Me(t,e){if(!t||!t.length)return{};for(var n={},r=0,i=t.length;r<i;r++){var a=t[r],s=a.data;if(s&&s.attrs&&s.attrs.slot&&delete s.attrs.slot,a.context!==e&&a.fnContext!==e||!s||null==s.slot)(n.default||(n.default=[])).push(a);else{var o=s.slot,l=n[o]||(n[o]=[]);"template"===a.tag?l.push.apply(l,a.children||[]):l.push(a)}}for(var c in n)n[c].every(Te)&&delete n[c];return n}function Te(t){return t.isComment&&!t.asyncFactory||" "===t.text}function Ce(t){return t.isComment&&t.asyncFactory}function Ae(t,e,n,i){var a,s=Object.keys(n).length>0,o=e?!!e.$stable:!s,l=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(o&&i&&i!==r&&l===i.$key&&!s&&!i.$hasNormal)return i;for(var c in a={},e)e[c]&&"$"!==c[0]&&(a[c]=Pe(t,n,c,e[c]))}else a={};for(var u in n)u in a||(a[u]=Re(n,u));return e&&Object.isExtensible(e)&&(e._normalized=a),K(a,"$stable",o),K(a,"$key",l),K(a,"$hasNormal",s),a}function Pe(t,e,n,r){var a=function(){var e=gt;vt(t);var n=arguments.length?r.apply(null,arguments):r({});n=n&&"object"===typeof n&&!i(n)?[n]:oe(n);var a=n&&n[0];return vt(e),n&&(!a||1===n.length&&a.isComment&&!Ce(a))?void 0:n};return r.proxy&&Object.defineProperty(e,n,{get:a,enumerable:!0,configurable:!0}),a}function Re(t,e){return function(){return t[e]}}function De(t){var e=t.$options,n=e.setup;if(n){var r=t._setupContext=Ie(t);vt(t),Ct();var i=Ze(n,null,[t._props||Gt({}),r],t,"setup");if(At(),vt(),u(i))e.render=i;else if(h(i))if(t._setupState=i,i.__sfc){var a=t._setupProxy={};for(var s in i)"__sfc"!==s&&$t(a,i,s)}else for(var s in i)Y(s)||$t(t,i,s);else 0}}function Ie(t){return{get attrs(){if(!t._attrsProxy){var e=t._attrsProxy={};K(e,"_v_attr_proxy",!0),Le(e,t.$attrs,r,t,"$attrs")}return t._attrsProxy},get listeners(){if(!t._listenersProxy){var e=t._listenersProxy={};Le(e,t.$listeners,r,t,"$listeners")}return t._listenersProxy},get slots(){return Oe(t)},emit:L(t.$emit,t),expose:function(e){e&&Object.keys(e).forEach((function(n){return $t(t,e,n)}))}}}function Le(t,e,n,r,i){var a=!1;for(var s in e)s in t?e[s]!==n[s]&&(a=!0):(a=!0,ke(t,s,r,i));for(var s in t)s in e||(a=!0,delete t[s]);return a}function ke(t,e,n,r){Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){return n[r][e]}})}function Oe(t){return t._slotsProxy||Fe(t._slotsProxy={},t.$scopedSlots),t._slotsProxy}function Fe(t,e){for(var n in e)t[n]=e[n];for(var n in t)n in e||delete t[n]}function Ne(t){t._vnode=null,t._staticTrees=null;var e=t.$options,n=t.$vnode=e._parentVnode,i=n&&n.context;t.$slots=Me(e._renderChildren,i),t.$scopedSlots=n?Ae(t.$parent,n.data.scopedSlots,t.$slots):r,t._c=function(e,n,r,i){return qe(t,e,n,r,i,!1)},t.$createElement=function(e,n,r,i){return qe(t,e,n,r,i,!0)};var a=n&&n.data;Ut(t,"$attrs",a&&a.attrs||r,null,!0),Ut(t,"$listeners",e._parentListeners||r,null,!0)}var Be=null;function Ue(t){Ee(t.prototype),t.prototype.$nextTick=function(t){return un(t,this)},t.prototype._render=function(){var t=this,e=t.$options,n=e.render,r=e._parentVnode;r&&t._isMounted&&(t.$scopedSlots=Ae(t.$parent,r.data.scopedSlots,t.$slots,t.$scopedSlots),t._slotsProxy&&Fe(t._slotsProxy,t.$scopedSlots)),t.$vnode=r;var a,s=gt,o=Be;try{vt(t),Be=t,a=n.call(t._renderProxy,t.$createElement)}catch(Js){Ke(Js,t,"render"),a=t._vnode}finally{Be=o,vt(s)}return i(a)&&1===a.length&&(a=a[0]),a instanceof yt||(a=_t()),a.parent=r,a}}function ze(t,e){return(t.__esModule||mt&&"Module"===t[Symbol.toStringTag])&&(t=t.default),h(t)?e.extend(t):t}function Ve(t,e,n,r,i){var a=_t();return a.asyncFactory=t,a.asyncMeta={data:e,context:n,children:r,tag:i},a}function He(t,e){if(o(t.error)&&s(t.errorComp))return t.errorComp;if(s(t.resolved))return t.resolved;var n=Be;if(n&&s(t.owners)&&-1===t.owners.indexOf(n)&&t.owners.push(n),o(t.loading)&&s(t.loadingComp))return t.loadingComp;if(n&&!s(t.owners)){var r=t.owners=[n],i=!0,l=null,c=null;n.$on("hook:destroyed",(function(){return S(r,n)}));var u=function(t){for(var e=0,n=r.length;e<n;e++)r[e].$forceUpdate();t&&(r.length=0,null!==l&&(clearTimeout(l),l=null),null!==c&&(clearTimeout(c),c=null))},p=H((function(n){t.resolved=ze(n,e),i?r.length=0:u(!0)})),d=H((function(e){s(t.errorComp)&&(t.error=!0,u(!0))})),f=t(p,d);return h(f)&&(g(f)?a(t.resolved)&&f.then(p,d):g(f.component)&&(f.component.then(p,d),s(f.error)&&(t.errorComp=ze(f.error,e)),s(f.loading)&&(t.loadingComp=ze(f.loading,e),0===f.delay?t.loading=!0:l=setTimeout((function(){l=null,a(t.resolved)&&a(t.error)&&(t.loading=!0,u(!1))}),f.delay||200)),s(f.timeout)&&(c=setTimeout((function(){c=null,a(t.resolved)&&d(null)}),f.timeout)))),i=!1,t.loading?t.loadingComp:t.resolved}}function Ge(t){if(i(t))for(var e=0;e<t.length;e++){var n=t[e];if(s(n)&&(s(n.componentOptions)||Ce(n)))return n}}var We=1,je=2;function qe(t,e,n,r,a,s){return(i(n)||c(n))&&(a=r,r=n,n=void 0),o(s)&&(a=je),$e(t,e,n,r,a)}function $e(t,e,n,r,a){if(s(n)&&s(n.__ob__))return _t();if(s(n)&&s(n.is)&&(e=n.is),!e)return _t();var o,l;if(i(r)&&u(r[0])&&(n=n||{},n.scopedSlots={default:r[0]},r.length=0),a===je?r=oe(r):a===We&&(r=se(r)),"string"===typeof e){var c=void 0;l=t.$vnode&&t.$vnode.ns||$.getTagNamespace(e),o=$.isReservedTag(e)?new yt($.parsePlatformTagName(e),n,r,void 0,void 0,t):n&&n.pre||!s(c=Mr(t.$options,"components",e))?new yt(e,n,r,void 0,void 0,t):lr(c,n,t,r,e)}else o=lr(e,n,t,r);return i(o)?o:s(o)?(s(l)&&Xe(o,l),s(n)&&Ye(n),o):_t()}function Xe(t,e,n){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,n=!0),s(t.children))for(var r=0,i=t.children.length;r<i;r++){var l=t.children[r];s(l.tag)&&(a(l.ns)||o(n)&&"svg"!==l.tag)&&Xe(l,e,n)}}function Ye(t){h(t.style)&&mn(t.style),h(t.class)&&mn(t.class)}function Ke(t,e,n){Ct();try{if(e){var r=e;while(r=r.$parent){var i=r.$options.errorCaptured;if(i)for(var a=0;a<i.length;a++)try{var s=!1===i[a].call(r,t,e,n);if(s)return}catch(Js){Je(Js,r,"errorCaptured hook")}}}Je(t,e,n)}finally{At()}}function Ze(t,e,n,r,i){var a;try{a=n?t.apply(e,n):t.call(e),a&&!a._isVue&&g(a)&&!a._handled&&(a.catch((function(t){return Ke(t,r,i+" (Promise/async)")})),a._handled=!0)}catch(Js){Ke(Js,r,i)}return a}function Je(t,e,n){if($.errorHandler)try{return $.errorHandler.call(null,t,e,n)}catch(Js){Js!==t&&Qe(Js,null,"config.errorHandler")}Qe(t,e,n)}function Qe(t,e,n){if(!tt||"undefined"===typeof console)throw t;console.error(t)}var tn,en=!1,nn=[],rn=!1;function an(){rn=!1;var t=nn.slice(0);nn.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!==typeof Promise&&dt(Promise)){var sn=Promise.resolve();tn=function(){sn.then(an),at&&setTimeout(N)},en=!0}else if(nt||"undefined"===typeof MutationObserver||!dt(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())tn="undefined"!==typeof setImmediate&&dt(setImmediate)?function(){setImmediate(an)}:function(){setTimeout(an,0)};else{var on=1,ln=new MutationObserver(an),cn=document.createTextNode(String(on));ln.observe(cn,{characterData:!0}),tn=function(){on=(on+1)%2,cn.data=String(on)},en=!0}function un(t,e){var n;if(nn.push((function(){if(t)try{t.call(e)}catch(Js){Ke(Js,e,"nextTick")}else n&&n(e)})),rn||(rn=!0,tn()),!t&&"undefined"!==typeof Promise)return new Promise((function(t){n=t}))}function hn(t){return function(e,n){if(void 0===n&&(n=gt),n)return pn(n,t,e)}}function pn(t,e,n){var r=t.$options;r[e]=vr(r[e],n)}hn("beforeMount"),hn("mounted"),hn("beforeUpdate"),hn("updated"),hn("beforeDestroy"),hn("destroyed"),hn("activated"),hn("deactivated"),hn("serverPrefetch"),hn("renderTracked"),hn("renderTriggered"),hn("errorCaptured");var dn="2.7.16";var fn=new ft;function mn(t){return gn(t,fn),fn.clear(),t}function gn(t,e){var n,r,a=i(t);if(!(!a&&!h(t)||t.__v_skip||Object.isFrozen(t)||t instanceof yt)){if(t.__ob__){var s=t.__ob__.dep.id;if(e.has(s))return;e.add(s)}if(a){n=t.length;while(n--)gn(t[n],e)}else if(qt(t))gn(t.value,e);else{r=Object.keys(t),n=r.length;while(n--)gn(t[r[n]],e)}}}var vn,yn=0,_n=function(){function t(t,e,n,r,i){Zt(this,Yt&&!Yt._vm?Yt:t?t._scope:void 0),(this.vm=t)&&i&&(t._watcher=this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++yn,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ft,this.newDepIds=new ft,this.expression="",u(e)?this.getter=e:(this.getter=J(e),this.getter||(this.getter=N)),this.value=this.lazy?void 0:this.get()}return t.prototype.get=function(){var t;Ct(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(Js){if(!this.user)throw Js;Ke(Js,e,'getter for watcher "'.concat(this.expression,'"'))}finally{this.deep&&mn(t),At(),this.cleanupDeps()}return t},t.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},t.prototype.cleanupDeps=function(){var t=this.deps.length;while(t--){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},t.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():Zn(this)},t.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||h(t)||this.deep){var e=this.value;if(this.value=t,this.user){var n='callback for watcher "'.concat(this.expression,'"');Ze(this.cb,this.vm,[t,e],this.vm,n)}else this.cb.call(this.vm,t,e)}}},t.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},t.prototype.depend=function(){var t=this.deps.length;while(t--)this.deps[t].depend()},t.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&S(this.vm._scope.effects,this),this.active){var t=this.deps.length;while(t--)this.deps[t].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},t}();function xn(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&En(t,e)}function bn(t,e){vn.$on(t,e)}function Sn(t,e){vn.$off(t,e)}function wn(t,e){var n=vn;return function r(){var i=e.apply(null,arguments);null!==i&&n.$off(t,r)}}function En(t,e,n){vn=t,ne(e,n||{},bn,Sn,wn,t),vn=void 0}function Mn(t){var e=/^hook:/;t.prototype.$on=function(t,n){var r=this;if(i(t))for(var a=0,s=t.length;a<s;a++)r.$on(t[a],n);else(r._events[t]||(r._events[t]=[])).push(n),e.test(t)&&(r._hasHookEvent=!0);return r},t.prototype.$once=function(t,e){var n=this;function r(){n.$off(t,r),e.apply(n,arguments)}return r.fn=e,n.$on(t,r),n},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(i(t)){for(var r=0,a=t.length;r<a;r++)n.$off(t[r],e);return n}var s,o=n._events[t];if(!o)return n;if(!e)return n._events[t]=null,n;var l=o.length;while(l--)if(s=o[l],s===e||s.fn===e){o.splice(l,1);break}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?k(n):n;for(var r=k(arguments,1),i='event handler for "'.concat(t,'"'),a=0,s=n.length;a<s;a++)Ze(n[a],e,r,e,i)}return e}}var Tn=null;function Cn(t){var e=Tn;return Tn=t,function(){Tn=e}}function An(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){while(n.$options.abstract&&n.$parent)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._provided=n?n._provided:Object.create(null),t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function Pn(t){t.prototype._update=function(t,e){var n=this,r=n.$el,i=n._vnode,a=Cn(n);n._vnode=t,n.$el=i?n.__patch__(i,t):n.__patch__(n.$el,t,e,!1),a(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n);var s=n;while(s&&s.$vnode&&s.$parent&&s.$vnode===s.$parent._vnode)s.$parent.$el=s.$el,s=s.$parent},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){On(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||S(e.$children,t),t._scope.stop(),t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),On(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}function Rn(t,e,n){var r;t.$el=e,t.$options.render||(t.$options.render=_t),On(t,"beforeMount"),r=function(){t._update(t._render(),n)};var i={before:function(){t._isMounted&&!t._isDestroyed&&On(t,"beforeUpdate")}};new _n(t,r,N,i,!0),n=!1;var a=t._preWatchers;if(a)for(var s=0;s<a.length;s++)a[s].run();return null==t.$vnode&&(t._isMounted=!0,On(t,"mounted")),t}function Dn(t,e,n,i,a){var s=i.data.scopedSlots,o=t.$scopedSlots,l=!!(s&&!s.$stable||o!==r&&!o.$stable||s&&t.$scopedSlots.$key!==s.$key||!s&&t.$scopedSlots.$key),c=!!(a||t.$options._renderChildren||l),u=t.$vnode;t.$options._parentVnode=i,t.$vnode=i,t._vnode&&(t._vnode.parent=i),t.$options._renderChildren=a;var h=i.data.attrs||r;t._attrsProxy&&Le(t._attrsProxy,h,u.data&&u.data.attrs||r,t,"$attrs")&&(c=!0),t.$attrs=h,n=n||r;var p=t.$options._parentListeners;if(t._listenersProxy&&Le(t._listenersProxy,n,p||r,t,"$listeners"),t.$listeners=t.$options._parentListeners=n,En(t,n,p),e&&t.$options.props){Ot(!1);for(var d=t._props,f=t.$options._propKeys||[],m=0;m<f.length;m++){var g=f[m],v=t.$options.props;d[g]=Tr(g,v,e,t)}Ot(!0),t.$options.propsData=e}c&&(t.$slots=Me(a,i.context),t.$forceUpdate())}function In(t){while(t&&(t=t.$parent))if(t._inactive)return!0;return!1}function Ln(t,e){if(e){if(t._directInactive=!1,In(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)Ln(t.$children[n]);On(t,"activated")}}function kn(t,e){if((!e||(t._directInactive=!0,!In(t)))&&!t._inactive){t._inactive=!0;for(var n=0;n<t.$children.length;n++)kn(t.$children[n]);On(t,"deactivated")}}function On(t,e,n,r){void 0===r&&(r=!0),Ct();var i=gt,a=Jt();r&&vt(t);var s=t.$options[e],o="".concat(e," hook");if(s)for(var l=0,c=s.length;l<c;l++)Ze(s[l],t,n||null,t,o);t._hasHookEvent&&t.$emit("hook:"+e),r&&(vt(i),a&&a.on()),At()}var Fn=[],Nn=[],Bn={},Un=!1,zn=!1,Vn=0;function Hn(){Vn=Fn.length=Nn.length=0,Bn={},Un=zn=!1}var Gn=0,Wn=Date.now;if(tt&&!nt){var jn=window.performance;jn&&"function"===typeof jn.now&&Wn()>document.createEvent("Event").timeStamp&&(Wn=function(){return jn.now()})}var qn=function(t,e){if(t.post){if(!e.post)return 1}else if(e.post)return-1;return t.id-e.id};function $n(){var t,e;for(Gn=Wn(),zn=!0,Fn.sort(qn),Vn=0;Vn<Fn.length;Vn++)t=Fn[Vn],t.before&&t.before(),e=t.id,Bn[e]=null,t.run();var n=Nn.slice(),r=Fn.slice();Hn(),Kn(n),Xn(r),Et(),pt&&$.devtools&&pt.emit("flush")}function Xn(t){var e=t.length;while(e--){var n=t[e],r=n.vm;r&&r._watcher===n&&r._isMounted&&!r._isDestroyed&&On(r,"updated")}}function Yn(t){t._inactive=!1,Nn.push(t)}function Kn(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,Ln(t[e],!0)}function Zn(t){var e=t.id;if(null==Bn[e]&&(t!==Mt.target||!t.noRecurse)){if(Bn[e]=!0,zn){var n=Fn.length-1;while(n>Vn&&Fn[n].id>t.id)n--;Fn.splice(n+1,0,t)}else Fn.push(t);Un||(Un=!0,un($n))}}function Jn(t){var e=t.$options.provide;if(e){var n=u(e)?e.call(t):e;if(!h(n))return;for(var r=Qt(t),i=mt?Reflect.ownKeys(n):Object.keys(n),a=0;a<i.length;a++){var s=i[a];Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(n,s))}}}function Qn(t){var e=tr(t.$options.inject,t);e&&(Ot(!1),Object.keys(e).forEach((function(n){Ut(t,n,e[n])})),Ot(!0))}function tr(t,e){if(t){for(var n=Object.create(null),r=mt?Reflect.ownKeys(t):Object.keys(t),i=0;i<r.length;i++){var a=r[i];if("__ob__"!==a){var s=t[a].from;if(s in e._provided)n[a]=e._provided[s];else if("default"in t[a]){var o=t[a].default;n[a]=u(o)?o.call(e):o}else 0}}return n}}function er(t,e,n,a,s){var l,c=this,u=s.options;E(a,"_uid")?(l=Object.create(a),l._original=a):(l=a,a=a._original);var h=o(u._compiled),p=!h;this.data=t,this.props=e,this.children=n,this.parent=a,this.listeners=t.on||r,this.injections=tr(u.inject,a),this.slots=function(){return c.$slots||Ae(a,t.scopedSlots,c.$slots=Me(n,a)),c.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Ae(a,t.scopedSlots,this.slots())}}),h&&(this.$options=u,this.$slots=this.slots(),this.$scopedSlots=Ae(a,t.scopedSlots,this.$slots)),u._scopeId?this._c=function(t,e,n,r){var s=qe(l,t,e,n,r,p);return s&&!i(s)&&(s.fnScopeId=u._scopeId,s.fnContext=a),s}:this._c=function(t,e,n,r){return qe(l,t,e,n,r,p)}}function nr(t,e,n,a,o){var l=t.options,c={},u=l.props;if(s(u))for(var h in u)c[h]=Tr(h,u,e||r);else s(n.attrs)&&ir(c,n.attrs),s(n.props)&&ir(c,n.props);var p=new er(n,c,o,a,t),d=l.render.call(null,p._c,p);if(d instanceof yt)return rr(d,n,p.parent,l,p);if(i(d)){for(var f=oe(d)||[],m=new Array(f.length),g=0;g<f.length;g++)m[g]=rr(f[g],n,p.parent,l,p);return m}}function rr(t,e,n,r,i){var a=bt(t);return a.fnContext=n,a.fnOptions=r,e.slot&&((a.data||(a.data={})).slot=e.slot),a}function ir(t,e){for(var n in e)t[C(n)]=e[n]}function ar(t){return t.name||t.__name||t._componentTag}Ee(er.prototype);var sr={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;sr.prepatch(n,n)}else{var r=t.componentInstance=cr(t,Tn);r.$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var n=e.componentOptions,r=e.componentInstance=t.componentInstance;Dn(r,n.propsData,n.listeners,e,n.children)},insert:function(t){var e=t.context,n=t.componentInstance;n._isMounted||(n._isMounted=!0,On(n,"mounted")),t.data.keepAlive&&(e._isMounted?Yn(n):Ln(n,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?kn(e,!0):e.$destroy())}},or=Object.keys(sr);function lr(t,e,n,r,i){if(!a(t)){var l=n.$options._base;if(h(t)&&(t=l.extend(t)),"function"===typeof t){var c;if(a(t.cid)&&(c=t,t=He(c,l),void 0===t))return Ve(c,e,n,r,i);e=e||{},Kr(t),s(e.model)&&pr(t.options,e);var u=ie(e,t,i);if(o(t.options.functional))return nr(t,u,e,n,r);var p=e.on;if(e.on=e.nativeOn,o(t.options.abstract)){var d=e.slot;e={},d&&(e.slot=d)}ur(e);var f=ar(t.options)||i,m=new yt("vue-component-".concat(t.cid).concat(f?"-".concat(f):""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:u,listeners:p,tag:i,children:r},c);return m}}}function cr(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},r=t.data.inlineTemplate;return s(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns),new t.componentOptions.Ctor(n)}function ur(t){for(var e=t.hook||(t.hook={}),n=0;n<or.length;n++){var r=or[n],i=e[r],a=sr[r];i===a||i&&i._merged||(e[r]=i?hr(a,i):a)}}function hr(t,e){var n=function(n,r){t(n,r),e(n,r)};return n._merged=!0,n}function pr(t,e){var n=t.model&&t.model.prop||"value",r=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var a=e.on||(e.on={}),o=a[r],l=e.model.callback;s(o)?(i(o)?-1===o.indexOf(l):o!==l)&&(a[r]=[l].concat(o)):a[r]=l}var dr=N,fr=$.optionMergeStrategies;function mr(t,e,n){if(void 0===n&&(n=!0),!e)return t;for(var r,i,a,s=mt?Reflect.ownKeys(e):Object.keys(e),o=0;o<s.length;o++)r=s[o],"__ob__"!==r&&(i=t[r],a=e[r],n&&E(t,r)?i!==a&&d(i)&&d(a)&&mr(i,a):zt(t,r,a));return t}function gr(t,e,n){return n?function(){var r=u(e)?e.call(n,n):e,i=u(t)?t.call(n,n):t;return r?mr(r,i):i}:e?t?function(){return mr(u(e)?e.call(this,this):e,u(t)?t.call(this,this):t)}:e:t}function vr(t,e){var n=e?t?t.concat(e):i(e)?e:[e]:t;return n?yr(n):n}function yr(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}function _r(t,e,n,r){var i=Object.create(t||null);return e?O(i,e):i}fr.data=function(t,e,n){return n?gr(t,e,n):e&&"function"!==typeof e?t:gr(t,e)},q.forEach((function(t){fr[t]=vr})),j.forEach((function(t){fr[t+"s"]=_r})),fr.watch=function(t,e,n,r){if(t===lt&&(t=void 0),e===lt&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var a={};for(var s in O(a,t),e){var o=a[s],l=e[s];o&&!i(o)&&(o=[o]),a[s]=o?o.concat(l):i(l)?l:[l]}return a},fr.props=fr.methods=fr.inject=fr.computed=function(t,e,n,r){if(!t)return e;var i=Object.create(null);return O(i,t),e&&O(i,e),i},fr.provide=function(t,e){return t?function(){var n=Object.create(null);return mr(n,u(t)?t.call(this):t),e&&mr(n,u(e)?e.call(this):e,!1),n}:e};var xr=function(t,e){return void 0===e?t:e};function br(t,e){var n=t.props;if(n){var r,a,s,o={};if(i(n)){r=n.length;while(r--)a=n[r],"string"===typeof a&&(s=C(a),o[s]={type:null})}else if(d(n))for(var l in n)a=n[l],s=C(l),o[s]=d(a)?a:{type:a};else 0;t.props=o}}function Sr(t,e){var n=t.inject;if(n){var r=t.inject={};if(i(n))for(var a=0;a<n.length;a++)r[n[a]]={from:n[a]};else if(d(n))for(var s in n){var o=n[s];r[s]=d(o)?O({from:s},o):{from:o}}else 0}}function wr(t){var e=t.directives;if(e)for(var n in e){var r=e[n];u(r)&&(e[n]={bind:r,update:r})}}function Er(t,e,n){if(u(e)&&(e=e.options),br(e,n),Sr(e,n),wr(e),!e._base&&(e.extends&&(t=Er(t,e.extends,n)),e.mixins))for(var r=0,i=e.mixins.length;r<i;r++)t=Er(t,e.mixins[r],n);var a,s={};for(a in t)o(a);for(a in e)E(t,a)||o(a);function o(r){var i=fr[r]||xr;s[r]=i(t[r],e[r],n,r)}return s}function Mr(t,e,n,r){if("string"===typeof n){var i=t[e];if(E(i,n))return i[n];var a=C(n);if(E(i,a))return i[a];var s=A(a);if(E(i,s))return i[s];var o=i[n]||i[a]||i[s];return o}}function Tr(t,e,n,r){var i=e[t],a=!E(n,t),s=n[t],o=Dr(Boolean,i.type);if(o>-1)if(a&&!E(i,"default"))s=!1;else if(""===s||s===R(t)){var l=Dr(String,i.type);(l<0||o<l)&&(s=!0)}if(void 0===s){s=Cr(r,i,t);var c=kt;Ot(!0),Bt(s),Ot(c)}return s}function Cr(t,e,n){if(E(e,"default")){var r=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n]?t._props[n]:u(r)&&"Function"!==Pr(e.type)?r.call(t):r}}var Ar=/^\s*function (\w+)/;function Pr(t){var e=t&&t.toString().match(Ar);return e?e[1]:""}function Rr(t,e){return Pr(t)===Pr(e)}function Dr(t,e){if(!i(e))return Rr(e,t)?0:-1;for(var n=0,r=e.length;n<r;n++)if(Rr(e[n],t))return n;return-1}var Ir={enumerable:!0,configurable:!0,get:N,set:N};function Lr(t,e,n){Ir.get=function(){return this[e][n]},Ir.set=function(t){this[e][n]=t},Object.defineProperty(t,n,Ir)}function kr(t){var e=t.$options;if(e.props&&Or(t,e.props),De(t),e.methods&&Gr(t,e.methods),e.data)Fr(t);else{var n=Bt(t._data={});n&&n.vmCount++}e.computed&&Ur(t,e.computed),e.watch&&e.watch!==lt&&Wr(t,e.watch)}function Or(t,e){var n=t.$options.propsData||{},r=t._props=Gt({}),i=t.$options._propKeys=[],a=!t.$parent;a||Ot(!1);var s=function(a){i.push(a);var s=Tr(a,e,n,t);Ut(r,a,s,void 0,!0),a in t||Lr(t,"_props",a)};for(var o in e)s(o);Ot(!0)}function Fr(t){var e=t.$options.data;e=t._data=u(e)?Nr(e,t):e||{},d(e)||(e={});var n=Object.keys(e),r=t.$options.props,i=(t.$options.methods,n.length);while(i--){var a=n[i];0,r&&E(r,a)||Y(a)||Lr(t,"_data",a)}var s=Bt(e);s&&s.vmCount++}function Nr(t,e){Ct();try{return t.call(e,e)}catch(Js){return Ke(Js,e,"data()"),{}}finally{At()}}var Br={lazy:!0};function Ur(t,e){var n=t._computedWatchers=Object.create(null),r=ht();for(var i in e){var a=e[i],s=u(a)?a:a.get;0,r||(n[i]=new _n(t,s||N,N,Br)),i in t||zr(t,i,a)}}function zr(t,e,n){var r=!ht();u(n)?(Ir.get=r?Vr(e):Hr(n),Ir.set=N):(Ir.get=n.get?r&&!1!==n.cache?Vr(e):Hr(n.get):N,Ir.set=n.set||N),Object.defineProperty(t,e,Ir)}function Vr(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),Mt.target&&e.depend(),e.value}}function Hr(t){return function(){return t.call(this,this)}}function Gr(t,e){t.$options.props;for(var n in e)t[n]="function"!==typeof e[n]?N:L(e[n],t)}function Wr(t,e){for(var n in e){var r=e[n];if(i(r))for(var a=0;a<r.length;a++)jr(t,n,r[a]);else jr(t,n,r)}}function jr(t,e,n,r){return d(n)&&(r=n,n=n.handler),"string"===typeof n&&(n=t[n]),t.$watch(e,n,r)}function qr(t){var e={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=zt,t.prototype.$delete=Vt,t.prototype.$watch=function(t,e,n){var r=this;if(d(e))return jr(r,t,e,n);n=n||{},n.user=!0;var i=new _n(r,t,e,n);if(n.immediate){var a='callback for immediate watcher "'.concat(i.expression,'"');Ct(),Ze(e,r,[i.value],r,a),At()}return function(){i.teardown()}}}var $r=0;function Xr(t){t.prototype._init=function(t){var e=this;e._uid=$r++,e._isVue=!0,e.__v_skip=!0,e._scope=new Kt(!0),e._scope.parent=void 0,e._scope._vm=!0,t&&t._isComponent?Yr(e,t):e.$options=Er(Kr(e.constructor),t||{},e),e._renderProxy=e,e._self=e,An(e),xn(e),Ne(e),On(e,"beforeCreate",void 0,!1),Qn(e),kr(e),Jn(e),On(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}function Yr(t,e){var n=t.$options=Object.create(t.constructor.options),r=e._parentVnode;n.parent=e.parent,n._parentVnode=r;var i=r.componentOptions;n.propsData=i.propsData,n._parentListeners=i.listeners,n._renderChildren=i.children,n._componentTag=i.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}function Kr(t){var e=t.options;if(t.super){var n=Kr(t.super),r=t.superOptions;if(n!==r){t.superOptions=n;var i=Zr(t);i&&O(t.extendOptions,i),e=t.options=Er(n,t.extendOptions),e.name&&(e.components[e.name]=t)}}return e}function Zr(t){var e,n=t.options,r=t.sealedOptions;for(var i in n)n[i]!==r[i]&&(e||(e={}),e[i]=n[i]);return e}function Jr(t){this._init(t)}function Qr(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=k(arguments,1);return n.unshift(this),u(t.install)?t.install.apply(t,n):u(t)&&t.apply(null,n),e.push(t),this}}function ti(t){t.mixin=function(t){return this.options=Er(this.options,t),this}}function ei(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,r=n.cid,i=t._Ctor||(t._Ctor={});if(i[r])return i[r];var a=ar(t)||ar(n.options);var s=function(t){this._init(t)};return s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.cid=e++,s.options=Er(n.options,t),s["super"]=n,s.options.props&&ni(s),s.options.computed&&ri(s),s.extend=n.extend,s.mixin=n.mixin,s.use=n.use,j.forEach((function(t){s[t]=n[t]})),a&&(s.options.components[a]=s),s.superOptions=n.options,s.extendOptions=t,s.sealedOptions=O({},s.options),i[r]=s,s}}function ni(t){var e=t.options.props;for(var n in e)Lr(t.prototype,"_props",n)}function ri(t){var e=t.options.computed;for(var n in e)zr(t.prototype,n,e[n])}function ii(t){j.forEach((function(e){t[e]=function(t,n){return n?("component"===e&&d(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&u(n)&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}}))}function ai(t){return t&&(ar(t.Ctor.options)||t.tag)}function si(t,e){return i(t)?t.indexOf(e)>-1:"string"===typeof t?t.split(",").indexOf(e)>-1:!!f(t)&&t.test(e)}function oi(t,e){var n=t.cache,r=t.keys,i=t._vnode,a=t.$vnode;for(var s in n){var o=n[s];if(o){var l=o.name;l&&!e(l)&&li(n,s,r,i)}}a.componentOptions.children=void 0}function li(t,e,n,r){var i=t[e];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),t[e]=null,S(n,e)}Xr(Jr),qr(Jr),Mn(Jr),Pn(Jr),Ue(Jr);var ci=[String,RegExp,Array],ui={name:"keep-alive",abstract:!0,props:{include:ci,exclude:ci,max:[String,Number]},methods:{cacheVNode:function(){var t=this,e=t.cache,n=t.keys,r=t.vnodeToCache,i=t.keyToCache;if(r){var a=r.tag,s=r.componentInstance,o=r.componentOptions;e[i]={name:ai(o),tag:a,componentInstance:s},n.push(i),this.max&&n.length>parseInt(this.max)&&li(e,n[0],n,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)li(this.cache,t,this.keys)},mounted:function(){var t=this;this.cacheVNode(),this.$watch("include",(function(e){oi(t,(function(t){return si(e,t)}))})),this.$watch("exclude",(function(e){oi(t,(function(t){return!si(e,t)}))}))},updated:function(){this.cacheVNode()},render:function(){var t=this.$slots.default,e=Ge(t),n=e&&e.componentOptions;if(n){var r=ai(n),i=this,a=i.include,s=i.exclude;if(a&&(!r||!si(a,r))||s&&r&&si(s,r))return e;var o=this,l=o.cache,c=o.keys,u=null==e.key?n.Ctor.cid+(n.tag?"::".concat(n.tag):""):e.key;l[u]?(e.componentInstance=l[u].componentInstance,S(c,u),c.push(u)):(this.vnodeToCache=e,this.keyToCache=u),e.data.keepAlive=!0}return e||t&&t[0]}},hi={KeepAlive:ui};function pi(t){var e={get:function(){return $}};Object.defineProperty(t,"config",e),t.util={warn:dr,extend:O,mergeOptions:Er,defineReactive:Ut},t.set=zt,t.delete=Vt,t.nextTick=un,t.observable=function(t){return Bt(t),t},t.options=Object.create(null),j.forEach((function(e){t.options[e+"s"]=Object.create(null)})),t.options._base=t,O(t.options.components,hi),Qr(t),ti(t),ei(t),ii(t)}pi(Jr),Object.defineProperty(Jr.prototype,"$isServer",{get:ht}),Object.defineProperty(Jr.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Jr,"FunctionalRenderContext",{value:er}),Jr.version=dn;var di=x("style,class"),fi=x("input,textarea,option,select,progress"),mi=function(t,e,n){return"value"===n&&fi(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},gi=x("contenteditable,draggable,spellcheck"),vi=x("events,caret,typing,plaintext-only"),yi=function(t,e){return wi(e)||"false"===e?"false":"contenteditable"===t&&vi(e)?e:"true"},_i=x("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),xi="http://www.w3.org/1999/xlink",bi=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Si=function(t){return bi(t)?t.slice(6,t.length):""},wi=function(t){return null==t||!1===t};function Ei(t){var e=t.data,n=t,r=t;while(s(r.componentInstance))r=r.componentInstance._vnode,r&&r.data&&(e=Mi(r.data,e));while(s(n=n.parent))n&&n.data&&(e=Mi(e,n.data));return Ti(e.staticClass,e.class)}function Mi(t,e){return{staticClass:Ci(t.staticClass,e.staticClass),class:s(t.class)?[t.class,e.class]:e.class}}function Ti(t,e){return s(t)||s(e)?Ci(t,Ai(e)):""}function Ci(t,e){return t?e?t+" "+e:t:e||""}function Ai(t){return Array.isArray(t)?Pi(t):h(t)?Ri(t):"string"===typeof t?t:""}function Pi(t){for(var e,n="",r=0,i=t.length;r<i;r++)s(e=Ai(t[r]))&&""!==e&&(n&&(n+=" "),n+=e);return n}function Ri(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}var Di={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Ii=x("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Li=x("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),ki=function(t){return Ii(t)||Li(t)};function Oi(t){return Li(t)?"svg":"math"===t?"math":void 0}var Fi=Object.create(null);function Ni(t){if(!tt)return!0;if(ki(t))return!1;if(t=t.toLowerCase(),null!=Fi[t])return Fi[t];var e=document.createElement(t);return t.indexOf("-")>-1?Fi[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Fi[t]=/HTMLUnknownElement/.test(e.toString())}var Bi=x("text,number,password,search,email,tel,url");function Ui(t){if("string"===typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}function zi(t,e){var n=document.createElement(t);return"select"!==t||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n}function Vi(t,e){return document.createElementNS(Di[t],e)}function Hi(t){return document.createTextNode(t)}function Gi(t){return document.createComment(t)}function Wi(t,e,n){t.insertBefore(e,n)}function ji(t,e){t.removeChild(e)}function qi(t,e){t.appendChild(e)}function $i(t){return t.parentNode}function Xi(t){return t.nextSibling}function Yi(t){return t.tagName}function Ki(t,e){t.textContent=e}function Zi(t,e){t.setAttribute(e,"")}var Ji=Object.freeze({__proto__:null,createElement:zi,createElementNS:Vi,createTextNode:Hi,createComment:Gi,insertBefore:Wi,removeChild:ji,appendChild:qi,parentNode:$i,nextSibling:Xi,tagName:Yi,setTextContent:Ki,setStyleScope:Zi}),Qi={create:function(t,e){ta(e)},update:function(t,e){t.data.ref!==e.data.ref&&(ta(t,!0),ta(e))},destroy:function(t){ta(t,!0)}};function ta(t,e){var n=t.data.ref;if(s(n)){var r=t.context,a=t.componentInstance||t.elm,o=e?null:a,l=e?void 0:a;if(u(n))Ze(n,r,[o],r,"template ref function");else{var c=t.data.refInFor,h="string"===typeof n||"number"===typeof n,p=qt(n),d=r.$refs;if(h||p)if(c){var f=h?d[n]:n.value;e?i(f)&&S(f,a):i(f)?f.includes(a)||f.push(a):h?(d[n]=[a],ea(r,n,d[n])):n.value=[a]}else if(h){if(e&&d[n]!==a)return;d[n]=l,ea(r,n,o)}else if(p){if(e&&n.value!==a)return;n.value=o}else 0}}}function ea(t,e,n){var r=t._setupState;r&&E(r,e)&&(qt(r[e])?r[e].value=n:r[e]=n)}var na=new yt("",{},[]),ra=["create","activate","update","remove","destroy"];function ia(t,e){return t.key===e.key&&t.asyncFactory===e.asyncFactory&&(t.tag===e.tag&&t.isComment===e.isComment&&s(t.data)===s(e.data)&&aa(t,e)||o(t.isAsyncPlaceholder)&&a(e.asyncFactory.error))}function aa(t,e){if("input"!==t.tag)return!0;var n,r=s(n=t.data)&&s(n=n.attrs)&&n.type,i=s(n=e.data)&&s(n=n.attrs)&&n.type;return r===i||Bi(r)&&Bi(i)}function sa(t,e,n){var r,i,a={};for(r=e;r<=n;++r)i=t[r].key,s(i)&&(a[i]=r);return a}function oa(t){var e,n,r={},l=t.modules,u=t.nodeOps;for(e=0;e<ra.length;++e)for(r[ra[e]]=[],n=0;n<l.length;++n)s(l[n][ra[e]])&&r[ra[e]].push(l[n][ra[e]]);function h(t){return new yt(u.tagName(t).toLowerCase(),{},[],void 0,t)}function p(t,e){function n(){0===--n.listeners&&d(t)}return n.listeners=e,n}function d(t){var e=u.parentNode(t);s(e)&&u.removeChild(e,t)}function f(t,e,n,r,i,a,l){if(s(t.elm)&&s(a)&&(t=a[l]=bt(t)),t.isRootInsert=!i,!m(t,e,n,r)){var c=t.data,h=t.children,p=t.tag;s(p)?(t.elm=t.ns?u.createElementNS(t.ns,p):u.createElement(p,t),w(t),_(t,h,e),s(c)&&S(t,e),y(n,t.elm,r)):o(t.isComment)?(t.elm=u.createComment(t.text),y(n,t.elm,r)):(t.elm=u.createTextNode(t.text),y(n,t.elm,r))}}function m(t,e,n,r){var i=t.data;if(s(i)){var a=s(t.componentInstance)&&i.keepAlive;if(s(i=i.hook)&&s(i=i.init)&&i(t,!1),s(t.componentInstance))return g(t,e),y(n,t.elm,r),o(a)&&v(t,e,n,r),!0}}function g(t,e){s(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,b(t)?(S(t,e),w(t)):(ta(t),e.push(t))}function v(t,e,n,i){var a,o=t;while(o.componentInstance)if(o=o.componentInstance._vnode,s(a=o.data)&&s(a=a.transition)){for(a=0;a<r.activate.length;++a)r.activate[a](na,o);e.push(o);break}y(n,t.elm,i)}function y(t,e,n){s(t)&&(s(n)?u.parentNode(n)===t&&u.insertBefore(t,e,n):u.appendChild(t,e))}function _(t,e,n){if(i(e)){0;for(var r=0;r<e.length;++r)f(e[r],n,t.elm,null,!0,e,r)}else c(t.text)&&u.appendChild(t.elm,u.createTextNode(String(t.text)))}function b(t){while(t.componentInstance)t=t.componentInstance._vnode;return s(t.tag)}function S(t,n){for(var i=0;i<r.create.length;++i)r.create[i](na,t);e=t.data.hook,s(e)&&(s(e.create)&&e.create(na,t),s(e.insert)&&n.push(t))}function w(t){var e;if(s(e=t.fnScopeId))u.setStyleScope(t.elm,e);else{var n=t;while(n)s(e=n.context)&&s(e=e.$options._scopeId)&&u.setStyleScope(t.elm,e),n=n.parent}s(e=Tn)&&e!==t.context&&e!==t.fnContext&&s(e=e.$options._scopeId)&&u.setStyleScope(t.elm,e)}function E(t,e,n,r,i,a){for(;r<=i;++r)f(n[r],a,t,e,!1,n,r)}function M(t){var e,n,i=t.data;if(s(i))for(s(e=i.hook)&&s(e=e.destroy)&&e(t),e=0;e<r.destroy.length;++e)r.destroy[e](t);if(s(e=t.children))for(n=0;n<t.children.length;++n)M(t.children[n])}function T(t,e,n){for(;e<=n;++e){var r=t[e];s(r)&&(s(r.tag)?(C(r),M(r)):d(r.elm))}}function C(t,e){if(s(e)||s(t.data)){var n,i=r.remove.length+1;for(s(e)?e.listeners+=i:e=p(t.elm,i),s(n=t.componentInstance)&&s(n=n._vnode)&&s(n.data)&&C(n,e),n=0;n<r.remove.length;++n)r.remove[n](t,e);s(n=t.data.hook)&&s(n=n.remove)?n(t,e):e()}else d(t.elm)}function A(t,e,n,r,i){var o,l,c,h,p=0,d=0,m=e.length-1,g=e[0],v=e[m],y=n.length-1,_=n[0],x=n[y],b=!i;while(p<=m&&d<=y)a(g)?g=e[++p]:a(v)?v=e[--m]:ia(g,_)?(R(g,_,r,n,d),g=e[++p],_=n[++d]):ia(v,x)?(R(v,x,r,n,y),v=e[--m],x=n[--y]):ia(g,x)?(R(g,x,r,n,y),b&&u.insertBefore(t,g.elm,u.nextSibling(v.elm)),g=e[++p],x=n[--y]):ia(v,_)?(R(v,_,r,n,d),b&&u.insertBefore(t,v.elm,g.elm),v=e[--m],_=n[++d]):(a(o)&&(o=sa(e,p,m)),l=s(_.key)?o[_.key]:P(_,e,p,m),a(l)?f(_,r,t,g.elm,!1,n,d):(c=e[l],ia(c,_)?(R(c,_,r,n,d),e[l]=void 0,b&&u.insertBefore(t,c.elm,g.elm)):f(_,r,t,g.elm,!1,n,d)),_=n[++d]);p>m?(h=a(n[y+1])?null:n[y+1].elm,E(t,h,n,d,y,r)):d>y&&T(e,p,m)}function P(t,e,n,r){for(var i=n;i<r;i++){var a=e[i];if(s(a)&&ia(t,a))return i}}function R(t,e,n,i,l,c){if(t!==e){s(e.elm)&&s(i)&&(e=i[l]=bt(e));var h=e.elm=t.elm;if(o(t.isAsyncPlaceholder))s(e.asyncFactory.resolved)?L(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(o(e.isStatic)&&o(t.isStatic)&&e.key===t.key&&(o(e.isCloned)||o(e.isOnce)))e.componentInstance=t.componentInstance;else{var p,d=e.data;s(d)&&s(p=d.hook)&&s(p=p.prepatch)&&p(t,e);var f=t.children,m=e.children;if(s(d)&&b(e)){for(p=0;p<r.update.length;++p)r.update[p](t,e);s(p=d.hook)&&s(p=p.update)&&p(t,e)}a(e.text)?s(f)&&s(m)?f!==m&&A(h,f,m,n,c):s(m)?(s(t.text)&&u.setTextContent(h,""),E(h,null,m,0,m.length-1,n)):s(f)?T(f,0,f.length-1):s(t.text)&&u.setTextContent(h,""):t.text!==e.text&&u.setTextContent(h,e.text),s(d)&&s(p=d.hook)&&s(p=p.postpatch)&&p(t,e)}}}function D(t,e,n){if(o(n)&&s(t.parent))t.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}var I=x("attrs,class,staticClass,staticStyle,key");function L(t,e,n,r){var i,a=e.tag,l=e.data,c=e.children;if(r=r||l&&l.pre,e.elm=t,o(e.isComment)&&s(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(s(l)&&(s(i=l.hook)&&s(i=i.init)&&i(e,!0),s(i=e.componentInstance)))return g(e,n),!0;if(s(a)){if(s(c))if(t.hasChildNodes())if(s(i=l)&&s(i=i.domProps)&&s(i=i.innerHTML)){if(i!==t.innerHTML)return!1}else{for(var u=!0,h=t.firstChild,p=0;p<c.length;p++){if(!h||!L(h,c[p],n,r)){u=!1;break}h=h.nextSibling}if(!u||h)return!1}else _(e,c,n);if(s(l)){var d=!1;for(var f in l)if(!I(f)){d=!0,S(e,n);break}!d&&l["class"]&&mn(l["class"])}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,n,i){if(!a(e)){var l=!1,c=[];if(a(t))l=!0,f(e,c);else{var p=s(t.nodeType);if(!p&&ia(t,e))R(t,e,c,null,null,i);else{if(p){if(1===t.nodeType&&t.hasAttribute(W)&&(t.removeAttribute(W),n=!0),o(n)&&L(t,e,c))return D(e,c,!0),t;t=h(t)}var d=t.elm,m=u.parentNode(d);if(f(e,c,d._leaveCb?null:m,u.nextSibling(d)),s(e.parent)){var g=e.parent,v=b(e);while(g){for(var y=0;y<r.destroy.length;++y)r.destroy[y](g);if(g.elm=e.elm,v){for(var _=0;_<r.create.length;++_)r.create[_](na,g);var x=g.data.hook.insert;if(x.merged)for(var S=x.fns.slice(1),w=0;w<S.length;w++)S[w]()}else ta(g);g=g.parent}}s(m)?T([t],0,0):s(t.tag)&&M(t)}}return D(e,c,l),e.elm}s(t)&&M(t)}}var la={create:ca,update:ca,destroy:function(t){ca(t,na)}};function ca(t,e){(t.data.directives||e.data.directives)&&ua(t,e)}function ua(t,e){var n,r,i,a=t===na,s=e===na,o=pa(t.data.directives,t.context),l=pa(e.data.directives,e.context),c=[],u=[];for(n in l)r=o[n],i=l[n],r?(i.oldValue=r.value,i.oldArg=r.arg,fa(i,"update",e,t),i.def&&i.def.componentUpdated&&u.push(i)):(fa(i,"bind",e,t),i.def&&i.def.inserted&&c.push(i));if(c.length){var h=function(){for(var n=0;n<c.length;n++)fa(c[n],"inserted",e,t)};a?re(e,"insert",h):h()}if(u.length&&re(e,"postpatch",(function(){for(var n=0;n<u.length;n++)fa(u[n],"componentUpdated",e,t)})),!a)for(n in o)l[n]||fa(o[n],"unbind",t,t,s)}var ha=Object.create(null);function pa(t,e){var n,r,i=Object.create(null);if(!t)return i;for(n=0;n<t.length;n++){if(r=t[n],r.modifiers||(r.modifiers=ha),i[da(r)]=r,e._setupState&&e._setupState.__sfc){var a=r.def||Mr(e,"_setupState","v-"+r.name);r.def="function"===typeof a?{bind:a,update:a}:a}r.def=r.def||Mr(e.$options,"directives",r.name,!0)}return i}function da(t){return t.rawName||"".concat(t.name,".").concat(Object.keys(t.modifiers||{}).join("."))}function fa(t,e,n,r,i){var a=t.def&&t.def[e];if(a)try{a(n.elm,t,n,r,i)}catch(Js){Ke(Js,n.context,"directive ".concat(t.name," ").concat(e," hook"))}}var ma=[Qi,la];function ga(t,e){var n=e.componentOptions;if((!s(n)||!1!==n.Ctor.options.inheritAttrs)&&(!a(t.data.attrs)||!a(e.data.attrs))){var r,i,l,c=e.elm,u=t.data.attrs||{},h=e.data.attrs||{};for(r in(s(h.__ob__)||o(h._v_attr_proxy))&&(h=e.data.attrs=O({},h)),h)i=h[r],l=u[r],l!==i&&va(c,r,i,e.data.pre);for(r in(nt||it)&&h.value!==u.value&&va(c,"value",h.value),u)a(h[r])&&(bi(r)?c.removeAttributeNS(xi,Si(r)):gi(r)||c.removeAttribute(r))}}function va(t,e,n,r){r||t.tagName.indexOf("-")>-1?ya(t,e,n):_i(e)?wi(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):gi(e)?t.setAttribute(e,yi(e,n)):bi(e)?wi(n)?t.removeAttributeNS(xi,Si(e)):t.setAttributeNS(xi,e,n):ya(t,e,n)}function ya(t,e,n){if(wi(n))t.removeAttribute(e);else{if(nt&&!rt&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==n&&!t.__ieph){var r=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",r)};t.addEventListener("input",r),t.__ieph=!0}t.setAttribute(e,n)}}var _a={create:ga,update:ga};function xa(t,e){var n=e.elm,r=e.data,i=t.data;if(!(a(r.staticClass)&&a(r.class)&&(a(i)||a(i.staticClass)&&a(i.class)))){var o=Ei(e),l=n._transitionClasses;s(l)&&(o=Ci(o,Ai(l))),o!==n._prevClass&&(n.setAttribute("class",o),n._prevClass=o)}}var ba,Sa={create:xa,update:xa},wa="__r",Ea="__c";function Ma(t){if(s(t[wa])){var e=nt?"change":"input";t[e]=[].concat(t[wa],t[e]||[]),delete t[wa]}s(t[Ea])&&(t.change=[].concat(t[Ea],t.change||[]),delete t[Ea])}function Ta(t,e,n){var r=ba;return function i(){var a=e.apply(null,arguments);null!==a&&Pa(t,i,n,r)}}var Ca=en&&!(ot&&Number(ot[1])<=53);function Aa(t,e,n,r){if(Ca){var i=Gn,a=e;e=a._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=i||t.timeStamp<=0||t.target.ownerDocument!==document)return a.apply(this,arguments)}}ba.addEventListener(t,e,ct?{capture:n,passive:r}:n)}function Pa(t,e,n,r){(r||ba).removeEventListener(t,e._wrapper||e,n)}function Ra(t,e){if(!a(t.data.on)||!a(e.data.on)){var n=e.data.on||{},r=t.data.on||{};ba=e.elm||t.elm,Ma(n),ne(n,r,Aa,Pa,Ta,e.context),ba=void 0}}var Da,Ia={create:Ra,update:Ra,destroy:function(t){return Ra(t,na)}};function La(t,e){if(!a(t.data.domProps)||!a(e.data.domProps)){var n,r,i=e.elm,l=t.data.domProps||{},c=e.data.domProps||{};for(n in(s(c.__ob__)||o(c._v_attr_proxy))&&(c=e.data.domProps=O({},c)),l)n in c||(i[n]="");for(n in c){if(r=c[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),r===l[n])continue;1===i.childNodes.length&&i.removeChild(i.childNodes[0])}if("value"===n&&"PROGRESS"!==i.tagName){i._value=r;var u=a(r)?"":String(r);ka(i,u)&&(i.value=u)}else if("innerHTML"===n&&Li(i.tagName)&&a(i.innerHTML)){Da=Da||document.createElement("div"),Da.innerHTML="<svg>".concat(r,"</svg>");var h=Da.firstChild;while(i.firstChild)i.removeChild(i.firstChild);while(h.firstChild)i.appendChild(h.firstChild)}else if(r!==l[n])try{i[n]=r}catch(Js){}}}}function ka(t,e){return!t.composing&&("OPTION"===t.tagName||Oa(t,e)||Fa(t,e))}function Oa(t,e){var n=!0;try{n=document.activeElement!==t}catch(Js){}return n&&t.value!==e}function Fa(t,e){var n=t.value,r=t._vModifiers;if(s(r)){if(r.number)return _(n)!==_(e);if(r.trim)return n.trim()!==e.trim()}return n!==e}var Na={create:La,update:La},Ba=M((function(t){var e={},n=/;(?![^(]*\))/g,r=/:(.+)/;return t.split(n).forEach((function(t){if(t){var n=t.split(r);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}));function Ua(t){var e=za(t.style);return t.staticStyle?O(t.staticStyle,e):e}function za(t){return Array.isArray(t)?F(t):"string"===typeof t?Ba(t):t}function Va(t,e){var n,r={};if(e){var i=t;while(i.componentInstance)i=i.componentInstance._vnode,i&&i.data&&(n=Ua(i.data))&&O(r,n)}(n=Ua(t.data))&&O(r,n);var a=t;while(a=a.parent)a.data&&(n=Ua(a.data))&&O(r,n);return r}var Ha,Ga=/^--/,Wa=/\s*!important$/,ja=function(t,e,n){if(Ga.test(e))t.style.setProperty(e,n);else if(Wa.test(n))t.style.setProperty(R(e),n.replace(Wa,""),"important");else{var r=$a(e);if(Array.isArray(n))for(var i=0,a=n.length;i<a;i++)t.style[r]=n[i];else t.style[r]=n}},qa=["Webkit","Moz","ms"],$a=M((function(t){if(Ha=Ha||document.createElement("div").style,t=C(t),"filter"!==t&&t in Ha)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<qa.length;n++){var r=qa[n]+e;if(r in Ha)return r}}));function Xa(t,e){var n=e.data,r=t.data;if(!(a(n.staticStyle)&&a(n.style)&&a(r.staticStyle)&&a(r.style))){var i,o,l=e.elm,c=r.staticStyle,u=r.normalizedStyle||r.style||{},h=c||u,p=za(e.data.style)||{};e.data.normalizedStyle=s(p.__ob__)?O({},p):p;var d=Va(e,!0);for(o in h)a(d[o])&&ja(l,o,"");for(o in d)i=d[o],ja(l,o,null==i?"":i)}}var Ya={create:Xa,update:Xa},Ka=/\s+/;function Za(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Ka).forEach((function(e){return t.classList.add(e)})):t.classList.add(e);else{var n=" ".concat(t.getAttribute("class")||""," ");n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function Ja(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Ka).forEach((function(e){return t.classList.remove(e)})):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{var n=" ".concat(t.getAttribute("class")||""," "),r=" "+e+" ";while(n.indexOf(r)>=0)n=n.replace(r," ");n=n.trim(),n?t.setAttribute("class",n):t.removeAttribute("class")}}function Qa(t){if(t){if("object"===typeof t){var e={};return!1!==t.css&&O(e,ts(t.name||"v")),O(e,t),e}return"string"===typeof t?ts(t):void 0}}var ts=M((function(t){return{enterClass:"".concat(t,"-enter"),enterToClass:"".concat(t,"-enter-to"),enterActiveClass:"".concat(t,"-enter-active"),leaveClass:"".concat(t,"-leave"),leaveToClass:"".concat(t,"-leave-to"),leaveActiveClass:"".concat(t,"-leave-active")}})),es=tt&&!rt,ns="transition",rs="animation",is="transition",as="transitionend",ss="animation",os="animationend";es&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(is="WebkitTransition",as="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(ss="WebkitAnimation",os="webkitAnimationEnd"));var ls=tt?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function cs(t){ls((function(){ls(t)}))}function us(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),Za(t,e))}function hs(t,e){t._transitionClasses&&S(t._transitionClasses,e),Ja(t,e)}function ps(t,e,n){var r=fs(t,e),i=r.type,a=r.timeout,s=r.propCount;if(!i)return n();var o=i===ns?as:os,l=0,c=function(){t.removeEventListener(o,u),n()},u=function(e){e.target===t&&++l>=s&&c()};setTimeout((function(){l<s&&c()}),a+1),t.addEventListener(o,u)}var ds=/\b(transform|all)(,|$)/;function fs(t,e){var n,r=window.getComputedStyle(t),i=(r[is+"Delay"]||"").split(", "),a=(r[is+"Duration"]||"").split(", "),s=ms(i,a),o=(r[ss+"Delay"]||"").split(", "),l=(r[ss+"Duration"]||"").split(", "),c=ms(o,l),u=0,h=0;e===ns?s>0&&(n=ns,u=s,h=a.length):e===rs?c>0&&(n=rs,u=c,h=l.length):(u=Math.max(s,c),n=u>0?s>c?ns:rs:null,h=n?n===ns?a.length:l.length:0);var p=n===ns&&ds.test(r[is+"Property"]);return{type:n,timeout:u,propCount:h,hasTransform:p}}function ms(t,e){while(t.length<e.length)t=t.concat(t);return Math.max.apply(null,e.map((function(e,n){return gs(e)+gs(t[n])})))}function gs(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function vs(t,e){var n=t.elm;s(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var r=Qa(t.data.transition);if(!a(r)&&!s(n._enterCb)&&1===n.nodeType){var i=r.css,o=r.type,l=r.enterClass,c=r.enterToClass,p=r.enterActiveClass,d=r.appearClass,f=r.appearToClass,m=r.appearActiveClass,g=r.beforeEnter,v=r.enter,y=r.afterEnter,x=r.enterCancelled,b=r.beforeAppear,S=r.appear,w=r.afterAppear,E=r.appearCancelled,M=r.duration,T=Tn,C=Tn.$vnode;while(C&&C.parent)T=C.context,C=C.parent;var A=!T._isMounted||!t.isRootInsert;if(!A||S||""===S){var P=A&&d?d:l,R=A&&m?m:p,D=A&&f?f:c,I=A&&b||g,L=A&&u(S)?S:v,k=A&&w||y,O=A&&E||x,F=_(h(M)?M.enter:M);0;var N=!1!==i&&!rt,B=xs(L),U=n._enterCb=H((function(){N&&(hs(n,D),hs(n,R)),U.cancelled?(N&&hs(n,P),O&&O(n)):k&&k(n),n._enterCb=null}));t.data.show||re(t,"insert",(function(){var e=n.parentNode,r=e&&e._pending&&e._pending[t.key];r&&r.tag===t.tag&&r.elm._leaveCb&&r.elm._leaveCb(),L&&L(n,U)})),I&&I(n),N&&(us(n,P),us(n,R),cs((function(){hs(n,P),U.cancelled||(us(n,D),B||(_s(F)?setTimeout(U,F):ps(n,o,U)))}))),t.data.show&&(e&&e(),L&&L(n,U)),N||B||U()}}}function ys(t,e){var n=t.elm;s(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var r=Qa(t.data.transition);if(a(r)||1!==n.nodeType)return e();if(!s(n._leaveCb)){var i=r.css,o=r.type,l=r.leaveClass,c=r.leaveToClass,u=r.leaveActiveClass,p=r.beforeLeave,d=r.leave,f=r.afterLeave,m=r.leaveCancelled,g=r.delayLeave,v=r.duration,y=!1!==i&&!rt,x=xs(d),b=_(h(v)?v.leave:v);0;var S=n._leaveCb=H((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),y&&(hs(n,c),hs(n,u)),S.cancelled?(y&&hs(n,l),m&&m(n)):(e(),f&&f(n)),n._leaveCb=null}));g?g(w):w()}function w(){S.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),p&&p(n),y&&(us(n,l),us(n,u),cs((function(){hs(n,l),S.cancelled||(us(n,c),x||(_s(b)?setTimeout(S,b):ps(n,o,S)))}))),d&&d(n,S),y||x||S())}}function _s(t){return"number"===typeof t&&!isNaN(t)}function xs(t){if(a(t))return!1;var e=t.fns;return s(e)?xs(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function bs(t,e){!0!==e.data.show&&vs(e)}var Ss=tt?{create:bs,activate:bs,remove:function(t,e){!0!==t.data.show?ys(t,e):e()}}:{},ws=[_a,Sa,Ia,Na,Ya,Ss],Es=ws.concat(ma),Ms=oa({nodeOps:Ji,modules:Es});rt&&document.addEventListener("selectionchange",(function(){var t=document.activeElement;t&&t.vmodel&&Ls(t,"input")}));var Ts={inserted:function(t,e,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?re(n,"postpatch",(function(){Ts.componentUpdated(t,e,n)})):Cs(t,e,n.context),t._vOptions=[].map.call(t.options,Rs)):("textarea"===n.tag||Bi(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",Ds),t.addEventListener("compositionend",Is),t.addEventListener("change",Is),rt&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){Cs(t,e,n.context);var r=t._vOptions,i=t._vOptions=[].map.call(t.options,Rs);if(i.some((function(t,e){return!z(t,r[e])}))){var a=t.multiple?e.value.some((function(t){return Ps(t,i)})):e.value!==e.oldValue&&Ps(e.value,i);a&&Ls(t,"change")}}}};function Cs(t,e,n){As(t,e,n),(nt||it)&&setTimeout((function(){As(t,e,n)}),0)}function As(t,e,n){var r=e.value,i=t.multiple;if(!i||Array.isArray(r)){for(var a,s,o=0,l=t.options.length;o<l;o++)if(s=t.options[o],i)a=V(r,Rs(s))>-1,s.selected!==a&&(s.selected=a);else if(z(Rs(s),r))return void(t.selectedIndex!==o&&(t.selectedIndex=o));i||(t.selectedIndex=-1)}}function Ps(t,e){return e.every((function(e){return!z(e,t)}))}function Rs(t){return"_value"in t?t._value:t.value}function Ds(t){t.target.composing=!0}function Is(t){t.target.composing&&(t.target.composing=!1,Ls(t.target,"input"))}function Ls(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function ks(t){return!t.componentInstance||t.data&&t.data.transition?t:ks(t.componentInstance._vnode)}var Os={bind:function(t,e,n){var r=e.value;n=ks(n);var i=n.data&&n.data.transition,a=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;r&&i?(n.data.show=!0,vs(n,(function(){t.style.display=a}))):t.style.display=r?a:"none"},update:function(t,e,n){var r=e.value,i=e.oldValue;if(!r!==!i){n=ks(n);var a=n.data&&n.data.transition;a?(n.data.show=!0,r?vs(n,(function(){t.style.display=t.__vOriginalDisplay})):ys(n,(function(){t.style.display="none"}))):t.style.display=r?t.__vOriginalDisplay:"none"}},unbind:function(t,e,n,r,i){i||(t.style.display=t.__vOriginalDisplay)}},Fs={model:Ts,show:Os},Ns={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Bs(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?Bs(Ge(e.children)):t}function Us(t){var e={},n=t.$options;for(var r in n.propsData)e[r]=t[r];var i=n._parentListeners;for(var r in i)e[C(r)]=i[r];return e}function zs(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function Vs(t){while(t=t.parent)if(t.data.transition)return!0}function Hs(t,e){return e.key===t.key&&e.tag===t.tag}var Gs=function(t){return t.tag||Ce(t)},Ws=function(t){return"show"===t.name},js={name:"transition",props:Ns,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(Gs),n.length)){0;var r=this.mode;0;var i=n[0];if(Vs(this.$vnode))return i;var a=Bs(i);if(!a)return i;if(this._leaving)return zs(t,i);var s="__transition-".concat(this._uid,"-");a.key=null==a.key?a.isComment?s+"comment":s+a.tag:c(a.key)?0===String(a.key).indexOf(s)?a.key:s+a.key:a.key;var o=(a.data||(a.data={})).transition=Us(this),l=this._vnode,u=Bs(l);if(a.data.directives&&a.data.directives.some(Ws)&&(a.data.show=!0),u&&u.data&&!Hs(a,u)&&!Ce(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var h=u.data.transition=O({},o);if("out-in"===r)return this._leaving=!0,re(h,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),zs(t,i);if("in-out"===r){if(Ce(a))return l;var p,d=function(){p()};re(o,"afterEnter",d),re(o,"enterCancelled",d),re(h,"delayLeave",(function(t){p=t}))}}return i}}},qs=O({tag:String,moveClass:String},Ns);delete qs.mode;var $s={props:qs,beforeMount:function(){var t=this,e=this._update;this._update=function(n,r){var i=Cn(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,i(),e.call(t,n,r)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],a=this.children=[],s=Us(this),o=0;o<i.length;o++){var l=i[o];if(l.tag)if(null!=l.key&&0!==String(l.key).indexOf("__vlist"))a.push(l),n[l.key]=l,(l.data||(l.data={})).transition=s;else;}if(r){var c=[],u=[];for(o=0;o<r.length;o++){l=r[o];l.data.transition=s,l.data.pos=l.elm.getBoundingClientRect(),n[l.key]?c.push(l):u.push(l)}this.kept=t(e,null,c),this.removed=u}return t(e,null,a)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(Xs),t.forEach(Ys),t.forEach(Ks),this._reflow=document.body.offsetHeight,t.forEach((function(t){if(t.data.moved){var n=t.elm,r=n.style;us(n,e),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(as,n._moveCb=function t(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(as,t),n._moveCb=null,hs(n,e))})}})))},methods:{hasMove:function(t,e){if(!es)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach((function(t){Ja(n,t)})),Za(n,e),n.style.display="none",this.$el.appendChild(n);var r=fs(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}};function Xs(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function Ys(t){t.data.newPos=t.elm.getBoundingClientRect()}function Ks(t){var e=t.data.pos,n=t.data.newPos,r=e.left-n.left,i=e.top-n.top;if(r||i){t.data.moved=!0;var a=t.elm.style;a.transform=a.WebkitTransform="translate(".concat(r,"px,").concat(i,"px)"),a.transitionDuration="0s"}}var Zs={Transition:js,TransitionGroup:$s};Jr.config.mustUseProp=mi,Jr.config.isReservedTag=ki,Jr.config.isReservedAttr=di,Jr.config.getTagNamespace=Oi,Jr.config.isUnknownElement=Ni,O(Jr.options.directives,Fs),O(Jr.options.components,Zs),Jr.prototype.__patch__=tt?Ms:N,Jr.prototype.$mount=function(t,e){return t=t&&tt?Ui(t):void 0,Rn(this,t,e)},tt&&setTimeout((function(){$.devtools&&pt&&pt.emit("init",Jr)}),0)},3518:function(t,e,n){"use strict";n(4114);
/*!
 * vuex v3.6.2
 * (c) 2021 Evan You
 * @license MIT
 */
function r(t){var e=Number(t.version.split(".")[0]);if(e>=2)t.mixin({beforeCreate:r});else{var n=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[r].concat(t.init):r,n.call(this,t)}}function r(){var t=this.$options;t.store?this.$store="function"===typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}}var i="undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{},a=i.__VUE_DEVTOOLS_GLOBAL_HOOK__;function s(t){a&&(t._devtoolHook=a,a.emit("vuex:init",t),a.on("vuex:travel-to-state",(function(e){t.replaceState(e)})),t.subscribe((function(t,e){a.emit("vuex:mutation",t,e)}),{prepend:!0}),t.subscribeAction((function(t,e){a.emit("vuex:action",t,e)}),{prepend:!0}))}function o(t,e){return t.filter(e)[0]}function l(t,e){if(void 0===e&&(e=[]),null===t||"object"!==typeof t)return t;var n=o(e,(function(e){return e.original===t}));if(n)return n.copy;var r=Array.isArray(t)?[]:{};return e.push({original:t,copy:r}),Object.keys(t).forEach((function(n){r[n]=l(t[n],e)})),r}function c(t,e){Object.keys(t).forEach((function(n){return e(t[n],n)}))}function u(t){return null!==t&&"object"===typeof t}function h(t){return t&&"function"===typeof t.then}function p(t,e){return function(){return t(e)}}var d=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=("function"===typeof n?n():n)||{}},f={namespaced:{configurable:!0}};f.namespaced.get=function(){return!!this._rawModule.namespaced},d.prototype.addChild=function(t,e){this._children[t]=e},d.prototype.removeChild=function(t){delete this._children[t]},d.prototype.getChild=function(t){return this._children[t]},d.prototype.hasChild=function(t){return t in this._children},d.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},d.prototype.forEachChild=function(t){c(this._children,t)},d.prototype.forEachGetter=function(t){this._rawModule.getters&&c(this._rawModule.getters,t)},d.prototype.forEachAction=function(t){this._rawModule.actions&&c(this._rawModule.actions,t)},d.prototype.forEachMutation=function(t){this._rawModule.mutations&&c(this._rawModule.mutations,t)},Object.defineProperties(d.prototype,f);var m=function(t){this.register([],t,!1)};function g(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return void 0;g(t.concat(r),e.getChild(r),n.modules[r])}}m.prototype.get=function(t){return t.reduce((function(t,e){return t.getChild(e)}),this.root)},m.prototype.getNamespace=function(t){var e=this.root;return t.reduce((function(t,n){return e=e.getChild(n),t+(e.namespaced?n+"/":"")}),"")},m.prototype.update=function(t){g([],this.root,t)},m.prototype.register=function(t,e,n){var r=this;void 0===n&&(n=!0);var i=new d(e,n);if(0===t.length)this.root=i;else{var a=this.get(t.slice(0,-1));a.addChild(t[t.length-1],i)}e.modules&&c(e.modules,(function(e,i){r.register(t.concat(i),e,n)}))},m.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1],r=e.getChild(n);r&&r.runtime&&e.removeChild(n)},m.prototype.isRegistered=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1];return!!e&&e.hasChild(n)};var v;var y=function(t){var e=this;void 0===t&&(t={}),!v&&"undefined"!==typeof window&&window.Vue&&I(window.Vue);var n=t.plugins;void 0===n&&(n=[]);var r=t.strict;void 0===r&&(r=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new m(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new v,this._makeLocalGettersCache=Object.create(null);var i=this,a=this,o=a.dispatch,l=a.commit;this.dispatch=function(t,e){return o.call(i,t,e)},this.commit=function(t,e,n){return l.call(i,t,e,n)},this.strict=r;var c=this._modules.root.state;w(this,c,[],this._modules.root),S(this,c),n.forEach((function(t){return t(e)}));var u=void 0!==t.devtools?t.devtools:v.config.devtools;u&&s(this)},_={state:{configurable:!0}};function x(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function b(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;w(t,n,[],t._modules.root,!0),S(t,n,e)}function S(t,e,n){var r=t._vm;t.getters={},t._makeLocalGettersCache=Object.create(null);var i=t._wrappedGetters,a={};c(i,(function(e,n){a[n]=p(e,t),Object.defineProperty(t.getters,n,{get:function(){return t._vm[n]},enumerable:!0})}));var s=v.config.silent;v.config.silent=!0,t._vm=new v({data:{$$state:e},computed:a}),v.config.silent=s,t.strict&&P(t),r&&(n&&t._withCommit((function(){r._data.$$state=null})),v.nextTick((function(){return r.$destroy()})))}function w(t,e,n,r,i){var a=!n.length,s=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[s],t._modulesNamespaceMap[s]=r),!a&&!i){var o=R(e,n.slice(0,-1)),l=n[n.length-1];t._withCommit((function(){v.set(o,l,r.state)}))}var c=r.context=E(t,s,n);r.forEachMutation((function(e,n){var r=s+n;T(t,r,e,c)})),r.forEachAction((function(e,n){var r=e.root?n:s+n,i=e.handler||e;C(t,r,i,c)})),r.forEachGetter((function(e,n){var r=s+n;A(t,r,e,c)})),r.forEachChild((function(r,a){w(t,e,n.concat(a),r,i)}))}function E(t,e,n){var r=""===e,i={dispatch:r?t.dispatch:function(n,r,i){var a=D(n,r,i),s=a.payload,o=a.options,l=a.type;return o&&o.root||(l=e+l),t.dispatch(l,s)},commit:r?t.commit:function(n,r,i){var a=D(n,r,i),s=a.payload,o=a.options,l=a.type;o&&o.root||(l=e+l),t.commit(l,s,o)}};return Object.defineProperties(i,{getters:{get:r?function(){return t.getters}:function(){return M(t,e)}},state:{get:function(){return R(t.state,n)}}}),i}function M(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach((function(i){if(i.slice(0,r)===e){var a=i.slice(r);Object.defineProperty(n,a,{get:function(){return t.getters[i]},enumerable:!0})}})),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function T(t,e,n,r){var i=t._mutations[e]||(t._mutations[e]=[]);i.push((function(e){n.call(t,r.state,e)}))}function C(t,e,n,r){var i=t._actions[e]||(t._actions[e]=[]);i.push((function(e){var i=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},e);return h(i)||(i=Promise.resolve(i)),t._devtoolHook?i.catch((function(e){throw t._devtoolHook.emit("vuex:error",e),e})):i}))}function A(t,e,n,r){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(t){return n(r.state,r.getters,t.state,t.getters)})}function P(t){t._vm.$watch((function(){return this._data.$$state}),(function(){0}),{deep:!0,sync:!0})}function R(t,e){return e.reduce((function(t,e){return t[e]}),t)}function D(t,e,n){return u(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}function I(t){v&&t===v||(v=t,r(v))}_.state.get=function(){return this._vm._data.$$state},_.state.set=function(t){0},y.prototype.commit=function(t,e,n){var r=this,i=D(t,e,n),a=i.type,s=i.payload,o=(i.options,{type:a,payload:s}),l=this._mutations[a];l&&(this._withCommit((function(){l.forEach((function(t){t(s)}))})),this._subscribers.slice().forEach((function(t){return t(o,r.state)})))},y.prototype.dispatch=function(t,e){var n=this,r=D(t,e),i=r.type,a=r.payload,s={type:i,payload:a},o=this._actions[i];if(o){try{this._actionSubscribers.slice().filter((function(t){return t.before})).forEach((function(t){return t.before(s,n.state)}))}catch(c){0}var l=o.length>1?Promise.all(o.map((function(t){return t(a)}))):o[0](a);return new Promise((function(t,e){l.then((function(e){try{n._actionSubscribers.filter((function(t){return t.after})).forEach((function(t){return t.after(s,n.state)}))}catch(c){0}t(e)}),(function(t){try{n._actionSubscribers.filter((function(t){return t.error})).forEach((function(e){return e.error(s,n.state,t)}))}catch(c){0}e(t)}))}))}},y.prototype.subscribe=function(t,e){return x(t,this._subscribers,e)},y.prototype.subscribeAction=function(t,e){var n="function"===typeof t?{before:t}:t;return x(n,this._actionSubscribers,e)},y.prototype.watch=function(t,e,n){var r=this;return this._watcherVM.$watch((function(){return t(r.state,r.getters)}),e,n)},y.prototype.replaceState=function(t){var e=this;this._withCommit((function(){e._vm._data.$$state=t}))},y.prototype.registerModule=function(t,e,n){void 0===n&&(n={}),"string"===typeof t&&(t=[t]),this._modules.register(t,e),w(this,this.state,t,this._modules.get(t),n.preserveState),S(this,this.state)},y.prototype.unregisterModule=function(t){var e=this;"string"===typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit((function(){var n=R(e.state,t.slice(0,-1));v.delete(n,t[t.length-1])})),b(this)},y.prototype.hasModule=function(t){return"string"===typeof t&&(t=[t]),this._modules.isRegistered(t)},y.prototype.hotUpdate=function(t){this._modules.update(t),b(this,!0)},y.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(y.prototype,_);var L=z((function(t,e){var n={};return B(e).forEach((function(e){var r=e.key,i=e.val;n[r]=function(){var e=this.$store.state,n=this.$store.getters;if(t){var r=V(this.$store,"mapState",t);if(!r)return;e=r.context.state,n=r.context.getters}return"function"===typeof i?i.call(this,e,n):e[i]},n[r].vuex=!0})),n})),k=z((function(t,e){var n={};return B(e).forEach((function(e){var r=e.key,i=e.val;n[r]=function(){var e=[],n=arguments.length;while(n--)e[n]=arguments[n];var r=this.$store.commit;if(t){var a=V(this.$store,"mapMutations",t);if(!a)return;r=a.context.commit}return"function"===typeof i?i.apply(this,[r].concat(e)):r.apply(this.$store,[i].concat(e))}})),n})),O=z((function(t,e){var n={};return B(e).forEach((function(e){var r=e.key,i=e.val;i=t+i,n[r]=function(){if(!t||V(this.$store,"mapGetters",t))return this.$store.getters[i]},n[r].vuex=!0})),n})),F=z((function(t,e){var n={};return B(e).forEach((function(e){var r=e.key,i=e.val;n[r]=function(){var e=[],n=arguments.length;while(n--)e[n]=arguments[n];var r=this.$store.dispatch;if(t){var a=V(this.$store,"mapActions",t);if(!a)return;r=a.context.dispatch}return"function"===typeof i?i.apply(this,[r].concat(e)):r.apply(this.$store,[i].concat(e))}})),n})),N=function(t){return{mapState:L.bind(null,t),mapGetters:O.bind(null,t),mapMutations:k.bind(null,t),mapActions:F.bind(null,t)}};function B(t){return U(t)?Array.isArray(t)?t.map((function(t){return{key:t,val:t}})):Object.keys(t).map((function(e){return{key:e,val:t[e]}})):[]}function U(t){return Array.isArray(t)||u(t)}function z(t){return function(e,n){return"string"!==typeof e?(n=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,n)}}function V(t,e,n){var r=t._modulesNamespaceMap[n];return r}function H(t){void 0===t&&(t={});var e=t.collapsed;void 0===e&&(e=!0);var n=t.filter;void 0===n&&(n=function(t,e,n){return!0});var r=t.transformer;void 0===r&&(r=function(t){return t});var i=t.mutationTransformer;void 0===i&&(i=function(t){return t});var a=t.actionFilter;void 0===a&&(a=function(t,e){return!0});var s=t.actionTransformer;void 0===s&&(s=function(t){return t});var o=t.logMutations;void 0===o&&(o=!0);var c=t.logActions;void 0===c&&(c=!0);var u=t.logger;return void 0===u&&(u=console),function(t){var h=l(t.state);"undefined"!==typeof u&&(o&&t.subscribe((function(t,a){var s=l(a);if(n(t,h,s)){var o=j(),c=i(t),p="mutation "+t.type+o;G(u,p,e),u.log("%c prev state","color: #9E9E9E; font-weight: bold",r(h)),u.log("%c mutation","color: #03A9F4; font-weight: bold",c),u.log("%c next state","color: #4CAF50; font-weight: bold",r(s)),W(u)}h=s})),c&&t.subscribeAction((function(t,n){if(a(t,n)){var r=j(),i=s(t),o="action "+t.type+r;G(u,o,e),u.log("%c action","color: #03A9F4; font-weight: bold",i),W(u)}})))}}function G(t,e,n){var r=n?t.groupCollapsed:t.group;try{r.call(t,e)}catch(i){t.log(e)}}function W(t){try{t.groupEnd()}catch(e){t.log("—— log end ——")}}function j(){var t=new Date;return" @ "+$(t.getHours(),2)+":"+$(t.getMinutes(),2)+":"+$(t.getSeconds(),2)+"."+$(t.getMilliseconds(),3)}function q(t,e){return new Array(e+1).join(t)}function $(t,e){return q("0",e-t.toString().length)+t}var X={Store:y,install:I,version:"3.6.2",mapState:L,mapMutations:k,mapGetters:O,mapActions:F,createNamespacedHelpers:N,createLogger:H};e.Ay=X},9306:function(t,e,n){"use strict";var r=n(4901),i=n(6823),a=TypeError;t.exports=function(t){if(r(t))return t;throw new a(i(t)+" is not a function")}},3506:function(t,e,n){"use strict";var r=n(3925),i=String,a=TypeError;t.exports=function(t){if(r(t))return t;throw new a("Can't set "+i(t)+" as a prototype")}},7080:function(t,e,n){"use strict";var r=n(4402).has;t.exports=function(t){return r(t),t}},679:function(t,e,n){"use strict";var r=n(1625),i=TypeError;t.exports=function(t,e){if(r(e,t))return t;throw new i("Incorrect invocation")}},8551:function(t,e,n){"use strict";var r=n(34),i=String,a=TypeError;t.exports=function(t){if(r(t))return t;throw new a(i(t)+" is not an object")}},7811:function(t){"use strict";t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},7394:function(t,e,n){"use strict";var r=n(4576),i=n(6706),a=n(2195),s=r.ArrayBuffer,o=r.TypeError;t.exports=s&&i(s.prototype,"byteLength","get")||function(t){if("ArrayBuffer"!==a(t))throw new o("ArrayBuffer expected");return t.byteLength}},3238:function(t,e,n){"use strict";var r=n(4576),i=n(7476),a=n(7394),s=r.ArrayBuffer,o=s&&s.prototype,l=o&&i(o.slice);t.exports=function(t){if(0!==a(t))return!1;if(!l)return!1;try{return l(t,0,0),!1}catch(e){return!0}}},5169:function(t,e,n){"use strict";var r=n(3238),i=TypeError;t.exports=function(t){if(r(t))throw new i("ArrayBuffer is detached");return t}},5636:function(t,e,n){"use strict";var r=n(4576),i=n(9504),a=n(6706),s=n(7696),o=n(5169),l=n(7394),c=n(4483),u=n(1548),h=r.structuredClone,p=r.ArrayBuffer,d=r.DataView,f=Math.min,m=p.prototype,g=d.prototype,v=i(m.slice),y=a(m,"resizable","get"),_=a(m,"maxByteLength","get"),x=i(g.getInt8),b=i(g.setInt8);t.exports=(u||c)&&function(t,e,n){var r,i=l(t),a=void 0===e?i:s(e),m=!y||!y(t);if(o(t),u&&(t=h(t,{transfer:[t]}),i===a&&(n||m)))return t;if(i>=a&&(!n||m))r=v(t,0,a);else{var g=n&&!m&&_?{maxByteLength:_(t)}:void 0;r=new p(a,g);for(var S=new d(t),w=new d(r),E=f(a,i),M=0;M<E;M++)b(w,M,x(S,M))}return u||c(t),r}},4644:function(t,e,n){"use strict";var r,i,a,s=n(7811),o=n(3724),l=n(4576),c=n(4901),u=n(34),h=n(9297),p=n(6955),d=n(6823),f=n(6699),m=n(6840),g=n(2106),v=n(1625),y=n(2787),_=n(2967),x=n(8227),b=n(3392),S=n(1181),w=S.enforce,E=S.get,M=l.Int8Array,T=M&&M.prototype,C=l.Uint8ClampedArray,A=C&&C.prototype,P=M&&y(M),R=T&&y(T),D=Object.prototype,I=l.TypeError,L=x("toStringTag"),k=b("TYPED_ARRAY_TAG"),O="TypedArrayConstructor",F=s&&!!_&&"Opera"!==p(l.opera),N=!1,B={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},U={BigInt64Array:8,BigUint64Array:8},z=function(t){if(!u(t))return!1;var e=p(t);return"DataView"===e||h(B,e)||h(U,e)},V=function(t){var e=y(t);if(u(e)){var n=E(e);return n&&h(n,O)?n[O]:V(e)}},H=function(t){if(!u(t))return!1;var e=p(t);return h(B,e)||h(U,e)},G=function(t){if(H(t))return t;throw new I("Target is not a typed array")},W=function(t){if(c(t)&&(!_||v(P,t)))return t;throw new I(d(t)+" is not a typed array constructor")},j=function(t,e,n,r){if(o){if(n)for(var i in B){var a=l[i];if(a&&h(a.prototype,t))try{delete a.prototype[t]}catch(s){try{a.prototype[t]=e}catch(c){}}}R[t]&&!n||m(R,t,n?e:F&&T[t]||e,r)}},q=function(t,e,n){var r,i;if(o){if(_){if(n)for(r in B)if(i=l[r],i&&h(i,t))try{delete i[t]}catch(a){}if(P[t]&&!n)return;try{return m(P,t,n?e:F&&P[t]||e)}catch(a){}}for(r in B)i=l[r],!i||i[t]&&!n||m(i,t,e)}};for(r in B)i=l[r],a=i&&i.prototype,a?w(a)[O]=i:F=!1;for(r in U)i=l[r],a=i&&i.prototype,a&&(w(a)[O]=i);if((!F||!c(P)||P===Function.prototype)&&(P=function(){throw new I("Incorrect invocation")},F))for(r in B)l[r]&&_(l[r],P);if((!F||!R||R===D)&&(R=P.prototype,F))for(r in B)l[r]&&_(l[r].prototype,R);if(F&&y(A)!==R&&_(A,R),o&&!h(R,L))for(r in N=!0,g(R,L,{configurable:!0,get:function(){return u(this)?this[k]:void 0}}),B)l[r]&&f(l[r],k,r);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:F,TYPED_ARRAY_TAG:N&&k,aTypedArray:G,aTypedArrayConstructor:W,exportTypedArrayMethod:j,exportTypedArrayStaticMethod:q,getTypedArrayConstructor:V,isView:z,isTypedArray:H,TypedArray:P,TypedArrayPrototype:R}},5370:function(t,e,n){"use strict";var r=n(6198);t.exports=function(t,e,n){var i=0,a=arguments.length>2?n:r(e),s=new t(a);while(a>i)s[i]=e[i++];return s}},9617:function(t,e,n){"use strict";var r=n(5397),i=n(5610),a=n(6198),s=function(t){return function(e,n,s){var o=r(e),l=a(o);if(0===l)return!t&&-1;var c,u=i(s,l);if(t&&n!==n){while(l>u)if(c=o[u++],c!==c)return!0}else for(;l>u;u++)if((t||u in o)&&o[u]===n)return t||u||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},4527:function(t,e,n){"use strict";var r=n(3724),i=n(4376),a=TypeError,s=Object.getOwnPropertyDescriptor,o=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=o?function(t,e){if(i(t)&&!s(t,"length").writable)throw new a("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},7680:function(t,e,n){"use strict";var r=n(9504);t.exports=r([].slice)},7628:function(t,e,n){"use strict";var r=n(6198);t.exports=function(t,e){for(var n=r(t),i=new e(n),a=0;a<n;a++)i[a]=t[n-a-1];return i}},9928:function(t,e,n){"use strict";var r=n(6198),i=n(1291),a=RangeError;t.exports=function(t,e,n,s){var o=r(t),l=i(n),c=l<0?o+l:l;if(c>=o||c<0)throw new a("Incorrect index");for(var u=new e(o),h=0;h<o;h++)u[h]=h===c?s:t[h];return u}},2195:function(t,e,n){"use strict";var r=n(9504),i=r({}.toString),a=r("".slice);t.exports=function(t){return a(i(t),8,-1)}},6955:function(t,e,n){"use strict";var r=n(2140),i=n(4901),a=n(2195),s=n(8227),o=s("toStringTag"),l=Object,c="Arguments"===a(function(){return arguments}()),u=function(t,e){try{return t[e]}catch(n){}};t.exports=r?a:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=u(e=l(t),o))?n:c?a(e):"Object"===(r=a(e))&&i(e.callee)?"Arguments":r}},7740:function(t,e,n){"use strict";var r=n(9297),i=n(5031),a=n(7347),s=n(4913);t.exports=function(t,e,n){for(var o=i(e),l=s.f,c=a.f,u=0;u<o.length;u++){var h=o[u];r(t,h)||n&&r(n,h)||l(t,h,c(e,h))}}},2211:function(t,e,n){"use strict";var r=n(9039);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},6699:function(t,e,n){"use strict";var r=n(3724),i=n(4913),a=n(6980);t.exports=r?function(t,e,n){return i.f(t,e,a(1,n))}:function(t,e,n){return t[e]=n,t}},6980:function(t){"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},2106:function(t,e,n){"use strict";var r=n(283),i=n(4913);t.exports=function(t,e,n){return n.get&&r(n.get,e,{getter:!0}),n.set&&r(n.set,e,{setter:!0}),i.f(t,e,n)}},6840:function(t,e,n){"use strict";var r=n(4901),i=n(4913),a=n(283),s=n(9433);t.exports=function(t,e,n,o){o||(o={});var l=o.enumerable,c=void 0!==o.name?o.name:e;if(r(n)&&a(n,c,o),o.global)l?t[e]=n:s(e,n);else{try{o.unsafe?t[e]&&(l=!0):delete t[e]}catch(u){}l?t[e]=n:i.f(t,e,{value:n,enumerable:!1,configurable:!o.nonConfigurable,writable:!o.nonWritable})}return t}},9433:function(t,e,n){"use strict";var r=n(4576),i=Object.defineProperty;t.exports=function(t,e){try{i(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},3724:function(t,e,n){"use strict";var r=n(9039);t.exports=!r((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4483:function(t,e,n){"use strict";var r,i,a,s,o=n(4576),l=n(9429),c=n(1548),u=o.structuredClone,h=o.ArrayBuffer,p=o.MessageChannel,d=!1;if(c)d=function(t){u(t,{transfer:[t]})};else if(h)try{p||(r=l("worker_threads"),r&&(p=r.MessageChannel)),p&&(i=new p,a=new h(2),s=function(t){i.port1.postMessage(null,[t])},2===a.byteLength&&(s(a),0===a.byteLength&&(d=s)))}catch(f){}t.exports=d},4055:function(t,e,n){"use strict";var r=n(4576),i=n(34),a=r.document,s=i(a)&&i(a.createElement);t.exports=function(t){return s?a.createElement(t):{}}},6837:function(t){"use strict";var e=TypeError,n=9007199254740991;t.exports=function(t){if(t>n)throw e("Maximum allowed index exceeded");return t}},5002:function(t){"use strict";t.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},8727:function(t){"use strict";t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},9544:function(t,e,n){"use strict";var r=n(2839);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},6193:function(t,e,n){"use strict";var r=n(4215);t.exports="NODE"===r},2839:function(t,e,n){"use strict";var r=n(4576),i=r.navigator,a=i&&i.userAgent;t.exports=a?String(a):""},9519:function(t,e,n){"use strict";var r,i,a=n(4576),s=n(2839),o=a.process,l=a.Deno,c=o&&o.versions||l&&l.version,u=c&&c.v8;u&&(r=u.split("."),i=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&s&&(r=s.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/),r&&(i=+r[1]))),t.exports=i},4215:function(t,e,n){"use strict";var r=n(4576),i=n(2839),a=n(2195),s=function(t){return i.slice(0,t.length)===t};t.exports=function(){return s("Bun/")?"BUN":s("Cloudflare-Workers")?"CLOUDFLARE":s("Deno/")?"DENO":s("Node.js/")?"NODE":r.Bun&&"string"==typeof Bun.version?"BUN":r.Deno&&"object"==typeof Deno.version?"DENO":"process"===a(r.process)?"NODE":r.window&&r.document?"BROWSER":"REST"}()},8574:function(t,e,n){"use strict";var r=n(9504),i=Error,a=r("".replace),s=function(t){return String(new i(t).stack)}("zxcasd"),o=/\n\s*at [^:]*:[^\n]*/,l=o.test(s);t.exports=function(t,e){if(l&&"string"==typeof t&&!i.prepareStackTrace)while(e--)t=a(t,o,"");return t}},6518:function(t,e,n){"use strict";var r=n(4576),i=n(7347).f,a=n(6699),s=n(6840),o=n(9433),l=n(7740),c=n(2796);t.exports=function(t,e){var n,u,h,p,d,f,m=t.target,g=t.global,v=t.stat;if(u=g?r:v?r[m]||o(m,{}):r[m]&&r[m].prototype,u)for(h in e){if(d=e[h],t.dontCallGetSet?(f=i(u,h),p=f&&f.value):p=u[h],n=c(g?h:m+(v?".":"#")+h,t.forced),!n&&void 0!==p){if(typeof d==typeof p)continue;l(d,p)}(t.sham||p&&p.sham)&&a(d,"sham",!0),s(u,h,d,t)}}},9039:function(t){"use strict";t.exports=function(t){try{return!!t()}catch(e){return!0}}},8745:function(t,e,n){"use strict";var r=n(616),i=Function.prototype,a=i.apply,s=i.call;t.exports="object"==typeof Reflect&&Reflect.apply||(r?s.bind(a):function(){return s.apply(a,arguments)})},6080:function(t,e,n){"use strict";var r=n(7476),i=n(9306),a=n(616),s=r(r.bind);t.exports=function(t,e){return i(t),void 0===e?t:a?s(t,e):function(){return t.apply(e,arguments)}}},616:function(t,e,n){"use strict";var r=n(9039);t.exports=!r((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},9565:function(t,e,n){"use strict";var r=n(616),i=Function.prototype.call;t.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},350:function(t,e,n){"use strict";var r=n(3724),i=n(9297),a=Function.prototype,s=r&&Object.getOwnPropertyDescriptor,o=i(a,"name"),l=o&&"something"===function(){}.name,c=o&&(!r||r&&s(a,"name").configurable);t.exports={EXISTS:o,PROPER:l,CONFIGURABLE:c}},6706:function(t,e,n){"use strict";var r=n(9504),i=n(9306);t.exports=function(t,e,n){try{return r(i(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(a){}}},7476:function(t,e,n){"use strict";var r=n(2195),i=n(9504);t.exports=function(t){if("Function"===r(t))return i(t)}},9504:function(t,e,n){"use strict";var r=n(616),i=Function.prototype,a=i.call,s=r&&i.bind.bind(a,a);t.exports=r?s:function(t){return function(){return a.apply(t,arguments)}}},9429:function(t,e,n){"use strict";var r=n(4576),i=n(6193);t.exports=function(t){if(i){try{return r.process.getBuiltinModule(t)}catch(e){}try{return Function('return require("'+t+'")')()}catch(e){}}}},7751:function(t,e,n){"use strict";var r=n(4576),i=n(4901),a=function(t){return i(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?a(r[t]):r[t]&&r[t][e]}},1767:function(t){"use strict";t.exports=function(t){return{iterator:t,next:t.next,done:!1}}},5966:function(t,e,n){"use strict";var r=n(9306),i=n(4117);t.exports=function(t,e){var n=t[e];return i(n)?void 0:r(n)}},3789:function(t,e,n){"use strict";var r=n(9306),i=n(8551),a=n(9565),s=n(1291),o=n(1767),l="Invalid size",c=RangeError,u=TypeError,h=Math.max,p=function(t,e){this.set=t,this.size=h(e,0),this.has=r(t.has),this.keys=r(t.keys)};p.prototype={getIterator:function(){return o(i(a(this.keys,this.set)))},includes:function(t){return a(this.has,this.set,t)}},t.exports=function(t){i(t);var e=+t.size;if(e!==e)throw new u(l);var n=s(e);if(n<0)throw new c(l);return new p(t,n)}},4576:function(t,e,n){"use strict";var r=function(t){return t&&t.Math===Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()},9297:function(t,e,n){"use strict";var r=n(9504),i=n(8981),a=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return a(i(t),e)}},421:function(t){"use strict";t.exports={}},397:function(t,e,n){"use strict";var r=n(7751);t.exports=r("document","documentElement")},5917:function(t,e,n){"use strict";var r=n(3724),i=n(9039),a=n(4055);t.exports=!r&&!i((function(){return 7!==Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},7055:function(t,e,n){"use strict";var r=n(9504),i=n(9039),a=n(2195),s=Object,o=r("".split);t.exports=i((function(){return!s("z").propertyIsEnumerable(0)}))?function(t){return"String"===a(t)?o(t,""):s(t)}:s},3167:function(t,e,n){"use strict";var r=n(4901),i=n(34),a=n(2967);t.exports=function(t,e,n){var s,o;return a&&r(s=e.constructor)&&s!==n&&i(o=s.prototype)&&o!==n.prototype&&a(t,o),t}},3706:function(t,e,n){"use strict";var r=n(9504),i=n(4901),a=n(7629),s=r(Function.toString);i(a.inspectSource)||(a.inspectSource=function(t){return s(t)}),t.exports=a.inspectSource},1181:function(t,e,n){"use strict";var r,i,a,s=n(8622),o=n(4576),l=n(34),c=n(6699),u=n(9297),h=n(7629),p=n(6119),d=n(421),f="Object already initialized",m=o.TypeError,g=o.WeakMap,v=function(t){return a(t)?i(t):r(t,{})},y=function(t){return function(e){var n;if(!l(e)||(n=i(e)).type!==t)throw new m("Incompatible receiver, "+t+" required");return n}};if(s||h.state){var _=h.state||(h.state=new g);_.get=_.get,_.has=_.has,_.set=_.set,r=function(t,e){if(_.has(t))throw new m(f);return e.facade=t,_.set(t,e),e},i=function(t){return _.get(t)||{}},a=function(t){return _.has(t)}}else{var x=p("state");d[x]=!0,r=function(t,e){if(u(t,x))throw new m(f);return e.facade=t,c(t,x,e),e},i=function(t){return u(t,x)?t[x]:{}},a=function(t){return u(t,x)}}t.exports={set:r,get:i,has:a,enforce:v,getterFor:y}},4376:function(t,e,n){"use strict";var r=n(2195);t.exports=Array.isArray||function(t){return"Array"===r(t)}},1108:function(t,e,n){"use strict";var r=n(6955);t.exports=function(t){var e=r(t);return"BigInt64Array"===e||"BigUint64Array"===e}},4901:function(t){"use strict";var e="object"==typeof document&&document.all;t.exports="undefined"==typeof e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},2796:function(t,e,n){"use strict";var r=n(9039),i=n(4901),a=/#|\.prototype\./,s=function(t,e){var n=l[o(t)];return n===u||n!==c&&(i(e)?r(e):!!e)},o=s.normalize=function(t){return String(t).replace(a,".").toLowerCase()},l=s.data={},c=s.NATIVE="N",u=s.POLYFILL="P";t.exports=s},4117:function(t){"use strict";t.exports=function(t){return null===t||void 0===t}},34:function(t,e,n){"use strict";var r=n(4901);t.exports=function(t){return"object"==typeof t?null!==t:r(t)}},3925:function(t,e,n){"use strict";var r=n(34);t.exports=function(t){return r(t)||null===t}},6395:function(t){"use strict";t.exports=!1},757:function(t,e,n){"use strict";var r=n(7751),i=n(4901),a=n(1625),s=n(7040),o=Object;t.exports=s?function(t){return"symbol"==typeof t}:function(t){var e=r("Symbol");return i(e)&&a(e.prototype,o(t))}},507:function(t,e,n){"use strict";var r=n(9565);t.exports=function(t,e,n){var i,a,s=n?t:t.iterator,o=t.next;while(!(i=r(o,s)).done)if(a=e(i.value),void 0!==a)return a}},9539:function(t,e,n){"use strict";var r=n(9565),i=n(8551),a=n(5966);t.exports=function(t,e,n){var s,o;i(t);try{if(s=a(t,"return"),!s){if("throw"===e)throw n;return n}s=r(s,t)}catch(l){o=!0,s=l}if("throw"===e)throw n;if(o)throw s;return i(s),n}},6198:function(t,e,n){"use strict";var r=n(8014);t.exports=function(t){return r(t.length)}},283:function(t,e,n){"use strict";var r=n(9504),i=n(9039),a=n(4901),s=n(9297),o=n(3724),l=n(350).CONFIGURABLE,c=n(3706),u=n(1181),h=u.enforce,p=u.get,d=String,f=Object.defineProperty,m=r("".slice),g=r("".replace),v=r([].join),y=o&&!i((function(){return 8!==f((function(){}),"length",{value:8}).length})),_=String(String).split("String"),x=t.exports=function(t,e,n){"Symbol("===m(d(e),0,7)&&(e="["+g(d(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!s(t,"name")||l&&t.name!==e)&&(o?f(t,"name",{value:e,configurable:!0}):t.name=e),y&&n&&s(n,"arity")&&t.length!==n.arity&&f(t,"length",{value:n.arity});try{n&&s(n,"constructor")&&n.constructor?o&&f(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(i){}var r=h(t);return s(r,"source")||(r.source=v(_,"string"==typeof e?e:"")),t};Function.prototype.toString=x((function(){return a(this)&&p(this).source||c(this)}),"toString")},741:function(t){"use strict";var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var r=+t;return(r>0?n:e)(r)}},2603:function(t,e,n){"use strict";var r=n(655);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:r(t)}},4913:function(t,e,n){"use strict";var r=n(3724),i=n(5917),a=n(8686),s=n(8551),o=n(6969),l=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,h="enumerable",p="configurable",d="writable";e.f=r?a?function(t,e,n){if(s(t),e=o(e),s(n),"function"===typeof t&&"prototype"===e&&"value"in n&&d in n&&!n[d]){var r=u(t,e);r&&r[d]&&(t[e]=n.value,n={configurable:p in n?n[p]:r[p],enumerable:h in n?n[h]:r[h],writable:!1})}return c(t,e,n)}:c:function(t,e,n){if(s(t),e=o(e),s(n),i)try{return c(t,e,n)}catch(r){}if("get"in n||"set"in n)throw new l("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},7347:function(t,e,n){"use strict";var r=n(3724),i=n(9565),a=n(8773),s=n(6980),o=n(5397),l=n(6969),c=n(9297),u=n(5917),h=Object.getOwnPropertyDescriptor;e.f=r?h:function(t,e){if(t=o(t),e=l(e),u)try{return h(t,e)}catch(n){}if(c(t,e))return s(!i(a.f,t,e),t[e])}},8480:function(t,e,n){"use strict";var r=n(1828),i=n(8727),a=i.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,a)}},3717:function(t,e){"use strict";e.f=Object.getOwnPropertySymbols},2787:function(t,e,n){"use strict";var r=n(9297),i=n(4901),a=n(8981),s=n(6119),o=n(2211),l=s("IE_PROTO"),c=Object,u=c.prototype;t.exports=o?c.getPrototypeOf:function(t){var e=a(t);if(r(e,l))return e[l];var n=e.constructor;return i(n)&&e instanceof n?n.prototype:e instanceof c?u:null}},1625:function(t,e,n){"use strict";var r=n(9504);t.exports=r({}.isPrototypeOf)},1828:function(t,e,n){"use strict";var r=n(9504),i=n(9297),a=n(5397),s=n(9617).indexOf,o=n(421),l=r([].push);t.exports=function(t,e){var n,r=a(t),c=0,u=[];for(n in r)!i(o,n)&&i(r,n)&&l(u,n);while(e.length>c)i(r,n=e[c++])&&(~s(u,n)||l(u,n));return u}},8773:function(t,e){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);e.f=i?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},2967:function(t,e,n){"use strict";var r=n(6706),i=n(34),a=n(7750),s=n(3506);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{t=r(Object.prototype,"__proto__","set"),t(n,[]),e=n instanceof Array}catch(o){}return function(n,r){return a(n),s(r),i(n)?(e?t(n,r):n.__proto__=r,n):n}}():void 0)},4270:function(t,e,n){"use strict";var r=n(9565),i=n(4901),a=n(34),s=TypeError;t.exports=function(t,e){var n,o;if("string"===e&&i(n=t.toString)&&!a(o=r(n,t)))return o;if(i(n=t.valueOf)&&!a(o=r(n,t)))return o;if("string"!==e&&i(n=t.toString)&&!a(o=r(n,t)))return o;throw new s("Can't convert object to primitive value")}},5031:function(t,e,n){"use strict";var r=n(7751),i=n(9504),a=n(8480),s=n(3717),o=n(8551),l=i([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=a.f(o(t)),n=s.f;return n?l(e,n(t)):e}},7750:function(t,e,n){"use strict";var r=n(4117),i=TypeError;t.exports=function(t){if(r(t))throw new i("Can't call method on "+t);return t}},9472:function(t,e,n){"use strict";var r=n(4576),i=n(8745),a=n(4901),s=n(4215),o=n(2839),l=n(7680),c=n(2812),u=r.Function,h=/MSIE .\./.test(o)||"BUN"===s&&function(){var t=r.Bun.version.split(".");return t.length<3||"0"===t[0]&&(t[1]<3||"3"===t[1]&&"0"===t[2])}();t.exports=function(t,e){var n=e?2:1;return h?function(r,s){var o=c(arguments.length,1)>n,h=a(r)?r:u(r),p=o?l(arguments,n):[],d=o?function(){i(h,this,p)}:h;return e?t(d,s):t(d)}:t}},9286:function(t,e,n){"use strict";var r=n(4402),i=n(8469),a=r.Set,s=r.add;t.exports=function(t){var e=new a;return i(t,(function(t){s(e,t)})),e}},3440:function(t,e,n){"use strict";var r=n(7080),i=n(4402),a=n(9286),s=n(5170),o=n(3789),l=n(8469),c=n(507),u=i.has,h=i.remove;t.exports=function(t){var e=r(this),n=o(t),i=a(e);return s(e)<=n.size?l(e,(function(t){n.includes(t)&&h(i,t)})):c(n.getIterator(),(function(t){u(e,t)&&h(i,t)})),i}},4402:function(t,e,n){"use strict";var r=n(9504),i=Set.prototype;t.exports={Set:Set,add:r(i.add),has:r(i.has),remove:r(i["delete"]),proto:i}},8750:function(t,e,n){"use strict";var r=n(7080),i=n(4402),a=n(5170),s=n(3789),o=n(8469),l=n(507),c=i.Set,u=i.add,h=i.has;t.exports=function(t){var e=r(this),n=s(t),i=new c;return a(e)>n.size?l(n.getIterator(),(function(t){h(e,t)&&u(i,t)})):o(e,(function(t){n.includes(t)&&u(i,t)})),i}},4449:function(t,e,n){"use strict";var r=n(7080),i=n(4402).has,a=n(5170),s=n(3789),o=n(8469),l=n(507),c=n(9539);t.exports=function(t){var e=r(this),n=s(t);if(a(e)<=n.size)return!1!==o(e,(function(t){if(n.includes(t))return!1}),!0);var u=n.getIterator();return!1!==l(u,(function(t){if(i(e,t))return c(u,"normal",!1)}))}},3838:function(t,e,n){"use strict";var r=n(7080),i=n(5170),a=n(8469),s=n(3789);t.exports=function(t){var e=r(this),n=s(t);return!(i(e)>n.size)&&!1!==a(e,(function(t){if(!n.includes(t))return!1}),!0)}},8527:function(t,e,n){"use strict";var r=n(7080),i=n(4402).has,a=n(5170),s=n(3789),o=n(507),l=n(9539);t.exports=function(t){var e=r(this),n=s(t);if(a(e)<n.size)return!1;var c=n.getIterator();return!1!==o(c,(function(t){if(!i(e,t))return l(c,"normal",!1)}))}},8469:function(t,e,n){"use strict";var r=n(9504),i=n(507),a=n(4402),s=a.Set,o=a.proto,l=r(o.forEach),c=r(o.keys),u=c(new s).next;t.exports=function(t,e,n){return n?i({iterator:c(t),next:u},e):l(t,e)}},4916:function(t,e,n){"use strict";var r=n(7751),i=function(t){return{size:t,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};t.exports=function(t){var e=r("Set");try{(new e)[t](i(0));try{return(new e)[t](i(-1)),!1}catch(n){return!0}}catch(a){return!1}}},5170:function(t,e,n){"use strict";var r=n(6706),i=n(4402);t.exports=r(i.proto,"size","get")||function(t){return t.size}},3650:function(t,e,n){"use strict";var r=n(7080),i=n(4402),a=n(9286),s=n(3789),o=n(507),l=i.add,c=i.has,u=i.remove;t.exports=function(t){var e=r(this),n=s(t).getIterator(),i=a(e);return o(n,(function(t){c(e,t)?u(i,t):l(i,t)})),i}},4204:function(t,e,n){"use strict";var r=n(7080),i=n(4402).add,a=n(9286),s=n(3789),o=n(507);t.exports=function(t){var e=r(this),n=s(t).getIterator(),l=a(e);return o(n,(function(t){i(l,t)})),l}},6119:function(t,e,n){"use strict";var r=n(5745),i=n(3392),a=r("keys");t.exports=function(t){return a[t]||(a[t]=i(t))}},7629:function(t,e,n){"use strict";var r=n(6395),i=n(4576),a=n(9433),s="__core-js_shared__",o=t.exports=i[s]||a(s,{});(o.versions||(o.versions=[])).push({version:"3.38.0",mode:r?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.38.0/LICENSE",source:"https://github.com/zloirock/core-js"})},5745:function(t,e,n){"use strict";var r=n(7629);t.exports=function(t,e){return r[t]||(r[t]=e||{})}},1548:function(t,e,n){"use strict";var r=n(4576),i=n(9039),a=n(9519),s=n(4215),o=r.structuredClone;t.exports=!!o&&!i((function(){if("DENO"===s&&a>92||"NODE"===s&&a>94||"BROWSER"===s&&a>97)return!1;var t=new ArrayBuffer(8),e=o(t,{transfer:[t]});return 0!==t.byteLength||8!==e.byteLength}))},4495:function(t,e,n){"use strict";var r=n(9519),i=n(9039),a=n(4576),s=a.String;t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol("symbol detection");return!s(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},9225:function(t,e,n){"use strict";var r,i,a,s,o=n(4576),l=n(8745),c=n(6080),u=n(4901),h=n(9297),p=n(9039),d=n(397),f=n(7680),m=n(4055),g=n(2812),v=n(9544),y=n(6193),_=o.setImmediate,x=o.clearImmediate,b=o.process,S=o.Dispatch,w=o.Function,E=o.MessageChannel,M=o.String,T=0,C={},A="onreadystatechange";p((function(){r=o.location}));var P=function(t){if(h(C,t)){var e=C[t];delete C[t],e()}},R=function(t){return function(){P(t)}},D=function(t){P(t.data)},I=function(t){o.postMessage(M(t),r.protocol+"//"+r.host)};_&&x||(_=function(t){g(arguments.length,1);var e=u(t)?t:w(t),n=f(arguments,1);return C[++T]=function(){l(e,void 0,n)},i(T),T},x=function(t){delete C[t]},y?i=function(t){b.nextTick(R(t))}:S&&S.now?i=function(t){S.now(R(t))}:E&&!v?(a=new E,s=a.port2,a.port1.onmessage=D,i=c(s.postMessage,s)):o.addEventListener&&u(o.postMessage)&&!o.importScripts&&r&&"file:"!==r.protocol&&!p(I)?(i=I,o.addEventListener("message",D,!1)):i=A in m("script")?function(t){d.appendChild(m("script"))[A]=function(){d.removeChild(this),P(t)}}:function(t){setTimeout(R(t),0)}),t.exports={set:_,clear:x}},5610:function(t,e,n){"use strict";var r=n(1291),i=Math.max,a=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):a(n,e)}},5854:function(t,e,n){"use strict";var r=n(2777),i=TypeError;t.exports=function(t){var e=r(t,"number");if("number"==typeof e)throw new i("Can't convert number to bigint");return BigInt(e)}},7696:function(t,e,n){"use strict";var r=n(1291),i=n(8014),a=RangeError;t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=i(e);if(e!==n)throw new a("Wrong length or index");return n}},5397:function(t,e,n){"use strict";var r=n(7055),i=n(7750);t.exports=function(t){return r(i(t))}},1291:function(t,e,n){"use strict";var r=n(741);t.exports=function(t){var e=+t;return e!==e||0===e?0:r(e)}},8014:function(t,e,n){"use strict";var r=n(1291),i=Math.min;t.exports=function(t){var e=r(t);return e>0?i(e,9007199254740991):0}},8981:function(t,e,n){"use strict";var r=n(7750),i=Object;t.exports=function(t){return i(r(t))}},2777:function(t,e,n){"use strict";var r=n(9565),i=n(34),a=n(757),s=n(5966),o=n(4270),l=n(8227),c=TypeError,u=l("toPrimitive");t.exports=function(t,e){if(!i(t)||a(t))return t;var n,l=s(t,u);if(l){if(void 0===e&&(e="default"),n=r(l,t,e),!i(n)||a(n))return n;throw new c("Can't convert object to primitive value")}return void 0===e&&(e="number"),o(t,e)}},6969:function(t,e,n){"use strict";var r=n(2777),i=n(757);t.exports=function(t){var e=r(t,"string");return i(e)?e:e+""}},2140:function(t,e,n){"use strict";var r=n(8227),i=r("toStringTag"),a={};a[i]="z",t.exports="[object z]"===String(a)},655:function(t,e,n){"use strict";var r=n(6955),i=String;t.exports=function(t){if("Symbol"===r(t))throw new TypeError("Cannot convert a Symbol value to a string");return i(t)}},6823:function(t){"use strict";var e=String;t.exports=function(t){try{return e(t)}catch(n){return"Object"}}},3392:function(t,e,n){"use strict";var r=n(9504),i=0,a=Math.random(),s=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+s(++i+a,36)}},7040:function(t,e,n){"use strict";var r=n(4495);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},8686:function(t,e,n){"use strict";var r=n(3724),i=n(9039);t.exports=r&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},2812:function(t){"use strict";var e=TypeError;t.exports=function(t,n){if(t<n)throw new e("Not enough arguments");return t}},8622:function(t,e,n){"use strict";var r=n(4576),i=n(4901),a=r.WeakMap;t.exports=i(a)&&/native code/.test(String(a))},8227:function(t,e,n){"use strict";var r=n(4576),i=n(5745),a=n(9297),s=n(3392),o=n(4495),l=n(7040),c=r.Symbol,u=i("wks"),h=l?c["for"]||c:c&&c.withoutSetter||s;t.exports=function(t){return a(u,t)||(u[t]=o&&a(c,t)?c[t]:h("Symbol."+t)),u[t]}},6573:function(t,e,n){"use strict";var r=n(3724),i=n(2106),a=n(3238),s=ArrayBuffer.prototype;r&&!("detached"in s)&&i(s,"detached",{configurable:!0,get:function(){return a(this)}})},7936:function(t,e,n){"use strict";var r=n(6518),i=n(5636);i&&r({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return i(this,arguments.length?arguments[0]:void 0,!1)}})},8100:function(t,e,n){"use strict";var r=n(6518),i=n(5636);i&&r({target:"ArrayBuffer",proto:!0},{transfer:function(){return i(this,arguments.length?arguments[0]:void 0,!0)}})},4114:function(t,e,n){"use strict";var r=n(6518),i=n(8981),a=n(6198),s=n(4527),o=n(6837),l=n(9039),c=l((function(){return 4294967297!==[].push.call({length:4294967296},1)})),u=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},h=c||!u();r({target:"Array",proto:!0,arity:1,forced:h},{push:function(t){var e=i(this),n=a(e),r=arguments.length;o(n+r);for(var l=0;l<r;l++)e[n]=arguments[l],n++;return s(e,n),n}})},7642:function(t,e,n){"use strict";var r=n(6518),i=n(3440),a=n(4916);r({target:"Set",proto:!0,real:!0,forced:!a("difference")},{difference:i})},8004:function(t,e,n){"use strict";var r=n(6518),i=n(9039),a=n(8750),s=n(4916),o=!s("intersection")||i((function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))}));r({target:"Set",proto:!0,real:!0,forced:o},{intersection:a})},3853:function(t,e,n){"use strict";var r=n(6518),i=n(4449),a=n(4916);r({target:"Set",proto:!0,real:!0,forced:!a("isDisjointFrom")},{isDisjointFrom:i})},5876:function(t,e,n){"use strict";var r=n(6518),i=n(3838),a=n(4916);r({target:"Set",proto:!0,real:!0,forced:!a("isSubsetOf")},{isSubsetOf:i})},2475:function(t,e,n){"use strict";var r=n(6518),i=n(8527),a=n(4916);r({target:"Set",proto:!0,real:!0,forced:!a("isSupersetOf")},{isSupersetOf:i})},5024:function(t,e,n){"use strict";var r=n(6518),i=n(3650),a=n(4916);r({target:"Set",proto:!0,real:!0,forced:!a("symmetricDifference")},{symmetricDifference:i})},1698:function(t,e,n){"use strict";var r=n(6518),i=n(4204),a=n(4916);r({target:"Set",proto:!0,real:!0,forced:!a("union")},{union:i})},7467:function(t,e,n){"use strict";var r=n(7628),i=n(4644),a=i.aTypedArray,s=i.exportTypedArrayMethod,o=i.getTypedArrayConstructor;s("toReversed",(function(){return r(a(this),o(this))}))},4732:function(t,e,n){"use strict";var r=n(4644),i=n(9504),a=n(9306),s=n(5370),o=r.aTypedArray,l=r.getTypedArrayConstructor,c=r.exportTypedArrayMethod,u=i(r.TypedArrayPrototype.sort);c("toSorted",(function(t){void 0!==t&&a(t);var e=o(this),n=s(l(e),e);return u(n,t)}))},9577:function(t,e,n){"use strict";var r=n(9928),i=n(4644),a=n(1108),s=n(1291),o=n(5854),l=i.aTypedArray,c=i.getTypedArrayConstructor,u=i.exportTypedArrayMethod,h=!!function(){try{new Int8Array(1)["with"](2,{valueOf:function(){throw 8}})}catch(t){return 8===t}}();u("with",{with:function(t,e){var n=l(this),i=s(t),u=a(n)?o(e):+e;return r(n,c(n),i,u)}}["with"],!h)},6368:function(t,e,n){"use strict";var r=n(6518),i=n(4576),a=n(9225).clear;r({global:!0,bind:!0,enumerable:!0,forced:i.clearImmediate!==a},{clearImmediate:a})},4979:function(t,e,n){"use strict";var r=n(6518),i=n(4576),a=n(7751),s=n(6980),o=n(4913).f,l=n(9297),c=n(679),u=n(3167),h=n(2603),p=n(5002),d=n(8574),f=n(3724),m=n(6395),g="DOMException",v=a("Error"),y=a(g),_=function(){c(this,x);var t=arguments.length,e=h(t<1?void 0:arguments[0]),n=h(t<2?void 0:arguments[1],"Error"),r=new y(e,n),i=new v(e);return i.name=g,o(r,"stack",s(1,d(i.stack,1))),u(r,this,_),r},x=_.prototype=y.prototype,b="stack"in new v(g),S="stack"in new y(1,2),w=y&&f&&Object.getOwnPropertyDescriptor(i,g),E=!!w&&!(w.writable&&w.configurable),M=b&&!E&&!S;r({global:!0,constructor:!0,forced:m||M},{DOMException:M?_:y});var T=a(g),C=T.prototype;if(C.constructor!==T)for(var A in m||o(C,"constructor",s(1,T)),p)if(l(p,A)){var P=p[A],R=P.s;l(T,R)||o(T,R,s(6,P.c))}},9848:function(t,e,n){"use strict";n(6368),n(9309)},9309:function(t,e,n){"use strict";var r=n(6518),i=n(4576),a=n(9225).set,s=n(9472),o=i.setImmediate?s(a,!1):a;r({global:!0,bind:!0,enumerable:!0,forced:i.setImmediate!==o},{setImmediate:o})},4603:function(t,e,n){"use strict";var r=n(6840),i=n(9504),a=n(655),s=n(2812),o=URLSearchParams,l=o.prototype,c=i(l.append),u=i(l["delete"]),h=i(l.forEach),p=i([].push),d=new o("a=1&a=2&b=3");d["delete"]("a",1),d["delete"]("b",void 0),d+""!=="a=2"&&r(l,"delete",(function(t){var e=arguments.length,n=e<2?void 0:arguments[1];if(e&&void 0===n)return u(this,t);var r=[];h(this,(function(t,e){p(r,{key:e,value:t})})),s(e,1);var i,o=a(t),l=a(n),d=0,f=0,m=!1,g=r.length;while(d<g)i=r[d++],m||i.key===o?(m=!0,u(this,i.key)):f++;while(f<g)i=r[f++],i.key===o&&i.value===l||c(this,i.key,i.value)}),{enumerable:!0,unsafe:!0})},7566:function(t,e,n){"use strict";var r=n(6840),i=n(9504),a=n(655),s=n(2812),o=URLSearchParams,l=o.prototype,c=i(l.getAll),u=i(l.has),h=new o("a=1");!h.has("a",2)&&h.has("a",void 0)||r(l,"has",(function(t){var e=arguments.length,n=e<2?void 0:arguments[1];if(e&&void 0===n)return u(this,t);var r=c(this,t);s(e,1);var i=a(n),o=0;while(o<r.length)if(r[o++]===i)return!0;return!1}),{enumerable:!0,unsafe:!0})},8721:function(t,e,n){"use strict";var r=n(3724),i=n(9504),a=n(2106),s=URLSearchParams.prototype,o=i(s.forEach);r&&!("size"in s)&&a(s,"size",{get:function(){var t=0;return o(this,(function(){t++})),t},configurable:!0,enumerable:!0})},1297:function(t,e,n){"use strict";n.d(e,{A:function(){return c}});n(4114);function r(t,e,n){return Math.max(t,Math.min(e,n))}class i{constructor(){this.isRunning=!1,this.value=0,this.from=0,this.to=0,this.duration=0,this.currentTime=0}advance(t){var e;if(!this.isRunning)return;let n=!1;if(this.duration&&this.easing){this.currentTime+=t;const e=r(0,this.currentTime/this.duration,1);n=e>=1;const i=n?1:this.easing(e);this.value=this.from+(this.to-this.from)*i}else this.lerp?(this.value=function(t,e,n,r){return function(t,e,n){return(1-n)*t+n*e}(t,e,1-Math.exp(-n*r))}(this.value,this.to,60*this.lerp,t),Math.round(this.value)===this.to&&(this.value=this.to,n=!0)):(this.value=this.to,n=!0);n&&this.stop(),null===(e=this.onUpdate)||void 0===e||e.call(this,this.value,n)}stop(){this.isRunning=!1}fromTo(t,e,{lerp:n,duration:r,easing:i,onStart:a,onUpdate:s}){this.from=this.value=t,this.to=e,this.lerp=n,this.duration=r,this.easing=i,this.currentTime=0,this.isRunning=!0,null==a||a(),this.onUpdate=s}}class a{constructor({wrapper:t,content:e,autoResize:n=!0,debounce:r=250}={}){this.width=0,this.height=0,this.scrollWidth=0,this.scrollHeight=0,this.resize=()=>{this.onWrapperResize(),this.onContentResize()},this.onWrapperResize=()=>{this.wrapper===window?(this.width=window.innerWidth,this.height=window.innerHeight):this.wrapper instanceof HTMLElement&&(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)},this.onContentResize=()=>{this.wrapper===window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):this.wrapper instanceof HTMLElement&&(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)},this.wrapper=t,this.content=e,n&&(this.debouncedResize=function(t,e){let n;return function(){let r=arguments,i=this;clearTimeout(n),n=setTimeout((function(){t.apply(i,r)}),e)}}(this.resize,r),this.wrapper===window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}destroy(){var t,e;null===(t=this.wrapperResizeObserver)||void 0===t||t.disconnect(),null===(e=this.contentResizeObserver)||void 0===e||e.disconnect(),window.removeEventListener("resize",this.debouncedResize,!1)}get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}}class s{constructor(){this.events={}}emit(t,...e){let n=this.events[t]||[];for(let r=0,i=n.length;r<i;r++)n[r](...e)}on(t,e){var n;return(null===(n=this.events[t])||void 0===n?void 0:n.push(e))||(this.events[t]=[e]),()=>{var n;this.events[t]=null===(n=this.events[t])||void 0===n?void 0:n.filter((t=>e!==t))}}off(t,e){var n;this.events[t]=null===(n=this.events[t])||void 0===n?void 0:n.filter((t=>e!==t))}destroy(){this.events={}}}const o=100/6;class l{constructor(t,{wheelMultiplier:e=1,touchMultiplier:n=1}){this.lastDelta={x:0,y:0},this.windowWidth=0,this.windowHeight=0,this.onTouchStart=t=>{const{clientX:e,clientY:n}=t.targetTouches?t.targetTouches[0]:t;this.touchStart.x=e,this.touchStart.y=n,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:t})},this.onTouchMove=t=>{var e,n,r,i;const{clientX:a,clientY:s}=t.targetTouches?t.targetTouches[0]:t,o=-(a-(null!==(n=null===(e=this.touchStart)||void 0===e?void 0:e.x)&&void 0!==n?n:0))*this.touchMultiplier,l=-(s-(null!==(i=null===(r=this.touchStart)||void 0===r?void 0:r.y)&&void 0!==i?i:0))*this.touchMultiplier;this.touchStart.x=a,this.touchStart.y=s,this.lastDelta={x:o,y:l},this.emitter.emit("scroll",{deltaX:o,deltaY:l,event:t})},this.onTouchEnd=t=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:t})},this.onWheel=t=>{let{deltaX:e,deltaY:n,deltaMode:r}=t;e*=1===r?o:2===r?this.windowWidth:1,n*=1===r?o:2===r?this.windowHeight:1,e*=this.wheelMultiplier,n*=this.wheelMultiplier,this.emitter.emit("scroll",{deltaX:e,deltaY:n,event:t})},this.onWindowResize=()=>{this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight},this.element=t,this.wheelMultiplier=e,this.touchMultiplier=n,this.touchStart={x:null,y:null},this.emitter=new s,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,{passive:!1}),this.element.addEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.addEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.addEventListener("touchend",this.onTouchEnd,{passive:!1})}on(t,e){return this.emitter.on(t,e)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel),this.element.removeEventListener("touchstart",this.onTouchStart),this.element.removeEventListener("touchmove",this.onTouchMove),this.element.removeEventListener("touchend",this.onTouchEnd)}}class c{constructor({wrapper:t=window,content:e=document.documentElement,wheelEventsTarget:n=t,eventsTarget:r=n,smoothWheel:o=!0,syncTouch:c=!1,syncTouchLerp:u=.075,touchInertiaMultiplier:h=35,duration:p,easing:d=t=>Math.min(1,1.001-Math.pow(2,-10*t)),lerp:f=.1,infinite:m=!1,orientation:g="vertical",gestureOrientation:v="vertical",touchMultiplier:y=1,wheelMultiplier:_=1,autoResize:x=!0,prevent:b,virtualScroll:S,__experimental__naiveDimensions:w=!1}={}){this.__isScrolling=!1,this.__isStopped=!1,this.__isLocked=!1,this.userData={},this.lastVelocity=0,this.velocity=0,this.direction=0,this.onPointerDown=t=>{1===t.button&&this.reset()},this.onVirtualScroll=t=>{if("function"==typeof this.options.virtualScroll&&!1===this.options.virtualScroll(t))return;const{deltaX:e,deltaY:n,event:r}=t;if(this.emitter.emit("virtual-scroll",{deltaX:e,deltaY:n,event:r}),r.ctrlKey)return;const i=r.type.includes("touch"),a=r.type.includes("wheel");if(this.isTouching="touchstart"===r.type||"touchmove"===r.type,this.options.syncTouch&&i&&"touchstart"===r.type&&!this.isStopped&&!this.isLocked)return void this.reset();const s=0===e&&0===n,o="vertical"===this.options.gestureOrientation&&0===n||"horizontal"===this.options.gestureOrientation&&0===e;if(s||o)return;let l=r.composedPath();l=l.slice(0,l.indexOf(this.rootElement));const c=this.options.prevent;if(l.find((t=>{var e,n,r,s,o;return t instanceof Element&&("function"==typeof c&&(null==c?void 0:c(t))||(null===(e=t.hasAttribute)||void 0===e?void 0:e.call(t,"data-lenis-prevent"))||i&&(null===(n=t.hasAttribute)||void 0===n?void 0:n.call(t,"data-lenis-prevent-touch"))||a&&(null===(r=t.hasAttribute)||void 0===r?void 0:r.call(t,"data-lenis-prevent-wheel"))||(null===(s=t.classList)||void 0===s?void 0:s.contains("lenis"))&&!(null===(o=t.classList)||void 0===o?void 0:o.contains("lenis-stopped")))})))return;if(this.isStopped||this.isLocked)return void r.preventDefault();if(!(this.options.syncTouch&&i||this.options.smoothWheel&&a))return this.isScrolling="native",void this.animate.stop();r.preventDefault();let u=n;"both"===this.options.gestureOrientation?u=Math.abs(n)>Math.abs(e)?n:e:"horizontal"===this.options.gestureOrientation&&(u=e);const h=i&&this.options.syncTouch,p=i&&"touchend"===r.type&&Math.abs(u)>5;p&&(u=this.velocity*this.options.touchInertiaMultiplier),this.scrollTo(this.targetScroll+u,Object.assign({programmatic:!1},h?{lerp:p?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}))},this.onNativeScroll=()=>{if(clearTimeout(this.__resetVelocityTimeout),delete this.__resetVelocityTimeout,this.__preventNextNativeScrollEvent)delete this.__preventNextNativeScrollEvent;else if(!1===this.isScrolling||"native"===this.isScrolling){const t=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity,this.velocity=this.animatedScroll-t,this.direction=Math.sign(this.animatedScroll-t),this.isScrolling="native",this.emit(),0!==this.velocity&&(this.__resetVelocityTimeout=setTimeout((()=>{this.lastVelocity=this.velocity,this.velocity=0,this.isScrolling=!1,this.emit()}),400))}},window.lenisVersion="1.1.9",t&&t!==document.documentElement&&t!==document.body||(t=window),this.options={wrapper:t,content:e,wheelEventsTarget:n,eventsTarget:r,smoothWheel:o,syncTouch:c,syncTouchLerp:u,touchInertiaMultiplier:h,duration:p,easing:d,lerp:f,infinite:m,gestureOrientation:v,orientation:g,touchMultiplier:y,wheelMultiplier:_,autoResize:x,prevent:b,virtualScroll:S,__experimental__naiveDimensions:w},this.animate=new i,this.emitter=new s,this.dimensions=new a({wrapper:t,content:e,autoResize:x}),this.updateClassName(),this.userData={},this.time=0,this.velocity=this.lastVelocity=0,this.isLocked=!1,this.isStopped=!1,this.isScrolling=!1,this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.addEventListener("pointerdown",this.onPointerDown,!1),this.virtualScroll=new l(r,{touchMultiplier:y,wheelMultiplier:_}),this.virtualScroll.on("scroll",this.onVirtualScroll)}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.removeEventListener("pointerdown",this.onPointerDown,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.cleanUpClassName()}on(t,e){return this.emitter.on(t,e)}off(t,e){return this.emitter.off(t,e)}setScroll(t){this.isHorizontal?this.rootElement.scrollLeft=t:this.rootElement.scrollTop=t}resize(){this.dimensions.resize()}emit(){this.emitter.emit("scroll",this)}reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity=0,this.animate.stop()}start(){this.isStopped&&(this.isStopped=!1,this.reset())}stop(){this.isStopped||(this.isStopped=!0,this.animate.stop(),this.reset())}raf(t){const e=t-(this.time||t);this.time=t,this.animate.advance(.001*e)}scrollTo(t,{offset:e=0,immediate:n=!1,lock:i=!1,duration:a=this.options.duration,easing:s=this.options.easing,lerp:o=this.options.lerp,onStart:l,onComplete:c,force:u=!1,programmatic:h=!0,userData:p={}}={}){if(!this.isStopped&&!this.isLocked||u){if("string"==typeof t&&["top","left","start"].includes(t))t=0;else if("string"==typeof t&&["bottom","right","end"].includes(t))t=this.limit;else{let n;if("string"==typeof t?n=document.querySelector(t):t instanceof HTMLElement&&(null==t?void 0:t.nodeType)&&(n=t),n){if(this.options.wrapper!==window){const t=this.rootElement.getBoundingClientRect();e-=this.isHorizontal?t.left:t.top}const r=n.getBoundingClientRect();t=(this.isHorizontal?r.left:r.top)+this.animatedScroll}}if("number"==typeof t&&(t+=e,t=Math.round(t),this.options.infinite?h&&(this.targetScroll=this.animatedScroll=this.scroll):t=r(0,t,this.limit),t!==this.targetScroll)){if(this.userData=p,n)return this.animatedScroll=this.targetScroll=t,this.setScroll(this.scroll),this.reset(),this.preventNextNativeScrollEvent(),this.emit(),null==c||c(this),void(this.userData={});h||(this.targetScroll=t),this.animate.fromTo(this.animatedScroll,t,{duration:a,easing:s,lerp:o,onStart:()=>{i&&(this.isLocked=!0),this.isScrolling="smooth",null==l||l(this)},onUpdate:(t,e)=>{this.isScrolling="smooth",this.lastVelocity=this.velocity,this.velocity=t-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=t,this.setScroll(this.scroll),h&&(this.targetScroll=t),e||this.emit(),e&&(this.reset(),this.emit(),null==c||c(this),this.userData={},this.preventNextNativeScrollEvent())}})}}}preventNextNativeScrollEvent(){this.__preventNextNativeScrollEvent=!0,requestAnimationFrame((()=>{delete this.__preventNextNativeScrollEvent}))}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return"horizontal"===this.options.orientation}get actualScroll(){return this.isHorizontal?this.rootElement.scrollLeft:this.rootElement.scrollTop}get scroll(){return this.options.infinite?function(t,e){return(t%e+e)%e}(this.animatedScroll,this.limit):this.animatedScroll}get progress(){return 0===this.limit?1:this.scroll/this.limit}get isScrolling(){return this.__isScrolling}set isScrolling(t){this.__isScrolling!==t&&(this.__isScrolling=t,this.updateClassName())}get isStopped(){return this.__isStopped}set isStopped(t){this.__isStopped!==t&&(this.__isStopped=t,this.updateClassName())}get isLocked(){return this.__isLocked}set isLocked(t){this.__isLocked!==t&&(this.__isLocked=t,this.updateClassName())}get isSmooth(){return"smooth"===this.isScrolling}get className(){let t="lenis";return this.isStopped&&(t+=" lenis-stopped"),this.isLocked&&(t+=" lenis-locked"),this.isScrolling&&(t+=" lenis-scrolling"),"smooth"===this.isScrolling&&(t+=" lenis-smooth"),t}updateClassName(){this.cleanUpClassName(),this.rootElement.className=`${this.rootElement.className} ${this.className}`.trim()}cleanUpClassName(){this.rootElement.className=this.rootElement.className.replace(/lenis(-\w+)?/g,"").trim()}}},5049:function(t,e,n){"use strict";n.d(e,{A:function(){return ce}});n(4114);function r(t){return null!==t&&"object"===typeof t&&"constructor"in t&&t.constructor===Object}function i(t,e){void 0===t&&(t={}),void 0===e&&(e={}),Object.keys(e).forEach((n=>{"undefined"===typeof t[n]?t[n]=e[n]:r(e[n])&&r(t[n])&&Object.keys(e[n]).length>0&&i(t[n],e[n])}))}const a={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function s(){const t="undefined"!==typeof document?document:{};return i(t,a),t}const o={document:a,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return"undefined"===typeof setTimeout?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){"undefined"!==typeof setTimeout&&clearTimeout(t)}};function l(){const t="undefined"!==typeof window?window:{};return i(t,o),t}function c(t){return void 0===t&&(t=""),t.trim().split(" ").filter((t=>!!t.trim()))}function u(t){const e=t;Object.keys(e).forEach((t=>{try{e[t]=null}catch(n){}try{delete e[t]}catch(n){}}))}function h(t,e){return void 0===e&&(e=0),setTimeout(t,e)}function p(){return Date.now()}function d(t){const e=l();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function f(t,e){void 0===e&&(e="x");const n=l();let r,i,a;const s=d(t);return n.WebKitCSSMatrix?(i=s.transform||s.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map((t=>t.replace(",","."))).join(", ")),a=new n.WebKitCSSMatrix("none"===i?"":i)):(a=s.MozTransform||s.OTransform||s.MsTransform||s.msTransform||s.transform||s.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=a.toString().split(",")),"x"===e&&(i=n.WebKitCSSMatrix?a.m41:16===r.length?parseFloat(r[12]):parseFloat(r[4])),"y"===e&&(i=n.WebKitCSSMatrix?a.m42:16===r.length?parseFloat(r[13]):parseFloat(r[5])),i||0}function m(t){return"object"===typeof t&&null!==t&&t.constructor&&"Object"===Object.prototype.toString.call(t).slice(8,-1)}function g(t){return"undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement?t instanceof HTMLElement:t&&(1===t.nodeType||11===t.nodeType)}function v(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const r=n<0||arguments.length<=n?void 0:arguments[n];if(void 0!==r&&null!==r&&!g(r)){const n=Object.keys(Object(r)).filter((t=>e.indexOf(t)<0));for(let e=0,i=n.length;e<i;e+=1){const i=n[e],a=Object.getOwnPropertyDescriptor(r,i);void 0!==a&&a.enumerable&&(m(t[i])&&m(r[i])?r[i].__swiper__?t[i]=r[i]:v(t[i],r[i]):!m(t[i])&&m(r[i])?(t[i]={},r[i].__swiper__?t[i]=r[i]:v(t[i],r[i])):t[i]=r[i])}}}return t}function y(t,e,n){t.style.setProperty(e,n)}function _(t){let{swiper:e,targetPosition:n,side:r}=t;const i=l(),a=-e.translate;let s,o=null;const c=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);const u=n>a?"next":"prev",h=(t,e)=>"next"===u&&t>=e||"prev"===u&&t<=e,p=()=>{s=(new Date).getTime(),null===o&&(o=s);const t=Math.max(Math.min((s-o)/c,1),0),l=.5-Math.cos(t*Math.PI)/2;let u=a+l*(n-a);if(h(u,n)&&(u=n),e.wrapperEl.scrollTo({[r]:u}),h(u,n))return e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout((()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:u})})),void i.cancelAnimationFrame(e.cssModeFrameID);e.cssModeFrameID=i.requestAnimationFrame(p)};p()}function x(t){return t.querySelector(".swiper-slide-transform")||t.shadowRoot&&t.shadowRoot.querySelector(".swiper-slide-transform")||t}function b(t,e){void 0===e&&(e="");const n=[...t.children];return t instanceof HTMLSlotElement&&n.push(...t.assignedElements()),e?n.filter((t=>t.matches(e))):n}function S(t,e){const n=e.contains(t);if(!n&&e instanceof HTMLSlotElement){const n=[...e.assignedElements()];return n.includes(t)}return n}function w(t){try{return void console.warn(t)}catch(e){}}function E(t,e){void 0===e&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:c(e)),n}function M(t){const e=l(),n=s(),r=t.getBoundingClientRect(),i=n.body,a=t.clientTop||i.clientTop||0,o=t.clientLeft||i.clientLeft||0,c=t===e?e.scrollY:t.scrollTop,u=t===e?e.scrollX:t.scrollLeft;return{top:r.top+c-a,left:r.left+u-o}}function T(t,e){const n=[];while(t.previousElementSibling){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function C(t,e){const n=[];while(t.nextElementSibling){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function A(t,e){const n=l();return n.getComputedStyle(t,null).getPropertyValue(e)}function P(t){let e,n=t;if(n){e=0;while(null!==(n=n.previousSibling))1===n.nodeType&&(e+=1);return e}}function R(t,e){const n=[];let r=t.parentElement;while(r)e?r.matches(e)&&n.push(r):n.push(r),r=r.parentElement;return n}function D(t,e){function n(r){r.target===t&&(e.call(t,r),t.removeEventListener("transitionend",n))}e&&t.addEventListener("transitionend",n)}function I(t,e,n){const r=l();return n?t["width"===e?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue("width"===e?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue("width"===e?"margin-left":"margin-bottom")):t.offsetWidth}function L(t){return(Array.isArray(t)?t:[t]).filter((t=>!!t))}function k(t){return e=>Math.abs(e)>0&&t.browser&&t.browser.need3dFix&&Math.abs(e)%90===0?e+.001:e}let O,F,N;function B(){const t=l(),e=s();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function U(){return O||(O=B()),O}function z(t){let{userAgent:e}=void 0===t?{}:t;const n=U(),r=l(),i=r.navigator.platform,a=e||r.navigator.userAgent,s={ios:!1,android:!1},o=r.screen.width,c=r.screen.height,u=a.match(/(Android);?[\s\/]+([\d.]+)?/);let h=a.match(/(iPad).*OS\s([\d_]+)/);const p=a.match(/(iPod)(.*OS\s([\d_]+))?/),d=!h&&a.match(/(iPhone\sOS|iOS)\s([\d_]+)/),f="Win32"===i;let m="MacIntel"===i;const g=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!h&&m&&n.touch&&g.indexOf(`${o}x${c}`)>=0&&(h=a.match(/(Version)\/([\d.]+)/),h||(h=[0,1,"13_0_0"]),m=!1),u&&!f&&(s.os="android",s.android=!0),(h||d||p)&&(s.os="ios",s.ios=!0),s}function V(t){return void 0===t&&(t={}),F||(F=z(t)),F}function H(){const t=l(),e=V();let n=!1;function r(){const e=t.navigator.userAgent.toLowerCase();return e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0}if(r()){const e=String(t.navigator.userAgent);if(e.includes("Version/")){const[t,r]=e.split("Version/")[1].split(" ")[0].split(".").map((t=>Number(t)));n=t<16||16===t&&r<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),a=r(),s=a||i&&e.ios;return{isSafari:n||a,needPerspectiveFix:n,need3dFix:s,isWebView:i}}function G(){return N||(N=H()),N}function W(t){let{swiper:e,on:n,emit:r}=t;const i=l();let a=null,s=null;const o=()=>{e&&!e.destroyed&&e.initialized&&(r("beforeResize"),r("resize"))},c=()=>{e&&!e.destroyed&&e.initialized&&(a=new ResizeObserver((t=>{s=i.requestAnimationFrame((()=>{const{width:n,height:r}=e;let i=n,a=r;t.forEach((t=>{let{contentBoxSize:n,contentRect:r,target:s}=t;s&&s!==e.el||(i=r?r.width:(n[0]||n).inlineSize,a=r?r.height:(n[0]||n).blockSize)})),i===n&&a===r||o()}))})),a.observe(e.el))},u=()=>{s&&i.cancelAnimationFrame(s),a&&a.unobserve&&e.el&&(a.unobserve(e.el),a=null)},h=()=>{e&&!e.destroyed&&e.initialized&&r("orientationchange")};n("init",(()=>{e.params.resizeObserver&&"undefined"!==typeof i.ResizeObserver?c():(i.addEventListener("resize",o),i.addEventListener("orientationchange",h))})),n("destroy",(()=>{u(),i.removeEventListener("resize",o),i.removeEventListener("orientationchange",h)}))}function j(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;const a=[],s=l(),o=function(t,n){void 0===n&&(n={});const r=s.MutationObserver||s.WebkitMutationObserver,o=new r((t=>{if(e.__preventObserver__)return;if(1===t.length)return void i("observerUpdate",t[0]);const n=function(){i("observerUpdate",t[0])};s.requestAnimationFrame?s.requestAnimationFrame(n):s.setTimeout(n,0)}));o.observe(t,{attributes:"undefined"===typeof n.attributes||n.attributes,childList:e.isElement||("undefined"===typeof n.childList||n).childList,characterData:"undefined"===typeof n.characterData||n.characterData}),a.push(o)},c=()=>{if(e.params.observer){if(e.params.observeParents){const t=R(e.hostEl);for(let e=0;e<t.length;e+=1)o(t[e])}o(e.hostEl,{childList:e.params.observeSlideChildren}),o(e.wrapperEl,{attributes:!1})}},u=()=>{a.forEach((t=>{t.disconnect()})),a.splice(0,a.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",c),r("destroy",u)}var q={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed)return r;if("function"!==typeof e)return r;const i=n?"unshift":"push";return t.split(" ").forEach((t=>{r.eventsListeners[t]||(r.eventsListeners[t]=[]),r.eventsListeners[t][i](e)})),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed)return r;if("function"!==typeof e)return r;function i(){r.off(t,i),i.__emitterProxy&&delete i.__emitterProxy;for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];e.apply(r,a)}return i.__emitterProxy=e,r.on(t,i,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed)return n;if("function"!==typeof t)return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed)return e;if(!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed?n:n.eventsListeners?(t.split(" ").forEach((t=>{"undefined"===typeof e?n.eventsListeners[t]=[]:n.eventsListeners[t]&&n.eventsListeners[t].forEach(((r,i)=>{(r===e||r.__emitterProxy&&r.__emitterProxy===e)&&n.eventsListeners[t].splice(i,1)}))})),n):n},emit(){const t=this;if(!t.eventsListeners||t.destroyed)return t;if(!t.eventsListeners)return t;let e,n,r;for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];"string"===typeof a[0]||Array.isArray(a[0])?(e=a[0],n=a.slice(1,a.length),r=t):(e=a[0].events,n=a[0].data,r=a[0].context||t),n.unshift(r);const o=Array.isArray(e)?e:e.split(" ");return o.forEach((e=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach((t=>{t.apply(r,[e,...n])})),t.eventsListeners&&t.eventsListeners[e]&&t.eventsListeners[e].forEach((t=>{t.apply(r,n)}))})),t}};function $(){const t=this;let e,n;const r=t.el;e="undefined"!==typeof t.params.width&&null!==t.params.width?t.params.width:r.clientWidth,n="undefined"!==typeof t.params.height&&null!==t.params.height?t.params.height:r.clientHeight,0===e&&t.isHorizontal()||0===n&&t.isVertical()||(e=e-parseInt(A(r,"padding-left")||0,10)-parseInt(A(r,"padding-right")||0,10),n=n-parseInt(A(r,"padding-top")||0,10)-parseInt(A(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function X(){const t=this;function e(e,n){return parseFloat(e.getPropertyValue(t.getDirectionLabel(n))||0)}const n=t.params,{wrapperEl:r,slidesEl:i,size:a,rtlTranslate:s,wrongRTL:o}=t,l=t.virtual&&n.virtual.enabled,c=l?t.virtual.slides.length:t.slides.length,u=b(i,`.${t.params.slideClass}, swiper-slide`),h=l?t.virtual.slides.length:u.length;let p=[];const d=[],f=[];let m=n.slidesOffsetBefore;"function"===typeof m&&(m=n.slidesOffsetBefore.call(t));let g=n.slidesOffsetAfter;"function"===typeof g&&(g=n.slidesOffsetAfter.call(t));const v=t.snapGrid.length,_=t.slidesGrid.length;let x=n.spaceBetween,S=-m,w=0,E=0;if("undefined"===typeof a)return;"string"===typeof x&&x.indexOf("%")>=0?x=parseFloat(x.replace("%",""))/100*a:"string"===typeof x&&(x=parseFloat(x)),t.virtualSize=-x,u.forEach((t=>{s?t.style.marginLeft="":t.style.marginRight="",t.style.marginBottom="",t.style.marginTop=""})),n.centeredSlides&&n.cssMode&&(y(r,"--swiper-centered-offset-before",""),y(r,"--swiper-centered-offset-after",""));const M=n.grid&&n.grid.rows>1&&t.grid;let T;M?t.grid.initSlides(u):t.grid&&t.grid.unsetSlides();const C="auto"===n.slidesPerView&&n.breakpoints&&Object.keys(n.breakpoints).filter((t=>"undefined"!==typeof n.breakpoints[t].slidesPerView)).length>0;for(let y=0;y<h;y+=1){let r;if(T=0,u[y]&&(r=u[y]),M&&t.grid.updateSlide(y,r,u),!u[y]||"none"!==A(r,"display")){if("auto"===n.slidesPerView){C&&(u[y].style[t.getDirectionLabel("width")]="");const i=getComputedStyle(r),a=r.style.transform,s=r.style.webkitTransform;if(a&&(r.style.transform="none"),s&&(r.style.webkitTransform="none"),n.roundLengths)T=t.isHorizontal()?I(r,"width",!0):I(r,"height",!0);else{const t=e(i,"width"),n=e(i,"padding-left"),a=e(i,"padding-right"),s=e(i,"margin-left"),o=e(i,"margin-right"),l=i.getPropertyValue("box-sizing");if(l&&"border-box"===l)T=t+s+o;else{const{clientWidth:e,offsetWidth:i}=r;T=t+n+a+s+o+(i-e)}}a&&(r.style.transform=a),s&&(r.style.webkitTransform=s),n.roundLengths&&(T=Math.floor(T))}else T=(a-(n.slidesPerView-1)*x)/n.slidesPerView,n.roundLengths&&(T=Math.floor(T)),u[y]&&(u[y].style[t.getDirectionLabel("width")]=`${T}px`);u[y]&&(u[y].swiperSlideSize=T),f.push(T),n.centeredSlides?(S=S+T/2+w/2+x,0===w&&0!==y&&(S=S-a/2-x),0===y&&(S=S-a/2-x),Math.abs(S)<.001&&(S=0),n.roundLengths&&(S=Math.floor(S)),E%n.slidesPerGroup===0&&p.push(S),d.push(S)):(n.roundLengths&&(S=Math.floor(S)),(E-Math.min(t.params.slidesPerGroupSkip,E))%t.params.slidesPerGroup===0&&p.push(S),d.push(S),S=S+T+x),t.virtualSize+=T+x,w=T,E+=1}}if(t.virtualSize=Math.max(t.virtualSize,a)+g,s&&o&&("slide"===n.effect||"coverflow"===n.effect)&&(r.style.width=`${t.virtualSize+x}px`),n.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+x}px`),M&&t.grid.updateWrapperSize(T,p),!n.centeredSlides){const e=[];for(let r=0;r<p.length;r+=1){let i=p[r];n.roundLengths&&(i=Math.floor(i)),p[r]<=t.virtualSize-a&&e.push(i)}p=e,Math.floor(t.virtualSize-a)-Math.floor(p[p.length-1])>1&&p.push(t.virtualSize-a)}if(l&&n.loop){const e=f[0]+x;if(n.slidesPerGroup>1){const r=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),i=e*n.slidesPerGroup;for(let t=0;t<r;t+=1)p.push(p[p.length-1]+i)}for(let r=0;r<t.virtual.slidesBefore+t.virtual.slidesAfter;r+=1)1===n.slidesPerGroup&&p.push(p[p.length-1]+e),d.push(d[d.length-1]+e),t.virtualSize+=e}if(0===p.length&&(p=[0]),0!==x){const e=t.isHorizontal()&&s?"marginLeft":t.getDirectionLabel("marginRight");u.filter(((t,e)=>!(n.cssMode&&!n.loop)||e!==u.length-1)).forEach((t=>{t.style[e]=`${x}px`}))}if(n.centeredSlides&&n.centeredSlidesBounds){let t=0;f.forEach((e=>{t+=e+(x||0)})),t-=x;const e=t>a?t-a:0;p=p.map((t=>t<=0?-m:t>e?e+g:t))}if(n.centerInsufficientSlides){let t=0;f.forEach((e=>{t+=e+(x||0)})),t-=x;const e=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(t+e<a){const n=(a-t-e)/2;p.forEach(((t,e)=>{p[e]=t-n})),d.forEach(((t,e)=>{d[e]=t+n}))}}if(Object.assign(t,{slides:u,snapGrid:p,slidesGrid:d,slidesSizesGrid:f}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){y(r,"--swiper-centered-offset-before",-p[0]+"px"),y(r,"--swiper-centered-offset-after",t.size/2-f[f.length-1]/2+"px");const e=-t.snapGrid[0],n=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map((t=>t+e)),t.slidesGrid=t.slidesGrid.map((t=>t+n))}if(h!==c&&t.emit("slidesLengthChange"),p.length!==v&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),d.length!==_&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!l&&!n.cssMode&&("slide"===n.effect||"fade"===n.effect)){const e=`${n.containerModifierClass}backface-hidden`,r=t.el.classList.contains(e);h<=n.maxBackfaceHiddenSlides?r||t.el.classList.add(e):r&&t.el.classList.remove(e)}}function Y(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let i,a=0;"number"===typeof t?e.setTransition(t):!0===t&&e.setTransition(e.params.speed);const s=t=>r?e.slides[e.getSlideIndexByData(t)]:e.slides[t];if("auto"!==e.params.slidesPerView&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach((t=>{n.push(t)}));else for(i=0;i<Math.ceil(e.params.slidesPerView);i+=1){const t=e.activeIndex+i;if(t>e.slides.length&&!r)break;n.push(s(t))}else n.push(s(e.activeIndex));for(i=0;i<n.length;i+=1)if("undefined"!==typeof n[i]){const t=n[i].offsetHeight;a=t>a?t:a}(a||0===a)&&(e.wrapperEl.style.height=`${a}px`)}function K(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}const Z=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function J(t){void 0===t&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:r,rtlTranslate:i,snapGrid:a}=e;if(0===r.length)return;"undefined"===typeof r[0].swiperSlideOffset&&e.updateSlidesOffset();let s=-t;i&&(s=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let o=n.spaceBetween;"string"===typeof o&&o.indexOf("%")>=0?o=parseFloat(o.replace("%",""))/100*e.size:"string"===typeof o&&(o=parseFloat(o));for(let l=0;l<r.length;l+=1){const t=r[l];let c=t.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(c-=r[0].swiperSlideOffset);const u=(s+(n.centeredSlides?e.minTranslate():0)-c)/(t.swiperSlideSize+o),h=(s-a[0]+(n.centeredSlides?e.minTranslate():0)-c)/(t.swiperSlideSize+o),p=-(s-c),d=p+e.slidesSizesGrid[l],f=p>=0&&p<=e.size-e.slidesSizesGrid[l],m=p>=0&&p<e.size-1||d>1&&d<=e.size||p<=0&&d>=e.size;m&&(e.visibleSlides.push(t),e.visibleSlidesIndexes.push(l)),Z(t,m,n.slideVisibleClass),Z(t,f,n.slideFullyVisibleClass),t.progress=i?-u:u,t.originalProgress=i?-h:h}}function Q(t){const e=this;if("undefined"===typeof t){const n=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*n||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:a,isEnd:s,progressLoop:o}=e;const l=a,c=s;if(0===r)i=0,a=!0,s=!0;else{i=(t-e.minTranslate())/r;const n=Math.abs(t-e.minTranslate())<1,o=Math.abs(t-e.maxTranslate())<1;a=n||i<=0,s=o||i>=1,n&&(i=0),o&&(i=1)}if(n.loop){const n=e.getSlideIndexByData(0),r=e.getSlideIndexByData(e.slides.length-1),i=e.slidesGrid[n],a=e.slidesGrid[r],s=e.slidesGrid[e.slidesGrid.length-1],l=Math.abs(t);o=l>=i?(l-i)/s:(l+s-a)/s,o>1&&(o-=1)}Object.assign(e,{progress:i,progressLoop:o,isBeginning:a,isEnd:s}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),a&&!l&&e.emit("reachBeginning toEdge"),s&&!c&&e.emit("reachEnd toEdge"),(l&&!a||c&&!s)&&e.emit("fromEdge"),e.emit("progress",i)}const tt=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function et(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:i}=t,a=t.virtual&&n.virtual.enabled,s=t.grid&&n.grid&&n.grid.rows>1,o=t=>b(r,`.${n.slideClass}${t}, swiper-slide${t}`)[0];let l,c,u;if(a)if(n.loop){let e=i-t.virtual.slidesBefore;e<0&&(e=t.virtual.slides.length+e),e>=t.virtual.slides.length&&(e-=t.virtual.slides.length),l=o(`[data-swiper-slide-index="${e}"]`)}else l=o(`[data-swiper-slide-index="${i}"]`);else s?(l=e.filter((t=>t.column===i))[0],u=e.filter((t=>t.column===i+1))[0],c=e.filter((t=>t.column===i-1))[0]):l=e[i];l&&(s||(u=C(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!u&&(u=e[0]),c=T(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&0===!c&&(c=e[e.length-1]))),e.forEach((t=>{tt(t,t===l,n.slideActiveClass),tt(t,t===u,n.slideNextClass),tt(t,t===c,n.slidePrevClass)})),t.emitSlidesClasses()}const nt=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){let e=r.querySelector(`.${t.params.lazyPreloaderClass}`);!e&&t.isElement&&(r.shadowRoot?e=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame((()=>{r.shadowRoot&&(e=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),e&&e.remove())}))),e&&e.remove()}},rt=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},it=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r="auto"===t.params.slidesPerView?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),i=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const n=i,a=[n-e];return a.push(...Array.from({length:e}).map(((t,e)=>n+r+e))),void t.slides.forEach(((e,n)=>{a.includes(e.column)&&rt(t,n)}))}const a=i+r-1;if(t.params.rewind||t.params.loop)for(let s=i-e;s<=a+e;s+=1){const e=(s%n+n)%n;(e<i||e>a)&&rt(t,e)}else for(let s=Math.max(i-e,0);s<=Math.min(a+e,n-1);s+=1)s!==i&&(s>a||s<i)&&rt(t,s)};function at(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let i;for(let a=0;a<e.length;a+=1)"undefined"!==typeof e[a+1]?r>=e[a]&&r<e[a+1]-(e[a+1]-e[a])/2?i=a:r>=e[a]&&r<e[a+1]&&(i=a+1):r>=e[a]&&(i=a);return n.normalizeSlideIndex&&(i<0||"undefined"===typeof i)&&(i=0),i}function st(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:i,activeIndex:a,realIndex:s,snapIndex:o}=e;let l,c=t;const u=t=>{let n=t-e.virtual.slidesBefore;return n<0&&(n=e.virtual.slides.length+n),n>=e.virtual.slides.length&&(n-=e.virtual.slides.length),n};if("undefined"===typeof c&&(c=at(e)),r.indexOf(n)>=0)l=r.indexOf(n);else{const t=Math.min(i.slidesPerGroupSkip,c);l=t+Math.floor((c-t)/i.slidesPerGroup)}if(l>=r.length&&(l=r.length-1),c===a&&!e.params.loop)return void(l!==o&&(e.snapIndex=l,e.emit("snapIndexChange")));if(c===a&&e.params.loop&&e.virtual&&e.params.virtual.enabled)return void(e.realIndex=u(c));const h=e.grid&&i.grid&&i.grid.rows>1;let p;if(e.virtual&&i.virtual.enabled&&i.loop)p=u(c);else if(h){const t=e.slides.filter((t=>t.column===c))[0];let n=parseInt(t.getAttribute("data-swiper-slide-index"),10);Number.isNaN(n)&&(n=Math.max(e.slides.indexOf(t),0)),p=Math.floor(n/i.grid.rows)}else if(e.slides[c]){const t=e.slides[c].getAttribute("data-swiper-slide-index");p=t?parseInt(t,10):c}else p=c;Object.assign(e,{previousSnapIndex:o,snapIndex:l,previousRealIndex:s,realIndex:p,previousIndex:a,activeIndex:c}),e.initialized&&it(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(s!==p&&e.emit("realIndexChange"),e.emit("slideChange"))}function ot(t,e){const n=this,r=n.params;let i=t.closest(`.${r.slideClass}, swiper-slide`);!i&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach((t=>{!i&&t.matches&&t.matches(`.${r.slideClass}, swiper-slide`)&&(i=t)}));let a,s=!1;if(i)for(let o=0;o<n.slides.length;o+=1)if(n.slides[o]===i){s=!0,a=o;break}if(!i||!s)return n.clickedSlide=void 0,void(n.clickedIndex=void 0);n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=a,r.slideToClickedSlide&&void 0!==n.clickedIndex&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var lt={updateSize:$,updateSlides:X,updateAutoHeight:Y,updateSlidesOffset:K,updateSlidesProgress:J,updateProgress:Q,updateSlidesClasses:et,updateActiveIndex:st,updateClickedSlide:ot};function ct(t){void 0===t&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:r,translate:i,wrapperEl:a}=e;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;let s=f(a,t);return s+=e.cssOverflowAdjustment(),r&&(s=-s),s||0}function ut(t,e){const n=this,{rtlTranslate:r,params:i,wrapperEl:a,progress:s}=n;let o=0,l=0;const c=0;let u;n.isHorizontal()?o=r?-t:t:l=t,i.roundLengths&&(o=Math.floor(o),l=Math.floor(l)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?o:l,i.cssMode?a[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-o:-l:i.virtualTranslate||(n.isHorizontal()?o-=n.cssOverflowAdjustment():l-=n.cssOverflowAdjustment(),a.style.transform=`translate3d(${o}px, ${l}px, ${c}px)`);const h=n.maxTranslate()-n.minTranslate();u=0===h?0:(t-n.minTranslate())/h,u!==s&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function ht(){return-this.snapGrid[0]}function pt(){return-this.snapGrid[this.snapGrid.length-1]}function dt(t,e,n,r,i){void 0===t&&(t=0),void 0===e&&(e=this.params.speed),void 0===n&&(n=!0),void 0===r&&(r=!0);const a=this,{params:s,wrapperEl:o}=a;if(a.animating&&s.preventInteractionOnTransition)return!1;const l=a.minTranslate(),c=a.maxTranslate();let u;if(u=r&&t>l?l:r&&t<c?c:t,a.updateProgress(u),s.cssMode){const t=a.isHorizontal();if(0===e)o[t?"scrollLeft":"scrollTop"]=-u;else{if(!a.support.smoothScroll)return _({swiper:a,targetPosition:-u,side:t?"left":"top"}),!0;o.scrollTo({[t?"left":"top"]:-u,behavior:"smooth"})}return!0}return 0===e?(a.setTransition(0),a.setTranslate(u),n&&(a.emit("beforeTransitionStart",e,i),a.emit("transitionEnd"))):(a.setTransition(e),a.setTranslate(u),n&&(a.emit("beforeTransitionStart",e,i),a.emit("transitionStart")),a.animating||(a.animating=!0,a.onTranslateToWrapperTransitionEnd||(a.onTranslateToWrapperTransitionEnd=function(t){a&&!a.destroyed&&t.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.onTranslateToWrapperTransitionEnd=null,delete a.onTranslateToWrapperTransitionEnd,a.animating=!1,n&&a.emit("transitionEnd"))}),a.wrapperEl.addEventListener("transitionend",a.onTranslateToWrapperTransitionEnd))),!0}var ft={getTranslate:ct,setTranslate:ut,minTranslate:ht,maxTranslate:pt,translateTo:dt};function mt(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=0===t?"0ms":""),n.emit("setTransition",t,e)}function gt(t){let{swiper:e,runCallbacks:n,direction:r,step:i}=t;const{activeIndex:a,previousIndex:s}=e;let o=r;if(o||(o=a>s?"next":a<s?"prev":"reset"),e.emit(`transition${i}`),n&&a!==s){if("reset"===o)return void e.emit(`slideResetTransition${i}`);e.emit(`slideChangeTransition${i}`),"next"===o?e.emit(`slideNextTransition${i}`):e.emit(`slidePrevTransition${i}`)}}function vt(t,e){void 0===t&&(t=!0);const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),gt({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function yt(t,e){void 0===t&&(t=!0);const n=this,{params:r}=n;n.animating=!1,r.cssMode||(n.setTransition(0),gt({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var _t={setTransition:mt,transitionStart:vt,transitionEnd:yt};function xt(t,e,n,r,i){void 0===t&&(t=0),void 0===n&&(n=!0),"string"===typeof t&&(t=parseInt(t,10));const a=this;let s=t;s<0&&(s=0);const{params:o,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:h,rtlTranslate:p,wrapperEl:d,enabled:f}=a;if(!f&&!r&&!i||a.destroyed||a.animating&&o.preventInteractionOnTransition)return!1;"undefined"===typeof e&&(e=a.params.speed);const m=Math.min(a.params.slidesPerGroupSkip,s);let g=m+Math.floor((s-m)/a.params.slidesPerGroup);g>=l.length&&(g=l.length-1);const v=-l[g];if(o.normalizeSlideIndex)for(let _=0;_<c.length;_+=1){const t=-Math.floor(100*v),e=Math.floor(100*c[_]),n=Math.floor(100*c[_+1]);"undefined"!==typeof c[_+1]?t>=e&&t<n-(n-e)/2?s=_:t>=e&&t<n&&(s=_+1):t>=e&&(s=_)}if(a.initialized&&s!==h){if(!a.allowSlideNext&&(p?v>a.translate&&v>a.minTranslate():v<a.translate&&v<a.minTranslate()))return!1;if(!a.allowSlidePrev&&v>a.translate&&v>a.maxTranslate()&&(h||0)!==s)return!1}let y;s!==(u||0)&&n&&a.emit("beforeSlideChangeStart"),a.updateProgress(v),y=s>h?"next":s<h?"prev":"reset";const x=a.virtual&&a.params.virtual.enabled,b=x&&i;if(!b&&(p&&-v===a.translate||!p&&v===a.translate))return a.updateActiveIndex(s),o.autoHeight&&a.updateAutoHeight(),a.updateSlidesClasses(),"slide"!==o.effect&&a.setTranslate(v),"reset"!==y&&(a.transitionStart(n,y),a.transitionEnd(n,y)),!1;if(o.cssMode){const t=a.isHorizontal(),n=p?v:-v;if(0===e)x&&(a.wrapperEl.style.scrollSnapType="none",a._immediateVirtual=!0),x&&!a._cssModeVirtualInitialSet&&a.params.initialSlide>0?(a._cssModeVirtualInitialSet=!0,requestAnimationFrame((()=>{d[t?"scrollLeft":"scrollTop"]=n}))):d[t?"scrollLeft":"scrollTop"]=n,x&&requestAnimationFrame((()=>{a.wrapperEl.style.scrollSnapType="",a._immediateVirtual=!1}));else{if(!a.support.smoothScroll)return _({swiper:a,targetPosition:n,side:t?"left":"top"}),!0;d.scrollTo({[t?"left":"top"]:n,behavior:"smooth"})}return!0}return a.setTransition(e),a.setTranslate(v),a.updateActiveIndex(s),a.updateSlidesClasses(),a.emit("beforeTransitionStart",e,r),a.transitionStart(n,y),0===e?a.transitionEnd(n,y):a.animating||(a.animating=!0,a.onSlideToWrapperTransitionEnd||(a.onSlideToWrapperTransitionEnd=function(t){a&&!a.destroyed&&t.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.onSlideToWrapperTransitionEnd=null,delete a.onSlideToWrapperTransitionEnd,a.transitionEnd(n,y))}),a.wrapperEl.addEventListener("transitionend",a.onSlideToWrapperTransitionEnd)),!0}function bt(t,e,n,r){if(void 0===t&&(t=0),void 0===n&&(n=!0),"string"===typeof t){const e=parseInt(t,10);t=e}const i=this;if(i.destroyed)return;"undefined"===typeof e&&(e=i.params.speed);const a=i.grid&&i.params.grid&&i.params.grid.rows>1;let s=t;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)s+=i.virtual.slidesBefore;else{let t;if(a){const e=s*i.params.grid.rows;t=i.slides.filter((t=>1*t.getAttribute("data-swiper-slide-index")===e))[0].column}else t=i.getSlideIndexByData(s);const e=a?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:n}=i.params;let o=i.params.slidesPerView;"auto"===o?o=i.slidesPerViewDynamic():(o=Math.ceil(parseFloat(i.params.slidesPerView,10)),n&&o%2===0&&(o+=1));let l=e-t<o;if(n&&(l=l||t<Math.ceil(o/2)),r&&n&&"auto"!==i.params.slidesPerView&&!a&&(l=!1),l){const r=n?t<i.activeIndex?"prev":"next":t-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:r,slideTo:!0,activeSlideIndex:"next"===r?t+1:t-e+1,slideRealIndex:"next"===r?i.realIndex:void 0})}if(a){const t=s*i.params.grid.rows;s=i.slides.filter((e=>1*e.getAttribute("data-swiper-slide-index")===t))[0].column}else s=i.getSlideIndexByData(s)}return requestAnimationFrame((()=>{i.slideTo(s,e,n,r)})),i}function St(t,e,n){void 0===e&&(e=!0);const r=this,{enabled:i,params:a,animating:s}=r;if(!i||r.destroyed)return r;"undefined"===typeof t&&(t=r.params.speed);let o=a.slidesPerGroup;"auto"===a.slidesPerView&&1===a.slidesPerGroup&&a.slidesPerGroupAuto&&(o=Math.max(r.slidesPerViewDynamic("current",!0),1));const l=r.activeIndex<a.slidesPerGroupSkip?1:o,c=r.virtual&&a.virtual.enabled;if(a.loop){if(s&&!c&&a.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&a.cssMode)return requestAnimationFrame((()=>{r.slideTo(r.activeIndex+l,t,e,n)})),!0}return a.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+l,t,e,n)}function wt(t,e,n){void 0===e&&(e=!0);const r=this,{params:i,snapGrid:a,slidesGrid:s,rtlTranslate:o,enabled:l,animating:c}=r;if(!l||r.destroyed)return r;"undefined"===typeof t&&(t=r.params.speed);const u=r.virtual&&i.virtual.enabled;if(i.loop){if(c&&!u&&i.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const h=o?r.translate:-r.translate;function p(t){return t<0?-Math.floor(Math.abs(t)):Math.floor(t)}const d=p(h),f=a.map((t=>p(t)));let m=a[f.indexOf(d)-1];if("undefined"===typeof m&&i.cssMode){let t;a.forEach(((e,n)=>{d>=e&&(t=n)})),"undefined"!==typeof t&&(m=a[t>0?t-1:t])}let g=0;if("undefined"!==typeof m&&(g=s.indexOf(m),g<0&&(g=r.activeIndex-1),"auto"===i.slidesPerView&&1===i.slidesPerGroup&&i.slidesPerGroupAuto&&(g=g-r.slidesPerViewDynamic("previous",!0)+1,g=Math.max(g,0))),i.rewind&&r.isBeginning){const i=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(i,t,e,n)}return i.loop&&0===r.activeIndex&&i.cssMode?(requestAnimationFrame((()=>{r.slideTo(g,t,e,n)})),!0):r.slideTo(g,t,e,n)}function Et(t,e,n){void 0===e&&(e=!0);const r=this;if(!r.destroyed)return"undefined"===typeof t&&(t=r.params.speed),r.slideTo(r.activeIndex,t,e,n)}function Mt(t,e,n,r){void 0===e&&(e=!0),void 0===r&&(r=.5);const i=this;if(i.destroyed)return;"undefined"===typeof t&&(t=i.params.speed);let a=i.activeIndex;const s=Math.min(i.params.slidesPerGroupSkip,a),o=s+Math.floor((a-s)/i.params.slidesPerGroup),l=i.rtlTranslate?i.translate:-i.translate;if(l>=i.snapGrid[o]){const t=i.snapGrid[o],e=i.snapGrid[o+1];l-t>(e-t)*r&&(a+=i.params.slidesPerGroup)}else{const t=i.snapGrid[o-1],e=i.snapGrid[o];l-t<=(e-t)*r&&(a-=i.params.slidesPerGroup)}return a=Math.max(a,0),a=Math.min(a,i.slidesGrid.length-1),i.slideTo(a,t,e,n)}function Tt(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,r="auto"===e.slidesPerView?t.slidesPerViewDynamic():e.slidesPerView;let i,a=t.clickedIndex;const s=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;i=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?a<t.loopedSlides-r/2||a>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),a=t.getSlideIndex(b(n,`${s}[data-swiper-slide-index="${i}"]`)[0]),h((()=>{t.slideTo(a)}))):t.slideTo(a):a>t.slides.length-r?(t.loopFix(),a=t.getSlideIndex(b(n,`${s}[data-swiper-slide-index="${i}"]`)[0]),h((()=>{t.slideTo(a)}))):t.slideTo(a)}else t.slideTo(a)}var Ct={slideTo:xt,slideToLoop:bt,slideNext:St,slidePrev:wt,slideReset:Et,slideToClosest:Mt,slideToClickedSlide:Tt};function At(t){const e=this,{params:n,slidesEl:r}=e;if(!n.loop||e.virtual&&e.params.virtual.enabled)return;const i=()=>{const t=b(r,`.${n.slideClass}, swiper-slide`);t.forEach(((t,e)=>{t.setAttribute("data-swiper-slide-index",e)}))},a=e.grid&&n.grid&&n.grid.rows>1,s=n.slidesPerGroup*(a?n.grid.rows:1),o=e.slides.length%s!==0,l=a&&e.slides.length%n.grid.rows!==0,c=t=>{for(let r=0;r<t;r+=1){const t=e.isElement?E("swiper-slide",[n.slideBlankClass]):E("div",[n.slideClass,n.slideBlankClass]);e.slidesEl.append(t)}};if(o){if(n.loopAddBlankSlides){const t=s-e.slides.length%s;c(t),e.recalcSlides(),e.updateSlides()}else w("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else if(l){if(n.loopAddBlankSlides){const t=n.grid.rows-e.slides.length%n.grid.rows;c(t),e.recalcSlides(),e.updateSlides()}else w("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else i();e.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next"})}function Pt(t){let{slideRealIndex:e,slideTo:n=!0,direction:r,setTranslate:i,activeSlideIndex:a,byController:s,byMousewheel:o}=void 0===t?{}:t;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:c,allowSlidePrev:u,allowSlideNext:h,slidesEl:p,params:d}=l,{centeredSlides:f}=d;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&d.virtual.enabled)return n&&(d.centeredSlides||0!==l.snapIndex?d.centeredSlides&&l.snapIndex<d.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0):l.slideTo(l.virtual.slides.length,0,!1,!0)),l.allowSlidePrev=u,l.allowSlideNext=h,void l.emit("loopFix");let m=d.slidesPerView;"auto"===m?m=l.slidesPerViewDynamic():(m=Math.ceil(parseFloat(d.slidesPerView,10)),f&&m%2===0&&(m+=1));const g=d.slidesPerGroupAuto?m:d.slidesPerGroup;let v=g;v%g!==0&&(v+=g-v%g),v+=d.loopAdditionalSlides,l.loopedSlides=v;const y=l.grid&&d.grid&&d.grid.rows>1;c.length<m+v?w("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):y&&"row"===d.grid.fill&&w("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const _=[],x=[];let b=l.activeIndex;"undefined"===typeof a?a=l.getSlideIndex(c.filter((t=>t.classList.contains(d.slideActiveClass)))[0]):b=a;const S="next"===r||!r,E="prev"===r||!r;let M=0,T=0;const C=y?Math.ceil(c.length/d.grid.rows):c.length,A=y?c[a].column:a,P=A+(f&&"undefined"===typeof i?-m/2+.5:0);if(P<v){M=Math.max(v-P,g);for(let t=0;t<v-P;t+=1){const e=t-Math.floor(t/C)*C;if(y){const t=C-e-1;for(let e=c.length-1;e>=0;e-=1)c[e].column===t&&_.push(e)}else _.push(C-e-1)}}else if(P+m>C-v){T=Math.max(P-(C-2*v),g);for(let t=0;t<T;t+=1){const e=t-Math.floor(t/C)*C;y?c.forEach(((t,n)=>{t.column===e&&x.push(n)})):x.push(e)}}if(l.__preventObserver__=!0,requestAnimationFrame((()=>{l.__preventObserver__=!1})),E&&_.forEach((t=>{c[t].swiperLoopMoveDOM=!0,p.prepend(c[t]),c[t].swiperLoopMoveDOM=!1})),S&&x.forEach((t=>{c[t].swiperLoopMoveDOM=!0,p.append(c[t]),c[t].swiperLoopMoveDOM=!1})),l.recalcSlides(),"auto"===d.slidesPerView?l.updateSlides():y&&(_.length>0&&E||x.length>0&&S)&&l.slides.forEach(((t,e)=>{l.grid.updateSlide(e,t,l.slides)})),d.watchSlidesProgress&&l.updateSlidesOffset(),n)if(_.length>0&&E){if("undefined"===typeof e){const t=l.slidesGrid[b],e=l.slidesGrid[b+M],n=e-t;o?l.setTranslate(l.translate-n):(l.slideTo(b+Math.ceil(M),0,!1,!0),i&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-n,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-n))}else if(i){const t=y?_.length/d.grid.rows:_.length;l.slideTo(l.activeIndex+t,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(x.length>0&&S)if("undefined"===typeof e){const t=l.slidesGrid[b],e=l.slidesGrid[b-T],n=e-t;o?l.setTranslate(l.translate-n):(l.slideTo(b-T,0,!1,!0),i&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-n,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-n))}else{const t=y?x.length/d.grid.rows:x.length;l.slideTo(l.activeIndex-t,0,!1,!0)}if(l.allowSlidePrev=u,l.allowSlideNext=h,l.controller&&l.controller.control&&!s){const t={slideRealIndex:e,direction:r,setTranslate:i,activeSlideIndex:a,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach((e=>{!e.destroyed&&e.params.loop&&e.loopFix({...t,slideTo:e.params.slidesPerView===d.slidesPerView&&n})})):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...t,slideTo:l.controller.control.params.slidesPerView===d.slidesPerView&&n})}l.emit("loopFix")}function Rt(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach((t=>{const e="undefined"===typeof t.swiperSlideIndex?1*t.getAttribute("data-swiper-slide-index"):t.swiperSlideIndex;r[e]=t})),t.slides.forEach((t=>{t.removeAttribute("data-swiper-slide-index")})),r.forEach((t=>{n.append(t)})),t.recalcSlides(),t.slideTo(t.realIndex,0)}var Dt={loopCreate:At,loopFix:Pt,loopDestroy:Rt};function It(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n="container"===e.params.touchEventsTarget?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame((()=>{e.__preventObserver__=!1}))}function Lt(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t["container"===t.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame((()=>{t.__preventObserver__=!1})))}var kt={setGrabCursor:It,unsetGrabCursor:Lt};function Ot(t,e){function n(e){if(!e||e===s()||e===l())return null;e.assignedSlot&&(e=e.assignedSlot);const r=e.closest(t);return r||e.getRootNode?r||n(e.getRootNode().host):null}return void 0===e&&(e=this),n(e)}function Ft(t,e,n){const r=l(),{params:i}=t,a=i.edgeSwipeDetection,s=i.edgeSwipeThreshold;return!a||!(n<=s||n>=r.innerWidth-s)||"prevent"===a&&(e.preventDefault(),!0)}function Nt(t){const e=this,n=s();let r=t;r.originalEvent&&(r=r.originalEvent);const i=e.touchEventsData;if("pointerdown"===r.type){if(null!==i.pointerId&&i.pointerId!==r.pointerId)return;i.pointerId=r.pointerId}else"touchstart"===r.type&&1===r.targetTouches.length&&(i.touchId=r.targetTouches[0].identifier);if("touchstart"===r.type)return void Ft(e,r,r.targetTouches[0].pageX);const{params:a,touches:o,enabled:l}=e;if(!l)return;if(!a.simulateTouch&&"mouse"===r.pointerType)return;if(e.animating&&a.preventInteractionOnTransition)return;!e.animating&&a.cssMode&&a.loop&&e.loopFix();let c=r.target;if("wrapper"===a.touchEventsTarget&&!S(c,e.wrapperEl))return;if("which"in r&&3===r.which)return;if("button"in r&&r.button>0)return;if(i.isTouched&&i.isMoved)return;const u=!!a.noSwipingClass&&""!==a.noSwipingClass,h=r.composedPath?r.composedPath():r.path;u&&r.target&&r.target.shadowRoot&&h&&(c=h[0]);const d=a.noSwipingSelector?a.noSwipingSelector:`.${a.noSwipingClass}`,f=!(!r.target||!r.target.shadowRoot);if(a.noSwiping&&(f?Ot(d,c):c.closest(d)))return void(e.allowClick=!0);if(a.swipeHandler&&!c.closest(a.swipeHandler))return;o.currentX=r.pageX,o.currentY=r.pageY;const m=o.currentX,g=o.currentY;if(!Ft(e,r,m))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=m,o.startY=g,i.touchStartTime=p(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,a.threshold>0&&(i.allowThresholdMove=!1);let v=!0;c.matches(i.focusableElements)&&(v=!1,"SELECT"===c.nodeName&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==c&&n.activeElement.blur();const y=v&&e.allowTouchMove&&a.touchStartPreventDefault;!a.touchStartForcePreventDefault&&!y||c.isContentEditable||r.preventDefault(),a.freeMode&&a.freeMode.enabled&&e.freeMode&&e.animating&&!a.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function Bt(t){const e=s(),n=this,r=n.touchEventsData,{params:i,touches:a,rtlTranslate:o,enabled:l}=n;if(!l)return;if(!i.simulateTouch&&"mouse"===t.pointerType)return;let c,u=t;if(u.originalEvent&&(u=u.originalEvent),"pointermove"===u.type){if(null!==r.touchId)return;const t=u.pointerId;if(t!==r.pointerId)return}if("touchmove"===u.type){if(c=[...u.changedTouches].filter((t=>t.identifier===r.touchId))[0],!c||c.identifier!==r.touchId)return}else c=u;if(!r.isTouched)return void(r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",u));const h=c.pageX,d=c.pageY;if(u.preventedByNestedSwiper)return a.startX=h,void(a.startY=d);if(!n.allowTouchMove)return u.target.matches(r.focusableElements)||(n.allowClick=!1),void(r.isTouched&&(Object.assign(a,{startX:h,startY:d,currentX:h,currentY:d}),r.touchStartTime=p()));if(i.touchReleaseOnEdges&&!i.loop)if(n.isVertical()){if(d<a.startY&&n.translate<=n.maxTranslate()||d>a.startY&&n.translate>=n.minTranslate())return r.isTouched=!1,void(r.isMoved=!1)}else if(h<a.startX&&n.translate<=n.maxTranslate()||h>a.startX&&n.translate>=n.minTranslate())return;if(e.activeElement&&u.target===e.activeElement&&u.target.matches(r.focusableElements))return r.isMoved=!0,void(n.allowClick=!1);r.allowTouchCallbacks&&n.emit("touchMove",u),a.previousX=a.currentX,a.previousY=a.currentY,a.currentX=h,a.currentY=d;const f=a.currentX-a.startX,m=a.currentY-a.startY;if(n.params.threshold&&Math.sqrt(f**2+m**2)<n.params.threshold)return;if("undefined"===typeof r.isScrolling){let t;n.isHorizontal()&&a.currentY===a.startY||n.isVertical()&&a.currentX===a.startX?r.isScrolling=!1:f*f+m*m>=25&&(t=180*Math.atan2(Math.abs(m),Math.abs(f))/Math.PI,r.isScrolling=n.isHorizontal()?t>i.touchAngle:90-t>i.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",u),"undefined"===typeof r.startMoving&&(a.currentX===a.startX&&a.currentY===a.startY||(r.startMoving=!0)),r.isScrolling||"touchmove"===u.type&&r.preventTouchMoveFromPointerMove)return void(r.isTouched=!1);if(!r.startMoving)return;n.allowClick=!1,!i.cssMode&&u.cancelable&&u.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&u.stopPropagation();let g=n.isHorizontal()?f:m,v=n.isHorizontal()?a.currentX-a.previousX:a.currentY-a.previousY;i.oneWayMovement&&(g=Math.abs(g)*(o?1:-1),v=Math.abs(v)*(o?1:-1)),a.diff=g,g*=i.touchRatio,o&&(g=-g,v=-v);const y=n.touchesDirection;n.swipeDirection=g>0?"prev":"next",n.touchesDirection=v>0?"prev":"next";const _=n.params.loop&&!i.cssMode,x="next"===n.touchesDirection&&n.allowSlideNext||"prev"===n.touchesDirection&&n.allowSlidePrev;if(!r.isMoved){if(_&&x&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const t=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(t)}r.allowMomentumBounce=!1,!i.grabCursor||!0!==n.allowSlideNext&&!0!==n.allowSlidePrev||n.setGrabCursor(!0),n.emit("sliderFirstMove",u)}let b;if((new Date).getTime(),r.isMoved&&r.allowThresholdMove&&y!==n.touchesDirection&&_&&x&&Math.abs(g)>=1)return Object.assign(a,{startX:h,startY:d,currentX:h,currentY:d,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,void(r.startTranslate=r.currentTranslate);n.emit("sliderMove",u),r.isMoved=!0,r.currentTranslate=g+r.startTranslate;let S=!0,w=i.resistanceRatio;if(i.touchReleaseOnEdges&&(w=0),g>0?(_&&x&&!b&&r.allowThresholdMove&&r.currentTranslate>(i.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-("auto"!==i.slidesPerView&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(S=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+g)**w))):g<0&&(_&&x&&!b&&r.allowThresholdMove&&r.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+("auto"!==i.slidesPerView&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-("auto"===i.slidesPerView?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(S=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-g)**w))),S&&(u.preventedByNestedSwiper=!0),!n.allowSlideNext&&"next"===n.swipeDirection&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&"prev"===n.swipeDirection&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),n.allowSlidePrev||n.allowSlideNext||(r.currentTranslate=r.startTranslate),i.threshold>0){if(!(Math.abs(g)>i.threshold||r.allowThresholdMove))return void(r.currentTranslate=r.startTranslate);if(!r.allowThresholdMove)return r.allowThresholdMove=!0,a.startX=a.currentX,a.startY=a.currentY,r.currentTranslate=r.startTranslate,void(a.diff=n.isHorizontal()?a.currentX-a.startX:a.currentY-a.startY)}i.followFinger&&!i.cssMode&&((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function Ut(t){const e=this,n=e.touchEventsData;let r,i=t;i.originalEvent&&(i=i.originalEvent);const a="touchend"===i.type||"touchcancel"===i.type;if(a){if(r=[...i.changedTouches].filter((t=>t.identifier===n.touchId))[0],!r||r.identifier!==n.touchId)return}else{if(null!==n.touchId)return;if(i.pointerId!==n.pointerId)return;r=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)){const t=["pointercancel","contextmenu"].includes(i.type)&&(e.browser.isSafari||e.browser.isWebView);if(!t)return}n.pointerId=null,n.touchId=null;const{params:s,touches:o,rtlTranslate:l,slidesGrid:c,enabled:u}=e;if(!u)return;if(!s.simulateTouch&&"mouse"===i.pointerType)return;if(n.allowTouchCallbacks&&e.emit("touchEnd",i),n.allowTouchCallbacks=!1,!n.isTouched)return n.isMoved&&s.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,void(n.startMoving=!1);s.grabCursor&&n.isMoved&&n.isTouched&&(!0===e.allowSlideNext||!0===e.allowSlidePrev)&&e.setGrabCursor(!1);const d=p(),f=d-n.touchStartTime;if(e.allowClick){const t=i.path||i.composedPath&&i.composedPath();e.updateClickedSlide(t&&t[0]||i.target,t),e.emit("tap click",i),f<300&&d-n.lastClickTime<300&&e.emit("doubleTap doubleClick",i)}if(n.lastClickTime=p(),h((()=>{e.destroyed||(e.allowClick=!0)})),!n.isTouched||!n.isMoved||!e.swipeDirection||0===o.diff&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset)return n.isTouched=!1,n.isMoved=!1,void(n.startMoving=!1);let m;if(n.isTouched=!1,n.isMoved=!1,n.startMoving=!1,m=s.followFinger?l?e.translate:-e.translate:-n.currentTranslate,s.cssMode)return;if(s.freeMode&&s.freeMode.enabled)return void e.freeMode.onTouchEnd({currentPos:m});const g=m>=-e.maxTranslate()&&!e.params.loop;let v=0,y=e.slidesSizesGrid[0];for(let h=0;h<c.length;h+=h<s.slidesPerGroupSkip?1:s.slidesPerGroup){const t=h<s.slidesPerGroupSkip-1?1:s.slidesPerGroup;"undefined"!==typeof c[h+t]?(g||m>=c[h]&&m<c[h+t])&&(v=h,y=c[h+t]-c[h]):(g||m>=c[h])&&(v=h,y=c[c.length-1]-c[c.length-2])}let _=null,x=null;s.rewind&&(e.isBeginning?x=s.virtual&&s.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(_=0));const b=(m-c[v])/y,S=v<s.slidesPerGroupSkip-1?1:s.slidesPerGroup;if(f>s.longSwipesMs){if(!s.longSwipes)return void e.slideTo(e.activeIndex);"next"===e.swipeDirection&&(b>=s.longSwipesRatio?e.slideTo(s.rewind&&e.isEnd?_:v+S):e.slideTo(v)),"prev"===e.swipeDirection&&(b>1-s.longSwipesRatio?e.slideTo(v+S):null!==x&&b<0&&Math.abs(b)>s.longSwipesRatio?e.slideTo(x):e.slideTo(v))}else{if(!s.shortSwipes)return void e.slideTo(e.activeIndex);const t=e.navigation&&(i.target===e.navigation.nextEl||i.target===e.navigation.prevEl);t?i.target===e.navigation.nextEl?e.slideTo(v+S):e.slideTo(v):("next"===e.swipeDirection&&e.slideTo(null!==_?_:v+S),"prev"===e.swipeDirection&&e.slideTo(null!==x?x:v))}}function zt(){const t=this,{params:e,el:n}=t;if(n&&0===n.offsetWidth)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:a}=t,s=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const o=s&&e.loop;!("auto"===e.slidesPerView||e.slidesPerView>1)||!t.isEnd||t.isBeginning||t.params.centeredSlides||o?t.params.loop&&!s?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0):t.slideTo(t.slides.length-1,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout((()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()}),500)),t.allowSlidePrev=i,t.allowSlideNext=r,t.params.watchOverflow&&a!==t.snapGrid&&t.checkOverflow()}function Vt(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function Ht(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;let i;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,0===t.translate&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();const a=t.maxTranslate()-t.minTranslate();i=0===a?0:(t.translate-t.minTranslate())/a,i!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function Gt(t){const e=this;nt(e,t.target),e.params.cssMode||"auto"!==e.params.slidesPerView&&!e.params.autoHeight||e.update()}function Wt(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const jt=(t,e)=>{const n=s(),{params:r,el:i,wrapperEl:a,device:o}=t,l=!!r.nested,c="on"===e?"addEventListener":"removeEventListener",u=e;i&&"string"!==typeof i&&(n[c]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:l}),i[c]("touchstart",t.onTouchStart,{passive:!1}),i[c]("pointerdown",t.onTouchStart,{passive:!1}),n[c]("touchmove",t.onTouchMove,{passive:!1,capture:l}),n[c]("pointermove",t.onTouchMove,{passive:!1,capture:l}),n[c]("touchend",t.onTouchEnd,{passive:!0}),n[c]("pointerup",t.onTouchEnd,{passive:!0}),n[c]("pointercancel",t.onTouchEnd,{passive:!0}),n[c]("touchcancel",t.onTouchEnd,{passive:!0}),n[c]("pointerout",t.onTouchEnd,{passive:!0}),n[c]("pointerleave",t.onTouchEnd,{passive:!0}),n[c]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&i[c]("click",t.onClick,!0),r.cssMode&&a[c]("scroll",t.onScroll),r.updateOnWindowResize?t[u](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",zt,!0):t[u]("observerUpdate",zt,!0),i[c]("load",t.onLoad,{capture:!0}))};function qt(){const t=this,{params:e}=t;t.onTouchStart=Nt.bind(t),t.onTouchMove=Bt.bind(t),t.onTouchEnd=Ut.bind(t),t.onDocumentTouchStart=Wt.bind(t),e.cssMode&&(t.onScroll=Ht.bind(t)),t.onClick=Vt.bind(t),t.onLoad=Gt.bind(t),jt(t,"on")}function $t(){const t=this;jt(t,"off")}var Xt={attachEvents:qt,detachEvents:$t};const Yt=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function Kt(){const t=this,{realIndex:e,initialized:n,params:r,el:i}=t,a=r.breakpoints;if(!a||a&&0===Object.keys(a).length)return;const s=t.getBreakpoint(a,t.params.breakpointsBase,t.el);if(!s||t.currentBreakpoint===s)return;const o=s in a?a[s]:void 0,l=o||t.originalParams,c=Yt(t,r),u=Yt(t,l),h=t.params.grabCursor,p=l.grabCursor,d=r.enabled;c&&!u?(i.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!c&&u&&(i.classList.add(`${r.containerModifierClass}grid`),(l.grid.fill&&"column"===l.grid.fill||!l.grid.fill&&"column"===r.grid.fill)&&i.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),h&&!p?t.unsetGrabCursor():!h&&p&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach((e=>{if("undefined"===typeof l[e])return;const n=r[e]&&r[e].enabled,i=l[e]&&l[e].enabled;n&&!i&&t[e].disable(),!n&&i&&t[e].enable()}));const f=l.direction&&l.direction!==r.direction,m=r.loop&&(l.slidesPerView!==r.slidesPerView||f),g=r.loop;f&&n&&t.changeDirection(),v(t.params,l);const y=t.params.enabled,_=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),d&&!y?t.disable():!d&&y&&t.enable(),t.currentBreakpoint=s,t.emit("_beforeBreakpoint",l),n&&(m?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!g&&_?(t.loopCreate(e),t.updateSlides()):g&&!_&&t.loopDestroy()),t.emit("breakpoint",l)}function Zt(t,e,n){if(void 0===e&&(e="window"),!t||"container"===e&&!n)return;let r=!1;const i=l(),a="window"===e?i.innerHeight:n.clientHeight,s=Object.keys(t).map((t=>{if("string"===typeof t&&0===t.indexOf("@")){const e=parseFloat(t.substr(1)),n=a*e;return{value:n,point:t}}return{value:t,point:t}}));s.sort(((t,e)=>parseInt(t.value,10)-parseInt(e.value,10)));for(let o=0;o<s.length;o+=1){const{point:t,value:a}=s[o];"window"===e?i.matchMedia(`(min-width: ${a}px)`).matches&&(r=t):a<=n.clientWidth&&(r=t)}return r||"max"}var Jt={setBreakpoint:Kt,getBreakpoint:Zt};function Qt(t,e){const n=[];return t.forEach((t=>{"object"===typeof t?Object.keys(t).forEach((r=>{t[r]&&n.push(e+r)})):"string"===typeof t&&n.push(e+t)})),n}function te(){const t=this,{classNames:e,params:n,rtl:r,el:i,device:a}=t,s=Qt(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&"column"===n.grid.fill},{android:a.android},{ios:a.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...s),i.classList.add(...e),t.emitContainerClasses()}function ee(){const t=this,{el:e,classNames:n}=t;e&&"string"!==typeof e&&(e.classList.remove(...n),t.emitContainerClasses())}var ne={addClasses:te,removeClasses:ee};function re(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const e=t.slides.length-1,n=t.slidesGrid[e]+t.slidesSizesGrid[e]+2*r;t.isLocked=t.size>n}else t.isLocked=1===t.snapGrid.length;!0===n.allowSlideNext&&(t.allowSlideNext=!t.isLocked),!0===n.allowSlidePrev&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var ie={checkOverflow:re},ae={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function se(t,e){return function(n){void 0===n&&(n={});const r=Object.keys(n)[0],i=n[r];"object"===typeof i&&null!==i?(!0===t[r]&&(t[r]={enabled:!0}),"navigation"===r&&t[r]&&t[r].enabled&&!t[r].prevEl&&!t[r].nextEl&&(t[r].auto=!0),["pagination","scrollbar"].indexOf(r)>=0&&t[r]&&t[r].enabled&&!t[r].el&&(t[r].auto=!0),r in t&&"enabled"in i?("object"!==typeof t[r]||"enabled"in t[r]||(t[r].enabled=!0),t[r]||(t[r]={enabled:!1}),v(e,n)):v(e,n)):v(e,n)}}const oe={eventsEmitter:q,update:lt,translate:ft,transition:_t,slide:Ct,loop:Dt,grabCursor:kt,events:Xt,breakpoints:Jt,checkOverflow:ie,classes:ne},le={};class ce{constructor(){let t,e;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];1===r.length&&r[0].constructor&&"Object"===Object.prototype.toString.call(r[0]).slice(8,-1)?e=r[0]:[t,e]=r,e||(e={}),e=v({},e),t&&!e.el&&(e.el=t);const a=s();if(e.el&&"string"===typeof e.el&&a.querySelectorAll(e.el).length>1){const t=[];return a.querySelectorAll(e.el).forEach((n=>{const r=v({},e,{el:n});t.push(new ce(r))})),t}const o=this;o.__swiper__=!0,o.support=U(),o.device=V({userAgent:e.userAgent}),o.browser=G(),o.eventsListeners={},o.eventsAnyListeners=[],o.modules=[...o.__modules__],e.modules&&Array.isArray(e.modules)&&o.modules.push(...e.modules);const l={};o.modules.forEach((t=>{t({params:e,swiper:o,extendParams:se(e,l),on:o.on.bind(o),once:o.once.bind(o),off:o.off.bind(o),emit:o.emit.bind(o)})}));const c=v({},ae,l);return o.params=v({},c,le,e),o.originalParams=v({},o.params),o.passedParams=v({},e),o.params&&o.params.on&&Object.keys(o.params.on).forEach((t=>{o.on(t,o.params.on[t])})),o.params&&o.params.onAny&&o.onAny(o.params.onAny),Object.assign(o,{enabled:o.params.enabled,el:t,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return"horizontal"===o.params.direction},isVertical(){return"vertical"===o.params.direction},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:o.params.allowSlideNext,allowSlidePrev:o.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:o.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:o.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),o.emit("_swiper"),o.params.init&&o.init(),o}getDirectionLabel(t){return this.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}getSlideIndex(t){const{slidesEl:e,params:n}=this,r=b(e,`.${n.slideClass}, swiper-slide`),i=P(r[0]);return P(t)-i}getSlideIndexByData(t){return this.getSlideIndex(this.slides.filter((e=>1*e.getAttribute("data-swiper-slide-index")===t))[0])}recalcSlides(){const t=this,{slidesEl:e,params:n}=t;t.slides=b(e,`.${n.slideClass}, swiper-slide`)}enable(){const t=this;t.enabled||(t.enabled=!0,t.params.grabCursor&&t.setGrabCursor(),t.emit("enable"))}disable(){const t=this;t.enabled&&(t.enabled=!1,t.params.grabCursor&&t.unsetGrabCursor(),t.emit("disable"))}setProgress(t,e){const n=this;t=Math.min(Math.max(t,0),1);const r=n.minTranslate(),i=n.maxTranslate(),a=(i-r)*t+r;n.translateTo(a,"undefined"===typeof e?0:e),n.updateActiveIndex(),n.updateSlidesClasses()}emitContainerClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const e=t.el.className.split(" ").filter((e=>0===e.indexOf("swiper")||0===e.indexOf(t.params.containerModifierClass)));t.emit("_containerClasses",e.join(" "))}getSlideClasses(t){const e=this;return e.destroyed?"":t.className.split(" ").filter((t=>0===t.indexOf("swiper-slide")||0===t.indexOf(e.params.slideClass))).join(" ")}emitSlidesClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const e=[];t.slides.forEach((n=>{const r=t.getSlideClasses(n);e.push({slideEl:n,classNames:r}),t.emit("_slideClass",n,r)})),t.emit("_slideClasses",e)}slidesPerViewDynamic(t,e){void 0===t&&(t="current"),void 0===e&&(e=!1);const n=this,{params:r,slides:i,slidesGrid:a,slidesSizesGrid:s,size:o,activeIndex:l}=n;let c=1;if("number"===typeof r.slidesPerView)return r.slidesPerView;if(r.centeredSlides){let t,e=i[l]?Math.ceil(i[l].swiperSlideSize):0;for(let n=l+1;n<i.length;n+=1)i[n]&&!t&&(e+=Math.ceil(i[n].swiperSlideSize),c+=1,e>o&&(t=!0));for(let n=l-1;n>=0;n-=1)i[n]&&!t&&(e+=i[n].swiperSlideSize,c+=1,e>o&&(t=!0))}else if("current"===t)for(let u=l+1;u<i.length;u+=1){const t=e?a[u]+s[u]-a[l]<o:a[u]-a[l]<o;t&&(c+=1)}else for(let u=l-1;u>=0;u-=1){const t=a[l]-a[u]<o;t&&(c+=1)}return c}update(){const t=this;if(!t||t.destroyed)return;const{snapGrid:e,params:n}=t;function r(){const e=t.rtlTranslate?-1*t.translate:t.translate,n=Math.min(Math.max(e,t.maxTranslate()),t.minTranslate());t.setTranslate(n),t.updateActiveIndex(),t.updateSlidesClasses()}let i;if(n.breakpoints&&t.setBreakpoint(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach((e=>{e.complete&&nt(t,e)})),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),n.freeMode&&n.freeMode.enabled&&!n.cssMode)r(),n.autoHeight&&t.updateAutoHeight();else{if(("auto"===n.slidesPerView||n.slidesPerView>1)&&t.isEnd&&!n.centeredSlides){const e=t.virtual&&n.virtual.enabled?t.virtual.slides:t.slides;i=t.slideTo(e.length-1,0,!1,!0)}else i=t.slideTo(t.activeIndex,0,!1,!0);i||r()}n.watchOverflow&&e!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,e){void 0===e&&(e=!0);const n=this,r=n.params.direction;return t||(t="horizontal"===r?"vertical":"horizontal"),t===r||"horizontal"!==t&&"vertical"!==t||(n.el.classList.remove(`${n.params.containerModifierClass}${r}`),n.el.classList.add(`${n.params.containerModifierClass}${t}`),n.emitContainerClasses(),n.params.direction=t,n.slides.forEach((e=>{"vertical"===t?e.style.width="":e.style.height=""})),n.emit("changeDirection"),e&&n.update()),n}changeLanguageDirection(t){const e=this;e.rtl&&"rtl"===t||!e.rtl&&"ltr"===t||(e.rtl="rtl"===t,e.rtlTranslate="horizontal"===e.params.direction&&e.rtl,e.rtl?(e.el.classList.add(`${e.params.containerModifierClass}rtl`),e.el.dir="rtl"):(e.el.classList.remove(`${e.params.containerModifierClass}rtl`),e.el.dir="ltr"),e.update())}mount(t){const e=this;if(e.mounted)return!0;let n=t||e.params.el;if("string"===typeof n&&(n=document.querySelector(n)),!n)return!1;n.swiper=e,n.parentNode&&n.parentNode.host&&n.parentNode.host.nodeName===e.params.swiperElementNodeName.toUpperCase()&&(e.isElement=!0);const r=()=>`.${(e.params.wrapperClass||"").trim().split(" ").join(".")}`,i=()=>{if(n&&n.shadowRoot&&n.shadowRoot.querySelector){const t=n.shadowRoot.querySelector(r());return t}return b(n,r())[0]};let a=i();return!a&&e.params.createElements&&(a=E("div",e.params.wrapperClass),n.append(a),b(n,`.${e.params.slideClass}`).forEach((t=>{a.append(t)}))),Object.assign(e,{el:n,wrapperEl:a,slidesEl:e.isElement&&!n.parentNode.host.slideSlots?n.parentNode.host:a,hostEl:e.isElement?n.parentNode.host:n,mounted:!0,rtl:"rtl"===n.dir.toLowerCase()||"rtl"===A(n,"direction"),rtlTranslate:"horizontal"===e.params.direction&&("rtl"===n.dir.toLowerCase()||"rtl"===A(n,"direction")),wrongRTL:"-webkit-box"===A(a,"display")}),!0}init(t){const e=this;if(e.initialized)return e;const n=e.mount(t);if(!1===n)return e;e.emit("beforeInit"),e.params.breakpoints&&e.setBreakpoint(),e.addClasses(),e.updateSize(),e.updateSlides(),e.params.watchOverflow&&e.checkOverflow(),e.params.grabCursor&&e.enabled&&e.setGrabCursor(),e.params.loop&&e.virtual&&e.params.virtual.enabled?e.slideTo(e.params.initialSlide+e.virtual.slidesBefore,0,e.params.runCallbacksOnInit,!1,!0):e.slideTo(e.params.initialSlide,0,e.params.runCallbacksOnInit,!1,!0),e.params.loop&&e.loopCreate(),e.attachEvents();const r=[...e.el.querySelectorAll('[loading="lazy"]')];return e.isElement&&r.push(...e.hostEl.querySelectorAll('[loading="lazy"]')),r.forEach((t=>{t.complete?nt(e,t):t.addEventListener("load",(t=>{nt(e,t.target)}))})),it(e),e.initialized=!0,it(e),e.emit("init"),e.emit("afterInit"),e}destroy(t,e){void 0===t&&(t=!0),void 0===e&&(e=!0);const n=this,{params:r,el:i,wrapperEl:a,slides:s}=n;return"undefined"===typeof n.params||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),r.loop&&n.loopDestroy(),e&&(n.removeClasses(),i&&"string"!==typeof i&&i.removeAttribute("style"),a&&a.removeAttribute("style"),s&&s.length&&s.forEach((t=>{t.classList.remove(r.slideVisibleClass,r.slideFullyVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),t.removeAttribute("style"),t.removeAttribute("data-swiper-slide-index")}))),n.emit("destroy"),Object.keys(n.eventsListeners).forEach((t=>{n.off(t)})),!1!==t&&(n.el&&"string"!==typeof n.el&&(n.el.swiper=null),u(n)),n.destroyed=!0),null}static extendDefaults(t){v(le,t)}static get extendedDefaults(){return le}static get defaults(){return ae}static installModule(t){ce.prototype.__modules__||(ce.prototype.__modules__=[]);const e=ce.prototype.__modules__;"function"===typeof t&&e.indexOf(t)<0&&e.push(t)}static use(t){return Array.isArray(t)?(t.forEach((t=>ce.installModule(t))),ce):(ce.installModule(t),ce)}}function ue(t){let e,{swiper:n,extendParams:r,on:i,emit:a}=t;r({virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}});const o=s();n.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]};const l=o.createElement("div");function c(t,e){const r=n.params.virtual;if(r.cache&&n.virtual.cache[e])return n.virtual.cache[e];let i;return r.renderSlide?(i=r.renderSlide.call(n,t,e),"string"===typeof i&&(l.innerHTML=i,i=l.children[0])):i=n.isElement?E("swiper-slide"):E("div",n.params.slideClass),i.setAttribute("data-swiper-slide-index",e),r.renderSlide||(i.innerHTML=t),r.cache&&(n.virtual.cache[e]=i),i}function u(t,e){const{slidesPerView:r,slidesPerGroup:i,centeredSlides:s,loop:o,initialSlide:l}=n.params;if(e&&!o&&l>0)return;const{addSlidesBefore:u,addSlidesAfter:h}=n.params.virtual,{from:p,to:d,slides:f,slidesGrid:m,offset:g}=n.virtual;n.params.cssMode||n.updateActiveIndex();const v=n.activeIndex||0;let y,_,x;y=n.rtlTranslate?"right":n.isHorizontal()?"left":"top",s?(_=Math.floor(r/2)+i+h,x=Math.floor(r/2)+i+u):(_=r+(i-1)+h,x=(o?r:i)+u);let S=v-x,w=v+_;o||(S=Math.max(S,0),w=Math.min(w,f.length-1));let E=(n.slidesGrid[S]||0)-(n.slidesGrid[0]||0);function M(){n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),a("virtualUpdate")}if(o&&v>=x?(S-=x,s||(E+=n.slidesGrid[0])):o&&v<x&&(S=-x,s&&(E+=n.slidesGrid[0])),Object.assign(n.virtual,{from:S,to:w,offset:E,slidesGrid:n.slidesGrid,slidesBefore:x,slidesAfter:_}),p===S&&d===w&&!t)return n.slidesGrid!==m&&E!==g&&n.slides.forEach((t=>{t.style[y]=E-Math.abs(n.cssOverflowAdjustment())+"px"})),n.updateProgress(),void a("virtualUpdate");if(n.params.virtual.renderExternal)return n.params.virtual.renderExternal.call(n,{offset:E,from:S,to:w,slides:function(){const t=[];for(let e=S;e<=w;e+=1)t.push(f[e]);return t}()}),void(n.params.virtual.renderExternalUpdate?M():a("virtualUpdate"));const T=[],C=[],A=t=>{let e=t;return t<0?e=f.length+t:e>=f.length&&(e-=f.length),e};if(t)n.slides.filter((t=>t.matches(`.${n.params.slideClass}, swiper-slide`))).forEach((t=>{t.remove()}));else for(let a=p;a<=d;a+=1)if(a<S||a>w){const t=A(a);n.slides.filter((e=>e.matches(`.${n.params.slideClass}[data-swiper-slide-index="${t}"], swiper-slide[data-swiper-slide-index="${t}"]`))).forEach((t=>{t.remove()}))}const P=o?-f.length:0,R=o?2*f.length:f.length;for(let n=P;n<R;n+=1)if(n>=S&&n<=w){const e=A(n);"undefined"===typeof d||t?C.push(e):(n>d&&C.push(e),n<p&&T.push(e))}if(C.forEach((t=>{n.slidesEl.append(c(f[t],t))})),o)for(let a=T.length-1;a>=0;a-=1){const t=T[a];n.slidesEl.prepend(c(f[t],t))}else T.sort(((t,e)=>e-t)),T.forEach((t=>{n.slidesEl.prepend(c(f[t],t))}));b(n.slidesEl,".swiper-slide, swiper-slide").forEach((t=>{t.style[y]=E-Math.abs(n.cssOverflowAdjustment())+"px"})),M()}function h(t){if("object"===typeof t&&"length"in t)for(let e=0;e<t.length;e+=1)t[e]&&n.virtual.slides.push(t[e]);else n.virtual.slides.push(t);u(!0)}function p(t){const e=n.activeIndex;let r=e+1,i=1;if(Array.isArray(t)){for(let e=0;e<t.length;e+=1)t[e]&&n.virtual.slides.unshift(t[e]);r=e+t.length,i=t.length}else n.virtual.slides.unshift(t);if(n.params.virtual.cache){const t=n.virtual.cache,e={};Object.keys(t).forEach((n=>{const r=t[n],a=r.getAttribute("data-swiper-slide-index");a&&r.setAttribute("data-swiper-slide-index",parseInt(a,10)+i),e[parseInt(n,10)+i]=r})),n.virtual.cache=e}u(!0),n.slideTo(r,0)}function d(t){if("undefined"===typeof t||null===t)return;let e=n.activeIndex;if(Array.isArray(t))for(let r=t.length-1;r>=0;r-=1)n.params.virtual.cache&&(delete n.virtual.cache[t[r]],Object.keys(n.virtual.cache).forEach((e=>{e>t&&(n.virtual.cache[e-1]=n.virtual.cache[e],n.virtual.cache[e-1].setAttribute("data-swiper-slide-index",e-1),delete n.virtual.cache[e])}))),n.virtual.slides.splice(t[r],1),t[r]<e&&(e-=1),e=Math.max(e,0);else n.params.virtual.cache&&(delete n.virtual.cache[t],Object.keys(n.virtual.cache).forEach((e=>{e>t&&(n.virtual.cache[e-1]=n.virtual.cache[e],n.virtual.cache[e-1].setAttribute("data-swiper-slide-index",e-1),delete n.virtual.cache[e])}))),n.virtual.slides.splice(t,1),t<e&&(e-=1),e=Math.max(e,0);u(!0),n.slideTo(e,0)}function f(){n.virtual.slides=[],n.params.virtual.cache&&(n.virtual.cache={}),u(!0),n.slideTo(0,0)}i("beforeInit",(()=>{if(!n.params.virtual.enabled)return;let t;if("undefined"===typeof n.passedParams.virtual.slides){const e=[...n.slidesEl.children].filter((t=>t.matches(`.${n.params.slideClass}, swiper-slide`)));e&&e.length&&(n.virtual.slides=[...e],t=!0,e.forEach(((t,e)=>{t.setAttribute("data-swiper-slide-index",e),n.virtual.cache[e]=t,t.remove()})))}t||(n.virtual.slides=n.params.virtual.slides),n.classNames.push(`${n.params.containerModifierClass}virtual`),n.params.watchSlidesProgress=!0,n.originalParams.watchSlidesProgress=!0,u(!1,!0)})),i("setTranslate",(()=>{n.params.virtual.enabled&&(n.params.cssMode&&!n._immediateVirtual?(clearTimeout(e),e=setTimeout((()=>{u()}),100)):u())})),i("init update resize",(()=>{n.params.virtual.enabled&&n.params.cssMode&&y(n.wrapperEl,"--swiper-virtual-size",`${n.virtualSize}px`)})),Object.assign(n.virtual,{appendSlide:h,prependSlide:p,removeSlide:d,removeAllSlides:f,update:u})}function he(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;const a=s(),o=l();function c(t){if(!e.enabled)return;const{rtlTranslate:n}=e;let r=t;r.originalEvent&&(r=r.originalEvent);const s=r.keyCode||r.charCode,l=e.params.keyboard.pageUpDown,c=l&&33===s,u=l&&34===s,h=37===s,p=39===s,d=38===s,f=40===s;if(!e.allowSlideNext&&(e.isHorizontal()&&p||e.isVertical()&&f||u))return!1;if(!e.allowSlidePrev&&(e.isHorizontal()&&h||e.isVertical()&&d||c))return!1;if(!(r.shiftKey||r.altKey||r.ctrlKey||r.metaKey)&&(!a.activeElement||!a.activeElement.nodeName||"input"!==a.activeElement.nodeName.toLowerCase()&&"textarea"!==a.activeElement.nodeName.toLowerCase())){if(e.params.keyboard.onlyInViewport&&(c||u||h||p||d||f)){let t=!1;if(R(e.el,`.${e.params.slideClass}, swiper-slide`).length>0&&0===R(e.el,`.${e.params.slideActiveClass}`).length)return;const r=e.el,i=r.clientWidth,a=r.clientHeight,s=o.innerWidth,l=o.innerHeight,c=M(r);n&&(c.left-=r.scrollLeft);const u=[[c.left,c.top],[c.left+i,c.top],[c.left,c.top+a],[c.left+i,c.top+a]];for(let e=0;e<u.length;e+=1){const n=u[e];if(n[0]>=0&&n[0]<=s&&n[1]>=0&&n[1]<=l){if(0===n[0]&&0===n[1])continue;t=!0}}if(!t)return}e.isHorizontal()?((c||u||h||p)&&(r.preventDefault?r.preventDefault():r.returnValue=!1),((u||p)&&!n||(c||h)&&n)&&e.slideNext(),((c||h)&&!n||(u||p)&&n)&&e.slidePrev()):((c||u||d||f)&&(r.preventDefault?r.preventDefault():r.returnValue=!1),(u||f)&&e.slideNext(),(c||d)&&e.slidePrev()),i("keyPress",s)}}function u(){e.keyboard.enabled||(a.addEventListener("keydown",c),e.keyboard.enabled=!0)}function h(){e.keyboard.enabled&&(a.removeEventListener("keydown",c),e.keyboard.enabled=!1)}e.keyboard={enabled:!1},n({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}}),r("init",(()=>{e.params.keyboard.enabled&&u()})),r("destroy",(()=>{e.keyboard.enabled&&h()})),Object.assign(e.keyboard,{enable:u,disable:h})}function pe(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;const a=l();let s;n({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null,noMousewheelClass:"swiper-no-mousewheel"}}),e.mousewheel={enabled:!1};let o,c=p();const u=[];function d(t){const e=10,n=40,r=800;let i=0,a=0,s=0,o=0;return"detail"in t&&(a=t.detail),"wheelDelta"in t&&(a=-t.wheelDelta/120),"wheelDeltaY"in t&&(a=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(i=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(i=a,a=0),s=i*e,o=a*e,"deltaY"in t&&(o=t.deltaY),"deltaX"in t&&(s=t.deltaX),t.shiftKey&&!s&&(s=o,o=0),(s||o)&&t.deltaMode&&(1===t.deltaMode?(s*=n,o*=n):(s*=r,o*=r)),s&&!i&&(i=s<1?-1:1),o&&!a&&(a=o<1?-1:1),{spinX:i,spinY:a,pixelX:s,pixelY:o}}function f(){e.enabled&&(e.mouseEntered=!0)}function m(){e.enabled&&(e.mouseEntered=!1)}function g(t){return!(e.params.mousewheel.thresholdDelta&&t.delta<e.params.mousewheel.thresholdDelta)&&(!(e.params.mousewheel.thresholdTime&&p()-c<e.params.mousewheel.thresholdTime)&&(t.delta>=6&&p()-c<60||(t.direction<0?e.isEnd&&!e.params.loop||e.animating||(e.slideNext(),i("scroll",t.raw)):e.isBeginning&&!e.params.loop||e.animating||(e.slidePrev(),i("scroll",t.raw)),c=(new a.Date).getTime(),!1)))}function v(t){const n=e.params.mousewheel;if(t.direction<0){if(e.isEnd&&!e.params.loop&&n.releaseOnEdges)return!0}else if(e.isBeginning&&!e.params.loop&&n.releaseOnEdges)return!0;return!1}function y(t){let n=t,r=!0;if(!e.enabled)return;if(t.target.closest(`.${e.params.mousewheel.noMousewheelClass}`))return;const a=e.params.mousewheel;e.params.cssMode&&n.preventDefault();let l=e.el;"container"!==e.params.mousewheel.eventsTarget&&(l=document.querySelector(e.params.mousewheel.eventsTarget));const c=l&&l.contains(n.target);if(!e.mouseEntered&&!c&&!a.releaseOnEdges)return!0;n.originalEvent&&(n=n.originalEvent);let f=0;const m=e.rtlTranslate?-1:1,y=d(n);if(a.forceToAxis)if(e.isHorizontal()){if(!(Math.abs(y.pixelX)>Math.abs(y.pixelY)))return!0;f=-y.pixelX*m}else{if(!(Math.abs(y.pixelY)>Math.abs(y.pixelX)))return!0;f=-y.pixelY}else f=Math.abs(y.pixelX)>Math.abs(y.pixelY)?-y.pixelX*m:-y.pixelY;if(0===f)return!0;a.invert&&(f=-f);let _=e.getTranslate()+f*a.sensitivity;if(_>=e.minTranslate()&&(_=e.minTranslate()),_<=e.maxTranslate()&&(_=e.maxTranslate()),r=!!e.params.loop||!(_===e.minTranslate()||_===e.maxTranslate()),r&&e.params.nested&&n.stopPropagation(),e.params.freeMode&&e.params.freeMode.enabled){const t={time:p(),delta:Math.abs(f),direction:Math.sign(f)},r=o&&t.time<o.time+500&&t.delta<=o.delta&&t.direction===o.direction;if(!r){o=void 0;let l=e.getTranslate()+f*a.sensitivity;const c=e.isBeginning,p=e.isEnd;if(l>=e.minTranslate()&&(l=e.minTranslate()),l<=e.maxTranslate()&&(l=e.maxTranslate()),e.setTransition(0),e.setTranslate(l),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses(),(!c&&e.isBeginning||!p&&e.isEnd)&&e.updateSlidesClasses(),e.params.loop&&e.loopFix({direction:t.direction<0?"next":"prev",byMousewheel:!0}),e.params.freeMode.sticky){clearTimeout(s),s=void 0,u.length>=15&&u.shift();const n=u.length?u[u.length-1]:void 0,r=u[0];if(u.push(t),n&&(t.delta>n.delta||t.direction!==n.direction))u.splice(0);else if(u.length>=15&&t.time-r.time<500&&r.delta-t.delta>=1&&t.delta<=6){const n=f>0?.8:.2;o=t,u.splice(0),s=h((()=>{!e.destroyed&&e.params&&e.slideToClosest(e.params.speed,!0,void 0,n)}),0)}s||(s=h((()=>{if(e.destroyed||!e.params)return;const n=.5;o=t,u.splice(0),e.slideToClosest(e.params.speed,!0,void 0,n)}),500))}if(r||i("scroll",n),e.params.autoplay&&e.params.autoplayDisableOnInteraction&&e.autoplay.stop(),a.releaseOnEdges&&(l===e.minTranslate()||l===e.maxTranslate()))return!0}}else{const e={time:p(),delta:Math.abs(f),direction:Math.sign(f),raw:t};u.length>=2&&u.shift();const n=u.length?u[u.length-1]:void 0;if(u.push(e),n?(e.direction!==n.direction||e.delta>n.delta||e.time>n.time+150)&&g(e):g(e),v(e))return!0}return n.preventDefault?n.preventDefault():n.returnValue=!1,!1}function _(t){let n=e.el;"container"!==e.params.mousewheel.eventsTarget&&(n=document.querySelector(e.params.mousewheel.eventsTarget)),n[t]("mouseenter",f),n[t]("mouseleave",m),n[t]("wheel",y)}function x(){return e.params.cssMode?(e.wrapperEl.removeEventListener("wheel",y),!0):!e.mousewheel.enabled&&(_("addEventListener"),e.mousewheel.enabled=!0,!0)}function b(){return e.params.cssMode?(e.wrapperEl.addEventListener(event,y),!0):!!e.mousewheel.enabled&&(_("removeEventListener"),e.mousewheel.enabled=!1,!0)}r("init",(()=>{!e.params.mousewheel.enabled&&e.params.cssMode&&b(),e.params.mousewheel.enabled&&x()})),r("destroy",(()=>{e.params.cssMode&&x(),e.mousewheel.enabled&&b()})),Object.assign(e.mousewheel,{enable:x,disable:b})}function de(t,e,n,r){return t.params.createElements&&Object.keys(r).forEach((i=>{if(!n[i]&&!0===n.auto){let a=b(t.el,`.${r[i]}`)[0];a||(a=E("div",r[i]),a.className=r[i],t.el.append(a)),n[i]=a,e[i]=a}})),n}function fe(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;function a(t){let n;return t&&"string"===typeof t&&e.isElement&&(n=e.el.querySelector(t),n)?n:(t&&("string"===typeof t&&(n=[...document.querySelectorAll(t)]),e.params.uniqueNavElements&&"string"===typeof t&&n&&n.length>1&&1===e.el.querySelectorAll(t).length?n=e.el.querySelector(t):n&&1===n.length&&(n=n[0])),t&&!n?t:n)}function s(t,n){const r=e.params.navigation;t=L(t),t.forEach((t=>{t&&(t.classList[n?"add":"remove"](...r.disabledClass.split(" ")),"BUTTON"===t.tagName&&(t.disabled=n),e.params.watchOverflow&&e.enabled&&t.classList[e.isLocked?"add":"remove"](r.lockClass))}))}function o(){const{nextEl:t,prevEl:n}=e.navigation;if(e.params.loop)return s(n,!1),void s(t,!1);s(n,e.isBeginning&&!e.params.rewind),s(t,e.isEnd&&!e.params.rewind)}function l(t){t.preventDefault(),(!e.isBeginning||e.params.loop||e.params.rewind)&&(e.slidePrev(),i("navigationPrev"))}function c(t){t.preventDefault(),(!e.isEnd||e.params.loop||e.params.rewind)&&(e.slideNext(),i("navigationNext"))}function u(){const t=e.params.navigation;if(e.params.navigation=de(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!t.nextEl&&!t.prevEl)return;let n=a(t.nextEl),r=a(t.prevEl);Object.assign(e.navigation,{nextEl:n,prevEl:r}),n=L(n),r=L(r);const i=(n,r)=>{n&&n.addEventListener("click","next"===r?c:l),!e.enabled&&n&&n.classList.add(...t.lockClass.split(" "))};n.forEach((t=>i(t,"next"))),r.forEach((t=>i(t,"prev")))}function h(){let{nextEl:t,prevEl:n}=e.navigation;t=L(t),n=L(n);const r=(t,n)=>{t.removeEventListener("click","next"===n?c:l),t.classList.remove(...e.params.navigation.disabledClass.split(" "))};t.forEach((t=>r(t,"next"))),n.forEach((t=>r(t,"prev")))}n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null},r("init",(()=>{!1===e.params.navigation.enabled?d():(u(),o())})),r("toEdge fromEdge lock unlock",(()=>{o()})),r("destroy",(()=>{h()})),r("enable disable",(()=>{let{nextEl:t,prevEl:n}=e.navigation;t=L(t),n=L(n),e.enabled?o():[...t,...n].filter((t=>!!t)).forEach((t=>t.classList.add(e.params.navigation.lockClass)))})),r("click",((t,n)=>{let{nextEl:r,prevEl:a}=e.navigation;r=L(r),a=L(a);const s=n.target;let o=a.includes(s)||r.includes(s);if(e.isElement&&!o){const t=n.path||n.composedPath&&n.composedPath();t&&(o=t.find((t=>r.includes(t)||a.includes(t))))}if(e.params.navigation.hideOnClick&&!o){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===s||e.pagination.el.contains(s)))return;let t;r.length?t=r[0].classList.contains(e.params.navigation.hiddenClass):a.length&&(t=a[0].classList.contains(e.params.navigation.hiddenClass)),i(!0===t?"navigationShow":"navigationHide"),[...r,...a].filter((t=>!!t)).forEach((t=>t.classList.toggle(e.params.navigation.hiddenClass)))}}));const p=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),u(),o()},d=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),h()};Object.assign(e.navigation,{enable:p,disable:d,update:o,init:u,destroy:h})}function me(t){return void 0===t&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function ge(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;const a="swiper-pagination";let s;n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:t=>t,formatFractionTotal:t=>t,bulletClass:`${a}-bullet`,bulletActiveClass:`${a}-bullet-active`,modifierClass:`${a}-`,currentClass:`${a}-current`,totalClass:`${a}-total`,hiddenClass:`${a}-hidden`,progressbarFillClass:`${a}-progressbar-fill`,progressbarOppositeClass:`${a}-progressbar-opposite`,clickableClass:`${a}-clickable`,lockClass:`${a}-lock`,horizontalClass:`${a}-horizontal`,verticalClass:`${a}-vertical`,paginationDisabledClass:`${a}-disabled`}}),e.pagination={el:null,bullets:[]};let o=0;function l(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&0===e.pagination.el.length}function c(t,n){const{bulletActiveClass:r}=e.params.pagination;t&&(t=t[("prev"===n?"previous":"next")+"ElementSibling"],t&&(t.classList.add(`${r}-${n}`),t=t[("prev"===n?"previous":"next")+"ElementSibling"],t&&t.classList.add(`${r}-${n}-${n}`)))}function u(t,e,n){return t%=n,e%=n,e===t+1?"next":e===t-1?"previous":void 0}function h(t){const n=t.target.closest(me(e.params.pagination.bulletClass));if(!n)return;t.preventDefault();const r=P(n)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===r)return;const t=u(e.realIndex,r,e.slides.length);"next"===t?e.slideNext():"previous"===t?e.slidePrev():e.slideToLoop(r)}else e.slideTo(r)}function p(){const t=e.rtl,n=e.params.pagination;if(l())return;let r,a,u=e.pagination.el;u=L(u);const h=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,p=e.params.loop?Math.ceil(h/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(a=e.previousRealIndex||0,r=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):"undefined"!==typeof e.snapIndex?(r=e.snapIndex,a=e.previousSnapIndex):(a=e.previousIndex||0,r=e.activeIndex||0),"bullets"===n.type&&e.pagination.bullets&&e.pagination.bullets.length>0){const i=e.pagination.bullets;let l,h,p;if(n.dynamicBullets&&(s=I(i[0],e.isHorizontal()?"width":"height",!0),u.forEach((t=>{t.style[e.isHorizontal()?"width":"height"]=s*(n.dynamicMainBullets+4)+"px"})),n.dynamicMainBullets>1&&void 0!==a&&(o+=r-(a||0),o>n.dynamicMainBullets-1?o=n.dynamicMainBullets-1:o<0&&(o=0)),l=Math.max(r-o,0),h=l+(Math.min(i.length,n.dynamicMainBullets)-1),p=(h+l)/2),i.forEach((t=>{const e=[...["","-next","-next-next","-prev","-prev-prev","-main"].map((t=>`${n.bulletActiveClass}${t}`))].map((t=>"string"===typeof t&&t.includes(" ")?t.split(" "):t)).flat();t.classList.remove(...e)})),u.length>1)i.forEach((t=>{const i=P(t);i===r?t.classList.add(...n.bulletActiveClass.split(" ")):e.isElement&&t.setAttribute("part","bullet"),n.dynamicBullets&&(i>=l&&i<=h&&t.classList.add(...`${n.bulletActiveClass}-main`.split(" ")),i===l&&c(t,"prev"),i===h&&c(t,"next"))}));else{const t=i[r];if(t&&t.classList.add(...n.bulletActiveClass.split(" ")),e.isElement&&i.forEach(((t,e)=>{t.setAttribute("part",e===r?"bullet-active":"bullet")})),n.dynamicBullets){const t=i[l],e=i[h];for(let r=l;r<=h;r+=1)i[r]&&i[r].classList.add(...`${n.bulletActiveClass}-main`.split(" "));c(t,"prev"),c(e,"next")}}if(n.dynamicBullets){const r=Math.min(i.length,n.dynamicMainBullets+4),a=(s*r-s)/2-p*s,o=t?"right":"left";i.forEach((t=>{t.style[e.isHorizontal()?o:"top"]=`${a}px`}))}}u.forEach(((t,a)=>{if("fraction"===n.type&&(t.querySelectorAll(me(n.currentClass)).forEach((t=>{t.textContent=n.formatFractionCurrent(r+1)})),t.querySelectorAll(me(n.totalClass)).forEach((t=>{t.textContent=n.formatFractionTotal(p)}))),"progressbar"===n.type){let i;i=n.progressbarOpposite?e.isHorizontal()?"vertical":"horizontal":e.isHorizontal()?"horizontal":"vertical";const a=(r+1)/p;let s=1,o=1;"horizontal"===i?s=a:o=a,t.querySelectorAll(me(n.progressbarFillClass)).forEach((t=>{t.style.transform=`translate3d(0,0,0) scaleX(${s}) scaleY(${o})`,t.style.transitionDuration=`${e.params.speed}ms`}))}"custom"===n.type&&n.renderCustom?(t.innerHTML=n.renderCustom(e,r+1,p),0===a&&i("paginationRender",t)):(0===a&&i("paginationRender",t),i("paginationUpdate",t)),e.params.watchOverflow&&e.enabled&&t.classList[e.isLocked?"add":"remove"](n.lockClass)}))}function d(){const t=e.params.pagination;if(l())return;const n=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let r=e.pagination.el;r=L(r);let a="";if("bullets"===t.type){let r=e.params.loop?Math.ceil(n/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&r>n&&(r=n);for(let n=0;n<r;n+=1)t.renderBullet?a+=t.renderBullet.call(e,n,t.bulletClass):a+=`<${t.bulletElement} ${e.isElement?'part="bullet"':""} class="${t.bulletClass}"></${t.bulletElement}>`}"fraction"===t.type&&(a=t.renderFraction?t.renderFraction.call(e,t.currentClass,t.totalClass):`<span class="${t.currentClass}"></span> / <span class="${t.totalClass}"></span>`),"progressbar"===t.type&&(a=t.renderProgressbar?t.renderProgressbar.call(e,t.progressbarFillClass):`<span class="${t.progressbarFillClass}"></span>`),e.pagination.bullets=[],r.forEach((n=>{"custom"!==t.type&&(n.innerHTML=a||""),"bullets"===t.type&&e.pagination.bullets.push(...n.querySelectorAll(me(t.bulletClass)))})),"custom"!==t.type&&i("paginationRender",r[0])}function f(){e.params.pagination=de(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const t=e.params.pagination;if(!t.el)return;let n;"string"===typeof t.el&&e.isElement&&(n=e.el.querySelector(t.el)),n||"string"!==typeof t.el||(n=[...document.querySelectorAll(t.el)]),n||(n=t.el),n&&0!==n.length&&(e.params.uniqueNavElements&&"string"===typeof t.el&&Array.isArray(n)&&n.length>1&&(n=[...e.el.querySelectorAll(t.el)],n.length>1&&(n=n.filter((t=>R(t,".swiper")[0]===e.el))[0])),Array.isArray(n)&&1===n.length&&(n=n[0]),Object.assign(e.pagination,{el:n}),n=L(n),n.forEach((n=>{"bullets"===t.type&&t.clickable&&n.classList.add(...(t.clickableClass||"").split(" ")),n.classList.add(t.modifierClass+t.type),n.classList.add(e.isHorizontal()?t.horizontalClass:t.verticalClass),"bullets"===t.type&&t.dynamicBullets&&(n.classList.add(`${t.modifierClass}${t.type}-dynamic`),o=0,t.dynamicMainBullets<1&&(t.dynamicMainBullets=1)),"progressbar"===t.type&&t.progressbarOpposite&&n.classList.add(t.progressbarOppositeClass),t.clickable&&n.addEventListener("click",h),e.enabled||n.classList.add(t.lockClass)})))}function m(){const t=e.params.pagination;if(l())return;let n=e.pagination.el;n&&(n=L(n),n.forEach((n=>{n.classList.remove(t.hiddenClass),n.classList.remove(t.modifierClass+t.type),n.classList.remove(e.isHorizontal()?t.horizontalClass:t.verticalClass),t.clickable&&(n.classList.remove(...(t.clickableClass||"").split(" ")),n.removeEventListener("click",h))}))),e.pagination.bullets&&e.pagination.bullets.forEach((e=>e.classList.remove(...t.bulletActiveClass.split(" "))))}r("changeDirection",(()=>{if(!e.pagination||!e.pagination.el)return;const t=e.params.pagination;let{el:n}=e.pagination;n=L(n),n.forEach((n=>{n.classList.remove(t.horizontalClass,t.verticalClass),n.classList.add(e.isHorizontal()?t.horizontalClass:t.verticalClass)}))})),r("init",(()=>{!1===e.params.pagination.enabled?v():(f(),d(),p())})),r("activeIndexChange",(()=>{"undefined"===typeof e.snapIndex&&p()})),r("snapIndexChange",(()=>{p()})),r("snapGridLengthChange",(()=>{d(),p()})),r("destroy",(()=>{m()})),r("enable disable",(()=>{let{el:t}=e.pagination;t&&(t=L(t),t.forEach((t=>t.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass))))})),r("lock unlock",(()=>{p()})),r("click",((t,n)=>{const r=n.target,a=L(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&a&&a.length>0&&!r.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&r===e.navigation.nextEl||e.navigation.prevEl&&r===e.navigation.prevEl))return;const t=a[0].classList.contains(e.params.pagination.hiddenClass);i(!0===t?"paginationShow":"paginationHide"),a.forEach((t=>t.classList.toggle(e.params.pagination.hiddenClass)))}}));const g=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:t}=e.pagination;t&&(t=L(t),t.forEach((t=>t.classList.remove(e.params.pagination.paginationDisabledClass)))),f(),d(),p()},v=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:t}=e.pagination;t&&(t=L(t),t.forEach((t=>t.classList.add(e.params.pagination.paginationDisabledClass)))),m()};Object.assign(e.pagination,{enable:g,disable:v,render:d,update:p,init:f,destroy:m})}function ve(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;const a=s();let o,l,u,p,d=!1,f=null,m=null;function g(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:t,rtlTranslate:n}=e,{dragEl:r,el:i}=t,a=e.params.scrollbar,s=e.params.loop?e.progressLoop:e.progress;let o=l,c=(u-l)*s;n?(c=-c,c>0?(o=l-c,c=0):-c+l>u&&(o=u+c)):c<0?(o=l+c,c=0):c+l>u&&(o=u-c),e.isHorizontal()?(r.style.transform=`translate3d(${c}px, 0, 0)`,r.style.width=`${o}px`):(r.style.transform=`translate3d(0px, ${c}px, 0)`,r.style.height=`${o}px`),a.hide&&(clearTimeout(f),i.style.opacity=1,f=setTimeout((()=>{i.style.opacity=0,i.style.transitionDuration="400ms"}),1e3))}function v(t){e.params.scrollbar.el&&e.scrollbar.el&&(e.scrollbar.dragEl.style.transitionDuration=`${t}ms`)}function y(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:t}=e,{dragEl:n,el:r}=t;n.style.width="",n.style.height="",u=e.isHorizontal()?r.offsetWidth:r.offsetHeight,p=e.size/(e.virtualSize+e.params.slidesOffsetBefore-(e.params.centeredSlides?e.snapGrid[0]:0)),l="auto"===e.params.scrollbar.dragSize?u*p:parseInt(e.params.scrollbar.dragSize,10),e.isHorizontal()?n.style.width=`${l}px`:n.style.height=`${l}px`,r.style.display=p>=1?"none":"",e.params.scrollbar.hide&&(r.style.opacity=0),e.params.watchOverflow&&e.enabled&&t.el.classList[e.isLocked?"add":"remove"](e.params.scrollbar.lockClass)}function _(t){return e.isHorizontal()?t.clientX:t.clientY}function x(t){const{scrollbar:n,rtlTranslate:r}=e,{el:i}=n;let a;a=(_(t)-M(i)[e.isHorizontal()?"left":"top"]-(null!==o?o:l/2))/(u-l),a=Math.max(Math.min(a,1),0),r&&(a=1-a);const s=e.minTranslate()+(e.maxTranslate()-e.minTranslate())*a;e.updateProgress(s),e.setTranslate(s),e.updateActiveIndex(),e.updateSlidesClasses()}function b(t){const n=e.params.scrollbar,{scrollbar:r,wrapperEl:a}=e,{el:s,dragEl:l}=r;d=!0,o=t.target===l?_(t)-t.target.getBoundingClientRect()[e.isHorizontal()?"left":"top"]:null,t.preventDefault(),t.stopPropagation(),a.style.transitionDuration="100ms",l.style.transitionDuration="100ms",x(t),clearTimeout(m),s.style.transitionDuration="0ms",n.hide&&(s.style.opacity=1),e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="none"),i("scrollbarDragStart",t)}function S(t){const{scrollbar:n,wrapperEl:r}=e,{el:a,dragEl:s}=n;d&&(t.preventDefault&&t.cancelable?t.preventDefault():t.returnValue=!1,x(t),r.style.transitionDuration="0ms",a.style.transitionDuration="0ms",s.style.transitionDuration="0ms",i("scrollbarDragMove",t))}function w(t){const n=e.params.scrollbar,{scrollbar:r,wrapperEl:a}=e,{el:s}=r;d&&(d=!1,e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="",a.style.transitionDuration=""),n.hide&&(clearTimeout(m),m=h((()=>{s.style.opacity=0,s.style.transitionDuration="400ms"}),1e3)),i("scrollbarDragEnd",t),n.snapOnRelease&&e.slideToClosest())}function T(t){const{scrollbar:n,params:r}=e,i=n.el;if(!i)return;const s=i,o=!!r.passiveListeners&&{passive:!1,capture:!1},l=!!r.passiveListeners&&{passive:!0,capture:!1};if(!s)return;const c="on"===t?"addEventListener":"removeEventListener";s[c]("pointerdown",b,o),a[c]("pointermove",S,o),a[c]("pointerup",w,l)}function C(){e.params.scrollbar.el&&e.scrollbar.el&&T("on")}function A(){e.params.scrollbar.el&&e.scrollbar.el&&T("off")}function P(){const{scrollbar:t,el:n}=e;e.params.scrollbar=de(e,e.originalParams.scrollbar,e.params.scrollbar,{el:"swiper-scrollbar"});const r=e.params.scrollbar;if(!r.el)return;let i,s;if("string"===typeof r.el&&e.isElement&&(i=e.el.querySelector(r.el)),i||"string"!==typeof r.el)i||(i=r.el);else if(i=a.querySelectorAll(r.el),!i.length)return;e.params.uniqueNavElements&&"string"===typeof r.el&&i.length>1&&1===n.querySelectorAll(r.el).length&&(i=n.querySelector(r.el)),i.length>0&&(i=i[0]),i.classList.add(e.isHorizontal()?r.horizontalClass:r.verticalClass),i&&(s=i.querySelector(me(e.params.scrollbar.dragClass)),s||(s=E("div",e.params.scrollbar.dragClass),i.append(s))),Object.assign(t,{el:i,dragEl:s}),r.draggable&&C(),i&&i.classList[e.enabled?"remove":"add"](...c(e.params.scrollbar.lockClass))}function R(){const t=e.params.scrollbar,n=e.scrollbar.el;n&&n.classList.remove(...c(e.isHorizontal()?t.horizontalClass:t.verticalClass)),A()}n({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),e.scrollbar={el:null,dragEl:null},r("changeDirection",(()=>{if(!e.scrollbar||!e.scrollbar.el)return;const t=e.params.scrollbar;let{el:n}=e.scrollbar;n=L(n),n.forEach((n=>{n.classList.remove(t.horizontalClass,t.verticalClass),n.classList.add(e.isHorizontal()?t.horizontalClass:t.verticalClass)}))})),r("init",(()=>{!1===e.params.scrollbar.enabled?I():(P(),y(),g())})),r("update resize observerUpdate lock unlock changeDirection",(()=>{y()})),r("setTranslate",(()=>{g()})),r("setTransition",((t,e)=>{v(e)})),r("enable disable",(()=>{const{el:t}=e.scrollbar;t&&t.classList[e.enabled?"remove":"add"](...c(e.params.scrollbar.lockClass))})),r("destroy",(()=>{R()}));const D=()=>{e.el.classList.remove(...c(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.remove(...c(e.params.scrollbar.scrollbarDisabledClass)),P(),y(),g()},I=()=>{e.el.classList.add(...c(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.add(...c(e.params.scrollbar.scrollbarDisabledClass)),R()};Object.assign(e.scrollbar,{enable:D,disable:I,updateSize:y,setTranslate:g,init:P,destroy:R})}function ye(t){let{swiper:e,extendParams:n,on:r}=t;n({parallax:{enabled:!1}});const i="[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]",a=(t,n)=>{const{rtl:r}=e,i=r?-1:1,a=t.getAttribute("data-swiper-parallax")||"0";let s=t.getAttribute("data-swiper-parallax-x"),o=t.getAttribute("data-swiper-parallax-y");const l=t.getAttribute("data-swiper-parallax-scale"),c=t.getAttribute("data-swiper-parallax-opacity"),u=t.getAttribute("data-swiper-parallax-rotate");if(s||o?(s=s||"0",o=o||"0"):e.isHorizontal()?(s=a,o="0"):(o=a,s="0"),s=s.indexOf("%")>=0?parseInt(s,10)*n*i+"%":s*n*i+"px",o=o.indexOf("%")>=0?parseInt(o,10)*n+"%":o*n+"px","undefined"!==typeof c&&null!==c){const e=c-(c-1)*(1-Math.abs(n));t.style.opacity=e}let h=`translate3d(${s}, ${o}, 0px)`;if("undefined"!==typeof l&&null!==l){const t=l-(l-1)*(1-Math.abs(n));h+=` scale(${t})`}if(u&&"undefined"!==typeof u&&null!==u){const t=u*n*-1;h+=` rotate(${t}deg)`}t.style.transform=h},s=()=>{const{el:t,slides:n,progress:r,snapGrid:s,isElement:o}=e,l=b(t,i);e.isElement&&l.push(...b(e.hostEl,i)),l.forEach((t=>{a(t,r)})),n.forEach(((t,n)=>{let o=t.progress;e.params.slidesPerGroup>1&&"auto"!==e.params.slidesPerView&&(o+=Math.ceil(n/2)-r*(s.length-1)),o=Math.min(Math.max(o,-1),1),t.querySelectorAll(`${i}, [data-swiper-parallax-rotate]`).forEach((t=>{a(t,o)}))}))},o=function(t){void 0===t&&(t=e.params.speed);const{el:n,hostEl:r}=e,a=[...n.querySelectorAll(i)];e.isElement&&a.push(...r.querySelectorAll(i)),a.forEach((e=>{let n=parseInt(e.getAttribute("data-swiper-parallax-duration"),10)||t;0===t&&(n=0),e.style.transitionDuration=`${n}ms`}))};r("beforeInit",(()=>{e.params.parallax.enabled&&(e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)})),r("init",(()=>{e.params.parallax.enabled&&s()})),r("setTranslate",(()=>{e.params.parallax.enabled&&s()})),r("setTransition",((t,n)=>{e.params.parallax.enabled&&o(n)}))}function _e(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;const a=l();n({zoom:{enabled:!1,limitToOriginalSize:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}}),e.zoom={enabled:!1};let s,o,c=1,u=!1;const h=[],p={originX:0,originY:0,slideEl:void 0,slideWidth:void 0,slideHeight:void 0,imageEl:void 0,imageWrapEl:void 0,maxRatio:3},d={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},m={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0};let g,v=1;function y(){if(h.length<2)return 1;const t=h[0].pageX,e=h[0].pageY,n=h[1].pageX,r=h[1].pageY,i=Math.sqrt((n-t)**2+(r-e)**2);return i}function _(){const t=e.params.zoom,n=p.imageWrapEl.getAttribute("data-swiper-zoom")||t.maxRatio;if(t.limitToOriginalSize&&p.imageEl&&p.imageEl.naturalWidth){const t=p.imageEl.naturalWidth/p.imageEl.offsetWidth;return Math.min(t,n)}return n}function x(){if(h.length<2)return{x:null,y:null};const t=p.imageEl.getBoundingClientRect();return[(h[0].pageX+(h[1].pageX-h[0].pageX)/2-t.x-a.scrollX)/c,(h[0].pageY+(h[1].pageY-h[0].pageY)/2-t.y-a.scrollY)/c]}function S(){return e.isElement?"swiper-slide":`.${e.params.slideClass}`}function w(t){const n=S();return!!t.target.matches(n)||e.slides.filter((e=>e.contains(t.target))).length>0}function E(t){const n=`.${e.params.zoom.containerClass}`;return!!t.target.matches(n)||[...e.hostEl.querySelectorAll(n)].filter((e=>e.contains(t.target))).length>0}function T(t){if("mouse"===t.pointerType&&h.splice(0,h.length),!w(t))return;const n=e.params.zoom;if(s=!1,o=!1,h.push(t),!(h.length<2)){if(s=!0,p.scaleStart=y(),!p.slideEl){p.slideEl=t.target.closest(`.${e.params.slideClass}, swiper-slide`),p.slideEl||(p.slideEl=e.slides[e.activeIndex]);let r=p.slideEl.querySelector(`.${n.containerClass}`);if(r&&(r=r.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),p.imageEl=r,p.imageWrapEl=r?R(p.imageEl,`.${n.containerClass}`)[0]:void 0,!p.imageWrapEl)return void(p.imageEl=void 0);p.maxRatio=_()}if(p.imageEl){const[t,e]=x();p.originX=t,p.originY=e,p.imageEl.style.transitionDuration="0ms"}u=!0}}function C(t){if(!w(t))return;const n=e.params.zoom,r=e.zoom,i=h.findIndex((e=>e.pointerId===t.pointerId));i>=0&&(h[i]=t),h.length<2||(o=!0,p.scaleMove=y(),p.imageEl&&(r.scale=p.scaleMove/p.scaleStart*c,r.scale>p.maxRatio&&(r.scale=p.maxRatio-1+(r.scale-p.maxRatio+1)**.5),r.scale<n.minRatio&&(r.scale=n.minRatio+1-(n.minRatio-r.scale+1)**.5),p.imageEl.style.transform=`translate3d(0,0,0) scale(${r.scale})`))}function A(t){if(!w(t))return;if("mouse"===t.pointerType&&"pointerout"===t.type)return;const n=e.params.zoom,r=e.zoom,i=h.findIndex((e=>e.pointerId===t.pointerId));i>=0&&h.splice(i,1),s&&o&&(s=!1,o=!1,p.imageEl&&(r.scale=Math.max(Math.min(r.scale,p.maxRatio),n.minRatio),p.imageEl.style.transitionDuration=`${e.params.speed}ms`,p.imageEl.style.transform=`translate3d(0,0,0) scale(${r.scale})`,c=r.scale,u=!1,r.scale>1&&p.slideEl?p.slideEl.classList.add(`${n.zoomedSlideClass}`):r.scale<=1&&p.slideEl&&p.slideEl.classList.remove(`${n.zoomedSlideClass}`),1===r.scale&&(p.originX=0,p.originY=0,p.slideEl=void 0)))}function P(){e.touchEventsData.preventTouchMoveFromPointerMove=!1}function D(){clearTimeout(g),e.touchEventsData.preventTouchMoveFromPointerMove=!0,g=setTimeout((()=>{P()}))}function I(t){const n=e.device;if(!p.imageEl)return;if(d.isTouched)return;n.android&&t.cancelable&&t.preventDefault(),d.isTouched=!0;const r=h.length>0?h[0]:t;d.touchesStart.x=r.pageX,d.touchesStart.y=r.pageY}function L(t){if(!w(t)||!E(t))return;const n=e.zoom;if(!p.imageEl)return;if(!d.isTouched||!p.slideEl)return;d.isMoved||(d.width=p.imageEl.offsetWidth||p.imageEl.clientWidth,d.height=p.imageEl.offsetHeight||p.imageEl.clientHeight,d.startX=f(p.imageWrapEl,"x")||0,d.startY=f(p.imageWrapEl,"y")||0,p.slideWidth=p.slideEl.offsetWidth,p.slideHeight=p.slideEl.offsetHeight,p.imageWrapEl.style.transitionDuration="0ms");const r=d.width*n.scale,i=d.height*n.scale;d.minX=Math.min(p.slideWidth/2-r/2,0),d.maxX=-d.minX,d.minY=Math.min(p.slideHeight/2-i/2,0),d.maxY=-d.minY,d.touchesCurrent.x=h.length>0?h[0].pageX:t.pageX,d.touchesCurrent.y=h.length>0?h[0].pageY:t.pageY;const a=Math.max(Math.abs(d.touchesCurrent.x-d.touchesStart.x),Math.abs(d.touchesCurrent.y-d.touchesStart.y));if(a>5&&(e.allowClick=!1),!d.isMoved&&!u){if(e.isHorizontal()&&(Math.floor(d.minX)===Math.floor(d.startX)&&d.touchesCurrent.x<d.touchesStart.x||Math.floor(d.maxX)===Math.floor(d.startX)&&d.touchesCurrent.x>d.touchesStart.x))return d.isTouched=!1,void P();if(!e.isHorizontal()&&(Math.floor(d.minY)===Math.floor(d.startY)&&d.touchesCurrent.y<d.touchesStart.y||Math.floor(d.maxY)===Math.floor(d.startY)&&d.touchesCurrent.y>d.touchesStart.y))return d.isTouched=!1,void P()}t.cancelable&&t.preventDefault(),t.stopPropagation(),D(),d.isMoved=!0;const s=(n.scale-c)/(p.maxRatio-e.params.zoom.minRatio),{originX:o,originY:l}=p;d.currentX=d.touchesCurrent.x-d.touchesStart.x+d.startX+s*(d.width-2*o),d.currentY=d.touchesCurrent.y-d.touchesStart.y+d.startY+s*(d.height-2*l),d.currentX<d.minX&&(d.currentX=d.minX+1-(d.minX-d.currentX+1)**.8),d.currentX>d.maxX&&(d.currentX=d.maxX-1+(d.currentX-d.maxX+1)**.8),d.currentY<d.minY&&(d.currentY=d.minY+1-(d.minY-d.currentY+1)**.8),d.currentY>d.maxY&&(d.currentY=d.maxY-1+(d.currentY-d.maxY+1)**.8),m.prevPositionX||(m.prevPositionX=d.touchesCurrent.x),m.prevPositionY||(m.prevPositionY=d.touchesCurrent.y),m.prevTime||(m.prevTime=Date.now()),m.x=(d.touchesCurrent.x-m.prevPositionX)/(Date.now()-m.prevTime)/2,m.y=(d.touchesCurrent.y-m.prevPositionY)/(Date.now()-m.prevTime)/2,Math.abs(d.touchesCurrent.x-m.prevPositionX)<2&&(m.x=0),Math.abs(d.touchesCurrent.y-m.prevPositionY)<2&&(m.y=0),m.prevPositionX=d.touchesCurrent.x,m.prevPositionY=d.touchesCurrent.y,m.prevTime=Date.now(),p.imageWrapEl.style.transform=`translate3d(${d.currentX}px, ${d.currentY}px,0)`}function k(){const t=e.zoom;if(!p.imageEl)return;if(!d.isTouched||!d.isMoved)return d.isTouched=!1,void(d.isMoved=!1);d.isTouched=!1,d.isMoved=!1;let n=300,r=300;const i=m.x*n,a=d.currentX+i,s=m.y*r,o=d.currentY+s;0!==m.x&&(n=Math.abs((a-d.currentX)/m.x)),0!==m.y&&(r=Math.abs((o-d.currentY)/m.y));const l=Math.max(n,r);d.currentX=a,d.currentY=o;const c=d.width*t.scale,u=d.height*t.scale;d.minX=Math.min(p.slideWidth/2-c/2,0),d.maxX=-d.minX,d.minY=Math.min(p.slideHeight/2-u/2,0),d.maxY=-d.minY,d.currentX=Math.max(Math.min(d.currentX,d.maxX),d.minX),d.currentY=Math.max(Math.min(d.currentY,d.maxY),d.minY),p.imageWrapEl.style.transitionDuration=`${l}ms`,p.imageWrapEl.style.transform=`translate3d(${d.currentX}px, ${d.currentY}px,0)`}function O(){const t=e.zoom;p.slideEl&&e.activeIndex!==e.slides.indexOf(p.slideEl)&&(p.imageEl&&(p.imageEl.style.transform="translate3d(0,0,0) scale(1)"),p.imageWrapEl&&(p.imageWrapEl.style.transform="translate3d(0,0,0)"),p.slideEl.classList.remove(`${e.params.zoom.zoomedSlideClass}`),t.scale=1,c=1,p.slideEl=void 0,p.imageEl=void 0,p.imageWrapEl=void 0,p.originX=0,p.originY=0)}function F(t){const n=e.zoom,r=e.params.zoom;if(!p.slideEl){t&&t.target&&(p.slideEl=t.target.closest(`.${e.params.slideClass}, swiper-slide`)),p.slideEl||(e.params.virtual&&e.params.virtual.enabled&&e.virtual?p.slideEl=b(e.slidesEl,`.${e.params.slideActiveClass}`)[0]:p.slideEl=e.slides[e.activeIndex]);let n=p.slideEl.querySelector(`.${r.containerClass}`);n&&(n=n.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),p.imageEl=n,p.imageWrapEl=n?R(p.imageEl,`.${r.containerClass}`)[0]:void 0}if(!p.imageEl||!p.imageWrapEl)return;let i,s,o,l,u,h,f,m,g,v,y,x,S,w,E,T,C,A;e.params.cssMode&&(e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.touchAction="none"),p.slideEl.classList.add(`${r.zoomedSlideClass}`),"undefined"===typeof d.touchesStart.x&&t?(i=t.pageX,s=t.pageY):(i=d.touchesStart.x,s=d.touchesStart.y);const P="number"===typeof t?t:null;1===c&&P&&(i=void 0,s=void 0,d.touchesStart.x=void 0,d.touchesStart.y=void 0);const D=_();n.scale=P||D,c=P||D,!t||1===c&&P?(f=0,m=0):(C=p.slideEl.offsetWidth,A=p.slideEl.offsetHeight,o=M(p.slideEl).left+a.scrollX,l=M(p.slideEl).top+a.scrollY,u=o+C/2-i,h=l+A/2-s,g=p.imageEl.offsetWidth||p.imageEl.clientWidth,v=p.imageEl.offsetHeight||p.imageEl.clientHeight,y=g*n.scale,x=v*n.scale,S=Math.min(C/2-y/2,0),w=Math.min(A/2-x/2,0),E=-S,T=-w,f=u*n.scale,m=h*n.scale,f<S&&(f=S),f>E&&(f=E),m<w&&(m=w),m>T&&(m=T)),P&&1===n.scale&&(p.originX=0,p.originY=0),p.imageWrapEl.style.transitionDuration="300ms",p.imageWrapEl.style.transform=`translate3d(${f}px, ${m}px,0)`,p.imageEl.style.transitionDuration="300ms",p.imageEl.style.transform=`translate3d(0,0,0) scale(${n.scale})`}function N(){const t=e.zoom,n=e.params.zoom;if(!p.slideEl){e.params.virtual&&e.params.virtual.enabled&&e.virtual?p.slideEl=b(e.slidesEl,`.${e.params.slideActiveClass}`)[0]:p.slideEl=e.slides[e.activeIndex];let t=p.slideEl.querySelector(`.${n.containerClass}`);t&&(t=t.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),p.imageEl=t,p.imageWrapEl=t?R(p.imageEl,`.${n.containerClass}`)[0]:void 0}p.imageEl&&p.imageWrapEl&&(e.params.cssMode&&(e.wrapperEl.style.overflow="",e.wrapperEl.style.touchAction=""),t.scale=1,c=1,d.touchesStart.x=void 0,d.touchesStart.y=void 0,p.imageWrapEl.style.transitionDuration="300ms",p.imageWrapEl.style.transform="translate3d(0,0,0)",p.imageEl.style.transitionDuration="300ms",p.imageEl.style.transform="translate3d(0,0,0) scale(1)",p.slideEl.classList.remove(`${n.zoomedSlideClass}`),p.slideEl=void 0,p.originX=0,p.originY=0)}function B(t){const n=e.zoom;n.scale&&1!==n.scale?N():F(t)}function U(){const t=!!e.params.passiveListeners&&{passive:!0,capture:!1},n=!e.params.passiveListeners||{passive:!1,capture:!0};return{passiveListener:t,activeListenerWithCapture:n}}function z(){const t=e.zoom;if(t.enabled)return;t.enabled=!0;const{passiveListener:n,activeListenerWithCapture:r}=U();e.wrapperEl.addEventListener("pointerdown",T,n),e.wrapperEl.addEventListener("pointermove",C,r),["pointerup","pointercancel","pointerout"].forEach((t=>{e.wrapperEl.addEventListener(t,A,n)})),e.wrapperEl.addEventListener("pointermove",L,r)}function V(){const t=e.zoom;if(!t.enabled)return;t.enabled=!1;const{passiveListener:n,activeListenerWithCapture:r}=U();e.wrapperEl.removeEventListener("pointerdown",T,n),e.wrapperEl.removeEventListener("pointermove",C,r),["pointerup","pointercancel","pointerout"].forEach((t=>{e.wrapperEl.removeEventListener(t,A,n)})),e.wrapperEl.removeEventListener("pointermove",L,r)}Object.defineProperty(e.zoom,"scale",{get(){return v},set(t){if(v!==t){const e=p.imageEl,n=p.slideEl;i("zoomChange",t,e,n)}v=t}}),r("init",(()=>{e.params.zoom.enabled&&z()})),r("destroy",(()=>{V()})),r("touchStart",((t,n)=>{e.zoom.enabled&&I(n)})),r("touchEnd",((t,n)=>{e.zoom.enabled&&k()})),r("doubleTap",((t,n)=>{!e.animating&&e.params.zoom.enabled&&e.zoom.enabled&&e.params.zoom.toggle&&B(n)})),r("transitionEnd",(()=>{e.zoom.enabled&&e.params.zoom.enabled&&O()})),r("slideChange",(()=>{e.zoom.enabled&&e.params.zoom.enabled&&e.params.cssMode&&O()})),Object.assign(e.zoom,{enable:z,disable:V,in:F,out:N,toggle:B})}function xe(t){let{swiper:e,extendParams:n,on:r}=t;function i(t,e){const n=function(){let t,e,n;return(r,i)=>{e=-1,t=r.length;while(t-e>1)n=t+e>>1,r[n]<=i?e=n:t=n;return t}}();let r,i;return this.x=t,this.y=e,this.lastIndex=t.length-1,this.interpolate=function(t){return t?(i=n(this.x,t),r=i-1,(t-this.x[r])*(this.y[i]-this.y[r])/(this.x[i]-this.x[r])+this.y[r]):0},this}function a(t){e.controller.spline=e.params.loop?new i(e.slidesGrid,t.slidesGrid):new i(e.snapGrid,t.snapGrid)}function s(t,n){const r=e.controller.control;let i,s;const o=e.constructor;function l(t){if(t.destroyed)return;const n=e.rtlTranslate?-e.translate:e.translate;"slide"===e.params.controller.by&&(a(t),s=-e.controller.spline.interpolate(-n)),s&&"container"!==e.params.controller.by||(i=(t.maxTranslate()-t.minTranslate())/(e.maxTranslate()-e.minTranslate()),!Number.isNaN(i)&&Number.isFinite(i)||(i=1),s=(n-e.minTranslate())*i+t.minTranslate()),e.params.controller.inverse&&(s=t.maxTranslate()-s),t.updateProgress(s),t.setTranslate(s,e),t.updateActiveIndex(),t.updateSlidesClasses()}if(Array.isArray(r))for(let e=0;e<r.length;e+=1)r[e]!==n&&r[e]instanceof o&&l(r[e]);else r instanceof o&&n!==r&&l(r)}function o(t,n){const r=e.constructor,i=e.controller.control;let a;function s(n){n.destroyed||(n.setTransition(t,e),0!==t&&(n.transitionStart(),n.params.autoHeight&&h((()=>{n.updateAutoHeight()})),D(n.wrapperEl,(()=>{i&&n.transitionEnd()}))))}if(Array.isArray(i))for(a=0;a<i.length;a+=1)i[a]!==n&&i[a]instanceof r&&s(i[a]);else i instanceof r&&n!==i&&s(i)}function l(){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)}n({controller:{control:void 0,inverse:!1,by:"slide"}}),e.controller={control:void 0},r("beforeInit",(()=>{if("undefined"!==typeof window&&("string"===typeof e.params.controller.control||e.params.controller.control instanceof HTMLElement)){const t="string"===typeof e.params.controller.control?[...document.querySelectorAll(e.params.controller.control)]:[e.params.controller.control];t.forEach((t=>{if(e.controller.control||(e.controller.control=[]),t&&t.swiper)e.controller.control.push(t.swiper);else if(t){const n=`${e.params.eventsPrefix}init`,r=i=>{e.controller.control.push(i.detail[0]),e.update(),t.removeEventListener(n,r)};t.addEventListener(n,r)}}))}else e.controller.control=e.params.controller.control})),r("update",(()=>{l()})),r("resize",(()=>{l()})),r("observerUpdate",(()=>{l()})),r("setTranslate",((t,n,r)=>{e.controller.control&&!e.controller.control.destroyed&&e.controller.setTranslate(n,r)})),r("setTransition",((t,n,r)=>{e.controller.control&&!e.controller.control.destroyed&&e.controller.setTransition(n,r)})),Object.assign(e.controller,{setTranslate:s,setTransition:o})}function be(t){let{swiper:e,extendParams:n,on:r}=t;n({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,containerRole:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null,scrollOnFocus:!0}}),e.a11y={clicked:!1};let i,a,o=null,l=(new Date).getTime();function c(t){const e=o;0!==e.length&&(e.innerHTML="",e.innerHTML=t)}function u(t){void 0===t&&(t=16);const e=()=>Math.round(16*Math.random()).toString(16);return"x".repeat(t).replace(/x/g,e)}function h(t){t=L(t),t.forEach((t=>{t.setAttribute("tabIndex","0")}))}function p(t){t=L(t),t.forEach((t=>{t.setAttribute("tabIndex","-1")}))}function d(t,e){t=L(t),t.forEach((t=>{t.setAttribute("role",e)}))}function f(t,e){t=L(t),t.forEach((t=>{t.setAttribute("aria-roledescription",e)}))}function m(t,e){t=L(t),t.forEach((t=>{t.setAttribute("aria-controls",e)}))}function g(t,e){t=L(t),t.forEach((t=>{t.setAttribute("aria-label",e)}))}function v(t,e){t=L(t),t.forEach((t=>{t.setAttribute("id",e)}))}function y(t,e){t=L(t),t.forEach((t=>{t.setAttribute("aria-live",e)}))}function _(t){t=L(t),t.forEach((t=>{t.setAttribute("aria-disabled",!0)}))}function x(t){t=L(t),t.forEach((t=>{t.setAttribute("aria-disabled",!1)}))}function b(t){if(13!==t.keyCode&&32!==t.keyCode)return;const n=e.params.a11y,r=t.target;if(!e.pagination||!e.pagination.el||r!==e.pagination.el&&!e.pagination.el.contains(t.target)||t.target.matches(me(e.params.pagination.bulletClass))){if(e.navigation&&e.navigation.prevEl&&e.navigation.nextEl){const t=L(e.navigation.prevEl),i=L(e.navigation.nextEl);i.includes(r)&&(e.isEnd&&!e.params.loop||e.slideNext(),e.isEnd?c(n.lastSlideMessage):c(n.nextSlideMessage)),t.includes(r)&&(e.isBeginning&&!e.params.loop||e.slidePrev(),e.isBeginning?c(n.firstSlideMessage):c(n.prevSlideMessage))}e.pagination&&r.matches(me(e.params.pagination.bulletClass))&&r.click()}}function S(){if(e.params.loop||e.params.rewind||!e.navigation)return;const{nextEl:t,prevEl:n}=e.navigation;n&&(e.isBeginning?(_(n),p(n)):(x(n),h(n))),t&&(e.isEnd?(_(t),p(t)):(x(t),h(t)))}function w(){return e.pagination&&e.pagination.bullets&&e.pagination.bullets.length}function M(){return w()&&e.params.pagination.clickable}function T(){const t=e.params.a11y;w()&&e.pagination.bullets.forEach((n=>{e.params.pagination.clickable&&(h(n),e.params.pagination.renderBullet||(d(n,"button"),g(n,t.paginationBulletMessage.replace(/\{\{index\}\}/,P(n)+1)))),n.matches(me(e.params.pagination.bulletActiveClass))?n.setAttribute("aria-current","true"):n.removeAttribute("aria-current")}))}const C=(t,e,n)=>{h(t),"BUTTON"!==t.tagName&&(d(t,"button"),t.addEventListener("keydown",b)),g(t,n),m(t,e)},A=t=>{a&&a!==t.target&&!a.contains(t.target)&&(i=!0),e.a11y.clicked=!0},R=()=>{i=!1,requestAnimationFrame((()=>{requestAnimationFrame((()=>{e.destroyed||(e.a11y.clicked=!1)}))}))},D=t=>{l=(new Date).getTime()},I=t=>{if(e.a11y.clicked||!e.params.a11y.scrollOnFocus)return;if((new Date).getTime()-l<100)return;const n=t.target.closest(`.${e.params.slideClass}, swiper-slide`);if(!n||!e.slides.includes(n))return;a=n;const r=e.slides.indexOf(n)===e.activeIndex,s=e.params.watchSlidesProgress&&e.visibleSlides&&e.visibleSlides.includes(n);r||s||t.sourceCapabilities&&t.sourceCapabilities.firesTouchEvents||(e.isHorizontal()?e.el.scrollLeft=0:e.el.scrollTop=0,requestAnimationFrame((()=>{i||(e.params.loop?e.slideToLoop(parseInt(n.getAttribute("data-swiper-slide-index")),0):e.slideTo(e.slides.indexOf(n),0),i=!1)})))},k=()=>{const t=e.params.a11y;t.itemRoleDescriptionMessage&&f(e.slides,t.itemRoleDescriptionMessage),t.slideRole&&d(e.slides,t.slideRole);const n=e.slides.length;t.slideLabelMessage&&e.slides.forEach(((r,i)=>{const a=e.params.loop?parseInt(r.getAttribute("data-swiper-slide-index"),10):i,s=t.slideLabelMessage.replace(/\{\{index\}\}/,a+1).replace(/\{\{slidesLength\}\}/,n);g(r,s)}))},O=()=>{const t=e.params.a11y;e.el.append(o);const n=e.el;t.containerRoleDescriptionMessage&&f(n,t.containerRoleDescriptionMessage),t.containerMessage&&g(n,t.containerMessage),t.containerRole&&d(n,t.containerRole);const r=e.wrapperEl,i=t.id||r.getAttribute("id")||`swiper-wrapper-${u(16)}`,a=e.params.autoplay&&e.params.autoplay.enabled?"off":"polite";v(r,i),y(r,a),k();let{nextEl:l,prevEl:c}=e.navigation?e.navigation:{};if(l=L(l),c=L(c),l&&l.forEach((e=>C(e,i,t.nextSlideMessage))),c&&c.forEach((e=>C(e,i,t.prevSlideMessage))),M()){const t=L(e.pagination.el);t.forEach((t=>{t.addEventListener("keydown",b)}))}const h=s();h.addEventListener("visibilitychange",D),e.el.addEventListener("focus",I,!0),e.el.addEventListener("focus",I,!0),e.el.addEventListener("pointerdown",A,!0),e.el.addEventListener("pointerup",R,!0)};function F(){o&&o.remove();let{nextEl:t,prevEl:n}=e.navigation?e.navigation:{};if(t=L(t),n=L(n),t&&t.forEach((t=>t.removeEventListener("keydown",b))),n&&n.forEach((t=>t.removeEventListener("keydown",b))),M()){const t=L(e.pagination.el);t.forEach((t=>{t.removeEventListener("keydown",b)}))}const r=s();r.removeEventListener("visibilitychange",D),e.el&&"string"!==typeof e.el&&(e.el.removeEventListener("focus",I,!0),e.el.removeEventListener("pointerdown",A,!0),e.el.removeEventListener("pointerup",R,!0))}r("beforeInit",(()=>{o=E("span",e.params.a11y.notificationClass),o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true")})),r("afterInit",(()=>{e.params.a11y.enabled&&O()})),r("slidesLengthChange snapGridLengthChange slidesGridLengthChange",(()=>{e.params.a11y.enabled&&k()})),r("fromEdge toEdge afterInit lock unlock",(()=>{e.params.a11y.enabled&&S()})),r("paginationUpdate",(()=>{e.params.a11y.enabled&&T()})),r("destroy",(()=>{e.params.a11y.enabled&&F()}))}Object.keys(oe).forEach((t=>{Object.keys(oe[t]).forEach((e=>{ce.prototype[e]=oe[t][e]}))})),ce.use([W,j]);n(4603),n(7566),n(8721);function Se(t){let{swiper:e,extendParams:n,on:r}=t;n({history:{enabled:!1,root:"",replaceState:!1,key:"slides",keepQuery:!1}});let i=!1,a={};const s=t=>t.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),o=t=>{const e=l();let n;n=t?new URL(t):e.location;const r=n.pathname.slice(1).split("/").filter((t=>""!==t)),i=r.length,a=r[i-2],s=r[i-1];return{key:a,value:s}},c=(t,n)=>{const r=l();if(!i||!e.params.history.enabled)return;let a;a=e.params.url?new URL(e.params.url):r.location;const o=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${n}"]`):e.slides[n];let c=s(o.getAttribute("data-history"));if(e.params.history.root.length>0){let n=e.params.history.root;"/"===n[n.length-1]&&(n=n.slice(0,n.length-1)),c=`${n}/${t?`${t}/`:""}${c}`}else a.pathname.includes(t)||(c=`${t?`${t}/`:""}${c}`);e.params.history.keepQuery&&(c+=a.search);const u=r.history.state;u&&u.value===c||(e.params.history.replaceState?r.history.replaceState({value:c},null,c):r.history.pushState({value:c},null,c))},u=(t,n,r)=>{if(n)for(let i=0,a=e.slides.length;i<a;i+=1){const a=e.slides[i],o=s(a.getAttribute("data-history"));if(o===n){const n=e.getSlideIndex(a);e.slideTo(n,t,r)}}else e.slideTo(0,t,r)},h=()=>{a=o(e.params.url),u(e.params.speed,a.value,!1)},p=()=>{const t=l();if(e.params.history){if(!t.history||!t.history.pushState)return e.params.history.enabled=!1,void(e.params.hashNavigation.enabled=!0);i=!0,a=o(e.params.url),a.key||a.value?(u(0,a.value,e.params.runCallbacksOnInit),e.params.history.replaceState||t.addEventListener("popstate",h)):e.params.history.replaceState||t.addEventListener("popstate",h)}},d=()=>{const t=l();e.params.history.replaceState||t.removeEventListener("popstate",h)};r("init",(()=>{e.params.history.enabled&&p()})),r("destroy",(()=>{e.params.history.enabled&&d()})),r("transitionEnd _freeModeNoMomentumRelease",(()=>{i&&c(e.params.history.key,e.activeIndex)})),r("slideChange",(()=>{i&&e.params.cssMode&&c(e.params.history.key,e.activeIndex)}))}function we(t){let{swiper:e,extendParams:n,emit:r,on:i}=t,a=!1;const o=s(),c=l();n({hashNavigation:{enabled:!1,replaceState:!1,watchState:!1,getSlideIndex(t,n){if(e.virtual&&e.params.virtual.enabled){const t=e.slides.filter((t=>t.getAttribute("data-hash")===n))[0];if(!t)return 0;const r=parseInt(t.getAttribute("data-swiper-slide-index"),10);return r}return e.getSlideIndex(b(e.slidesEl,`.${e.params.slideClass}[data-hash="${n}"], swiper-slide[data-hash="${n}"]`)[0])}}});const u=()=>{r("hashChange");const t=o.location.hash.replace("#",""),n=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${e.activeIndex}"]`):e.slides[e.activeIndex],i=n?n.getAttribute("data-hash"):"";if(t!==i){const n=e.params.hashNavigation.getSlideIndex(e,t);if("undefined"===typeof n||Number.isNaN(n))return;e.slideTo(n)}},h=()=>{if(!a||!e.params.hashNavigation.enabled)return;const t=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${e.activeIndex}"]`):e.slides[e.activeIndex],n=t?t.getAttribute("data-hash")||t.getAttribute("data-history"):"";e.params.hashNavigation.replaceState&&c.history&&c.history.replaceState?(c.history.replaceState(null,null,`#${n}`||""),r("hashSet")):(o.location.hash=n||"",r("hashSet"))},p=()=>{if(!e.params.hashNavigation.enabled||e.params.history&&e.params.history.enabled)return;a=!0;const t=o.location.hash.replace("#","");if(t){const n=0,r=e.params.hashNavigation.getSlideIndex(e,t);e.slideTo(r||0,n,e.params.runCallbacksOnInit,!0)}e.params.hashNavigation.watchState&&c.addEventListener("hashchange",u)},d=()=>{e.params.hashNavigation.watchState&&c.removeEventListener("hashchange",u)};i("init",(()=>{e.params.hashNavigation.enabled&&p()})),i("destroy",(()=>{e.params.hashNavigation.enabled&&d()})),i("transitionEnd _freeModeNoMomentumRelease",(()=>{a&&h()})),i("slideChange",(()=>{a&&e.params.cssMode&&h()}))}function Ee(t){let e,n,{swiper:r,extendParams:i,on:a,emit:o,params:l}=t;r.autoplay={running:!1,paused:!1,timeLeft:0},i({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let c,u,h,p,d,f,m,g,v=l&&l.autoplay?l.autoplay.delay:3e3,y=l&&l.autoplay?l.autoplay.delay:3e3,_=(new Date).getTime();function x(t){r&&!r.destroyed&&r.wrapperEl&&t.target===r.wrapperEl&&(r.wrapperEl.removeEventListener("transitionend",x),g||t.detail&&t.detail.bySwiperTouchMove||C())}const b=()=>{if(r.destroyed||!r.autoplay.running)return;r.autoplay.paused?u=!0:u&&(y=c,u=!1);const t=r.autoplay.paused?c:_+y-(new Date).getTime();r.autoplay.timeLeft=t,o("autoplayTimeLeft",t,t/v),n=requestAnimationFrame((()=>{b()}))},S=()=>{let t;if(t=r.virtual&&r.params.virtual.enabled?r.slides.filter((t=>t.classList.contains("swiper-slide-active")))[0]:r.slides[r.activeIndex],!t)return;const e=parseInt(t.getAttribute("data-swiper-autoplay"),10);return e},w=t=>{if(r.destroyed||!r.autoplay.running)return;cancelAnimationFrame(n),b();let i="undefined"===typeof t?r.params.autoplay.delay:t;v=r.params.autoplay.delay,y=r.params.autoplay.delay;const a=S();!Number.isNaN(a)&&a>0&&"undefined"===typeof t&&(i=a,v=a,y=a),c=i;const s=r.params.speed,l=()=>{r&&!r.destroyed&&(r.params.autoplay.reverseDirection?!r.isBeginning||r.params.loop||r.params.rewind?(r.slidePrev(s,!0,!0),o("autoplay")):r.params.autoplay.stopOnLastSlide||(r.slideTo(r.slides.length-1,s,!0,!0),o("autoplay")):!r.isEnd||r.params.loop||r.params.rewind?(r.slideNext(s,!0,!0),o("autoplay")):r.params.autoplay.stopOnLastSlide||(r.slideTo(0,s,!0,!0),o("autoplay")),r.params.cssMode&&(_=(new Date).getTime(),requestAnimationFrame((()=>{w()}))))};return i>0?(clearTimeout(e),e=setTimeout((()=>{l()}),i)):requestAnimationFrame((()=>{l()})),i},E=()=>{_=(new Date).getTime(),r.autoplay.running=!0,w(),o("autoplayStart")},M=()=>{r.autoplay.running=!1,clearTimeout(e),cancelAnimationFrame(n),o("autoplayStop")},T=(t,n)=>{if(r.destroyed||!r.autoplay.running)return;clearTimeout(e),t||(m=!0);const i=()=>{o("autoplayPause"),r.params.autoplay.waitForTransition?r.wrapperEl.addEventListener("transitionend",x):C()};if(r.autoplay.paused=!0,n)return f&&(c=r.params.autoplay.delay),f=!1,void i();const a=c||r.params.autoplay.delay;c=a-((new Date).getTime()-_),r.isEnd&&c<0&&!r.params.loop||(c<0&&(c=0),i())},C=()=>{r.isEnd&&c<0&&!r.params.loop||r.destroyed||!r.autoplay.running||(_=(new Date).getTime(),m?(m=!1,w(c)):w(),r.autoplay.paused=!1,o("autoplayResume"))},A=()=>{if(r.destroyed||!r.autoplay.running)return;const t=s();"hidden"===t.visibilityState&&(m=!0,T(!0)),"visible"===t.visibilityState&&C()},P=t=>{"mouse"===t.pointerType&&(m=!0,g=!0,r.animating||r.autoplay.paused||T(!0))},R=t=>{"mouse"===t.pointerType&&(g=!1,r.autoplay.paused&&C())},D=()=>{r.params.autoplay.pauseOnMouseEnter&&(r.el.addEventListener("pointerenter",P),r.el.addEventListener("pointerleave",R))},I=()=>{r.el&&"string"!==typeof r.el&&(r.el.removeEventListener("pointerenter",P),r.el.removeEventListener("pointerleave",R))},L=()=>{const t=s();t.addEventListener("visibilitychange",A)},k=()=>{const t=s();t.removeEventListener("visibilitychange",A)};a("init",(()=>{r.params.autoplay.enabled&&(D(),L(),E())})),a("destroy",(()=>{I(),k(),r.autoplay.running&&M()})),a("_freeModeStaticRelease",(()=>{(p||m)&&C()})),a("_freeModeNoMomentumRelease",(()=>{r.params.autoplay.disableOnInteraction?M():T(!0,!0)})),a("beforeTransitionStart",((t,e,n)=>{!r.destroyed&&r.autoplay.running&&(n||!r.params.autoplay.disableOnInteraction?T(!0,!0):M())})),a("sliderFirstMove",(()=>{!r.destroyed&&r.autoplay.running&&(r.params.autoplay.disableOnInteraction?M():(h=!0,p=!1,m=!1,d=setTimeout((()=>{m=!0,p=!0,T(!0)}),200)))})),a("touchEnd",(()=>{if(!r.destroyed&&r.autoplay.running&&h){if(clearTimeout(d),clearTimeout(e),r.params.autoplay.disableOnInteraction)return p=!1,void(h=!1);p&&r.params.cssMode&&C(),p=!1,h=!1}})),a("slideChange",(()=>{!r.destroyed&&r.autoplay.running&&(f=!0)})),Object.assign(r.autoplay,{start:E,stop:M,pause:T,resume:C})}function Me(t){let{swiper:e,extendParams:n,on:r}=t;n({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let i=!1,a=!1;function o(){const t=e.thumbs.swiper;if(!t||t.destroyed)return;const n=t.clickedIndex,r=t.clickedSlide;if(r&&r.classList.contains(e.params.thumbs.slideThumbActiveClass))return;if("undefined"===typeof n||null===n)return;let i;i=t.params.loop?parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10):n,e.params.loop?e.slideToLoop(i):e.slideTo(i)}function l(){const{thumbs:t}=e.params;if(i)return!1;i=!0;const n=e.constructor;if(t.swiper instanceof n)e.thumbs.swiper=t.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update();else if(m(t.swiper)){const r=Object.assign({},t.swiper);Object.assign(r,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new n(r),a=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",o),!0}function c(t){const n=e.thumbs.swiper;if(!n||n.destroyed)return;const r="auto"===n.params.slidesPerView?n.slidesPerViewDynamic():n.params.slidesPerView;let i=1;const a=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(i=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(i=1),i=Math.floor(i),n.slides.forEach((t=>t.classList.remove(a))),n.params.loop||n.params.virtual&&n.params.virtual.enabled)for(let l=0;l<i;l+=1)b(n.slidesEl,`[data-swiper-slide-index="${e.realIndex+l}"]`).forEach((t=>{t.classList.add(a)}));else for(let l=0;l<i;l+=1)n.slides[e.realIndex+l]&&n.slides[e.realIndex+l].classList.add(a);const s=e.params.thumbs.autoScrollOffset,o=s&&!n.params.loop;if(e.realIndex!==n.realIndex||o){const i=n.activeIndex;let a,l;if(n.params.loop){const t=n.slides.filter((t=>t.getAttribute("data-swiper-slide-index")===`${e.realIndex}`))[0];a=n.slides.indexOf(t),l=e.activeIndex>e.previousIndex?"next":"prev"}else a=e.realIndex,l=a>e.previousIndex?"next":"prev";o&&(a+="next"===l?s:-1*s),n.visibleSlidesIndexes&&n.visibleSlidesIndexes.indexOf(a)<0&&(n.params.centeredSlides?a=a>i?a-Math.floor(r/2)+1:a+Math.floor(r/2)-1:a>i&&n.params.slidesPerGroup,n.slideTo(a,t?0:void 0))}}e.thumbs={swiper:null},r("beforeInit",(()=>{const{thumbs:t}=e.params;if(t&&t.swiper)if("string"===typeof t.swiper||t.swiper instanceof HTMLElement){const n=s(),r=()=>{const r="string"===typeof t.swiper?n.querySelector(t.swiper):t.swiper;if(r&&r.swiper)t.swiper=r.swiper,l(),c(!0);else if(r){const n=`${e.params.eventsPrefix}init`,i=a=>{t.swiper=a.detail[0],r.removeEventListener(n,i),l(),c(!0),t.swiper.update(),e.update()};r.addEventListener(n,i)}return r},i=()=>{if(e.destroyed)return;const t=r();t||requestAnimationFrame(i)};requestAnimationFrame(i)}else l(),c(!0)})),r("slideChange update resize observerUpdate",(()=>{c()})),r("setTransition",((t,n)=>{const r=e.thumbs.swiper;r&&!r.destroyed&&r.setTransition(n)})),r("beforeDestroy",(()=>{const t=e.thumbs.swiper;t&&!t.destroyed&&a&&t.destroy()})),Object.assign(e.thumbs,{init:l,update:c})}function Te(t){let{swiper:e,extendParams:n,emit:r,once:i}=t;function a(){if(e.params.cssMode)return;const t=e.getTranslate();e.setTranslate(t),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function s(){if(e.params.cssMode)return;const{touchEventsData:t,touches:n}=e;0===t.velocities.length&&t.velocities.push({position:n[e.isHorizontal()?"startX":"startY"],time:t.touchStartTime}),t.velocities.push({position:n[e.isHorizontal()?"currentX":"currentY"],time:p()})}function o(t){let{currentPos:n}=t;if(e.params.cssMode)return;const{params:a,wrapperEl:s,rtlTranslate:o,snapGrid:l,touchEventsData:c}=e,u=p(),h=u-c.touchStartTime;if(n<-e.minTranslate())e.slideTo(e.activeIndex);else if(n>-e.maxTranslate())e.slides.length<l.length?e.slideTo(l.length-1):e.slideTo(e.slides.length-1);else{if(a.freeMode.momentum){if(c.velocities.length>1){const t=c.velocities.pop(),n=c.velocities.pop(),r=t.position-n.position,i=t.time-n.time;e.velocity=r/i,e.velocity/=2,Math.abs(e.velocity)<a.freeMode.minimumVelocity&&(e.velocity=0),(i>150||p()-t.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=a.freeMode.momentumVelocityRatio,c.velocities.length=0;let t=1e3*a.freeMode.momentumRatio;const n=e.velocity*t;let u=e.translate+n;o&&(u=-u);let h,d=!1;const f=20*Math.abs(e.velocity)*a.freeMode.momentumBounceRatio;let m;if(u<e.maxTranslate())a.freeMode.momentumBounce?(u+e.maxTranslate()<-f&&(u=e.maxTranslate()-f),h=e.maxTranslate(),d=!0,c.allowMomentumBounce=!0):u=e.maxTranslate(),a.loop&&a.centeredSlides&&(m=!0);else if(u>e.minTranslate())a.freeMode.momentumBounce?(u-e.minTranslate()>f&&(u=e.minTranslate()+f),h=e.minTranslate(),d=!0,c.allowMomentumBounce=!0):u=e.minTranslate(),a.loop&&a.centeredSlides&&(m=!0);else if(a.freeMode.sticky){let t;for(let e=0;e<l.length;e+=1)if(l[e]>-u){t=e;break}u=Math.abs(l[t]-u)<Math.abs(l[t-1]-u)||"next"===e.swipeDirection?l[t]:l[t-1],u=-u}if(m&&i("transitionEnd",(()=>{e.loopFix()})),0!==e.velocity){if(t=o?Math.abs((-u-e.translate)/e.velocity):Math.abs((u-e.translate)/e.velocity),a.freeMode.sticky){const n=Math.abs((o?-u:u)-e.translate),r=e.slidesSizesGrid[e.activeIndex];t=n<r?a.speed:n<2*r?1.5*a.speed:2.5*a.speed}}else if(a.freeMode.sticky)return void e.slideToClosest();a.freeMode.momentumBounce&&d?(e.updateProgress(h),e.setTransition(t),e.setTranslate(u),e.transitionStart(!0,e.swipeDirection),e.animating=!0,D(s,(()=>{e&&!e.destroyed&&c.allowMomentumBounce&&(r("momentumBounce"),e.setTransition(a.speed),setTimeout((()=>{e.setTranslate(h),D(s,(()=>{e&&!e.destroyed&&e.transitionEnd()}))}),0))}))):e.velocity?(r("_freeModeNoMomentumRelease"),e.updateProgress(u),e.setTransition(t),e.setTranslate(u),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,D(s,(()=>{e&&!e.destroyed&&e.transitionEnd()})))):e.updateProgress(u),e.updateActiveIndex(),e.updateSlidesClasses()}else{if(a.freeMode.sticky)return void e.slideToClosest();a.freeMode&&r("_freeModeNoMomentumRelease")}(!a.freeMode.momentum||h>=a.longSwipesMs)&&(r("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}}n({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}}),Object.assign(e,{freeMode:{onTouchStart:a,onTouchMove:s,onTouchEnd:o}})}function Ce(t){let e,n,r,i,{swiper:a,extendParams:s,on:o}=t;s({grid:{rows:1,fill:"column"}});const l=()=>{let t=a.params.spaceBetween;return"string"===typeof t&&t.indexOf("%")>=0?t=parseFloat(t.replace("%",""))/100*a.size:"string"===typeof t&&(t=parseFloat(t)),t},c=t=>{const{slidesPerView:i}=a.params,{rows:s,fill:o}=a.params.grid,l=a.virtual&&a.params.virtual.enabled?a.virtual.slides.length:t.length;r=Math.floor(l/s),e=Math.floor(l/s)===l/s?l:Math.ceil(l/s)*s,"auto"!==i&&"row"===o&&(e=Math.max(e,i*s)),n=e/s},u=()=>{a.slides&&a.slides.forEach((t=>{t.swiperSlideGridSet&&(t.style.height="",t.style[a.getDirectionLabel("margin-top")]="")}))},h=(t,i,s)=>{const{slidesPerGroup:o}=a.params,c=l(),{rows:u,fill:h}=a.params.grid,p=a.virtual&&a.params.virtual.enabled?a.virtual.slides.length:s.length;let d,f,m;if("row"===h&&o>1){const n=Math.floor(t/(o*u)),r=t-u*o*n,a=0===n?o:Math.min(Math.ceil((p-n*u*o)/u),o);m=Math.floor(r/a),f=r-m*a+n*o,d=f+m*e/u,i.style.order=d}else"column"===h?(f=Math.floor(t/u),m=t-f*u,(f>r||f===r&&m===u-1)&&(m+=1,m>=u&&(m=0,f+=1))):(m=Math.floor(t/n),f=t-m*n);i.row=m,i.column=f,i.style.height=`calc((100% - ${(u-1)*c}px) / ${u})`,i.style[a.getDirectionLabel("margin-top")]=0!==m?c&&`${c}px`:"",i.swiperSlideGridSet=!0},p=(t,n)=>{const{centeredSlides:r,roundLengths:i}=a.params,s=l(),{rows:o}=a.params.grid;if(a.virtualSize=(t+s)*e,a.virtualSize=Math.ceil(a.virtualSize/o)-s,a.params.cssMode||(a.wrapperEl.style[a.getDirectionLabel("width")]=`${a.virtualSize+s}px`),r){const t=[];for(let e=0;e<n.length;e+=1){let r=n[e];i&&(r=Math.floor(r)),n[e]<a.virtualSize+n[0]&&t.push(r)}n.splice(0,n.length),n.push(...t)}},d=()=>{i=a.params.grid&&a.params.grid.rows>1},f=()=>{const{params:t,el:e}=a,n=t.grid&&t.grid.rows>1;i&&!n?(e.classList.remove(`${t.containerModifierClass}grid`,`${t.containerModifierClass}grid-column`),r=1,a.emitContainerClasses()):!i&&n&&(e.classList.add(`${t.containerModifierClass}grid`),"column"===t.grid.fill&&e.classList.add(`${t.containerModifierClass}grid-column`),a.emitContainerClasses()),i=n};o("init",d),o("update",f),a.grid={initSlides:c,unsetSlides:u,updateSlide:h,updateWrapperSize:p}}function Ae(t){const e=this,{params:n,slidesEl:r}=e;n.loop&&e.loopDestroy();const i=t=>{if("string"===typeof t){const e=document.createElement("div");e.innerHTML=t,r.append(e.children[0]),e.innerHTML=""}else r.append(t)};if("object"===typeof t&&"length"in t)for(let a=0;a<t.length;a+=1)t[a]&&i(t[a]);else i(t);e.recalcSlides(),n.loop&&e.loopCreate(),n.observer&&!e.isElement||e.update()}function Pe(t){const e=this,{params:n,activeIndex:r,slidesEl:i}=e;n.loop&&e.loopDestroy();let a=r+1;const s=t=>{if("string"===typeof t){const e=document.createElement("div");e.innerHTML=t,i.prepend(e.children[0]),e.innerHTML=""}else i.prepend(t)};if("object"===typeof t&&"length"in t){for(let e=0;e<t.length;e+=1)t[e]&&s(t[e]);a=r+t.length}else s(t);e.recalcSlides(),n.loop&&e.loopCreate(),n.observer&&!e.isElement||e.update(),e.slideTo(a,0,!1)}function Re(t,e){const n=this,{params:r,activeIndex:i,slidesEl:a}=n;let s=i;r.loop&&(s-=n.loopedSlides,n.loopDestroy(),n.recalcSlides());const o=n.slides.length;if(t<=0)return void n.prependSlide(e);if(t>=o)return void n.appendSlide(e);let l=s>t?s+1:s;const c=[];for(let u=o-1;u>=t;u-=1){const t=n.slides[u];t.remove(),c.unshift(t)}if("object"===typeof e&&"length"in e){for(let t=0;t<e.length;t+=1)e[t]&&a.append(e[t]);l=s>t?s+e.length:s}else a.append(e);for(let u=0;u<c.length;u+=1)a.append(c[u]);n.recalcSlides(),r.loop&&n.loopCreate(),r.observer&&!n.isElement||n.update(),r.loop?n.slideTo(l+n.loopedSlides,0,!1):n.slideTo(l,0,!1)}function De(t){const e=this,{params:n,activeIndex:r}=e;let i=r;n.loop&&(i-=e.loopedSlides,e.loopDestroy());let a,s=i;if("object"===typeof t&&"length"in t){for(let n=0;n<t.length;n+=1)a=t[n],e.slides[a]&&e.slides[a].remove(),a<s&&(s-=1);s=Math.max(s,0)}else a=t,e.slides[a]&&e.slides[a].remove(),a<s&&(s-=1),s=Math.max(s,0);e.recalcSlides(),n.loop&&e.loopCreate(),n.observer&&!e.isElement||e.update(),n.loop?e.slideTo(s+e.loopedSlides,0,!1):e.slideTo(s,0,!1)}function Ie(){const t=this,e=[];for(let n=0;n<t.slides.length;n+=1)e.push(n);t.removeSlide(e)}function Le(t){let{swiper:e}=t;Object.assign(e,{appendSlide:Ae.bind(e),prependSlide:Pe.bind(e),addSlide:Re.bind(e),removeSlide:De.bind(e),removeAllSlides:Ie.bind(e)})}function ke(t){const{effect:e,swiper:n,on:r,setTranslate:i,setTransition:a,overwriteParams:s,perspective:o,recreateShadows:l,getEffectParams:c}=t;let u;r("beforeInit",(()=>{if(n.params.effect!==e)return;n.classNames.push(`${n.params.containerModifierClass}${e}`),o&&o()&&n.classNames.push(`${n.params.containerModifierClass}3d`);const t=s?s():{};Object.assign(n.params,t),Object.assign(n.originalParams,t)})),r("setTranslate",(()=>{n.params.effect===e&&i()})),r("setTransition",((t,r)=>{n.params.effect===e&&a(r)})),r("transitionEnd",(()=>{if(n.params.effect===e&&l){if(!c||!c().slideShadows)return;n.slides.forEach((t=>{t.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach((t=>t.remove()))})),l()}})),r("virtualUpdate",(()=>{n.params.effect===e&&(n.slides.length||(u=!0),requestAnimationFrame((()=>{u&&n.slides&&n.slides.length&&(i(),u=!1)})))}))}function Oe(t,e){const n=x(e);return n!==e&&(n.style.backfaceVisibility="hidden",n.style["-webkit-backface-visibility"]="hidden"),n}function Fe(t){let{swiper:e,duration:n,transformElements:r,allSlides:i}=t;const{activeIndex:a}=e,s=t=>{if(!t.parentElement){const n=e.slides.filter((e=>e.shadowRoot&&e.shadowRoot===t.parentNode))[0];return n}return t.parentElement};if(e.params.virtualTranslate&&0!==n){let t,n=!1;t=i?r:r.filter((t=>{const n=t.classList.contains("swiper-slide-transform")?s(t):t;return e.getSlideIndex(n)===a})),t.forEach((t=>{D(t,(()=>{if(n)return;if(!e||e.destroyed)return;n=!0,e.animating=!1;const t=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});e.wrapperEl.dispatchEvent(t)}))}))}}function Ne(t){let{swiper:e,extendParams:n,on:r}=t;n({fadeEffect:{crossFade:!1}});const i=()=>{const{slides:t}=e,n=e.params.fadeEffect;for(let r=0;r<t.length;r+=1){const t=e.slides[r],i=t.swiperSlideOffset;let a=-i;e.params.virtualTranslate||(a-=e.translate);let s=0;e.isHorizontal()||(s=a,a=0);const o=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(t.progress),0):1+Math.min(Math.max(t.progress,-1),0),l=Oe(n,t);l.style.opacity=o,l.style.transform=`translate3d(${a}px, ${s}px, 0px)`}},a=t=>{const n=e.slides.map((t=>x(t)));n.forEach((e=>{e.style.transitionDuration=`${t}ms`})),Fe({swiper:e,duration:t,transformElements:n,allSlides:!0})};ke({effect:"fade",swiper:e,on:r,setTranslate:i,setTransition:a,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}function Be(t){let{swiper:e,extendParams:n,on:r}=t;n({cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}});const i=(t,e,n)=>{let r=n?t.querySelector(".swiper-slide-shadow-left"):t.querySelector(".swiper-slide-shadow-top"),i=n?t.querySelector(".swiper-slide-shadow-right"):t.querySelector(".swiper-slide-shadow-bottom");r||(r=E("div",("swiper-slide-shadow-cube swiper-slide-shadow-"+(n?"left":"top")).split(" ")),t.append(r)),i||(i=E("div",("swiper-slide-shadow-cube swiper-slide-shadow-"+(n?"right":"bottom")).split(" ")),t.append(i)),r&&(r.style.opacity=Math.max(-e,0)),i&&(i.style.opacity=Math.max(e,0))},a=()=>{const t=e.isHorizontal();e.slides.forEach((e=>{const n=Math.max(Math.min(e.progress,1),-1);i(e,n,t)}))},s=()=>{const{el:t,wrapperEl:n,slides:r,width:a,height:s,rtlTranslate:o,size:l,browser:c}=e,u=k(e),h=e.params.cubeEffect,p=e.isHorizontal(),d=e.virtual&&e.params.virtual.enabled;let f,m=0;h.shadow&&(p?(f=e.wrapperEl.querySelector(".swiper-cube-shadow"),f||(f=E("div","swiper-cube-shadow"),e.wrapperEl.append(f)),f.style.height=`${a}px`):(f=t.querySelector(".swiper-cube-shadow"),f||(f=E("div","swiper-cube-shadow"),t.append(f))));for(let e=0;e<r.length;e+=1){const t=r[e];let n=e;d&&(n=parseInt(t.getAttribute("data-swiper-slide-index"),10));let a=90*n,s=Math.floor(a/360);o&&(a=-a,s=Math.floor(-a/360));const c=Math.max(Math.min(t.progress,1),-1);let f=0,g=0,v=0;n%4===0?(f=4*-s*l,v=0):(n-1)%4===0?(f=0,v=4*-s*l):(n-2)%4===0?(f=l+4*s*l,v=l):(n-3)%4===0&&(f=-l,v=3*l+4*l*s),o&&(f=-f),p||(g=f,f=0);const y=`rotateX(${u(p?0:-a)}deg) rotateY(${u(p?a:0)}deg) translate3d(${f}px, ${g}px, ${v}px)`;c<=1&&c>-1&&(m=90*n+90*c,o&&(m=90*-n-90*c)),t.style.transform=y,h.slideShadows&&i(t,c,p)}if(n.style.transformOrigin=`50% 50% -${l/2}px`,n.style["-webkit-transform-origin"]=`50% 50% -${l/2}px`,h.shadow)if(p)f.style.transform=`translate3d(0px, ${a/2+h.shadowOffset}px, ${-a/2}px) rotateX(89.99deg) rotateZ(0deg) scale(${h.shadowScale})`;else{const t=Math.abs(m)-90*Math.floor(Math.abs(m)/90),e=1.5-(Math.sin(2*t*Math.PI/360)/2+Math.cos(2*t*Math.PI/360)/2),n=h.shadowScale,r=h.shadowScale/e,i=h.shadowOffset;f.style.transform=`scale3d(${n}, 1, ${r}) translate3d(0px, ${s/2+i}px, ${-s/2/r}px) rotateX(-89.99deg)`}const g=(c.isSafari||c.isWebView)&&c.needPerspectiveFix?-l/2:0;n.style.transform=`translate3d(0px,0,${g}px) rotateX(${u(e.isHorizontal()?0:m)}deg) rotateY(${u(e.isHorizontal()?-m:0)}deg)`,n.style.setProperty("--swiper-cube-translate-z",`${g}px`)},o=t=>{const{el:n,slides:r}=e;if(r.forEach((e=>{e.style.transitionDuration=`${t}ms`,e.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach((e=>{e.style.transitionDuration=`${t}ms`}))})),e.params.cubeEffect.shadow&&!e.isHorizontal()){const e=n.querySelector(".swiper-cube-shadow");e&&(e.style.transitionDuration=`${t}ms`)}};ke({effect:"cube",swiper:e,on:r,setTranslate:s,setTransition:o,recreateShadows:a,getEffectParams:()=>e.params.cubeEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0})})}function Ue(t,e,n){const r=`swiper-slide-shadow${n?`-${n}`:""}${t?` swiper-slide-shadow-${t}`:""}`,i=x(e);let a=i.querySelector(`.${r.split(" ").join(".")}`);return a||(a=E("div",r.split(" ")),i.append(a)),a}function ze(t){let{swiper:e,extendParams:n,on:r}=t;n({flipEffect:{slideShadows:!0,limitRotation:!0}});const i=(t,n)=>{let r=e.isHorizontal()?t.querySelector(".swiper-slide-shadow-left"):t.querySelector(".swiper-slide-shadow-top"),i=e.isHorizontal()?t.querySelector(".swiper-slide-shadow-right"):t.querySelector(".swiper-slide-shadow-bottom");r||(r=Ue("flip",t,e.isHorizontal()?"left":"top")),i||(i=Ue("flip",t,e.isHorizontal()?"right":"bottom")),r&&(r.style.opacity=Math.max(-n,0)),i&&(i.style.opacity=Math.max(n,0))},a=()=>{e.params.flipEffect,e.slides.forEach((t=>{let n=t.progress;e.params.flipEffect.limitRotation&&(n=Math.max(Math.min(t.progress,1),-1)),i(t,n)}))},s=()=>{const{slides:t,rtlTranslate:n}=e,r=e.params.flipEffect,a=k(e);for(let s=0;s<t.length;s+=1){const o=t[s];let l=o.progress;e.params.flipEffect.limitRotation&&(l=Math.max(Math.min(o.progress,1),-1));const c=o.swiperSlideOffset,u=-180*l;let h=u,p=0,d=e.params.cssMode?-c-e.translate:-c,f=0;e.isHorizontal()?n&&(h=-h):(f=d,d=0,p=-h,h=0),o.style.zIndex=-Math.abs(Math.round(l))+t.length,r.slideShadows&&i(o,l);const m=`translate3d(${d}px, ${f}px, 0px) rotateX(${a(p)}deg) rotateY(${a(h)}deg)`,g=Oe(r,o);g.style.transform=m}},o=t=>{const n=e.slides.map((t=>x(t)));n.forEach((e=>{e.style.transitionDuration=`${t}ms`,e.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach((e=>{e.style.transitionDuration=`${t}ms`}))})),Fe({swiper:e,duration:t,transformElements:n})};ke({effect:"flip",swiper:e,on:r,setTranslate:s,setTransition:o,recreateShadows:a,getEffectParams:()=>e.params.flipEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}function Ve(t){let{swiper:e,extendParams:n,on:r}=t;n({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}});const i=()=>{const{width:t,height:n,slides:r,slidesSizesGrid:i}=e,a=e.params.coverflowEffect,s=e.isHorizontal(),o=e.translate,l=s?t/2-o:n/2-o,c=s?a.rotate:-a.rotate,u=a.depth,h=k(e);for(let e=0,p=r.length;e<p;e+=1){const t=r[e],n=i[e],o=t.swiperSlideOffset,p=(l-o-n/2)/n,d="function"===typeof a.modifier?a.modifier(p):p*a.modifier;let f=s?c*d:0,m=s?0:c*d,g=-u*Math.abs(d),v=a.stretch;"string"===typeof v&&-1!==v.indexOf("%")&&(v=parseFloat(a.stretch)/100*n);let y=s?0:v*d,_=s?v*d:0,x=1-(1-a.scale)*Math.abs(d);Math.abs(_)<.001&&(_=0),Math.abs(y)<.001&&(y=0),Math.abs(g)<.001&&(g=0),Math.abs(f)<.001&&(f=0),Math.abs(m)<.001&&(m=0),Math.abs(x)<.001&&(x=0);const b=`translate3d(${_}px,${y}px,${g}px)  rotateX(${h(m)}deg) rotateY(${h(f)}deg) scale(${x})`,S=Oe(a,t);if(S.style.transform=b,t.style.zIndex=1-Math.abs(Math.round(d)),a.slideShadows){let e=s?t.querySelector(".swiper-slide-shadow-left"):t.querySelector(".swiper-slide-shadow-top"),n=s?t.querySelector(".swiper-slide-shadow-right"):t.querySelector(".swiper-slide-shadow-bottom");e||(e=Ue("coverflow",t,s?"left":"top")),n||(n=Ue("coverflow",t,s?"right":"bottom")),e&&(e.style.opacity=d>0?d:0),n&&(n.style.opacity=-d>0?-d:0)}}},a=t=>{const n=e.slides.map((t=>x(t)));n.forEach((e=>{e.style.transitionDuration=`${t}ms`,e.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach((e=>{e.style.transitionDuration=`${t}ms`}))}))};ke({effect:"coverflow",swiper:e,on:r,setTranslate:i,setTransition:a,perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})}function He(t){let{swiper:e,extendParams:n,on:r}=t;n({creativeEffect:{limitProgress:1,shadowPerProgress:!1,progressMultiplier:1,perspective:!0,prev:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1},next:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1}}});const i=t=>"string"===typeof t?t:`${t}px`,a=()=>{const{slides:t,wrapperEl:n,slidesSizesGrid:r}=e,a=e.params.creativeEffect,{progressMultiplier:s}=a,o=e.params.centeredSlides,l=k(e);if(o){const t=r[0]/2-e.params.slidesOffsetBefore||0;n.style.transform=`translateX(calc(50% - ${t}px))`}for(let c=0;c<t.length;c+=1){const n=t[c],r=n.progress,u=Math.min(Math.max(n.progress,-a.limitProgress),a.limitProgress);let h=u;o||(h=Math.min(Math.max(n.originalProgress,-a.limitProgress),a.limitProgress));const p=n.swiperSlideOffset,d=[e.params.cssMode?-p-e.translate:-p,0,0],f=[0,0,0];let m=!1;e.isHorizontal()||(d[1]=d[0],d[0]=0);let g={translate:[0,0,0],rotate:[0,0,0],scale:1,opacity:1};u<0?(g=a.next,m=!0):u>0&&(g=a.prev,m=!0),d.forEach(((t,e)=>{d[e]=`calc(${t}px + (${i(g.translate[e])} * ${Math.abs(u*s)}))`})),f.forEach(((t,e)=>{let n=g.rotate[e]*Math.abs(u*s);f[e]=n})),n.style.zIndex=-Math.abs(Math.round(r))+t.length;const v=d.join(", "),y=`rotateX(${l(f[0])}deg) rotateY(${l(f[1])}deg) rotateZ(${l(f[2])}deg)`,_=h<0?`scale(${1+(1-g.scale)*h*s})`:`scale(${1-(1-g.scale)*h*s})`,x=h<0?1+(1-g.opacity)*h*s:1-(1-g.opacity)*h*s,b=`translate3d(${v}) ${y} ${_}`;if(m&&g.shadow||!m){let t=n.querySelector(".swiper-slide-shadow");if(!t&&g.shadow&&(t=Ue("creative",n)),t){const e=a.shadowPerProgress?u*(1/a.limitProgress):u;t.style.opacity=Math.min(Math.max(Math.abs(e),0),1)}}const S=Oe(a,n);S.style.transform=b,S.style.opacity=x,g.origin&&(S.style.transformOrigin=g.origin)}},s=t=>{const n=e.slides.map((t=>x(t)));n.forEach((e=>{e.style.transitionDuration=`${t}ms`,e.querySelectorAll(".swiper-slide-shadow").forEach((e=>{e.style.transitionDuration=`${t}ms`}))})),Fe({swiper:e,duration:t,transformElements:n,allSlides:!0})};ke({effect:"creative",swiper:e,on:r,setTranslate:a,setTransition:s,perspective:()=>e.params.creativeEffect.perspective,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!e.params.cssMode})})}function Ge(t){let{swiper:e,extendParams:n,on:r}=t;n({cardsEffect:{slideShadows:!0,rotate:!0,perSlideRotate:2,perSlideOffset:8}});const i=()=>{const{slides:t,activeIndex:n,rtlTranslate:r}=e,i=e.params.cardsEffect,{startTranslate:a,isTouched:s}=e.touchEventsData,o=r?-e.translate:e.translate;for(let l=0;l<t.length;l+=1){const c=t[l],u=c.progress,h=Math.min(Math.max(u,-4),4);let p=c.swiperSlideOffset;e.params.centeredSlides&&!e.params.cssMode&&(e.wrapperEl.style.transform=`translateX(${e.minTranslate()}px)`),e.params.centeredSlides&&e.params.cssMode&&(p-=t[0].swiperSlideOffset);let d=e.params.cssMode?-p-e.translate:-p,f=0;const m=-100*Math.abs(h);let g=1,v=-i.perSlideRotate*h,y=i.perSlideOffset-.75*Math.abs(h);const _=e.virtual&&e.params.virtual.enabled?e.virtual.from+l:l,x=(_===n||_===n-1)&&h>0&&h<1&&(s||e.params.cssMode)&&o<a,b=(_===n||_===n+1)&&h<0&&h>-1&&(s||e.params.cssMode)&&o>a;if(x||b){const t=(1-Math.abs((Math.abs(h)-.5)/.5))**.5;v+=-28*h*t,g+=-.5*t,y+=96*t,f=-25*t*Math.abs(h)+"%"}if(d=h<0?`calc(${d}px ${r?"-":"+"} (${y*Math.abs(h)}%))`:h>0?`calc(${d}px ${r?"-":"+"} (-${y*Math.abs(h)}%))`:`${d}px`,!e.isHorizontal()){const t=f;f=d,d=t}const S=h<0?""+(1+(1-g)*h):""+(1-(1-g)*h),w=`\n        translate3d(${d}, ${f}, ${m}px)\n        rotateZ(${i.rotate?r?-v:v:0}deg)\n        scale(${S})\n      `;if(i.slideShadows){let t=c.querySelector(".swiper-slide-shadow");t||(t=Ue("cards",c)),t&&(t.style.opacity=Math.min(Math.max((Math.abs(h)-.5)/.5,0),1))}c.style.zIndex=-Math.abs(Math.round(u))+t.length;const E=Oe(i,c);E.style.transform=w}},a=t=>{const n=e.slides.map((t=>x(t)));n.forEach((e=>{e.style.transitionDuration=`${t}ms`,e.querySelectorAll(".swiper-slide-shadow").forEach((e=>{e.style.transitionDuration=`${t}ms`}))})),Fe({swiper:e,duration:t,transformElements:n})};ke({effect:"cards",swiper:e,on:r,setTranslate:i,setTransition:a,perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!e.params.cssMode})})}const We=[ue,he,pe,fe,ge,ve,ye,_e,xe,be,Se,we,Ee,Me,Te,Ce,Le,Ne,Be,ze,Ve,He,Ge];ce.use(We)},8776:function(t,e,n){"use strict";n.d(e,{$EB:function(){return f},I9Y:function(){return Dn},JeP:function(){return Ch},PTz:function(){return ar},Pq0:function(){return sr},Qev:function(){return nn},RlV:function(){return Or},Tap:function(){return Zh},V9B:function(){return Pi},WBB:function(){return Dh},YHV:function(){return fp},YJl:function(){return gh},Z58:function(){return Ph},Zcv:function(){return Ia},cj9:function(){return Rn},eaF:function(){return oa},jUj:function(){return Ah},kBv:function(){return i},qUd:function(){return Dl},tBo:function(){return hp},wtR:function(){return a}});n(4114),n(6573),n(8100),n(7936),n(7642),n(8004),n(3853),n(5876),n(2475),n(5024),n(1698),n(7467),n(4732),n(9577);
/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */
const r="167",i={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},a={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},s=0,o=1,l=2,c=1,u=2,h=3,p=0,d=1,f=2,m=0,g=1,v=2,y=3,_=4,x=5,b=100,S=101,w=102,E=103,M=104,T=200,C=201,A=202,P=203,R=204,D=205,I=206,L=207,k=208,O=209,F=210,N=211,B=212,U=213,z=214,V=0,H=1,G=2,W=3,j=4,q=5,$=6,X=7,Y=0,K=1,Z=2,J=0,Q=1,tt=2,et=3,nt=4,rt=5,it=6,at=7,st=300,ot=301,lt=302,ct=303,ut=304,ht=306,pt=1e3,dt=1001,ft=1002,mt=1003,gt=1004,vt=1005,yt=1006,_t=1007,xt=1008,bt=1009,St=1010,wt=1011,Et=1012,Mt=1013,Tt=1014,Ct=1015,At=1016,Pt=1017,Rt=1018,Dt=1020,It=35902,Lt=1021,kt=1022,Ot=1023,Ft=1024,Nt=1025,Bt=1026,Ut=1027,zt=1028,Vt=1029,Ht=1030,Gt=1031,Wt=1033,jt=33776,qt=33777,$t=33778,Xt=33779,Yt=35840,Kt=35841,Zt=35842,Jt=35843,Qt=36196,te=37492,ee=37496,ne=37808,re=37809,ie=37810,ae=37811,se=37812,oe=37813,le=37814,ce=37815,ue=37816,he=37817,pe=37818,de=37819,fe=37820,me=37821,ge=36492,ve=36494,ye=36495,_e=36283,xe=36284,be=36285,Se=36286,we=2300,Ee=2301,Me=2302,Te=2400,Ce=2401,Ae=2402,Pe=3200,Re=3201,De=0,Ie=1,Le="",ke="srgb",Oe="srgb-linear",Fe="display-p3",Ne="display-p3-linear",Be="linear",Ue="srgb",ze="rec709",Ve="p3",He=7680,Ge=519,We=512,je=513,qe=514,$e=515,Xe=516,Ye=517,Ke=518,Ze=519,Je=35044,Qe="300 es",tn=2e3,en=2001;class nn{addEventListener(t,e){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)}hasEventListener(t,e){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)}removeEventListener(t,e){if(void 0===this._listeners)return;const n=this._listeners,r=n[t];if(void 0!==r){const t=r.indexOf(e);-1!==t&&r.splice(t,1)}}dispatchEvent(t){if(void 0===this._listeners)return;const e=this._listeners,n=e[t.type];if(void 0!==n){t.target=this;const e=n.slice(0);for(let n=0,r=e.length;n<r;n++)e[n].call(this,t);t.target=null}}}const rn=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let an=1234567;const sn=Math.PI/180,on=180/Math.PI;function ln(){const t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0,i=rn[255&t]+rn[t>>8&255]+rn[t>>16&255]+rn[t>>24&255]+"-"+rn[255&e]+rn[e>>8&255]+"-"+rn[e>>16&15|64]+rn[e>>24&255]+"-"+rn[63&n|128]+rn[n>>8&255]+"-"+rn[n>>16&255]+rn[n>>24&255]+rn[255&r]+rn[r>>8&255]+rn[r>>16&255]+rn[r>>24&255];return i.toLowerCase()}function cn(t,e,n){return Math.max(e,Math.min(n,t))}function un(t,e){return(t%e+e)%e}function hn(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function pn(t,e,n){return t!==e?(n-t)/(e-t):0}function dn(t,e,n){return(1-n)*t+n*e}function fn(t,e,n,r){return dn(t,e,1-Math.exp(-n*r))}function mn(t,e=1){return e-Math.abs(un(t,2*e)-e)}function gn(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function vn(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(6*t-15)+10))}function yn(t,e){return t+Math.floor(Math.random()*(e-t+1))}function _n(t,e){return t+Math.random()*(e-t)}function xn(t){return t*(.5-Math.random())}function bn(t){void 0!==t&&(an=t);let e=an+=1831565813;return e=Math.imul(e^e>>>15,1|e),e^=e+Math.imul(e^e>>>7,61|e),((e^e>>>14)>>>0)/4294967296}function Sn(t){return t*sn}function wn(t){return t*on}function En(t){return 0===(t&t-1)&&0!==t}function Mn(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function Tn(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function Cn(t,e,n,r,i){const a=Math.cos,s=Math.sin,o=a(n/2),l=s(n/2),c=a((e+r)/2),u=s((e+r)/2),h=a((e-r)/2),p=s((e-r)/2),d=a((r-e)/2),f=s((r-e)/2);switch(i){case"XYX":t.set(o*u,l*h,l*p,o*c);break;case"YZY":t.set(l*p,o*u,l*h,o*c);break;case"ZXZ":t.set(l*h,l*p,o*u,o*c);break;case"XZX":t.set(o*u,l*f,l*d,o*c);break;case"YXY":t.set(l*d,o*u,l*f,o*c);break;case"ZYZ":t.set(l*f,l*d,o*u,o*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function An(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Pn(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(4294967295*t);case Uint16Array:return Math.round(65535*t);case Uint8Array:return Math.round(255*t);case Int32Array:return Math.round(2147483647*t);case Int16Array:return Math.round(32767*t);case Int8Array:return Math.round(127*t);default:throw new Error("Invalid component type.")}}const Rn={DEG2RAD:sn,RAD2DEG:on,generateUUID:ln,clamp:cn,euclideanModulo:un,mapLinear:hn,inverseLerp:pn,lerp:dn,damp:fn,pingpong:mn,smoothstep:gn,smootherstep:vn,randInt:yn,randFloat:_n,randFloatSpread:xn,seededRandom:bn,degToRad:Sn,radToDeg:wn,isPowerOfTwo:En,ceilPowerOfTwo:Mn,floorPowerOfTwo:Tn,setQuaternionFromProperEuler:Cn,normalize:Pn,denormalize:An};class Dn{constructor(t=0,e=0){Dn.prototype.isVector2=!0,this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,n=this.y,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6],this.y=r[1]*e+r[4]*n+r[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){const t=Math.atan2(-this.y,-this.x)+Math.PI;return t}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const n=this.dot(t)/e;return Math.acos(cn(n,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y;return e*e+n*n}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const n=Math.cos(e),r=Math.sin(e),i=this.x-t.x,a=this.y-t.y;return this.x=i*n-a*r+t.x,this.y=i*r+a*n+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class In{constructor(t,e,n,r,i,a,s,o,l){In.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==t&&this.set(t,e,n,r,i,a,s,o,l)}set(t,e,n,r,i,a,s,o,l){const c=this.elements;return c[0]=t,c[1]=r,c[2]=s,c[3]=e,c[4]=i,c[5]=o,c[6]=n,c[7]=a,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this}extractBasis(t,e,n){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,r=e.elements,i=this.elements,a=n[0],s=n[3],o=n[6],l=n[1],c=n[4],u=n[7],h=n[2],p=n[5],d=n[8],f=r[0],m=r[3],g=r[6],v=r[1],y=r[4],_=r[7],x=r[2],b=r[5],S=r[8];return i[0]=a*f+s*v+o*x,i[3]=a*m+s*y+o*b,i[6]=a*g+s*_+o*S,i[1]=l*f+c*v+u*x,i[4]=l*m+c*y+u*b,i[7]=l*g+c*_+u*S,i[2]=h*f+p*v+d*x,i[5]=h*m+p*y+d*b,i[8]=h*g+p*_+d*S,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[1],r=t[2],i=t[3],a=t[4],s=t[5],o=t[6],l=t[7],c=t[8];return e*a*c-e*s*l-n*i*c+n*s*o+r*i*l-r*a*o}invert(){const t=this.elements,e=t[0],n=t[1],r=t[2],i=t[3],a=t[4],s=t[5],o=t[6],l=t[7],c=t[8],u=c*a-s*l,h=s*o-c*i,p=l*i-a*o,d=e*u+n*h+r*p;if(0===d)return this.set(0,0,0,0,0,0,0,0,0);const f=1/d;return t[0]=u*f,t[1]=(r*l-c*n)*f,t[2]=(s*n-r*a)*f,t[3]=h*f,t[4]=(c*e-r*o)*f,t[5]=(r*i-s*e)*f,t[6]=p*f,t[7]=(n*o-l*e)*f,t[8]=(a*e-n*i)*f,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,n,r,i,a,s){const o=Math.cos(i),l=Math.sin(i);return this.set(n*o,n*l,-n*(o*a+l*s)+a+t,-r*l,r*o,-r*(-l*a+o*s)+s+e,0,0,1),this}scale(t,e){return this.premultiply(Ln.makeScale(t,e)),this}rotate(t){return this.premultiply(Ln.makeRotation(-t)),this}translate(t,e){return this.premultiply(Ln.makeTranslation(t,e)),this}makeTranslation(t,e){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,e,0,0,1),this}makeRotation(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,n,e,0,0,0,1),this}makeScale(t,e){return this.set(t,0,0,0,e,0,0,0,1),this}equals(t){const e=this.elements,n=t.elements;for(let r=0;r<9;r++)if(e[r]!==n[r])return!1;return!0}fromArray(t,e=0){for(let n=0;n<9;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}clone(){return(new this.constructor).fromArray(this.elements)}}const Ln=new In;function kn(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;function On(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function Fn(){const t=On("canvas");return t.style.display="block",t}const Nn={};function Bn(t){t in Nn||(Nn[t]=!0,console.warn(t))}function Un(t,e,n){return new Promise((function(r,i){function a(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:i();break;case t.TIMEOUT_EXPIRED:setTimeout(a,n);break;default:r()}}setTimeout(a,n)}))}const zn=(new In).set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),Vn=(new In).set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Hn={[Oe]:{transfer:Be,primaries:ze,luminanceCoefficients:[.2126,.7152,.0722],toReference:t=>t,fromReference:t=>t},[ke]:{transfer:Ue,primaries:ze,luminanceCoefficients:[.2126,.7152,.0722],toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[Ne]:{transfer:Be,primaries:Ve,luminanceCoefficients:[.2289,.6917,.0793],toReference:t=>t.applyMatrix3(Vn),fromReference:t=>t.applyMatrix3(zn)},[Fe]:{transfer:Ue,primaries:Ve,luminanceCoefficients:[.2289,.6917,.0793],toReference:t=>t.convertSRGBToLinear().applyMatrix3(Vn),fromReference:t=>t.applyMatrix3(zn).convertLinearToSRGB()}},Gn=new Set([Oe,Ne]),Wn={enabled:!0,_workingColorSpace:Oe,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!Gn.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(!1===this.enabled||e===n||!e||!n)return t;const r=Hn[e].toReference,i=Hn[n].fromReference;return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return Hn[t].primaries},getTransfer:function(t){return t===Le?Be:Hn[t].transfer},getLuminanceCoefficients:function(t,e=this._workingColorSpace){return t.fromArray(Hn[e].luminanceCoefficients)}};function jn(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function qn(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}let $n;class Xn{static getDataURL(t){if(/^data:/i.test(t.src))return t.src;if("undefined"===typeof HTMLCanvasElement)return t.src;let e;if(t instanceof HTMLCanvasElement)e=t;else{void 0===$n&&($n=On("canvas")),$n.width=t.width,$n.height=t.height;const n=$n.getContext("2d");t instanceof ImageData?n.putImageData(t,0,0):n.drawImage(t,0,0,t.width,t.height),e=$n}return e.width>2048||e.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),e.toDataURL("image/jpeg",.6)):e.toDataURL("image/png")}static sRGBToLinear(t){if("undefined"!==typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&t instanceof ImageBitmap){const e=On("canvas");e.width=t.width,e.height=t.height;const n=e.getContext("2d");n.drawImage(t,0,0,t.width,t.height);const r=n.getImageData(0,0,t.width,t.height),i=r.data;for(let t=0;t<i.length;t++)i[t]=255*jn(i[t]/255);return n.putImageData(r,0,0),e}if(t.data){const e=t.data.slice(0);for(let t=0;t<e.length;t++)e instanceof Uint8Array||e instanceof Uint8ClampedArray?e[t]=Math.floor(255*jn(e[t]/255)):e[t]=jn(e[t]);return{data:e,width:t.width,height:t.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}let Yn=0;class Kn{constructor(t=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Yn++}),this.uuid=ln(),this.data=t,this.dataReady=!0,this.version=0}set needsUpdate(t){!0===t&&this.version++}toJSON(t){const e=void 0===t||"string"===typeof t;if(!e&&void 0!==t.images[this.uuid])return t.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(null!==r){let t;if(Array.isArray(r)){t=[];for(let e=0,n=r.length;e<n;e++)r[e].isDataTexture?t.push(Zn(r[e].image)):t.push(Zn(r[e]))}else t=Zn(r);n.url=t}return e||(t.images[this.uuid]=n),n}}function Zn(t){return"undefined"!==typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&t instanceof ImageBitmap?Xn.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Jn=0;class Qn extends nn{constructor(t=Qn.DEFAULT_IMAGE,e=Qn.DEFAULT_MAPPING,n=dt,r=dt,i=yt,a=xt,s=Ot,o=bt,l=Qn.DEFAULT_ANISOTROPY,c=Le){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Jn++}),this.uuid=ln(),this.name="",this.source=new Kn(t),this.mipmaps=[],this.mapping=e,this.channel=0,this.wrapS=n,this.wrapT=r,this.magFilter=i,this.minFilter=a,this.anisotropy=l,this.format=s,this.internalFormat=null,this.type=o,this.offset=new Dn(0,0),this.repeat=new Dn(1,1),this.center=new Dn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new In,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const e=void 0===t||"string"===typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),e||(t.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(this.mapping!==st)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case pt:t.x=t.x-Math.floor(t.x);break;case dt:t.x=t.x<0?0:1;break;case ft:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x);break}if(t.y<0||t.y>1)switch(this.wrapT){case pt:t.y=t.y-Math.floor(t.y);break;case dt:t.y=t.y<0?0:1;break;case ft:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y);break}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){!0===t&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(t){!0===t&&this.pmremVersion++}}Qn.DEFAULT_IMAGE=null,Qn.DEFAULT_MAPPING=st,Qn.DEFAULT_ANISOTROPY=1;class tr{constructor(t=0,e=0,n=0,r=1){tr.prototype.isVector4=!0,this.x=t,this.y=e,this.z=n,this.w=r}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,n,r){return this.x=t,this.y=e,this.z=n,this.w=r,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,n=this.y,r=this.z,i=this.w,a=t.elements;return this.x=a[0]*e+a[4]*n+a[8]*r+a[12]*i,this.y=a[1]*e+a[5]*n+a[9]*r+a[13]*i,this.z=a[2]*e+a[6]*n+a[10]*r+a[14]*i,this.w=a[3]*e+a[7]*n+a[11]*r+a[15]*i,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,n,r,i;const a=.01,s=.1,o=t.elements,l=o[0],c=o[4],u=o[8],h=o[1],p=o[5],d=o[9],f=o[2],m=o[6],g=o[10];if(Math.abs(c-h)<a&&Math.abs(u-f)<a&&Math.abs(d-m)<a){if(Math.abs(c+h)<s&&Math.abs(u+f)<s&&Math.abs(d+m)<s&&Math.abs(l+p+g-3)<s)return this.set(1,0,0,0),this;e=Math.PI;const t=(l+1)/2,o=(p+1)/2,v=(g+1)/2,y=(c+h)/4,_=(u+f)/4,x=(d+m)/4;return t>o&&t>v?t<a?(n=0,r=.707106781,i=.707106781):(n=Math.sqrt(t),r=y/n,i=_/n):o>v?o<a?(n=.707106781,r=0,i=.707106781):(r=Math.sqrt(o),n=y/r,i=x/r):v<a?(n=.707106781,r=.707106781,i=0):(i=Math.sqrt(v),n=_/i,r=x/i),this.set(n,r,i,e),this}let v=Math.sqrt((m-d)*(m-d)+(u-f)*(u-f)+(h-c)*(h-c));return Math.abs(v)<.001&&(v=1),this.x=(m-d)/v,this.y=(u-f)/v,this.z=(h-c)/v,this.w=Math.acos((l+p+g-1)/2),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this.w=e[15],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this.w=t.w+(e.w-t.w)*n,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class er extends nn{constructor(t=1,e=1,n={}){super(),this.isRenderTarget=!0,this.width=t,this.height=e,this.depth=1,this.scissor=new tr(0,0,t,e),this.scissorTest=!1,this.viewport=new tr(0,0,t,e);const r={width:t,height:e,depth:1};n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:yt,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},n);const i=new Qn(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace);i.flipY=!1,i.generateMipmaps=n.generateMipmaps,i.internalFormat=n.internalFormat,this.textures=[];const a=n.count;for(let s=0;s<a;s++)this.textures[s]=i.clone(),this.textures[s].isRenderTargetTexture=!0;this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this.depthTexture=n.depthTexture,this.samples=n.samples}get texture(){return this.textures[0]}set texture(t){this.textures[0]=t}setSize(t,e,n=1){if(this.width!==t||this.height!==e||this.depth!==n){this.width=t,this.height=e,this.depth=n;for(let r=0,i=this.textures.length;r<i;r++)this.textures[r].image.width=t,this.textures[r].image.height=e,this.textures[r].image.depth=n;this.dispose()}this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return(new this.constructor).copy(this)}copy(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.scissor.copy(t.scissor),this.scissorTest=t.scissorTest,this.viewport.copy(t.viewport),this.textures.length=0;for(let n=0,r=t.textures.length;n<r;n++)this.textures[n]=t.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0;const e=Object.assign({},t.texture.image);return this.texture.source=new Kn(e),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.resolveDepthBuffer=t.resolveDepthBuffer,this.resolveStencilBuffer=t.resolveStencilBuffer,null!==t.depthTexture&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class nr extends er{constructor(t=1,e=1,n={}){super(t,e,n),this.isWebGLRenderTarget=!0}}class rr extends Qn{constructor(t=null,e=1,n=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:t,width:e,height:n,depth:r},this.magFilter=mt,this.minFilter=mt,this.wrapR=dt,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}}class ir extends Qn{constructor(t=null,e=1,n=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:t,width:e,height:n,depth:r},this.magFilter=mt,this.minFilter=mt,this.wrapR=dt,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class ar{constructor(t=0,e=0,n=0,r=1){this.isQuaternion=!0,this._x=t,this._y=e,this._z=n,this._w=r}static slerpFlat(t,e,n,r,i,a,s){let o=n[r+0],l=n[r+1],c=n[r+2],u=n[r+3];const h=i[a+0],p=i[a+1],d=i[a+2],f=i[a+3];if(0===s)return t[e+0]=o,t[e+1]=l,t[e+2]=c,void(t[e+3]=u);if(1===s)return t[e+0]=h,t[e+1]=p,t[e+2]=d,void(t[e+3]=f);if(u!==f||o!==h||l!==p||c!==d){let t=1-s;const e=o*h+l*p+c*d+u*f,n=e>=0?1:-1,r=1-e*e;if(r>Number.EPSILON){const i=Math.sqrt(r),a=Math.atan2(i,e*n);t=Math.sin(t*a)/i,s=Math.sin(s*a)/i}const i=s*n;if(o=o*t+h*i,l=l*t+p*i,c=c*t+d*i,u=u*t+f*i,t===1-s){const t=1/Math.sqrt(o*o+l*l+c*c+u*u);o*=t,l*=t,c*=t,u*=t}}t[e]=o,t[e+1]=l,t[e+2]=c,t[e+3]=u}static multiplyQuaternionsFlat(t,e,n,r,i,a){const s=n[r],o=n[r+1],l=n[r+2],c=n[r+3],u=i[a],h=i[a+1],p=i[a+2],d=i[a+3];return t[e]=s*d+c*u+o*p-l*h,t[e+1]=o*d+c*h+l*u-s*p,t[e+2]=l*d+c*p+s*h-o*u,t[e+3]=c*d-s*u-o*h-l*p,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e=!0){const n=t._x,r=t._y,i=t._z,a=t._order,s=Math.cos,o=Math.sin,l=s(n/2),c=s(r/2),u=s(i/2),h=o(n/2),p=o(r/2),d=o(i/2);switch(a){case"XYZ":this._x=h*c*u+l*p*d,this._y=l*p*u-h*c*d,this._z=l*c*d+h*p*u,this._w=l*c*u-h*p*d;break;case"YXZ":this._x=h*c*u+l*p*d,this._y=l*p*u-h*c*d,this._z=l*c*d-h*p*u,this._w=l*c*u+h*p*d;break;case"ZXY":this._x=h*c*u-l*p*d,this._y=l*p*u+h*c*d,this._z=l*c*d+h*p*u,this._w=l*c*u-h*p*d;break;case"ZYX":this._x=h*c*u-l*p*d,this._y=l*p*u+h*c*d,this._z=l*c*d-h*p*u,this._w=l*c*u+h*p*d;break;case"YZX":this._x=h*c*u+l*p*d,this._y=l*p*u+h*c*d,this._z=l*c*d-h*p*u,this._w=l*c*u-h*p*d;break;case"XZY":this._x=h*c*u-l*p*d,this._y=l*p*u-h*c*d,this._z=l*c*d+h*p*u,this._w=l*c*u+h*p*d;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!0===e&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const n=e/2,r=Math.sin(n);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,n=e[0],r=e[4],i=e[8],a=e[1],s=e[5],o=e[9],l=e[2],c=e[6],u=e[10],h=n+s+u;if(h>0){const t=.5/Math.sqrt(h+1);this._w=.25/t,this._x=(c-o)*t,this._y=(i-l)*t,this._z=(a-r)*t}else if(n>s&&n>u){const t=2*Math.sqrt(1+n-s-u);this._w=(c-o)/t,this._x=.25*t,this._y=(r+a)/t,this._z=(i+l)/t}else if(s>u){const t=2*Math.sqrt(1+s-n-u);this._w=(i-l)/t,this._x=(r+a)/t,this._y=.25*t,this._z=(o+c)/t}else{const t=2*Math.sqrt(1+u-n-s);this._w=(a-r)/t,this._x=(i+l)/t,this._y=(o+c)/t,this._z=.25*t}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let n=t.dot(e)+1;return n<Number.EPSILON?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=n):(this._x=0,this._y=-t.z,this._z=t.y,this._w=n)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=n),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(cn(this.dot(t),-1,1)))}rotateTowards(t,e){const n=this.angleTo(t);if(0===n)return this;const r=Math.min(1,e/n);return this.slerp(t,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const n=t._x,r=t._y,i=t._z,a=t._w,s=e._x,o=e._y,l=e._z,c=e._w;return this._x=n*c+a*s+r*l-i*o,this._y=r*c+a*o+i*s-n*l,this._z=i*c+a*l+n*o-r*s,this._w=a*c-n*s-r*o-i*l,this._onChangeCallback(),this}slerp(t,e){if(0===e)return this;if(1===e)return this.copy(t);const n=this._x,r=this._y,i=this._z,a=this._w;let s=a*t._w+n*t._x+r*t._y+i*t._z;if(s<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,s=-s):this.copy(t),s>=1)return this._w=a,this._x=n,this._y=r,this._z=i,this;const o=1-s*s;if(o<=Number.EPSILON){const t=1-e;return this._w=t*a+e*this._w,this._x=t*n+e*this._x,this._y=t*r+e*this._y,this._z=t*i+e*this._z,this.normalize(),this}const l=Math.sqrt(o),c=Math.atan2(l,s),u=Math.sin((1-e)*c)/l,h=Math.sin(e*c)/l;return this._w=a*u+this._w*h,this._x=n*u+this._x*h,this._y=r*u+this._y*h,this._z=i*u+this._z*h,this._onChangeCallback(),this}slerpQuaternions(t,e,n){return this.copy(t).slerp(e,n)}random(){const t=2*Math.PI*Math.random(),e=2*Math.PI*Math.random(),n=Math.random(),r=Math.sqrt(1-n),i=Math.sqrt(n);return this.set(r*Math.sin(t),r*Math.cos(t),i*Math.sin(e),i*Math.cos(e))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class sr{constructor(t=0,e=0,n=0){sr.prototype.isVector3=!0,this.x=t,this.y=e,this.z=n}set(t,e,n){return void 0===n&&(n=this.z),this.x=t,this.y=e,this.z=n,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return this.applyQuaternion(lr.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(lr.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6]*r,this.y=i[1]*e+i[4]*n+i[7]*r,this.z=i[2]*e+i[5]*n+i[8]*r,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,n=this.y,r=this.z,i=t.elements,a=1/(i[3]*e+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*e+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*e+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*e+i[6]*n+i[10]*r+i[14])*a,this}applyQuaternion(t){const e=this.x,n=this.y,r=this.z,i=t.x,a=t.y,s=t.z,o=t.w,l=2*(a*r-s*n),c=2*(s*e-i*r),u=2*(i*n-a*e);return this.x=e+o*l+a*u-s*c,this.y=n+o*c+s*l-i*u,this.z=r+o*u+i*c-a*l,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[4]*n+i[8]*r,this.y=i[1]*e+i[5]*n+i[9]*r,this.z=i[2]*e+i[6]*n+i[10]*r,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,e){const n=t.x,r=t.y,i=t.z,a=e.x,s=e.y,o=e.z;return this.x=r*o-i*s,this.y=i*a-n*o,this.z=n*s-r*a,this}projectOnVector(t){const e=t.lengthSq();if(0===e)return this.set(0,0,0);const n=t.dot(this)/e;return this.copy(t).multiplyScalar(n)}projectOnPlane(t){return or.copy(this).projectOnVector(t),this.sub(or)}reflect(t){return this.sub(or.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const n=this.dot(t)/e;return Math.acos(cn(n,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return e*e+n*n+r*r}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,n){const r=Math.sin(e)*t;return this.x=r*Math.sin(n),this.y=Math.cos(e)*t,this.z=r*Math.cos(n),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=r,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,4*e)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,3*e)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=Math.random()*Math.PI*2,e=2*Math.random()-1,n=Math.sqrt(1-e*e);return this.x=n*Math.cos(t),this.y=e,this.z=n*Math.sin(t),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const or=new sr,lr=new ar;class cr{constructor(t=new sr(1/0,1/0,1/0),e=new sr(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e+=3)this.expandByPoint(hr.fromArray(t,e));return this}setFromBufferAttribute(t){this.makeEmpty();for(let e=0,n=t.count;e<n;e++)this.expandByPoint(hr.fromBufferAttribute(t,e));return this}setFromPoints(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const n=hr.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}setFromObject(t,e=!1){return this.makeEmpty(),this.expandByObject(t,e)}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,e=!1){t.updateWorldMatrix(!1,!1);const n=t.geometry;if(void 0!==n){const r=n.getAttribute("position");if(!0===e&&void 0!==r&&!0!==t.isInstancedMesh)for(let e=0,n=r.count;e<n;e++)!0===t.isMesh?t.getVertexPosition(e,hr):hr.fromBufferAttribute(r,e),hr.applyMatrix4(t.matrixWorld),this.expandByPoint(hr);else void 0!==t.boundingBox?(null===t.boundingBox&&t.computeBoundingBox(),pr.copy(t.boundingBox)):(null===n.boundingBox&&n.computeBoundingBox(),pr.copy(n.boundingBox)),pr.applyMatrix4(t.matrixWorld),this.union(pr)}const r=t.children;for(let i=0,a=r.length;i<a;i++)this.expandByObject(r[i],e);return this}containsPoint(t){return t.x>=this.min.x&&t.x<=this.max.x&&t.y>=this.min.y&&t.y<=this.max.y&&t.z>=this.min.z&&t.z<=this.max.z}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return t.max.x>=this.min.x&&t.min.x<=this.max.x&&t.max.y>=this.min.y&&t.min.y<=this.max.y&&t.max.z>=this.min.z&&t.min.z<=this.max.z}intersectsSphere(t){return this.clampPoint(t.center,hr),hr.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=-t.constant&&n>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(_r),xr.subVectors(this.max,_r),dr.subVectors(t.a,_r),fr.subVectors(t.b,_r),mr.subVectors(t.c,_r),gr.subVectors(fr,dr),vr.subVectors(mr,fr),yr.subVectors(dr,mr);let e=[0,-gr.z,gr.y,0,-vr.z,vr.y,0,-yr.z,yr.y,gr.z,0,-gr.x,vr.z,0,-vr.x,yr.z,0,-yr.x,-gr.y,gr.x,0,-vr.y,vr.x,0,-yr.y,yr.x,0];return!!wr(e,dr,fr,mr,xr)&&(e=[1,0,0,0,1,0,0,0,1],!!wr(e,dr,fr,mr,xr)&&(br.crossVectors(gr,vr),e=[br.x,br.y,br.z],wr(e,dr,fr,mr,xr)))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,hr).distanceTo(t)}getBoundingSphere(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=.5*this.getSize(hr).length()),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()||(ur[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),ur[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),ur[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),ur[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),ur[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),ur[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),ur[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),ur[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(ur)),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const ur=[new sr,new sr,new sr,new sr,new sr,new sr,new sr,new sr],hr=new sr,pr=new cr,dr=new sr,fr=new sr,mr=new sr,gr=new sr,vr=new sr,yr=new sr,_r=new sr,xr=new sr,br=new sr,Sr=new sr;function wr(t,e,n,r,i){for(let a=0,s=t.length-3;a<=s;a+=3){Sr.fromArray(t,a);const s=i.x*Math.abs(Sr.x)+i.y*Math.abs(Sr.y)+i.z*Math.abs(Sr.z),o=e.dot(Sr),l=n.dot(Sr),c=r.dot(Sr);if(Math.max(-Math.max(o,l,c),Math.min(o,l,c))>s)return!1}return!0}const Er=new cr,Mr=new sr,Tr=new sr;class Cr{constructor(t=new sr,e=-1){this.isSphere=!0,this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const n=this.center;void 0!==e?n.copy(e):Er.setFromPoints(t).getCenter(n);let r=0;for(let i=0,a=t.length;i<a;i++)r=Math.max(r,n.distanceToSquared(t[i]));return this.radius=Math.sqrt(r),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const n=this.center.distanceToSquared(t);return e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;Mr.subVectors(t,this.center);const e=Mr.lengthSq();if(e>this.radius*this.radius){const t=Math.sqrt(e),n=.5*(t-this.radius);this.center.addScaledVector(Mr,n/t),this.radius+=n}return this}union(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(!0===this.center.equals(t.center)?this.radius=Math.max(this.radius,t.radius):(Tr.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(Mr.copy(t.center).add(Tr)),this.expandByPoint(Mr.copy(t.center).sub(Tr))),this)}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const Ar=new sr,Pr=new sr,Rr=new sr,Dr=new sr,Ir=new sr,Lr=new sr,kr=new sr;class Or{constructor(t=new sr,e=new sr(0,0,-1)){this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.origin).addScaledVector(this.direction,t)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,Ar)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const n=e.dot(this.direction);return n<0?e.copy(this.origin):e.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=Ar.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(Ar.copy(this.origin).addScaledVector(this.direction,e),Ar.distanceToSquared(t))}distanceSqToSegment(t,e,n,r){Pr.copy(t).add(e).multiplyScalar(.5),Rr.copy(e).sub(t).normalize(),Dr.copy(this.origin).sub(Pr);const i=.5*t.distanceTo(e),a=-this.direction.dot(Rr),s=Dr.dot(this.direction),o=-Dr.dot(Rr),l=Dr.lengthSq(),c=Math.abs(1-a*a);let u,h,p,d;if(c>0)if(u=a*o-s,h=a*s-o,d=i*c,u>=0)if(h>=-d)if(h<=d){const t=1/c;u*=t,h*=t,p=u*(u+a*h+2*s)+h*(a*u+h+2*o)+l}else h=i,u=Math.max(0,-(a*h+s)),p=-u*u+h*(h+2*o)+l;else h=-i,u=Math.max(0,-(a*h+s)),p=-u*u+h*(h+2*o)+l;else h<=-d?(u=Math.max(0,-(-a*i+s)),h=u>0?-i:Math.min(Math.max(-i,-o),i),p=-u*u+h*(h+2*o)+l):h<=d?(u=0,h=Math.min(Math.max(-i,-o),i),p=h*(h+2*o)+l):(u=Math.max(0,-(a*i+s)),h=u>0?i:Math.min(Math.max(-i,-o),i),p=-u*u+h*(h+2*o)+l);else h=a>0?-i:i,u=Math.max(0,-(a*h+s)),p=-u*u+h*(h+2*o)+l;return n&&n.copy(this.origin).addScaledVector(this.direction,u),r&&r.copy(Pr).addScaledVector(Rr,h),p}intersectSphere(t,e){Ar.subVectors(t.center,this.origin);const n=Ar.dot(this.direction),r=Ar.dot(Ar)-n*n,i=t.radius*t.radius;if(r>i)return null;const a=Math.sqrt(i-r),s=n-a,o=n+a;return o<0?null:s<0?this.at(o,e):this.at(s,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null}intersectPlane(t,e){const n=this.distanceToPlane(t);return null===n?null:this.at(n,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);if(0===e)return!0;const n=t.normal.dot(this.direction);return n*e<0}intersectBox(t,e){let n,r,i,a,s,o;const l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,h=this.origin;return l>=0?(n=(t.min.x-h.x)*l,r=(t.max.x-h.x)*l):(n=(t.max.x-h.x)*l,r=(t.min.x-h.x)*l),c>=0?(i=(t.min.y-h.y)*c,a=(t.max.y-h.y)*c):(i=(t.max.y-h.y)*c,a=(t.min.y-h.y)*c),n>a||i>r?null:((i>n||isNaN(n))&&(n=i),(a<r||isNaN(r))&&(r=a),u>=0?(s=(t.min.z-h.z)*u,o=(t.max.z-h.z)*u):(s=(t.max.z-h.z)*u,o=(t.min.z-h.z)*u),n>o||s>r?null:((s>n||n!==n)&&(n=s),(o<r||r!==r)&&(r=o),r<0?null:this.at(n>=0?n:r,e)))}intersectsBox(t){return null!==this.intersectBox(t,Ar)}intersectTriangle(t,e,n,r,i){Ir.subVectors(e,t),Lr.subVectors(n,t),kr.crossVectors(Ir,Lr);let a,s=this.direction.dot(kr);if(s>0){if(r)return null;a=1}else{if(!(s<0))return null;a=-1,s=-s}Dr.subVectors(this.origin,t);const o=a*this.direction.dot(Lr.crossVectors(Dr,Lr));if(o<0)return null;const l=a*this.direction.dot(Ir.cross(Dr));if(l<0)return null;if(o+l>s)return null;const c=-a*Dr.dot(kr);return c<0?null:this.at(c/s,i)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class Fr{constructor(t,e,n,r,i,a,s,o,l,c,u,h,p,d,f,m){Fr.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==t&&this.set(t,e,n,r,i,a,s,o,l,c,u,h,p,d,f,m)}set(t,e,n,r,i,a,s,o,l,c,u,h,p,d,f,m){const g=this.elements;return g[0]=t,g[4]=e,g[8]=n,g[12]=r,g[1]=i,g[5]=a,g[9]=s,g[13]=o,g[2]=l,g[6]=c,g[10]=u,g[14]=h,g[3]=p,g[7]=d,g[11]=f,g[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Fr).fromArray(this.elements)}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this}copyPosition(t){const e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,n=t.elements,r=1/Nr.setFromMatrixColumn(t,0).length(),i=1/Nr.setFromMatrixColumn(t,1).length(),a=1/Nr.setFromMatrixColumn(t,2).length();return e[0]=n[0]*r,e[1]=n[1]*r,e[2]=n[2]*r,e[3]=0,e[4]=n[4]*i,e[5]=n[5]*i,e[6]=n[6]*i,e[7]=0,e[8]=n[8]*a,e[9]=n[9]*a,e[10]=n[10]*a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){const e=this.elements,n=t.x,r=t.y,i=t.z,a=Math.cos(n),s=Math.sin(n),o=Math.cos(r),l=Math.sin(r),c=Math.cos(i),u=Math.sin(i);if("XYZ"===t.order){const t=a*c,n=a*u,r=s*c,i=s*u;e[0]=o*c,e[4]=-o*u,e[8]=l,e[1]=n+r*l,e[5]=t-i*l,e[9]=-s*o,e[2]=i-t*l,e[6]=r+n*l,e[10]=a*o}else if("YXZ"===t.order){const t=o*c,n=o*u,r=l*c,i=l*u;e[0]=t+i*s,e[4]=r*s-n,e[8]=a*l,e[1]=a*u,e[5]=a*c,e[9]=-s,e[2]=n*s-r,e[6]=i+t*s,e[10]=a*o}else if("ZXY"===t.order){const t=o*c,n=o*u,r=l*c,i=l*u;e[0]=t-i*s,e[4]=-a*u,e[8]=r+n*s,e[1]=n+r*s,e[5]=a*c,e[9]=i-t*s,e[2]=-a*l,e[6]=s,e[10]=a*o}else if("ZYX"===t.order){const t=a*c,n=a*u,r=s*c,i=s*u;e[0]=o*c,e[4]=r*l-n,e[8]=t*l+i,e[1]=o*u,e[5]=i*l+t,e[9]=n*l-r,e[2]=-l,e[6]=s*o,e[10]=a*o}else if("YZX"===t.order){const t=a*o,n=a*l,r=s*o,i=s*l;e[0]=o*c,e[4]=i-t*u,e[8]=r*u+n,e[1]=u,e[5]=a*c,e[9]=-s*c,e[2]=-l*c,e[6]=n*u+r,e[10]=t-i*u}else if("XZY"===t.order){const t=a*o,n=a*l,r=s*o,i=s*l;e[0]=o*c,e[4]=-u,e[8]=l*c,e[1]=t*u+i,e[5]=a*c,e[9]=n*u-r,e[2]=r*u-n,e[6]=s*c,e[10]=i*u+t}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(Ur,t,zr)}lookAt(t,e,n){const r=this.elements;return Gr.subVectors(t,e),0===Gr.lengthSq()&&(Gr.z=1),Gr.normalize(),Vr.crossVectors(n,Gr),0===Vr.lengthSq()&&(1===Math.abs(n.z)?Gr.x+=1e-4:Gr.z+=1e-4,Gr.normalize(),Vr.crossVectors(n,Gr)),Vr.normalize(),Hr.crossVectors(Gr,Vr),r[0]=Vr.x,r[4]=Hr.x,r[8]=Gr.x,r[1]=Vr.y,r[5]=Hr.y,r[9]=Gr.y,r[2]=Vr.z,r[6]=Hr.z,r[10]=Gr.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,r=e.elements,i=this.elements,a=n[0],s=n[4],o=n[8],l=n[12],c=n[1],u=n[5],h=n[9],p=n[13],d=n[2],f=n[6],m=n[10],g=n[14],v=n[3],y=n[7],_=n[11],x=n[15],b=r[0],S=r[4],w=r[8],E=r[12],M=r[1],T=r[5],C=r[9],A=r[13],P=r[2],R=r[6],D=r[10],I=r[14],L=r[3],k=r[7],O=r[11],F=r[15];return i[0]=a*b+s*M+o*P+l*L,i[4]=a*S+s*T+o*R+l*k,i[8]=a*w+s*C+o*D+l*O,i[12]=a*E+s*A+o*I+l*F,i[1]=c*b+u*M+h*P+p*L,i[5]=c*S+u*T+h*R+p*k,i[9]=c*w+u*C+h*D+p*O,i[13]=c*E+u*A+h*I+p*F,i[2]=d*b+f*M+m*P+g*L,i[6]=d*S+f*T+m*R+g*k,i[10]=d*w+f*C+m*D+g*O,i[14]=d*E+f*A+m*I+g*F,i[3]=v*b+y*M+_*P+x*L,i[7]=v*S+y*T+_*R+x*k,i[11]=v*w+y*C+_*D+x*O,i[15]=v*E+y*A+_*I+x*F,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[4],r=t[8],i=t[12],a=t[1],s=t[5],o=t[9],l=t[13],c=t[2],u=t[6],h=t[10],p=t[14],d=t[3],f=t[7],m=t[11],g=t[15];return d*(+i*o*u-r*l*u-i*s*h+n*l*h+r*s*p-n*o*p)+f*(+e*o*p-e*l*h+i*a*h-r*a*p+r*l*c-i*o*c)+m*(+e*l*u-e*s*p-i*a*u+n*a*p+i*s*c-n*l*c)+g*(-r*s*c-e*o*u+e*s*h+r*a*u-n*a*h+n*o*c)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,n){const r=this.elements;return t.isVector3?(r[12]=t.x,r[13]=t.y,r[14]=t.z):(r[12]=t,r[13]=e,r[14]=n),this}invert(){const t=this.elements,e=t[0],n=t[1],r=t[2],i=t[3],a=t[4],s=t[5],o=t[6],l=t[7],c=t[8],u=t[9],h=t[10],p=t[11],d=t[12],f=t[13],m=t[14],g=t[15],v=u*m*l-f*h*l+f*o*p-s*m*p-u*o*g+s*h*g,y=d*h*l-c*m*l-d*o*p+a*m*p+c*o*g-a*h*g,_=c*f*l-d*u*l+d*s*p-a*f*p-c*s*g+a*u*g,x=d*u*o-c*f*o-d*s*h+a*f*h+c*s*m-a*u*m,b=e*v+n*y+r*_+i*x;if(0===b)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const S=1/b;return t[0]=v*S,t[1]=(f*h*i-u*m*i-f*r*p+n*m*p+u*r*g-n*h*g)*S,t[2]=(s*m*i-f*o*i+f*r*l-n*m*l-s*r*g+n*o*g)*S,t[3]=(u*o*i-s*h*i-u*r*l+n*h*l+s*r*p-n*o*p)*S,t[4]=y*S,t[5]=(c*m*i-d*h*i+d*r*p-e*m*p-c*r*g+e*h*g)*S,t[6]=(d*o*i-a*m*i-d*r*l+e*m*l+a*r*g-e*o*g)*S,t[7]=(a*h*i-c*o*i+c*r*l-e*h*l-a*r*p+e*o*p)*S,t[8]=_*S,t[9]=(d*u*i-c*f*i-d*n*p+e*f*p+c*n*g-e*u*g)*S,t[10]=(a*f*i-d*s*i+d*n*l-e*f*l-a*n*g+e*s*g)*S,t[11]=(c*s*i-a*u*i-c*n*l+e*u*l+a*n*p-e*s*p)*S,t[12]=x*S,t[13]=(c*f*r-d*u*r+d*n*h-e*f*h-c*n*m+e*u*m)*S,t[14]=(d*s*r-a*f*r-d*n*o+e*f*o+a*n*m-e*s*m)*S,t[15]=(a*u*r-c*s*r+c*n*o-e*u*o-a*n*h+e*s*h)*S,this}scale(t){const e=this.elements,n=t.x,r=t.y,i=t.z;return e[0]*=n,e[4]*=r,e[8]*=i,e[1]*=n,e[5]*=r,e[9]*=i,e[2]*=n,e[6]*=r,e[10]*=i,e[3]*=n,e[7]*=r,e[11]*=i,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,r))}makeTranslation(t,e,n){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const n=Math.cos(e),r=Math.sin(e),i=1-n,a=t.x,s=t.y,o=t.z,l=i*a,c=i*s;return this.set(l*a+n,l*s-r*o,l*o+r*s,0,l*s+r*o,c*s+n,c*o-r*a,0,l*o-r*s,c*o+r*a,i*o*o+n,0,0,0,0,1),this}makeScale(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this}makeShear(t,e,n,r,i,a){return this.set(1,n,i,0,t,1,a,0,e,r,1,0,0,0,0,1),this}compose(t,e,n){const r=this.elements,i=e._x,a=e._y,s=e._z,o=e._w,l=i+i,c=a+a,u=s+s,h=i*l,p=i*c,d=i*u,f=a*c,m=a*u,g=s*u,v=o*l,y=o*c,_=o*u,x=n.x,b=n.y,S=n.z;return r[0]=(1-(f+g))*x,r[1]=(p+_)*x,r[2]=(d-y)*x,r[3]=0,r[4]=(p-_)*b,r[5]=(1-(h+g))*b,r[6]=(m+v)*b,r[7]=0,r[8]=(d+y)*S,r[9]=(m-v)*S,r[10]=(1-(h+f))*S,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this}decompose(t,e,n){const r=this.elements;let i=Nr.set(r[0],r[1],r[2]).length();const a=Nr.set(r[4],r[5],r[6]).length(),s=Nr.set(r[8],r[9],r[10]).length(),o=this.determinant();o<0&&(i=-i),t.x=r[12],t.y=r[13],t.z=r[14],Br.copy(this);const l=1/i,c=1/a,u=1/s;return Br.elements[0]*=l,Br.elements[1]*=l,Br.elements[2]*=l,Br.elements[4]*=c,Br.elements[5]*=c,Br.elements[6]*=c,Br.elements[8]*=u,Br.elements[9]*=u,Br.elements[10]*=u,e.setFromRotationMatrix(Br),n.x=i,n.y=a,n.z=s,this}makePerspective(t,e,n,r,i,a,s=tn){const o=this.elements,l=2*i/(e-t),c=2*i/(n-r),u=(e+t)/(e-t),h=(n+r)/(n-r);let p,d;if(s===tn)p=-(a+i)/(a-i),d=-2*a*i/(a-i);else{if(s!==en)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+s);p=-a/(a-i),d=-a*i/(a-i)}return o[0]=l,o[4]=0,o[8]=u,o[12]=0,o[1]=0,o[5]=c,o[9]=h,o[13]=0,o[2]=0,o[6]=0,o[10]=p,o[14]=d,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}makeOrthographic(t,e,n,r,i,a,s=tn){const o=this.elements,l=1/(e-t),c=1/(n-r),u=1/(a-i),h=(e+t)*l,p=(n+r)*c;let d,f;if(s===tn)d=(a+i)*u,f=-2*u;else{if(s!==en)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+s);d=i*u,f=-1*u}return o[0]=2*l,o[4]=0,o[8]=0,o[12]=-h,o[1]=0,o[5]=2*c,o[9]=0,o[13]=-p,o[2]=0,o[6]=0,o[10]=f,o[14]=-d,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}equals(t){const e=this.elements,n=t.elements;for(let r=0;r<16;r++)if(e[r]!==n[r])return!1;return!0}fromArray(t,e=0){for(let n=0;n<16;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}const Nr=new sr,Br=new Fr,Ur=new sr(0,0,0),zr=new sr(1,1,1),Vr=new sr,Hr=new sr,Gr=new sr,Wr=new Fr,jr=new ar;class qr{constructor(t=0,e=0,n=0,r=qr.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=e,this._z=n,this._order=r}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,n,r=this._order){return this._x=t,this._y=e,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e=this._order,n=!0){const r=t.elements,i=r[0],a=r[4],s=r[8],o=r[1],l=r[5],c=r[9],u=r[2],h=r[6],p=r[10];switch(e){case"XYZ":this._y=Math.asin(cn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,p),this._z=Math.atan2(-a,i)):(this._x=Math.atan2(h,l),this._z=0);break;case"YXZ":this._x=Math.asin(-cn(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(s,p),this._z=Math.atan2(o,l)):(this._y=Math.atan2(-u,i),this._z=0);break;case"ZXY":this._x=Math.asin(cn(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-u,p),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(o,i));break;case"ZYX":this._y=Math.asin(-cn(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(h,p),this._z=Math.atan2(o,i)):(this._x=0,this._z=Math.atan2(-a,l));break;case"YZX":this._z=Math.asin(cn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-u,i)):(this._x=0,this._y=Math.atan2(s,p));break;case"XZY":this._z=Math.asin(-cn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(h,l),this._y=Math.atan2(s,i)):(this._x=Math.atan2(-c,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,!0===n&&this._onChangeCallback(),this}setFromQuaternion(t,e,n){return Wr.makeRotationFromQuaternion(t),this.setFromRotationMatrix(Wr,e,n)}setFromVector3(t,e=this._order){return this.set(t.x,t.y,t.z,e)}reorder(t){return jr.setFromEuler(this),this.setFromQuaternion(jr,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}qr.DEFAULT_ORDER="XYZ";class $r{constructor(){this.mask=1}set(t){this.mask=1<<t>>>0}enable(t){this.mask|=1<<t}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t}disable(t){this.mask&=~(1<<t)}disableAll(){this.mask=0}test(t){return 0!==(this.mask&t.mask)}isEnabled(t){return 0!==(this.mask&1<<t)}}let Xr=0;const Yr=new sr,Kr=new ar,Zr=new Fr,Jr=new sr,Qr=new sr,ti=new sr,ei=new ar,ni=new sr(1,0,0),ri=new sr(0,1,0),ii=new sr(0,0,1),ai={type:"added"},si={type:"removed"},oi={type:"childadded",child:null},li={type:"childremoved",child:null};class ci extends nn{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Xr++}),this.uuid=ln(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=ci.DEFAULT_UP.clone();const t=new sr,e=new qr,n=new ar,r=new sr(1,1,1);function i(){n.setFromEuler(e,!1)}function a(){e.setFromQuaternion(n,void 0,!1)}e._onChange(i),n._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Fr},normalMatrix:{value:new In}}),this.matrix=new Fr,this.matrixWorld=new Fr,this.matrixAutoUpdate=ci.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=ci.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new $r,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,e){this.quaternion.setFromAxisAngle(t,e)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,e){return Kr.setFromAxisAngle(t,e),this.quaternion.multiply(Kr),this}rotateOnWorldAxis(t,e){return Kr.setFromAxisAngle(t,e),this.quaternion.premultiply(Kr),this}rotateX(t){return this.rotateOnAxis(ni,t)}rotateY(t){return this.rotateOnAxis(ri,t)}rotateZ(t){return this.rotateOnAxis(ii,t)}translateOnAxis(t,e){return Yr.copy(t).applyQuaternion(this.quaternion),this.position.add(Yr.multiplyScalar(e)),this}translateX(t){return this.translateOnAxis(ni,t)}translateY(t){return this.translateOnAxis(ri,t)}translateZ(t){return this.translateOnAxis(ii,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(Zr.copy(this.matrixWorld).invert())}lookAt(t,e,n){t.isVector3?Jr.copy(t):Jr.set(t,e,n);const r=this.parent;this.updateWorldMatrix(!0,!1),Qr.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Zr.lookAt(Qr,Jr,this.up):Zr.lookAt(Jr,Qr,this.up),this.quaternion.setFromRotationMatrix(Zr),r&&(Zr.extractRotation(r.matrixWorld),Kr.setFromRotationMatrix(Zr),this.quaternion.premultiply(Kr.invert()))}add(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.removeFromParent(),t.parent=this,this.children.push(t),t.dispatchEvent(ai),oi.child=t,this.dispatchEvent(oi),oi.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}const e=this.children.indexOf(t);return-1!==e&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(si),li.child=t,this.dispatchEvent(li),li.child=null),this}removeFromParent(){const t=this.parent;return null!==t&&t.remove(this),this}clear(){return this.remove(...this.children)}attach(t){return this.updateWorldMatrix(!0,!1),Zr.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),Zr.multiply(t.parent.matrixWorld)),t.applyMatrix4(Zr),t.removeFromParent(),t.parent=this,this.children.push(t),t.updateWorldMatrix(!1,!0),t.dispatchEvent(ai),oi.child=t,this.dispatchEvent(oi),oi.child=null,this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,e){if(this[t]===e)return this;for(let n=0,r=this.children.length;n<r;n++){const r=this.children[n],i=r.getObjectByProperty(t,e);if(void 0!==i)return i}}getObjectsByProperty(t,e,n=[]){this[t]===e&&n.push(this);const r=this.children;for(let i=0,a=r.length;i<a;i++)r[i].getObjectsByProperty(t,e,n);return n}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Qr,t,ti),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Qr,ei,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}raycast(){}traverse(t){t(this);const e=this.children;for(let n=0,r=e.length;n<r;n++)e[n].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);const e=this.children;for(let n=0,r=e.length;n<r;n++)e[n].traverseVisible(t)}traverseAncestors(t){const e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let n=0,r=e.length;n<r;n++){const r=e[n];r.updateMatrixWorld(t)}}updateWorldMatrix(t,e){const n=this.parent;if(!0===t&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),!0===e){const t=this.children;for(let e=0,n=t.length;e<n;e++){const n=t[e];n.updateWorldMatrix(!1,!0)}}}toJSON(t){const e=void 0===t||"string"===typeof t,n={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};function i(e,n){return void 0===e[n.uuid]&&(e[n.uuid]=n.toJSON(t)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.visibility=this._visibility,r.active=this._active,r.bounds=this._bounds.map((t=>({boxInitialized:t.boxInitialized,boxMin:t.box.min.toArray(),boxMax:t.box.max.toArray(),sphereInitialized:t.sphereInitialized,sphereRadius:t.sphere.radius,sphereCenter:t.sphere.center.toArray()}))),r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.geometryCount=this._geometryCount,r.matricesTexture=this._matricesTexture.toJSON(t),null!==this._colorsTexture&&(r.colorsTexture=this._colorsTexture.toJSON(t)),null!==this.boundingSphere&&(r.boundingSphere={center:r.boundingSphere.center.toArray(),radius:r.boundingSphere.radius}),null!==this.boundingBox&&(r.boundingBox={min:r.boundingBox.min.toArray(),max:r.boundingBox.max.toArray()})),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(r.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(t.geometries,this.geometry);const e=this.geometry.parameters;if(void 0!==e&&void 0!==e.shapes){const n=e.shapes;if(Array.isArray(n))for(let e=0,r=n.length;e<r;e++){const r=n[e];i(t.shapes,r)}else i(t.shapes,n)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(t.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const e=[];for(let n=0,r=this.material.length;n<r;n++)e.push(i(t.materials,this.material[n]));r.material=e}else r.material=i(t.materials,this.material);if(this.children.length>0){r.children=[];for(let e=0;e<this.children.length;e++)r.children.push(this.children[e].toJSON(t).object)}if(this.animations.length>0){r.animations=[];for(let e=0;e<this.animations.length;e++){const n=this.animations[e];r.animations.push(i(t.animations,n))}}if(e){const e=a(t.geometries),r=a(t.materials),i=a(t.textures),s=a(t.images),o=a(t.shapes),l=a(t.skeletons),c=a(t.animations),u=a(t.nodes);e.length>0&&(n.geometries=e),r.length>0&&(n.materials=r),i.length>0&&(n.textures=i),s.length>0&&(n.images=s),o.length>0&&(n.shapes=o),l.length>0&&(n.skeletons=l),c.length>0&&(n.animations=c),u.length>0&&(n.nodes=u)}return n.object=r,n;function a(t){const e=[];for(const n in t){const r=t[n];delete r.metadata,e.push(r)}return e}}clone(t){return(new this.constructor).copy(this,t)}copy(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations.slice(),this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(let n=0;n<t.children.length;n++){const e=t.children[n];this.add(e.clone())}return this}}ci.DEFAULT_UP=new sr(0,1,0),ci.DEFAULT_MATRIX_AUTO_UPDATE=!0,ci.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const ui=new sr,hi=new sr,pi=new sr,di=new sr,fi=new sr,mi=new sr,gi=new sr,vi=new sr,yi=new sr,_i=new sr;class xi{constructor(t=new sr,e=new sr,n=new sr){this.a=t,this.b=e,this.c=n}static getNormal(t,e,n,r){r.subVectors(n,e),ui.subVectors(t,e),r.cross(ui);const i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}static getBarycoord(t,e,n,r,i){ui.subVectors(r,e),hi.subVectors(n,e),pi.subVectors(t,e);const a=ui.dot(ui),s=ui.dot(hi),o=ui.dot(pi),l=hi.dot(hi),c=hi.dot(pi),u=a*l-s*s;if(0===u)return i.set(0,0,0),null;const h=1/u,p=(l*o-s*c)*h,d=(a*c-s*o)*h;return i.set(1-p-d,d,p)}static containsPoint(t,e,n,r){return null!==this.getBarycoord(t,e,n,r,di)&&(di.x>=0&&di.y>=0&&di.x+di.y<=1)}static getInterpolation(t,e,n,r,i,a,s,o){return null===this.getBarycoord(t,e,n,r,di)?(o.x=0,o.y=0,"z"in o&&(o.z=0),"w"in o&&(o.w=0),null):(o.setScalar(0),o.addScaledVector(i,di.x),o.addScaledVector(a,di.y),o.addScaledVector(s,di.z),o)}static isFrontFacing(t,e,n,r){return ui.subVectors(n,e),hi.subVectors(t,e),ui.cross(hi).dot(r)<0}set(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this}setFromPointsAndIndices(t,e,n,r){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[r]),this}setFromAttributeAndIndices(t,e,n,r){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,n),this.c.fromBufferAttribute(t,r),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return ui.subVectors(this.c,this.b),hi.subVectors(this.a,this.b),.5*ui.cross(hi).length()}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return xi.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return xi.getBarycoord(t,this.a,this.b,this.c,e)}getInterpolation(t,e,n,r,i){return xi.getInterpolation(t,this.a,this.b,this.c,e,n,r,i)}containsPoint(t){return xi.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return xi.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){const n=this.a,r=this.b,i=this.c;let a,s;fi.subVectors(r,n),mi.subVectors(i,n),vi.subVectors(t,n);const o=fi.dot(vi),l=mi.dot(vi);if(o<=0&&l<=0)return e.copy(n);yi.subVectors(t,r);const c=fi.dot(yi),u=mi.dot(yi);if(c>=0&&u<=c)return e.copy(r);const h=o*u-c*l;if(h<=0&&o>=0&&c<=0)return a=o/(o-c),e.copy(n).addScaledVector(fi,a);_i.subVectors(t,i);const p=fi.dot(_i),d=mi.dot(_i);if(d>=0&&p<=d)return e.copy(i);const f=p*l-o*d;if(f<=0&&l>=0&&d<=0)return s=l/(l-d),e.copy(n).addScaledVector(mi,s);const m=c*d-p*u;if(m<=0&&u-c>=0&&p-d>=0)return gi.subVectors(i,r),s=(u-c)/(u-c+(p-d)),e.copy(r).addScaledVector(gi,s);const g=1/(m+f+h);return a=f*g,s=h*g,e.copy(n).addScaledVector(fi,a).addScaledVector(mi,s)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}const bi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Si={h:0,s:0,l:0},wi={h:0,s:0,l:0};function Ei(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}class Mi{constructor(t,e,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,e,n)}set(t,e,n){if(void 0===e&&void 0===n){const e=t;e&&e.isColor?this.copy(e):"number"===typeof e?this.setHex(e):"string"===typeof e&&this.setStyle(e)}else this.setRGB(t,e,n);return this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,e=ke){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,Wn.toWorkingColorSpace(this,e),this}setRGB(t,e,n,r=Wn.workingColorSpace){return this.r=t,this.g=e,this.b=n,Wn.toWorkingColorSpace(this,r),this}setHSL(t,e,n,r=Wn.workingColorSpace){if(t=un(t,1),e=cn(e,0,1),n=cn(n,0,1),0===e)this.r=this.g=this.b=n;else{const r=n<=.5?n*(1+e):n+e-n*e,i=2*n-r;this.r=Ei(i,r,t+1/3),this.g=Ei(i,r,t),this.b=Ei(i,r,t-1/3)}return Wn.toWorkingColorSpace(this,r),this}setStyle(t,e=ke){function n(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(t)){let i;const a=r[1],s=r[2];switch(a){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return n(i[4]),this.setRGB(Math.min(255,parseInt(i[1],10))/255,Math.min(255,parseInt(i[2],10))/255,Math.min(255,parseInt(i[3],10))/255,e);if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return n(i[4]),this.setRGB(Math.min(100,parseInt(i[1],10))/100,Math.min(100,parseInt(i[2],10))/100,Math.min(100,parseInt(i[3],10))/100,e);break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return n(i[4]),this.setHSL(parseFloat(i[1])/360,parseFloat(i[2])/100,parseFloat(i[3])/100,e);break;default:console.warn("THREE.Color: Unknown color model "+t)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(t)){const n=r[1],i=n.length;if(3===i)return this.setRGB(parseInt(n.charAt(0),16)/15,parseInt(n.charAt(1),16)/15,parseInt(n.charAt(2),16)/15,e);if(6===i)return this.setHex(parseInt(n,16),e);console.warn("THREE.Color: Invalid hex color "+t)}else if(t&&t.length>0)return this.setColorName(t,e);return this}setColorName(t,e=ke){const n=bi[t.toLowerCase()];return void 0!==n?this.setHex(n,e):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=jn(t.r),this.g=jn(t.g),this.b=jn(t.b),this}copyLinearToSRGB(t){return this.r=qn(t.r),this.g=qn(t.g),this.b=qn(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=ke){return Wn.fromWorkingColorSpace(Ti.copy(this),t),65536*Math.round(cn(255*Ti.r,0,255))+256*Math.round(cn(255*Ti.g,0,255))+Math.round(cn(255*Ti.b,0,255))}getHexString(t=ke){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,e=Wn.workingColorSpace){Wn.fromWorkingColorSpace(Ti.copy(this),e);const n=Ti.r,r=Ti.g,i=Ti.b,a=Math.max(n,r,i),s=Math.min(n,r,i);let o,l;const c=(s+a)/2;if(s===a)o=0,l=0;else{const t=a-s;switch(l=c<=.5?t/(a+s):t/(2-a-s),a){case n:o=(r-i)/t+(r<i?6:0);break;case r:o=(i-n)/t+2;break;case i:o=(n-r)/t+4;break}o/=6}return t.h=o,t.s=l,t.l=c,t}getRGB(t,e=Wn.workingColorSpace){return Wn.fromWorkingColorSpace(Ti.copy(this),e),t.r=Ti.r,t.g=Ti.g,t.b=Ti.b,t}getStyle(t=ke){Wn.fromWorkingColorSpace(Ti.copy(this),t);const e=Ti.r,n=Ti.g,r=Ti.b;return t!==ke?`color(${t} ${e.toFixed(3)} ${n.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(255*e)},${Math.round(255*n)},${Math.round(255*r)})`}offsetHSL(t,e,n){return this.getHSL(Si),this.setHSL(Si.h+t,Si.s+e,Si.l+n)}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,n){return this.r=t.r+(e.r-t.r)*n,this.g=t.g+(e.g-t.g)*n,this.b=t.b+(e.b-t.b)*n,this}lerpHSL(t,e){this.getHSL(Si),t.getHSL(wi);const n=dn(Si.h,wi.h,e),r=dn(Si.s,wi.s,e),i=dn(Si.l,wi.l,e);return this.setHSL(n,r,i),this}setFromVector3(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}applyMatrix3(t){const e=this.r,n=this.g,r=this.b,i=t.elements;return this.r=i[0]*e+i[3]*n+i[6]*r,this.g=i[1]*e+i[4]*n+i[7]*r,this.b=i[2]*e+i[5]*n+i[8]*r,this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Ti=new Mi;Mi.NAMES=bi;let Ci=0;class Ai extends nn{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Ci++}),this.uuid=ln(),this.name="",this.type="Material",this.blending=g,this.side=p,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=R,this.blendDst=D,this.blendEquation=b,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Mi(0,0,0),this.blendAlpha=0,this.depthFunc=W,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Ge,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=He,this.stencilZFail=He,this.stencilZPass=He,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!==t>0&&this.version++,this._alphaTest=t}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(void 0!==t)for(const e in t){const n=t[e];if(void 0===n){console.warn(`THREE.Material: parameter '${e}' has value of undefined.`);continue}const r=this[e];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[e]=n:console.warn(`THREE.Material: '${e}' is not a property of THREE.${this.type}.`)}}toJSON(t){const e=void 0===t||"string"===typeof t;e&&(t={textures:{},images:{}});const n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function r(t){const e=[];for(const n in t){const r=t[n];delete r.metadata,e.push(r)}return e}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),void 0!==this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.dispersion&&(n.dispersion=this.dispersion),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),void 0!==this.anisotropy&&(n.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(t).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapRotation&&(n.envMapRotation=this.envMapRotation.toArray()),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(t).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(t).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==g&&(n.blending=this.blending),this.side!==p&&(n.side=this.side),!0===this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=!0),this.blendSrc!==R&&(n.blendSrc=this.blendSrc),this.blendDst!==D&&(n.blendDst=this.blendDst),this.blendEquation!==b&&(n.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(n.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(n.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==W&&(n.depthFunc=this.depthFunc),!1===this.depthTest&&(n.depthTest=this.depthTest),!1===this.depthWrite&&(n.depthWrite=this.depthWrite),!1===this.colorWrite&&(n.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==Ge&&(n.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(n.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==He&&(n.stencilFail=this.stencilFail),this.stencilZFail!==He&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==He&&(n.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(n.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaHash&&(n.alphaHash=!0),!0===this.alphaToCoverage&&(n.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=!0),!0===this.forceSinglePass&&(n.forceSinglePass=!0),!0===this.wireframe&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),e){const e=r(t.textures),i=r(t.images);e.length>0&&(n.textures=e),i.length>0&&(n.images=i)}return n}clone(){return(new this.constructor).copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.blendColor.copy(t.blendColor),this.blendAlpha=t.blendAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let n=null;if(null!==e){const t=e.length;n=new Array(t);for(let r=0;r!==t;++r)n[r]=e[r].clone()}return this.clippingPlanes=n,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaHash=t.alphaHash,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){!0===t&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}onBeforeRender(){console.warn("Material: onBeforeRender() has been removed.")}}class Pi extends Ai{constructor(t){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Mi(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new qr,this.combine=Y,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}const Ri=new sr,Di=new Dn;class Ii{constructor(t,e,n=!1){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=n,this.usage=Je,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=Ct,this.version=0}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}get updateRange(){return Bn("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(t){return this.usage=t,this}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this.gpuType=t.gpuType,this}copyAt(t,e,n){t*=this.itemSize,n*=e.itemSize;for(let r=0,i=this.itemSize;r<i;r++)this.array[t+r]=e.array[n+r];return this}copyArray(t){return this.array.set(t),this}applyMatrix3(t){if(2===this.itemSize)for(let e=0,n=this.count;e<n;e++)Di.fromBufferAttribute(this,e),Di.applyMatrix3(t),this.setXY(e,Di.x,Di.y);else if(3===this.itemSize)for(let e=0,n=this.count;e<n;e++)Ri.fromBufferAttribute(this,e),Ri.applyMatrix3(t),this.setXYZ(e,Ri.x,Ri.y,Ri.z);return this}applyMatrix4(t){for(let e=0,n=this.count;e<n;e++)Ri.fromBufferAttribute(this,e),Ri.applyMatrix4(t),this.setXYZ(e,Ri.x,Ri.y,Ri.z);return this}applyNormalMatrix(t){for(let e=0,n=this.count;e<n;e++)Ri.fromBufferAttribute(this,e),Ri.applyNormalMatrix(t),this.setXYZ(e,Ri.x,Ri.y,Ri.z);return this}transformDirection(t){for(let e=0,n=this.count;e<n;e++)Ri.fromBufferAttribute(this,e),Ri.transformDirection(t),this.setXYZ(e,Ri.x,Ri.y,Ri.z);return this}set(t,e=0){return this.array.set(t,e),this}getComponent(t,e){let n=this.array[t*this.itemSize+e];return this.normalized&&(n=An(n,this.array)),n}setComponent(t,e,n){return this.normalized&&(n=Pn(n,this.array)),this.array[t*this.itemSize+e]=n,this}getX(t){let e=this.array[t*this.itemSize];return this.normalized&&(e=An(e,this.array)),e}setX(t,e){return this.normalized&&(e=Pn(e,this.array)),this.array[t*this.itemSize]=e,this}getY(t){let e=this.array[t*this.itemSize+1];return this.normalized&&(e=An(e,this.array)),e}setY(t,e){return this.normalized&&(e=Pn(e,this.array)),this.array[t*this.itemSize+1]=e,this}getZ(t){let e=this.array[t*this.itemSize+2];return this.normalized&&(e=An(e,this.array)),e}setZ(t,e){return this.normalized&&(e=Pn(e,this.array)),this.array[t*this.itemSize+2]=e,this}getW(t){let e=this.array[t*this.itemSize+3];return this.normalized&&(e=An(e,this.array)),e}setW(t,e){return this.normalized&&(e=Pn(e,this.array)),this.array[t*this.itemSize+3]=e,this}setXY(t,e,n){return t*=this.itemSize,this.normalized&&(e=Pn(e,this.array),n=Pn(n,this.array)),this.array[t+0]=e,this.array[t+1]=n,this}setXYZ(t,e,n,r){return t*=this.itemSize,this.normalized&&(e=Pn(e,this.array),n=Pn(n,this.array),r=Pn(r,this.array)),this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this}setXYZW(t,e,n,r,i){return t*=this.itemSize,this.normalized&&(e=Pn(e,this.array),n=Pn(n,this.array),r=Pn(r,this.array),i=Pn(i,this.array)),this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this.array[t+3]=i,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(t.name=this.name),this.usage!==Je&&(t.usage=this.usage),t}}class Li extends Ii{constructor(t,e,n){super(new Uint16Array(t),e,n)}}class ki extends Ii{constructor(t,e,n){super(new Uint32Array(t),e,n)}}class Oi extends Ii{constructor(t,e,n){super(new Float32Array(t),e,n)}}let Fi=0;const Ni=new Fr,Bi=new ci,Ui=new sr,zi=new cr,Vi=new cr,Hi=new sr;class Gi extends nn{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Fi++}),this.uuid=ln(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(kn(t)?ki:Li)(t,1):this.index=t,this}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return void 0!==this.attributes[t]}addGroup(t,e,n=0){this.groups.push({start:t,count:e,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const e=(new In).getNormalMatrix(t);n.applyNormalMatrix(e),n.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(t),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(t){return Ni.makeRotationFromQuaternion(t),this.applyMatrix4(Ni),this}rotateX(t){return Ni.makeRotationX(t),this.applyMatrix4(Ni),this}rotateY(t){return Ni.makeRotationY(t),this.applyMatrix4(Ni),this}rotateZ(t){return Ni.makeRotationZ(t),this.applyMatrix4(Ni),this}translate(t,e,n){return Ni.makeTranslation(t,e,n),this.applyMatrix4(Ni),this}scale(t,e,n){return Ni.makeScale(t,e,n),this.applyMatrix4(Ni),this}lookAt(t){return Bi.lookAt(t),Bi.updateMatrix(),this.applyMatrix4(Bi.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ui).negate(),this.translate(Ui.x,Ui.y,Ui.z),this}setFromPoints(t){const e=[];for(let n=0,r=t.length;n<r;n++){const r=t[n];e.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new Oi(e,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new cr);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),void this.boundingBox.set(new sr(-1/0,-1/0,-1/0),new sr(1/0,1/0,1/0));if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(let n=0,r=e.length;n<r;n++){const t=e[n];zi.setFromBufferAttribute(t),this.morphTargetsRelative?(Hi.addVectors(this.boundingBox.min,zi.min),this.boundingBox.expandByPoint(Hi),Hi.addVectors(this.boundingBox.max,zi.max),this.boundingBox.expandByPoint(Hi)):(this.boundingBox.expandByPoint(zi.min),this.boundingBox.expandByPoint(zi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Cr);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),void this.boundingSphere.set(new sr,1/0);if(t){const n=this.boundingSphere.center;if(zi.setFromBufferAttribute(t),e)for(let t=0,i=e.length;t<i;t++){const n=e[t];Vi.setFromBufferAttribute(n),this.morphTargetsRelative?(Hi.addVectors(zi.min,Vi.min),zi.expandByPoint(Hi),Hi.addVectors(zi.max,Vi.max),zi.expandByPoint(Hi)):(zi.expandByPoint(Vi.min),zi.expandByPoint(Vi.max))}zi.getCenter(n);let r=0;for(let e=0,i=t.count;e<i;e++)Hi.fromBufferAttribute(t,e),r=Math.max(r,n.distanceToSquared(Hi));if(e)for(let i=0,a=e.length;i<a;i++){const a=e[i],s=this.morphTargetsRelative;for(let e=0,i=a.count;e<i;e++)Hi.fromBufferAttribute(a,e),s&&(Ui.fromBufferAttribute(t,e),Hi.add(Ui)),r=Math.max(r,n.distanceToSquared(Hi))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,e=this.attributes;if(null===t||void 0===e.position||void 0===e.normal||void 0===e.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const n=e.position,r=e.normal,i=e.uv;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Ii(new Float32Array(4*n.count),4));const a=this.getAttribute("tangent"),s=[],o=[];for(let w=0;w<n.count;w++)s[w]=new sr,o[w]=new sr;const l=new sr,c=new sr,u=new sr,h=new Dn,p=new Dn,d=new Dn,f=new sr,m=new sr;function g(t,e,r){l.fromBufferAttribute(n,t),c.fromBufferAttribute(n,e),u.fromBufferAttribute(n,r),h.fromBufferAttribute(i,t),p.fromBufferAttribute(i,e),d.fromBufferAttribute(i,r),c.sub(l),u.sub(l),p.sub(h),d.sub(h);const a=1/(p.x*d.y-d.x*p.y);isFinite(a)&&(f.copy(c).multiplyScalar(d.y).addScaledVector(u,-p.y).multiplyScalar(a),m.copy(u).multiplyScalar(p.x).addScaledVector(c,-d.x).multiplyScalar(a),s[t].add(f),s[e].add(f),s[r].add(f),o[t].add(m),o[e].add(m),o[r].add(m))}let v=this.groups;0===v.length&&(v=[{start:0,count:t.count}]);for(let w=0,E=v.length;w<E;++w){const e=v[w],n=e.start,r=e.count;for(let i=n,a=n+r;i<a;i+=3)g(t.getX(i+0),t.getX(i+1),t.getX(i+2))}const y=new sr,_=new sr,x=new sr,b=new sr;function S(t){x.fromBufferAttribute(r,t),b.copy(x);const e=s[t];y.copy(e),y.sub(x.multiplyScalar(x.dot(e))).normalize(),_.crossVectors(b,e);const n=_.dot(o[t]),i=n<0?-1:1;a.setXYZW(t,y.x,y.y,y.z,i)}for(let w=0,E=v.length;w<E;++w){const e=v[w],n=e.start,r=e.count;for(let i=n,a=n+r;i<a;i+=3)S(t.getX(i+0)),S(t.getX(i+1)),S(t.getX(i+2))}}computeVertexNormals(){const t=this.index,e=this.getAttribute("position");if(void 0!==e){let n=this.getAttribute("normal");if(void 0===n)n=new Ii(new Float32Array(3*e.count),3),this.setAttribute("normal",n);else for(let t=0,e=n.count;t<e;t++)n.setXYZ(t,0,0,0);const r=new sr,i=new sr,a=new sr,s=new sr,o=new sr,l=new sr,c=new sr,u=new sr;if(t)for(let h=0,p=t.count;h<p;h+=3){const p=t.getX(h+0),d=t.getX(h+1),f=t.getX(h+2);r.fromBufferAttribute(e,p),i.fromBufferAttribute(e,d),a.fromBufferAttribute(e,f),c.subVectors(a,i),u.subVectors(r,i),c.cross(u),s.fromBufferAttribute(n,p),o.fromBufferAttribute(n,d),l.fromBufferAttribute(n,f),s.add(c),o.add(c),l.add(c),n.setXYZ(p,s.x,s.y,s.z),n.setXYZ(d,o.x,o.y,o.z),n.setXYZ(f,l.x,l.y,l.z)}else for(let t=0,h=e.count;t<h;t+=3)r.fromBufferAttribute(e,t+0),i.fromBufferAttribute(e,t+1),a.fromBufferAttribute(e,t+2),c.subVectors(a,i),u.subVectors(r,i),c.cross(u),n.setXYZ(t+0,c.x,c.y,c.z),n.setXYZ(t+1,c.x,c.y,c.z),n.setXYZ(t+2,c.x,c.y,c.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const t=this.attributes.normal;for(let e=0,n=t.count;e<n;e++)Hi.fromBufferAttribute(t,e),Hi.normalize(),t.setXYZ(e,Hi.x,Hi.y,Hi.z)}toNonIndexed(){function t(t,e){const n=t.array,r=t.itemSize,i=t.normalized,a=new n.constructor(e.length*r);let s=0,o=0;for(let l=0,c=e.length;l<c;l++){s=t.isInterleavedBufferAttribute?e[l]*t.data.stride+t.offset:e[l]*r;for(let t=0;t<r;t++)a[o++]=n[s++]}return new Ii(a,r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new Gi,n=this.index.array,r=this.attributes;for(const s in r){const i=r[s],a=t(i,n);e.setAttribute(s,a)}const i=this.morphAttributes;for(const s in i){const r=[],a=i[s];for(let e=0,i=a.length;e<i;e++){const i=a[e],s=t(i,n);r.push(s)}e.morphAttributes[s]=r}e.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let s=0,o=a.length;s<o;s++){const t=a[s];e.addGroup(t.start,t.count,t.materialIndex)}return e}toJSON(){const t={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){const e=this.parameters;for(const n in e)void 0!==e[n]&&(t[n]=e[n]);return t}t.data={attributes:{}};const e=this.index;null!==e&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const n=this.attributes;for(const o in n){const e=n[o];t.data.attributes[o]=e.toJSON(t.data)}const r={};let i=!1;for(const o in this.morphAttributes){const e=this.morphAttributes[o],n=[];for(let r=0,i=e.length;r<i;r++){const i=e[r];n.push(i.toJSON(t.data))}n.length>0&&(r[o]=n,i=!0)}i&&(t.data.morphAttributes=r,t.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(t.data.groups=JSON.parse(JSON.stringify(a)));const s=this.boundingSphere;return null!==s&&(t.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),t}clone(){return(new this.constructor).copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const n=t.index;null!==n&&this.setIndex(n.clone(e));const r=t.attributes;for(const l in r){const t=r[l];this.setAttribute(l,t.clone(e))}const i=t.morphAttributes;for(const l in i){const t=[],n=i[l];for(let r=0,i=n.length;r<i;r++)t.push(n[r].clone(e));this.morphAttributes[l]=t}this.morphTargetsRelative=t.morphTargetsRelative;const a=t.groups;for(let l=0,c=a.length;l<c;l++){const t=a[l];this.addGroup(t.start,t.count,t.materialIndex)}const s=t.boundingBox;null!==s&&(this.boundingBox=s.clone());const o=t.boundingSphere;return null!==o&&(this.boundingSphere=o.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Wi=new Fr,ji=new Or,qi=new Cr,$i=new sr,Xi=new sr,Yi=new sr,Ki=new sr,Zi=new sr,Ji=new sr,Qi=new Dn,ta=new Dn,ea=new Dn,na=new sr,ra=new sr,ia=new sr,aa=new sr,sa=new sr;class oa extends ci{constructor(t=new Gi,e=new Pi){super(),this.isMesh=!0,this.type="Mesh",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}updateMorphTargets(){const t=this.geometry,e=t.morphAttributes,n=Object.keys(e);if(n.length>0){const t=e[n[0]];if(void 0!==t){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,n=t.length;e<n;e++){const n=t[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}}}getVertexPosition(t,e){const n=this.geometry,r=n.attributes.position,i=n.morphAttributes.position,a=n.morphTargetsRelative;e.fromBufferAttribute(r,t);const s=this.morphTargetInfluences;if(i&&s){Ji.set(0,0,0);for(let n=0,r=i.length;n<r;n++){const r=s[n],o=i[n];0!==r&&(Zi.fromBufferAttribute(o,t),a?Ji.addScaledVector(Zi,r):Ji.addScaledVector(Zi.sub(e),r))}e.add(Ji)}return e}raycast(t,e){const n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0!==r){if(null===n.boundingSphere&&n.computeBoundingSphere(),qi.copy(n.boundingSphere),qi.applyMatrix4(i),ji.copy(t.ray).recast(t.near),!1===qi.containsPoint(ji.origin)){if(null===ji.intersectSphere(qi,$i))return;if(ji.origin.distanceToSquared($i)>(t.far-t.near)**2)return}Wi.copy(i).invert(),ji.copy(t.ray).applyMatrix4(Wi),null!==n.boundingBox&&!1===ji.intersectsBox(n.boundingBox)||this._computeIntersections(t,e,ji)}}_computeIntersections(t,e,n){let r;const i=this.geometry,a=this.material,s=i.index,o=i.attributes.position,l=i.attributes.uv,c=i.attributes.uv1,u=i.attributes.normal,h=i.groups,p=i.drawRange;if(null!==s)if(Array.isArray(a))for(let d=0,f=h.length;d<f;d++){const i=h[d],o=a[i.materialIndex],f=Math.max(i.start,p.start),m=Math.min(s.count,Math.min(i.start+i.count,p.start+p.count));for(let a=f,h=m;a<h;a+=3){const h=s.getX(a),p=s.getX(a+1),d=s.getX(a+2);r=ca(this,o,t,n,l,c,u,h,p,d),r&&(r.faceIndex=Math.floor(a/3),r.face.materialIndex=i.materialIndex,e.push(r))}}else{const i=Math.max(0,p.start),o=Math.min(s.count,p.start+p.count);for(let h=i,p=o;h<p;h+=3){const i=s.getX(h),o=s.getX(h+1),p=s.getX(h+2);r=ca(this,a,t,n,l,c,u,i,o,p),r&&(r.faceIndex=Math.floor(h/3),e.push(r))}}else if(void 0!==o)if(Array.isArray(a))for(let d=0,f=h.length;d<f;d++){const i=h[d],s=a[i.materialIndex],f=Math.max(i.start,p.start),m=Math.min(o.count,Math.min(i.start+i.count,p.start+p.count));for(let a=f,o=m;a<o;a+=3){const o=a,h=a+1,p=a+2;r=ca(this,s,t,n,l,c,u,o,h,p),r&&(r.faceIndex=Math.floor(a/3),r.face.materialIndex=i.materialIndex,e.push(r))}}else{const i=Math.max(0,p.start),s=Math.min(o.count,p.start+p.count);for(let o=i,h=s;o<h;o+=3){const i=o,s=o+1,h=o+2;r=ca(this,a,t,n,l,c,u,i,s,h),r&&(r.faceIndex=Math.floor(o/3),e.push(r))}}}}function la(t,e,n,r,i,a,s,o){let l;if(l=e.side===d?r.intersectTriangle(s,a,i,!0,o):r.intersectTriangle(i,a,s,e.side===p,o),null===l)return null;sa.copy(o),sa.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(sa);return c<n.near||c>n.far?null:{distance:c,point:sa.clone(),object:t}}function ca(t,e,n,r,i,a,s,o,l,c){t.getVertexPosition(o,Xi),t.getVertexPosition(l,Yi),t.getVertexPosition(c,Ki);const u=la(t,e,n,r,Xi,Yi,Ki,aa);if(u){i&&(Qi.fromBufferAttribute(i,o),ta.fromBufferAttribute(i,l),ea.fromBufferAttribute(i,c),u.uv=xi.getInterpolation(aa,Xi,Yi,Ki,Qi,ta,ea,new Dn)),a&&(Qi.fromBufferAttribute(a,o),ta.fromBufferAttribute(a,l),ea.fromBufferAttribute(a,c),u.uv1=xi.getInterpolation(aa,Xi,Yi,Ki,Qi,ta,ea,new Dn)),s&&(na.fromBufferAttribute(s,o),ra.fromBufferAttribute(s,l),ia.fromBufferAttribute(s,c),u.normal=xi.getInterpolation(aa,Xi,Yi,Ki,na,ra,ia,new sr),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const t={a:o,b:l,c:c,normal:new sr,materialIndex:0};xi.getNormal(Xi,Yi,Ki,t.normal),u.face=t}return u}class ua extends Gi{constructor(t=1,e=1,n=1,r=1,i=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:i,depthSegments:a};const s=this;r=Math.floor(r),i=Math.floor(i),a=Math.floor(a);const o=[],l=[],c=[],u=[];let h=0,p=0;function d(t,e,n,r,i,a,d,f,m,g,v){const y=a/m,_=d/g,x=a/2,b=d/2,S=f/2,w=m+1,E=g+1;let M=0,T=0;const C=new sr;for(let s=0;s<E;s++){const a=s*_-b;for(let o=0;o<w;o++){const h=o*y-x;C[t]=h*r,C[e]=a*i,C[n]=S,l.push(C.x,C.y,C.z),C[t]=0,C[e]=0,C[n]=f>0?1:-1,c.push(C.x,C.y,C.z),u.push(o/m),u.push(1-s/g),M+=1}}for(let s=0;s<g;s++)for(let t=0;t<m;t++){const e=h+t+w*s,n=h+t+w*(s+1),r=h+(t+1)+w*(s+1),i=h+(t+1)+w*s;o.push(e,n,i),o.push(n,r,i),T+=6}s.addGroup(p,T,v),p+=T,h+=M}d("z","y","x",-1,-1,n,e,t,a,i,0),d("z","y","x",1,-1,n,e,-t,a,i,1),d("x","z","y",1,1,t,n,e,r,a,2),d("x","z","y",1,-1,t,n,-e,r,a,3),d("x","y","z",1,-1,t,e,n,r,i,4),d("x","y","z",-1,-1,t,e,-n,r,i,5),this.setIndex(o),this.setAttribute("position",new Oi(l,3)),this.setAttribute("normal",new Oi(c,3)),this.setAttribute("uv",new Oi(u,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new ua(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function ha(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function pa(t){const e={};for(let n=0;n<t.length;n++){const r=ha(t[n]);for(const t in r)e[t]=r[t]}return e}function da(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function fa(t){const e=t.getRenderTarget();return null===e?t.outputColorSpace:!0===e.isXRRenderTarget?e.texture.colorSpace:Wn.workingColorSpace}const ma={clone:ha,merge:pa};var ga="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",va="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";class ya extends Ai{constructor(t){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=ga,this.fragmentShader=va,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==t&&this.setValues(t)}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=ha(t.uniforms),this.uniformsGroups=da(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const e=super.toJSON(t);e.glslVersion=this.glslVersion,e.uniforms={};for(const r in this.uniforms){const n=this.uniforms[r],i=n.value;i&&i.isTexture?e.uniforms[r]={type:"t",value:i.toJSON(t).uuid}:i&&i.isColor?e.uniforms[r]={type:"c",value:i.getHex()}:i&&i.isVector2?e.uniforms[r]={type:"v2",value:i.toArray()}:i&&i.isVector3?e.uniforms[r]={type:"v3",value:i.toArray()}:i&&i.isVector4?e.uniforms[r]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?e.uniforms[r]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?e.uniforms[r]={type:"m4",value:i.toArray()}:e.uniforms[r]={value:i}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e.lights=this.lights,e.clipping=this.clipping;const n={};for(const r in this.extensions)!0===this.extensions[r]&&(n[r]=!0);return Object.keys(n).length>0&&(e.extensions=n),e}}class _a extends ci{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Fr,this.projectionMatrix=new Fr,this.projectionMatrixInverse=new Fr,this.coordinateSystem=tn}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this.coordinateSystem=t.coordinateSystem,this}getWorldDirection(t){return super.getWorldDirection(t).negate()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}const xa=new sr,ba=new Dn,Sa=new Dn;class wa extends _a{constructor(t=50,e=1,n=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=2*on*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(.5*sn*this.fov);return.5*this.getFilmHeight()/t}getEffectiveFOV(){return 2*on*Math.atan(Math.tan(.5*sn*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(t,e,n){xa.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),e.set(xa.x,xa.y).multiplyScalar(-t/xa.z),xa.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(xa.x,xa.y).multiplyScalar(-t/xa.z)}getViewSize(t,e){return this.getViewBounds(t,ba,Sa),e.subVectors(Sa,ba)}setViewOffset(t,e,n,r,i,a){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(.5*sn*this.fov)/this.zoom,n=2*e,r=this.aspect*n,i=-.5*r;const a=this.view;if(null!==this.view&&this.view.enabled){const t=a.fullWidth,s=a.fullHeight;i+=a.offsetX*r/t,e-=a.offsetY*n/s,r*=a.width/t,n*=a.height/s}const s=this.filmOffset;0!==s&&(i+=t*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,e,e-n,t,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}const Ea=-90,Ma=1;class Ta extends ci{constructor(t,e,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new wa(Ea,Ma,t,e);r.layers=this.layers,this.add(r);const i=new wa(Ea,Ma,t,e);i.layers=this.layers,this.add(i);const a=new wa(Ea,Ma,t,e);a.layers=this.layers,this.add(a);const s=new wa(Ea,Ma,t,e);s.layers=this.layers,this.add(s);const o=new wa(Ea,Ma,t,e);o.layers=this.layers,this.add(o);const l=new wa(Ea,Ma,t,e);l.layers=this.layers,this.add(l)}updateCoordinateSystem(){const t=this.coordinateSystem,e=this.children.concat(),[n,r,i,a,s,o]=e;for(const l of e)this.remove(l);if(t===tn)n.up.set(0,1,0),n.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),i.up.set(0,0,-1),i.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),s.up.set(0,1,0),s.lookAt(0,0,1),o.up.set(0,1,0),o.lookAt(0,0,-1);else{if(t!==en)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+t);n.up.set(0,-1,0),n.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),i.up.set(0,0,1),i.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),s.up.set(0,-1,0),s.lookAt(0,0,1),o.up.set(0,-1,0),o.lookAt(0,0,-1)}for(const l of e)this.add(l),l.updateMatrixWorld()}update(t,e){null===this.parent&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:r}=this;this.coordinateSystem!==t.coordinateSystem&&(this.coordinateSystem=t.coordinateSystem,this.updateCoordinateSystem());const[i,a,s,o,l,c]=this.children,u=t.getRenderTarget(),h=t.getActiveCubeFace(),p=t.getActiveMipmapLevel(),d=t.xr.enabled;t.xr.enabled=!1;const f=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,t.setRenderTarget(n,0,r),t.render(e,i),t.setRenderTarget(n,1,r),t.render(e,a),t.setRenderTarget(n,2,r),t.render(e,s),t.setRenderTarget(n,3,r),t.render(e,o),t.setRenderTarget(n,4,r),t.render(e,l),n.texture.generateMipmaps=f,t.setRenderTarget(n,5,r),t.render(e,c),t.setRenderTarget(u,h,p),t.xr.enabled=d,n.texture.needsPMREMUpdate=!0}}class Ca extends Qn{constructor(t,e,n,r,i,a,s,o,l,c){t=void 0!==t?t:[],e=void 0!==e?e:ot,super(t,e,n,r,i,a,s,o,l,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}class Aa extends nr{constructor(t=1,e={}){super(t,t,e),this.isWebGLCubeRenderTarget=!0;const n={width:t,height:t,depth:1},r=[n,n,n,n,n,n];this.texture=new Ca(r,e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==e.generateMipmaps&&e.generateMipmaps,this.texture.minFilter=void 0!==e.minFilter?e.minFilter:yt}fromEquirectangularTexture(t,e){this.texture.type=e.type,this.texture.colorSpace=e.colorSpace,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:"\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",fragmentShader:"\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t"},r=new ua(5,5,5),i=new ya({name:"CubemapFromEquirect",uniforms:ha(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:d,blending:m});i.uniforms.tEquirect.value=e;const a=new oa(r,i),s=e.minFilter;e.minFilter===xt&&(e.minFilter=yt);const o=new Ta(1,10,this);return o.update(t,a),e.minFilter=s,a.geometry.dispose(),a.material.dispose(),this}clear(t,e,n,r){const i=t.getRenderTarget();for(let a=0;a<6;a++)t.setRenderTarget(this,a),t.clear(e,n,r);t.setRenderTarget(i)}}const Pa=new sr,Ra=new sr,Da=new In;class Ia{constructor(t=new sr(1,0,0),e=0){this.isPlane=!0,this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,n,r){return this.normal.set(t,e,n),this.constant=r,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,n){const r=Pa.subVectors(n,e).cross(Ra.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(r,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(t).addScaledVector(this.normal,-this.distanceToPoint(t))}intersectLine(t,e){const n=t.delta(Pa),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(t.start)?e.copy(t.start):null;const i=-(t.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:e.copy(t.start).addScaledVector(n,i)}intersectsLine(t){const e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const n=e||Da.getNormalMatrix(t),r=this.coplanarPoint(Pa).applyMatrix4(t),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const La=new Cr,ka=new sr;class Oa{constructor(t=new Ia,e=new Ia,n=new Ia,r=new Ia,i=new Ia,a=new Ia){this.planes=[t,e,n,r,i,a]}set(t,e,n,r,i,a){const s=this.planes;return s[0].copy(t),s[1].copy(e),s[2].copy(n),s[3].copy(r),s[4].copy(i),s[5].copy(a),this}copy(t){const e=this.planes;for(let n=0;n<6;n++)e[n].copy(t.planes[n]);return this}setFromProjectionMatrix(t,e=tn){const n=this.planes,r=t.elements,i=r[0],a=r[1],s=r[2],o=r[3],l=r[4],c=r[5],u=r[6],h=r[7],p=r[8],d=r[9],f=r[10],m=r[11],g=r[12],v=r[13],y=r[14],_=r[15];if(n[0].setComponents(o-i,h-l,m-p,_-g).normalize(),n[1].setComponents(o+i,h+l,m+p,_+g).normalize(),n[2].setComponents(o+a,h+c,m+d,_+v).normalize(),n[3].setComponents(o-a,h-c,m-d,_-v).normalize(),n[4].setComponents(o-s,h-u,m-f,_-y).normalize(),e===tn)n[5].setComponents(o+s,h+u,m+f,_+y).normalize();else{if(e!==en)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+e);n[5].setComponents(s,u,f,y).normalize()}return this}intersectsObject(t){if(void 0!==t.boundingSphere)null===t.boundingSphere&&t.computeBoundingSphere(),La.copy(t.boundingSphere).applyMatrix4(t.matrixWorld);else{const e=t.geometry;null===e.boundingSphere&&e.computeBoundingSphere(),La.copy(e.boundingSphere).applyMatrix4(t.matrixWorld)}return this.intersectsSphere(La)}intersectsSprite(t){return La.center.set(0,0,0),La.radius=.7071067811865476,La.applyMatrix4(t.matrixWorld),this.intersectsSphere(La)}intersectsSphere(t){const e=this.planes,n=t.center,r=-t.radius;for(let i=0;i<6;i++){const t=e[i].distanceToPoint(n);if(t<r)return!1}return!0}intersectsBox(t){const e=this.planes;for(let n=0;n<6;n++){const r=e[n];if(ka.x=r.normal.x>0?t.max.x:t.min.x,ka.y=r.normal.y>0?t.max.y:t.min.y,ka.z=r.normal.z>0?t.max.z:t.min.z,r.distanceToPoint(ka)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function Fa(){let t=null,e=!1,n=null,r=null;function i(e,a){n(e,a),r=t.requestAnimationFrame(i)}return{start:function(){!0!==e&&null!==n&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(t){n=t},setContext:function(e){t=e}}}function Na(t){const e=new WeakMap;function n(e,n){const r=e.array,i=e.usage,a=r.byteLength,s=t.createBuffer();let o;if(t.bindBuffer(n,s),t.bufferData(n,r,i),e.onUploadCallback(),r instanceof Float32Array)o=t.FLOAT;else if(r instanceof Uint16Array)o=e.isFloat16BufferAttribute?t.HALF_FLOAT:t.UNSIGNED_SHORT;else if(r instanceof Int16Array)o=t.SHORT;else if(r instanceof Uint32Array)o=t.UNSIGNED_INT;else if(r instanceof Int32Array)o=t.INT;else if(r instanceof Int8Array)o=t.BYTE;else if(r instanceof Uint8Array)o=t.UNSIGNED_BYTE;else{if(!(r instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+r);o=t.UNSIGNED_BYTE}return{buffer:s,type:o,bytesPerElement:r.BYTES_PER_ELEMENT,version:e.version,size:a}}function r(e,n,r){const i=n.array,a=n._updateRange,s=n.updateRanges;if(t.bindBuffer(r,e),-1===a.count&&0===s.length&&t.bufferSubData(r,0,i),0!==s.length){for(let e=0,n=s.length;e<n;e++){const n=s[e];t.bufferSubData(r,n.start*i.BYTES_PER_ELEMENT,i,n.start,n.count)}n.clearUpdateRanges()}-1!==a.count&&(t.bufferSubData(r,a.offset*i.BYTES_PER_ELEMENT,i,a.offset,a.count),a.count=-1),n.onUploadCallback()}function i(t){return t.isInterleavedBufferAttribute&&(t=t.data),e.get(t)}function a(n){n.isInterleavedBufferAttribute&&(n=n.data);const r=e.get(n);r&&(t.deleteBuffer(r.buffer),e.delete(n))}function s(t,i){if(t.isInterleavedBufferAttribute&&(t=t.data),t.isGLBufferAttribute){const n=e.get(t);return void((!n||n.version<t.version)&&e.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version}))}const a=e.get(t);if(void 0===a)e.set(t,n(t,i));else if(a.version<t.version){if(a.size!==t.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(a.buffer,t,i),a.version=t.version}}return{get:i,remove:a,update:s}}class Ba extends Gi{constructor(t=1,e=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r};const i=t/2,a=e/2,s=Math.floor(n),o=Math.floor(r),l=s+1,c=o+1,u=t/s,h=e/o,p=[],d=[],f=[],m=[];for(let g=0;g<c;g++){const t=g*h-a;for(let e=0;e<l;e++){const n=e*u-i;d.push(n,-t,0),f.push(0,0,1),m.push(e/s),m.push(1-g/o)}}for(let g=0;g<o;g++)for(let t=0;t<s;t++){const e=t+l*g,n=t+l*(g+1),r=t+1+l*(g+1),i=t+1+l*g;p.push(e,n,i),p.push(n,r,i)}this.setIndex(p),this.setAttribute("position",new Oi(d,3)),this.setAttribute("normal",new Oi(f,3)),this.setAttribute("uv",new Oi(m,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Ba(t.width,t.height,t.widthSegments,t.heightSegments)}}var Ua="#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",za="#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",Va="#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",Ha="#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",Ga="#ifdef USE_ALPHATEST\n\t#ifdef ALPHA_TO_COVERAGE\n\tdiffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );\n\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\tif ( diffuseColor.a < alphaTest ) discard;\n\t#endif\n#endif",Wa="#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",ja="#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",qa="#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",$a="#ifdef USE_BATCHING\n\t#if ! defined( GL_ANGLE_multi_draw )\n\t#define gl_DrawID _gl_DrawID\n\tuniform int _gl_DrawID;\n\t#endif\n\tuniform highp sampler2D batchingTexture;\n\tuniform highp usampler2D batchingIdTexture;\n\tmat4 getBatchingMatrix( const in float i ) {\n\t\tint size = textureSize( batchingTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n\tfloat getIndirectIndex( const in int i ) {\n\t\tint size = textureSize( batchingIdTexture, 0 ).x;\n\t\tint x = i % size;\n\t\tint y = i / size;\n\t\treturn float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );\n\t}\n#endif\n#ifdef USE_BATCHING_COLOR\n\tuniform sampler2D batchingColorTexture;\n\tvec3 getBatchingColor( const in float i ) {\n\t\tint size = textureSize( batchingColorTexture, 0 ).x;\n\t\tint j = int( i );\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\treturn texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;\n\t}\n#endif",Xa="#ifdef USE_BATCHING\n\tmat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );\n#endif",Ya="vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",Ka="vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",Za="float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",Ja="#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",Qa="#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",ts="#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#ifdef ALPHA_TO_COVERAGE\n\t\tfloat distanceToPlane, distanceGradient;\n\t\tfloat clipOpacity = 1.0;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\tclipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\tif ( clipOpacity == 0.0 ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tfloat unionClipOpacity = 1.0;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\t\tunionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tclipOpacity *= 1.0 - unionClipOpacity;\n\t\t#endif\n\t\tdiffuseColor.a *= clipOpacity;\n\t\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tbool clipped = true;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tif ( clipped ) discard;\n\t\t#endif\n\t#endif\n#endif",es="#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",ns="#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",rs="#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",is="#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",as="#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",ss="#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvarying vec3 vColor;\n#endif",os="#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif\n#ifdef USE_BATCHING_COLOR\n\tvec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );\n\tvColor.xyz *= batchingColor.xyz;\n#endif",ls="#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cs="#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",us="vec3 transformedNormal = objectNormal;\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = objectTangent;\n#endif\n#ifdef USE_BATCHING\n\tmat3 bm = mat3( batchingMatrix );\n\ttransformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );\n\ttransformedNormal = bm * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = bm * transformedTangent;\n\t#endif\n#endif\n#ifdef USE_INSTANCING\n\tmat3 im = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );\n\ttransformedNormal = im * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = im * transformedTangent;\n\t#endif\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\ttransformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",hs="#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",ps="#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",ds="#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",fs="#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",ms="gl_FragColor = linearToOutputTexel( gl_FragColor );",gs="\nconst mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(\n\tvec3( 0.8224621, 0.177538, 0.0 ),\n\tvec3( 0.0331941, 0.9668058, 0.0 ),\n\tvec3( 0.0170827, 0.0723974, 0.9105199 )\n);\nconst mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.2249401, - 0.2249404, 0.0 ),\n\tvec3( - 0.0420569, 1.0420571, 0.0 ),\n\tvec3( - 0.0196376, - 0.0786361, 1.0982735 )\n);\nvec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );\n}\nvec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );\n}\nvec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",vs="#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",ys="#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform mat3 envMapRotation;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",_s="#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",xs="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",bs="#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",Ss="#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",ws="#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",Es="#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",Ms="#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",Ts="#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",Cs="#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",As="LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",Ps="varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",Rs="uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif ( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",Ds="#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",Is="ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",Ls="varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",ks="BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",Os="varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",Fs="PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_DISPERSION\n\tmaterial.dispersion = dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tif( material.anisotropy == 0.0 ) {\n\t\tanisotropyV = vec2( 1.0, 0.0 );\n\t} else {\n\t\tanisotropyV /= material.anisotropy;\n\t\tmaterial.anisotropy = saturate( material.anisotropy );\n\t}\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;\n#endif",Ns="struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\tfloat dispersion;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",Bs="\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",Us="#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",zs="#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",Vs="#if defined( USE_LOGDEPTHBUF )\n\tgl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",Hs="#if defined( USE_LOGDEPTHBUF )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",Gs="#ifdef USE_LOGDEPTHBUF\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",Ws="#ifdef USE_LOGDEPTHBUF\n\tvFragDepth = 1.0 + gl_Position.w;\n\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n#endif",js="#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",qs="#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",$s="#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",Xs="#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",Ys="float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",Ks="#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",Zs="#ifdef USE_INSTANCING_MORPH\n\tfloat morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\tfloat morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tmorphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;\n\t}\n#endif",Js="#if defined( USE_MORPHCOLORS )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",Qs="#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",to="#ifdef USE_MORPHTARGETS\n\t#ifndef USE_INSTANCING_MORPH\n\t\tuniform float morphTargetBaseInfluence;\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t#endif\n\tuniform sampler2DArray morphTargetsTexture;\n\tuniform ivec2 morphTargetsTextureSize;\n\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t}\n#endif",eo="#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",no="float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",ro="#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",io="#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",ao="#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",so="#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",oo="#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",lo="#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",co="#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",uo="#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",ho="#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",po="#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",fo="vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;\nconst float Inv255 = 1. / 255.;\nconst vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );\nconst vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );\nconst vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );\nconst vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );\nvec4 packDepthToRGBA( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec4( 0., 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec4( 1., 1., 1., 1. );\n\tfloat vuf;\n\tfloat af = modf( v * PackFactors.a, vuf );\n\tfloat bf = modf( vuf * ShiftRight8, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );\n}\nvec3 packDepthToRGB( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec3( 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec3( 1., 1., 1. );\n\tfloat vuf;\n\tfloat bf = modf( v * PackFactors.b, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec3( vuf * Inv255, gf * PackUpscale, bf );\n}\nvec2 packDepthToRG( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec2( 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec2( 1., 1. );\n\tfloat vuf;\n\tfloat gf = modf( v * 256., vuf );\n\treturn vec2( vuf * Inv255, gf );\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors4 );\n}\nfloat unpackRGBToDepth( const in vec3 v ) {\n\treturn dot( v, UnpackFactors3 );\n}\nfloat unpackRGToDepth( const in vec2 v ) {\n\treturn v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;\n}\nvec4 pack2HalfToRGBA( const in vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( const in vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",mo="#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",go="vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_BATCHING\n\tmvPosition = batchingMatrix * mvPosition;\n#endif\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",vo="#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",yo="#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",_o="float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",xo="#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",bo="#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tfloat shadow = 1.0;\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\t\n\t\tfloat lightToPositionLength = length( lightToPosition );\n\t\tif ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {\n\t\t\tfloat dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\t\tdp += shadowBias;\n\t\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\t\tshadow = (\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t\t) * ( 1.0 / 9.0 );\n\t\t\t#else\n\t\t\t\tshadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n#endif",So="#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",wo="#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",Eo="float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",Mo="#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",To="#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tint size = textureSize( boneTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",Co="#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",Ao="#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",Po="float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",Ro="#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",Do="#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",Io="#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nconst mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.6605, - 0.1246, - 0.0182 ),\n\tvec3( - 0.5876, 1.1329, - 0.1006 ),\n\tvec3( - 0.0728, - 0.0083, 1.1187 )\n);\nconst mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(\n\tvec3( 0.6274, 0.0691, 0.0164 ),\n\tvec3( 0.3293, 0.9195, 0.0880 ),\n\tvec3( 0.0433, 0.0113, 0.8956 )\n);\nvec3 agxDefaultContrastApprox( vec3 x ) {\n\tvec3 x2 = x * x;\n\tvec3 x4 = x2 * x2;\n\treturn + 15.5 * x4 * x2\n\t\t- 40.14 * x4 * x\n\t\t+ 31.96 * x4\n\t\t- 6.868 * x2 * x\n\t\t+ 0.4298 * x2\n\t\t+ 0.1191 * x\n\t\t- 0.00232;\n}\nvec3 AgXToneMapping( vec3 color ) {\n\tconst mat3 AgXInsetMatrix = mat3(\n\t\tvec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),\n\t\tvec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),\n\t\tvec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )\n\t);\n\tconst mat3 AgXOutsetMatrix = mat3(\n\t\tvec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),\n\t\tvec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),\n\t\tvec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )\n\t);\n\tconst float AgxMinEv = - 12.47393;\tconst float AgxMaxEv = 4.026069;\n\tcolor *= toneMappingExposure;\n\tcolor = LINEAR_SRGB_TO_LINEAR_REC2020 * color;\n\tcolor = AgXInsetMatrix * color;\n\tcolor = max( color, 1e-10 );\tcolor = log2( color );\n\tcolor = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );\n\tcolor = clamp( color, 0.0, 1.0 );\n\tcolor = agxDefaultContrastApprox( color );\n\tcolor = AgXOutsetMatrix * color;\n\tcolor = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );\n\tcolor = LINEAR_REC2020_TO_LINEAR_SRGB * color;\n\tcolor = clamp( color, 0.0, 1.0 );\n\treturn color;\n}\nvec3 NeutralToneMapping( vec3 color ) {\n\tconst float StartCompression = 0.8 - 0.04;\n\tconst float Desaturation = 0.15;\n\tcolor *= toneMappingExposure;\n\tfloat x = min( color.r, min( color.g, color.b ) );\n\tfloat offset = x < 0.08 ? x - 6.25 * x * x : 0.04;\n\tcolor -= offset;\n\tfloat peak = max( color.r, max( color.g, color.b ) );\n\tif ( peak < StartCompression ) return color;\n\tfloat d = 1. - StartCompression;\n\tfloat newPeak = 1. - d * d / ( peak + d - StartCompression );\n\tcolor *= newPeak / peak;\n\tfloat g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );\n\treturn mix( color, vec3( newPeak ), g );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",Lo="#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",ko="#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec4 transmittedLight;\n\t\tvec3 transmittance;\n\t\t#ifdef USE_DISPERSION\n\t\t\tfloat halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;\n\t\t\tvec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );\n\t\t\tfor ( int i = 0; i < 3; i ++ ) {\n\t\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );\n\t\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\n\t\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\t\trefractionCoords += 1.0;\n\t\t\t\trefractionCoords /= 2.0;\n\t\t\n\t\t\t\tvec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );\n\t\t\t\ttransmittedLight[ i ] = transmissionSample[ i ];\n\t\t\t\ttransmittedLight.a += transmissionSample.a;\n\t\t\t\ttransmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];\n\t\t\t}\n\t\t\ttransmittedLight.a /= 3.0;\n\t\t\n\t\t#else\n\t\t\n\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\trefractionCoords += 1.0;\n\t\t\trefractionCoords /= 2.0;\n\t\t\ttransmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\t\ttransmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\t\n\t\t#endif\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",Oo="#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",Fo="#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",No="#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",Bo="#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_BATCHING\n\t\tworldPosition = batchingMatrix * worldPosition;\n\t#endif\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif";const Uo="varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",zo="uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",Vo="varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",Ho="#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nuniform mat3 backgroundRotation;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",Go="varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",Wo="uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",jo="#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",qo="#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#elif DEPTH_PACKING == 3202\n\t\tgl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );\n\t#elif DEPTH_PACKING == 3203\n\t\tgl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );\n\t#endif\n}",$o="#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",Xo="#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",Yo="varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",Ko="uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",Zo="uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",Jo="uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",Qo="#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",tl="uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",el="#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",nl="#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",rl="#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",il="#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",al="#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",sl="#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",ol="#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",ll="#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",cl="#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",ul="#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_DISPERSION\n\tuniform float dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",hl="#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",pl="#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",dl="uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",fl="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",ml="#include <common>\n#include <batching_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",gl="uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",vl="uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",yl="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",_l={alphahash_fragment:Ua,alphahash_pars_fragment:za,alphamap_fragment:Va,alphamap_pars_fragment:Ha,alphatest_fragment:Ga,alphatest_pars_fragment:Wa,aomap_fragment:ja,aomap_pars_fragment:qa,batching_pars_vertex:$a,batching_vertex:Xa,begin_vertex:Ya,beginnormal_vertex:Ka,bsdfs:Za,iridescence_fragment:Ja,bumpmap_pars_fragment:Qa,clipping_planes_fragment:ts,clipping_planes_pars_fragment:es,clipping_planes_pars_vertex:ns,clipping_planes_vertex:rs,color_fragment:is,color_pars_fragment:as,color_pars_vertex:ss,color_vertex:os,common:ls,cube_uv_reflection_fragment:cs,defaultnormal_vertex:us,displacementmap_pars_vertex:hs,displacementmap_vertex:ps,emissivemap_fragment:ds,emissivemap_pars_fragment:fs,colorspace_fragment:ms,colorspace_pars_fragment:gs,envmap_fragment:vs,envmap_common_pars_fragment:ys,envmap_pars_fragment:_s,envmap_pars_vertex:xs,envmap_physical_pars_fragment:Ds,envmap_vertex:bs,fog_vertex:Ss,fog_pars_vertex:ws,fog_fragment:Es,fog_pars_fragment:Ms,gradientmap_pars_fragment:Ts,lightmap_pars_fragment:Cs,lights_lambert_fragment:As,lights_lambert_pars_fragment:Ps,lights_pars_begin:Rs,lights_toon_fragment:Is,lights_toon_pars_fragment:Ls,lights_phong_fragment:ks,lights_phong_pars_fragment:Os,lights_physical_fragment:Fs,lights_physical_pars_fragment:Ns,lights_fragment_begin:Bs,lights_fragment_maps:Us,lights_fragment_end:zs,logdepthbuf_fragment:Vs,logdepthbuf_pars_fragment:Hs,logdepthbuf_pars_vertex:Gs,logdepthbuf_vertex:Ws,map_fragment:js,map_pars_fragment:qs,map_particle_fragment:$s,map_particle_pars_fragment:Xs,metalnessmap_fragment:Ys,metalnessmap_pars_fragment:Ks,morphinstance_vertex:Zs,morphcolor_vertex:Js,morphnormal_vertex:Qs,morphtarget_pars_vertex:to,morphtarget_vertex:eo,normal_fragment_begin:no,normal_fragment_maps:ro,normal_pars_fragment:io,normal_pars_vertex:ao,normal_vertex:so,normalmap_pars_fragment:oo,clearcoat_normal_fragment_begin:lo,clearcoat_normal_fragment_maps:co,clearcoat_pars_fragment:uo,iridescence_pars_fragment:ho,opaque_fragment:po,packing:fo,premultiplied_alpha_fragment:mo,project_vertex:go,dithering_fragment:vo,dithering_pars_fragment:yo,roughnessmap_fragment:_o,roughnessmap_pars_fragment:xo,shadowmap_pars_fragment:bo,shadowmap_pars_vertex:So,shadowmap_vertex:wo,shadowmask_pars_fragment:Eo,skinbase_vertex:Mo,skinning_pars_vertex:To,skinning_vertex:Co,skinnormal_vertex:Ao,specularmap_fragment:Po,specularmap_pars_fragment:Ro,tonemapping_fragment:Do,tonemapping_pars_fragment:Io,transmission_fragment:Lo,transmission_pars_fragment:ko,uv_pars_fragment:Oo,uv_pars_vertex:Fo,uv_vertex:No,worldpos_vertex:Bo,background_vert:Uo,background_frag:zo,backgroundCube_vert:Vo,backgroundCube_frag:Ho,cube_vert:Go,cube_frag:Wo,depth_vert:jo,depth_frag:qo,distanceRGBA_vert:$o,distanceRGBA_frag:Xo,equirect_vert:Yo,equirect_frag:Ko,linedashed_vert:Zo,linedashed_frag:Jo,meshbasic_vert:Qo,meshbasic_frag:tl,meshlambert_vert:el,meshlambert_frag:nl,meshmatcap_vert:rl,meshmatcap_frag:il,meshnormal_vert:al,meshnormal_frag:sl,meshphong_vert:ol,meshphong_frag:ll,meshphysical_vert:cl,meshphysical_frag:ul,meshtoon_vert:hl,meshtoon_frag:pl,points_vert:dl,points_frag:fl,shadow_vert:ml,shadow_frag:gl,sprite_vert:vl,sprite_frag:yl},xl={common:{diffuse:{value:new Mi(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new In},alphaMap:{value:null},alphaMapTransform:{value:new In},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new In}},envmap:{envMap:{value:null},envMapRotation:{value:new In},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new In}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new In}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new In},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new In},normalScale:{value:new Dn(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new In},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new In}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new In}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new In}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Mi(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Mi(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new In},alphaTest:{value:0},uvTransform:{value:new In}},sprite:{diffuse:{value:new Mi(16777215)},opacity:{value:1},center:{value:new Dn(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new In},alphaMap:{value:null},alphaMapTransform:{value:new In},alphaTest:{value:0}}},bl={basic:{uniforms:pa([xl.common,xl.specularmap,xl.envmap,xl.aomap,xl.lightmap,xl.fog]),vertexShader:_l.meshbasic_vert,fragmentShader:_l.meshbasic_frag},lambert:{uniforms:pa([xl.common,xl.specularmap,xl.envmap,xl.aomap,xl.lightmap,xl.emissivemap,xl.bumpmap,xl.normalmap,xl.displacementmap,xl.fog,xl.lights,{emissive:{value:new Mi(0)}}]),vertexShader:_l.meshlambert_vert,fragmentShader:_l.meshlambert_frag},phong:{uniforms:pa([xl.common,xl.specularmap,xl.envmap,xl.aomap,xl.lightmap,xl.emissivemap,xl.bumpmap,xl.normalmap,xl.displacementmap,xl.fog,xl.lights,{emissive:{value:new Mi(0)},specular:{value:new Mi(1118481)},shininess:{value:30}}]),vertexShader:_l.meshphong_vert,fragmentShader:_l.meshphong_frag},standard:{uniforms:pa([xl.common,xl.envmap,xl.aomap,xl.lightmap,xl.emissivemap,xl.bumpmap,xl.normalmap,xl.displacementmap,xl.roughnessmap,xl.metalnessmap,xl.fog,xl.lights,{emissive:{value:new Mi(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:_l.meshphysical_vert,fragmentShader:_l.meshphysical_frag},toon:{uniforms:pa([xl.common,xl.aomap,xl.lightmap,xl.emissivemap,xl.bumpmap,xl.normalmap,xl.displacementmap,xl.gradientmap,xl.fog,xl.lights,{emissive:{value:new Mi(0)}}]),vertexShader:_l.meshtoon_vert,fragmentShader:_l.meshtoon_frag},matcap:{uniforms:pa([xl.common,xl.bumpmap,xl.normalmap,xl.displacementmap,xl.fog,{matcap:{value:null}}]),vertexShader:_l.meshmatcap_vert,fragmentShader:_l.meshmatcap_frag},points:{uniforms:pa([xl.points,xl.fog]),vertexShader:_l.points_vert,fragmentShader:_l.points_frag},dashed:{uniforms:pa([xl.common,xl.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:_l.linedashed_vert,fragmentShader:_l.linedashed_frag},depth:{uniforms:pa([xl.common,xl.displacementmap]),vertexShader:_l.depth_vert,fragmentShader:_l.depth_frag},normal:{uniforms:pa([xl.common,xl.bumpmap,xl.normalmap,xl.displacementmap,{opacity:{value:1}}]),vertexShader:_l.meshnormal_vert,fragmentShader:_l.meshnormal_frag},sprite:{uniforms:pa([xl.sprite,xl.fog]),vertexShader:_l.sprite_vert,fragmentShader:_l.sprite_frag},background:{uniforms:{uvTransform:{value:new In},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:_l.background_vert,fragmentShader:_l.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new In}},vertexShader:_l.backgroundCube_vert,fragmentShader:_l.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:_l.cube_vert,fragmentShader:_l.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:_l.equirect_vert,fragmentShader:_l.equirect_frag},distanceRGBA:{uniforms:pa([xl.common,xl.displacementmap,{referencePosition:{value:new sr},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:_l.distanceRGBA_vert,fragmentShader:_l.distanceRGBA_frag},shadow:{uniforms:pa([xl.lights,xl.fog,{color:{value:new Mi(0)},opacity:{value:1}}]),vertexShader:_l.shadow_vert,fragmentShader:_l.shadow_frag}};bl.physical={uniforms:pa([bl.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new In},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new In},clearcoatNormalScale:{value:new Dn(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new In},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new In},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new In},sheen:{value:0},sheenColor:{value:new Mi(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new In},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new In},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new In},transmissionSamplerSize:{value:new Dn},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new In},attenuationDistance:{value:0},attenuationColor:{value:new Mi(0)},specularColor:{value:new Mi(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new In},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new In},anisotropyVector:{value:new Dn},anisotropyMap:{value:null},anisotropyMapTransform:{value:new In}}]),vertexShader:_l.meshphysical_vert,fragmentShader:_l.meshphysical_frag};const Sl={r:0,b:0,g:0},wl=new qr,El=new Fr;function Ml(t,e,n,r,i,a,s){const o=new Mi(0);let l,c,u=!0===a?0:1,h=null,f=0,m=null;function g(t){let r=!0===t.isScene?t.background:null;if(r&&r.isTexture){const i=t.backgroundBlurriness>0;r=(i?n:e).get(r)}return r}function v(e){let n=!1;const i=g(e);null===i?_(o,u):i&&i.isColor&&(_(i,1),n=!0);const a=t.xr.getEnvironmentBlendMode();"additive"===a?r.buffers.color.setClear(0,0,0,1,s):"alpha-blend"===a&&r.buffers.color.setClear(0,0,0,0,s),(t.autoClear||n)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function y(e,n){const r=g(n);r&&(r.isCubeTexture||r.mapping===ht)?(void 0===c&&(c=new oa(new ua(1,1,1),new ya({name:"BackgroundCubeMaterial",uniforms:ha(bl.backgroundCube.uniforms),vertexShader:bl.backgroundCube.vertexShader,fragmentShader:bl.backgroundCube.fragmentShader,side:d,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(t,e,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),wl.copy(n.backgroundRotation),wl.x*=-1,wl.y*=-1,wl.z*=-1,r.isCubeTexture&&!1===r.isRenderTargetTexture&&(wl.y*=-1,wl.z*=-1),c.material.uniforms.envMap.value=r,c.material.uniforms.flipEnvMap.value=r.isCubeTexture&&!1===r.isRenderTargetTexture?-1:1,c.material.uniforms.backgroundBlurriness.value=n.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,c.material.uniforms.backgroundRotation.value.setFromMatrix4(El.makeRotationFromEuler(wl)),c.material.toneMapped=Wn.getTransfer(r.colorSpace)!==Ue,h===r&&f===r.version&&m===t.toneMapping||(c.material.needsUpdate=!0,h=r,f=r.version,m=t.toneMapping),c.layers.enableAll(),e.unshift(c,c.geometry,c.material,0,0,null)):r&&r.isTexture&&(void 0===l&&(l=new oa(new Ba(2,2),new ya({name:"BackgroundMaterial",uniforms:ha(bl.background.uniforms),vertexShader:bl.background.vertexShader,fragmentShader:bl.background.fragmentShader,side:p,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(l)),l.material.uniforms.t2D.value=r,l.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,l.material.toneMapped=Wn.getTransfer(r.colorSpace)!==Ue,!0===r.matrixAutoUpdate&&r.updateMatrix(),l.material.uniforms.uvTransform.value.copy(r.matrix),h===r&&f===r.version&&m===t.toneMapping||(l.material.needsUpdate=!0,h=r,f=r.version,m=t.toneMapping),l.layers.enableAll(),e.unshift(l,l.geometry,l.material,0,0,null))}function _(e,n){e.getRGB(Sl,fa(t)),r.buffers.color.setClear(Sl.r,Sl.g,Sl.b,n,s)}return{getClearColor:function(){return o},setClearColor:function(t,e=1){o.set(t),u=e,_(o,u)},getClearAlpha:function(){return u},setClearAlpha:function(t){u=t,_(o,u)},render:v,addToRenderList:y}}function Tl(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},i=p(null);let a=i,s=!1;function o(n,r,i,o,l){let u=!1;const p=h(o,i,r);a!==p&&(a=p,c(a.object)),u=d(n,o,i,l),u&&f(n,o,i,l),null!==l&&e.update(l,t.ELEMENT_ARRAY_BUFFER),(u||s)&&(s=!1,x(n,r,i,o),null!==l&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(l).buffer))}function l(){return t.createVertexArray()}function c(e){return t.bindVertexArray(e)}function u(e){return t.deleteVertexArray(e)}function h(t,e,n){const i=!0===n.wireframe;let a=r[t.id];void 0===a&&(a={},r[t.id]=a);let s=a[e.id];void 0===s&&(s={},a[e.id]=s);let o=s[i];return void 0===o&&(o=p(l()),s[i]=o),o}function p(t){const e=[],r=[],i=[];for(let a=0;a<n;a++)e[a]=0,r[a]=0,i[a]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:e,enabledAttributes:r,attributeDivisors:i,object:t,attributes:{},index:null}}function d(t,e,n,r){const i=a.attributes,s=e.attributes;let o=0;const l=n.getAttributes();for(const a in l){const e=l[a];if(e.location>=0){const e=i[a];let n=s[a];if(void 0===n&&("instanceMatrix"===a&&t.instanceMatrix&&(n=t.instanceMatrix),"instanceColor"===a&&t.instanceColor&&(n=t.instanceColor)),void 0===e)return!0;if(e.attribute!==n)return!0;if(n&&e.data!==n.data)return!0;o++}}return a.attributesNum!==o||a.index!==r}function f(t,e,n,r){const i={},s=e.attributes;let o=0;const l=n.getAttributes();for(const a in l){const e=l[a];if(e.location>=0){let e=s[a];void 0===e&&("instanceMatrix"===a&&t.instanceMatrix&&(e=t.instanceMatrix),"instanceColor"===a&&t.instanceColor&&(e=t.instanceColor));const n={};n.attribute=e,e&&e.data&&(n.data=e.data),i[a]=n,o++}}a.attributes=i,a.attributesNum=o,a.index=r}function m(){const t=a.newAttributes;for(let e=0,n=t.length;e<n;e++)t[e]=0}function g(t){v(t,0)}function v(e,n){const r=a.newAttributes,i=a.enabledAttributes,s=a.attributeDivisors;r[e]=1,0===i[e]&&(t.enableVertexAttribArray(e),i[e]=1),s[e]!==n&&(t.vertexAttribDivisor(e,n),s[e]=n)}function y(){const e=a.newAttributes,n=a.enabledAttributes;for(let r=0,i=n.length;r<i;r++)n[r]!==e[r]&&(t.disableVertexAttribArray(r),n[r]=0)}function _(e,n,r,i,a,s,o){!0===o?t.vertexAttribIPointer(e,n,r,a,s):t.vertexAttribPointer(e,n,r,i,a,s)}function x(n,r,i,a){m();const s=a.attributes,o=i.getAttributes(),l=r.defaultAttributeValues;for(const c in o){const r=o[c];if(r.location>=0){let i=s[c];if(void 0===i&&("instanceMatrix"===c&&n.instanceMatrix&&(i=n.instanceMatrix),"instanceColor"===c&&n.instanceColor&&(i=n.instanceColor)),void 0!==i){const s=i.normalized,o=i.itemSize,l=e.get(i);if(void 0===l)continue;const c=l.buffer,u=l.type,h=l.bytesPerElement,p=u===t.INT||u===t.UNSIGNED_INT||i.gpuType===Mt;if(i.isInterleavedBufferAttribute){const e=i.data,l=e.stride,d=i.offset;if(e.isInstancedInterleavedBuffer){for(let t=0;t<r.locationSize;t++)v(r.location+t,e.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===a._maxInstanceCount&&(a._maxInstanceCount=e.meshPerAttribute*e.count)}else for(let t=0;t<r.locationSize;t++)g(r.location+t);t.bindBuffer(t.ARRAY_BUFFER,c);for(let t=0;t<r.locationSize;t++)_(r.location+t,o/r.locationSize,u,s,l*h,(d+o/r.locationSize*t)*h,p)}else{if(i.isInstancedBufferAttribute){for(let t=0;t<r.locationSize;t++)v(r.location+t,i.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===a._maxInstanceCount&&(a._maxInstanceCount=i.meshPerAttribute*i.count)}else for(let t=0;t<r.locationSize;t++)g(r.location+t);t.bindBuffer(t.ARRAY_BUFFER,c);for(let t=0;t<r.locationSize;t++)_(r.location+t,o/r.locationSize,u,s,o*h,o/r.locationSize*t*h,p)}}else if(void 0!==l){const e=l[c];if(void 0!==e)switch(e.length){case 2:t.vertexAttrib2fv(r.location,e);break;case 3:t.vertexAttrib3fv(r.location,e);break;case 4:t.vertexAttrib4fv(r.location,e);break;default:t.vertexAttrib1fv(r.location,e)}}}}y()}function b(){E();for(const t in r){const e=r[t];for(const t in e){const n=e[t];for(const t in n)u(n[t].object),delete n[t];delete e[t]}delete r[t]}}function S(t){if(void 0===r[t.id])return;const e=r[t.id];for(const n in e){const t=e[n];for(const e in t)u(t[e].object),delete t[e];delete e[n]}delete r[t.id]}function w(t){for(const e in r){const n=r[e];if(void 0===n[t.id])continue;const i=n[t.id];for(const t in i)u(i[t].object),delete i[t];delete n[t.id]}}function E(){M(),s=!0,a!==i&&(a=i,c(a.object))}function M(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:o,reset:E,resetDefaultState:M,dispose:b,releaseStatesOfGeometry:S,releaseStatesOfProgram:w,initAttributes:m,enableAttribute:g,disableUnusedAttributes:y}}function Cl(t,e,n){let r;function i(t){r=t}function a(e,i){t.drawArrays(r,e,i),n.update(i,r,1)}function s(e,i,a){0!==a&&(t.drawArraysInstanced(r,e,i,a),n.update(i,r,a))}function o(t,i,a){if(0===a)return;const s=e.get("WEBGL_multi_draw");s.multiDrawArraysWEBGL(r,t,0,i,0,a);let o=0;for(let e=0;e<a;e++)o+=i[e];n.update(o,r,1)}function l(t,i,a,o){if(0===a)return;const l=e.get("WEBGL_multi_draw");if(null===l)for(let e=0;e<t.length;e++)s(t[e],i[e],o[e]);else{l.multiDrawArraysInstancedWEBGL(r,t,0,i,0,o,0,a);let e=0;for(let t=0;t<a;t++)e+=i[t];for(let t=0;t<o.length;t++)n.update(e,r,o[t])}}this.setMode=i,this.render=a,this.renderInstances=s,this.renderMultiDraw=o,this.renderMultiDrawInstances=l}function Al(t,e,n,r){let i;function a(){if(void 0!==i)return i;if(!0===e.has("EXT_texture_filter_anisotropic")){const n=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(e){return e===Ot||r.convert(e)===t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT)}function o(n){const i=n===At&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(n!==bt&&r.convert(n)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&n!==Ct&&!i)}function l(e){if("highp"===e){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=void 0!==n.precision?n.precision:"highp";const u=l(c);u!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",u,"instead."),c=u);const h=!0===n.logarithmicDepthBuffer,p=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),d=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),f=t.getParameter(t.MAX_TEXTURE_SIZE),m=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),g=t.getParameter(t.MAX_VERTEX_ATTRIBS),v=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),y=t.getParameter(t.MAX_VARYING_VECTORS),_=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),x=d>0,b=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:l,textureFormatReadable:s,textureTypeReadable:o,precision:c,logarithmicDepthBuffer:h,maxTextures:p,maxVertexTextures:d,maxTextureSize:f,maxCubemapSize:m,maxAttributes:g,maxVertexUniforms:v,maxVaryings:y,maxFragmentUniforms:_,vertexTextures:x,maxSamples:b}}function Pl(t){const e=this;let n=null,r=0,i=!1,a=!1;const s=new Ia,o=new In,l={value:null,needsUpdate:!1};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(t,n,r,i){const a=null!==t?t.length:0;let c=null;if(0!==a){if(c=l.value,!0!==i||null===c){const e=r+4*a,i=n.matrixWorldInverse;o.getNormalMatrix(i),(null===c||c.length<e)&&(c=new Float32Array(e));for(let n=0,l=r;n!==a;++n,l+=4)s.copy(t[n]).applyMatrix4(i,o),s.normal.toArray(c,l),c[l+3]=s.constant}l.value=c,l.needsUpdate=!0}return e.numPlanes=a,e.numIntersection=0,c}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(t,e){const n=0!==t.length||e||0!==r||i;return i=e,r=t.length,n},this.beginShadows=function(){a=!0,u(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(t,e){n=u(t,e,0)},this.setState=function(e,s,o){const h=e.clippingPlanes,p=e.clipIntersection,d=e.clipShadows,f=t.get(e);if(!i||null===h||0===h.length||a&&!d)a?u(null):c();else{const t=a?0:r,e=4*t;let i=f.clippingState||null;l.value=i,i=u(h,s,e,o);for(let r=0;r!==e;++r)i[r]=n[r];f.clippingState=i,this.numIntersection=p?this.numPlanes:0,this.numPlanes+=t}}}function Rl(t){let e=new WeakMap;function n(t,e){return e===ct?t.mapping=ot:e===ut&&(t.mapping=lt),t}function r(r){if(r&&r.isTexture){const a=r.mapping;if(a===ct||a===ut){if(e.has(r)){const t=e.get(r).texture;return n(t,r.mapping)}{const a=r.image;if(a&&a.height>0){const s=new Aa(a.height);return s.fromEquirectangularTexture(t,r),e.set(r,s),r.addEventListener("dispose",i),n(s.texture,r.mapping)}return null}}}return r}function i(t){const n=t.target;n.removeEventListener("dispose",i);const r=e.get(n);void 0!==r&&(e.delete(n),r.dispose())}function a(){e=new WeakMap}return{get:r,dispose:a}}class Dl extends _a{constructor(t=-1,e=1,n=1,r=-1,i=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=n,this.bottom=r,this.near=i,this.far=a,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this}setViewOffset(t,e,n,r,i,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let i=n-t,a=n+t,s=r+e,o=r-e;if(null!==this.view&&this.view.enabled){const t=(this.right-this.left)/this.view.fullWidth/this.zoom,e=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=t*this.view.offsetX,a=i+t*this.view.width,s-=e*this.view.offsetY,o=s-e*this.view.height}this.projectionMatrix.makeOrthographic(i,a,s,o,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}const Il=4,Ll=[.125,.215,.35,.446,.526,.582],kl=20,Ol=new Dl,Fl=new Mi;let Nl=null,Bl=0,Ul=0,zl=!1;const Vl=(1+Math.sqrt(5))/2,Hl=1/Vl,Gl=[new sr(-Vl,Hl,0),new sr(Vl,Hl,0),new sr(-Hl,0,Vl),new sr(Hl,0,Vl),new sr(0,Vl,-Hl),new sr(0,Vl,Hl),new sr(-1,1,-1),new sr(1,1,-1),new sr(-1,1,1),new sr(1,1,1)];class Wl{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(t,e=0,n=.1,r=100){Nl=this._renderer.getRenderTarget(),Bl=this._renderer.getActiveCubeFace(),Ul=this._renderer.getActiveMipmapLevel(),zl=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(t,n,r,i),e>0&&this._blur(i,0,0,e),this._applyPMREM(i),this._cleanup(i),i}fromEquirectangular(t,e=null){return this._fromTexture(t,e)}fromCubemap(t,e=null){return this._fromTexture(t,e)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=Kl(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=Yl(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let t=0;t<this._lodPlanes.length;t++)this._lodPlanes[t].dispose()}_cleanup(t){this._renderer.setRenderTarget(Nl,Bl,Ul),this._renderer.xr.enabled=zl,t.scissorTest=!1,$l(t,0,0,t.width,t.height)}_fromTexture(t,e){t.mapping===ot||t.mapping===lt?this._setSize(0===t.image.length?16:t.image[0].width||t.image[0].image.width):this._setSize(t.image.width/4),Nl=this._renderer.getRenderTarget(),Bl=this._renderer.getActiveCubeFace(),Ul=this._renderer.getActiveMipmapLevel(),zl=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=e||this._allocateTargets();return this._textureToCubeUV(t,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const t=3*Math.max(this._cubeSize,112),e=4*this._cubeSize,n={magFilter:yt,minFilter:yt,generateMipmaps:!1,type:At,format:Ot,colorSpace:Oe,depthBuffer:!1},r=ql(t,e,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==t||this._pingPongRenderTarget.height!==e){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=ql(t,e,n);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=jl(r)),this._blurMaterial=Xl(r,t,e)}return r}_compileMaterial(t){const e=new oa(this._lodPlanes[0],t);this._renderer.compile(e,Ol)}_sceneToCubeUV(t,e,n,r){const i=90,a=1,s=new wa(i,a,e,n),o=[1,-1,1,1,1,1],l=[1,1,1,-1,-1,-1],c=this._renderer,u=c.autoClear,h=c.toneMapping;c.getClearColor(Fl),c.toneMapping=J,c.autoClear=!1;const p=new Pi({name:"PMREM.Background",side:d,depthWrite:!1,depthTest:!1}),f=new oa(new ua,p);let m=!1;const g=t.background;g?g.isColor&&(p.color.copy(g),t.background=null,m=!0):(p.color.copy(Fl),m=!0);for(let d=0;d<6;d++){const e=d%3;0===e?(s.up.set(0,o[d],0),s.lookAt(l[d],0,0)):1===e?(s.up.set(0,0,o[d]),s.lookAt(0,l[d],0)):(s.up.set(0,o[d],0),s.lookAt(0,0,l[d]));const n=this._cubeSize;$l(r,e*n,d>2?n:0,n,n),c.setRenderTarget(r),m&&c.render(f,s),c.render(t,s)}f.geometry.dispose(),f.material.dispose(),c.toneMapping=h,c.autoClear=u,t.background=g}_textureToCubeUV(t,e){const n=this._renderer,r=t.mapping===ot||t.mapping===lt;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=Kl()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===t.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=Yl());const i=r?this._cubemapMaterial:this._equirectMaterial,a=new oa(this._lodPlanes[0],i),s=i.uniforms;s["envMap"].value=t;const o=this._cubeSize;$l(e,0,0,3*o,2*o),n.setRenderTarget(e),n.render(a,Ol)}_applyPMREM(t){const e=this._renderer,n=e.autoClear;e.autoClear=!1;const r=this._lodPlanes.length;for(let i=1;i<r;i++){const e=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),n=Gl[(r-i-1)%Gl.length];this._blur(t,i-1,i,e,n)}e.autoClear=n}_blur(t,e,n,r,i){const a=this._pingPongRenderTarget;this._halfBlur(t,a,e,n,r,"latitudinal",i),this._halfBlur(a,t,n,n,r,"longitudinal",i)}_halfBlur(t,e,n,r,i,a,s){const o=this._renderer,l=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,u=new oa(this._lodPlanes[r],l),h=l.uniforms,p=this._sizeLods[n]-1,d=isFinite(i)?Math.PI/(2*p):2*Math.PI/(2*kl-1),f=i/d,m=isFinite(i)?1+Math.floor(c*f):kl;m>kl&&console.warn(`sigmaRadians, ${i}, is too large and will clip, as it requested ${m} samples when the maximum is set to ${kl}`);const g=[];let v=0;for(let S=0;S<kl;++S){const t=S/f,e=Math.exp(-t*t/2);g.push(e),0===S?v+=e:S<m&&(v+=2*e)}for(let S=0;S<g.length;S++)g[S]=g[S]/v;h["envMap"].value=t.texture,h["samples"].value=m,h["weights"].value=g,h["latitudinal"].value="latitudinal"===a,s&&(h["poleAxis"].value=s);const{_lodMax:y}=this;h["dTheta"].value=d,h["mipInt"].value=y-n;const _=this._sizeLods[r],x=3*_*(r>y-Il?r-y+Il:0),b=4*(this._cubeSize-_);$l(e,x,b,3*_,2*_),o.setRenderTarget(e),o.render(u,Ol)}}function jl(t){const e=[],n=[],r=[];let i=t;const a=t-Il+1+Ll.length;for(let s=0;s<a;s++){const a=Math.pow(2,i);n.push(a);let o=1/a;s>t-Il?o=Ll[s-t+Il-1]:0===s&&(o=0),r.push(o);const l=1/(a-2),c=-l,u=1+l,h=[c,c,u,c,u,u,c,c,u,u,c,u],p=6,d=6,f=3,m=2,g=1,v=new Float32Array(f*d*p),y=new Float32Array(m*d*p),_=new Float32Array(g*d*p);for(let t=0;t<p;t++){const e=t%3*2/3-1,n=t>2?0:-1,r=[e,n,0,e+2/3,n,0,e+2/3,n+1,0,e,n,0,e+2/3,n+1,0,e,n+1,0];v.set(r,f*d*t),y.set(h,m*d*t);const i=[t,t,t,t,t,t];_.set(i,g*d*t)}const x=new Gi;x.setAttribute("position",new Ii(v,f)),x.setAttribute("uv",new Ii(y,m)),x.setAttribute("faceIndex",new Ii(_,g)),e.push(x),i>Il&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function ql(t,e,n){const r=new nr(t,e,n);return r.texture.mapping=ht,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function $l(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function Xl(t,e,n){const r=new Float32Array(kl),i=new sr(0,1,0),a=new ya({name:"SphericalGaussianBlur",defines:{n:kl,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:Zl(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:m,depthTest:!1,depthWrite:!1});return a}function Yl(){return new ya({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Zl(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:m,depthTest:!1,depthWrite:!1})}function Kl(){return new ya({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Zl(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:m,depthTest:!1,depthWrite:!1})}function Zl(){return"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t"}function Jl(t){let e=new WeakMap,n=null;function r(r){if(r&&r.isTexture){const s=r.mapping,o=s===ct||s===ut,l=s===ot||s===lt;if(o||l){let s=e.get(r);const c=void 0!==s?s.texture.pmremVersion:0;if(r.isRenderTargetTexture&&r.pmremVersion!==c)return null===n&&(n=new Wl(t)),s=o?n.fromEquirectangular(r,s):n.fromCubemap(r,s),s.texture.pmremVersion=r.pmremVersion,e.set(r,s),s.texture;if(void 0!==s)return s.texture;{const c=r.image;return o&&c&&c.height>0||l&&c&&i(c)?(null===n&&(n=new Wl(t)),s=o?n.fromEquirectangular(r):n.fromCubemap(r),s.texture.pmremVersion=r.pmremVersion,e.set(r,s),r.addEventListener("dispose",a),s.texture):null}}}return r}function i(t){let e=0;const n=6;for(let r=0;r<n;r++)void 0!==t[r]&&e++;return e===n}function a(t){const n=t.target;n.removeEventListener("dispose",a);const r=e.get(n);void 0!==r&&(e.delete(n),r.dispose())}function s(){e=new WeakMap,null!==n&&(n.dispose(),n=null)}return{get:r,dispose:s}}function Ql(t){const e={};function n(n){if(void 0!==e[n])return e[n];let r;switch(n){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=t.getExtension(n)}return e[n]=r,r}return{has:function(t){return null!==n(t)},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(t){const e=n(t);return null===e&&Bn("THREE.WebGLRenderer: "+t+" extension not supported."),e}}}function tc(t,e,n,r){const i={},a=new WeakMap;function s(t){const o=t.target;null!==o.index&&e.remove(o.index);for(const n in o.attributes)e.remove(o.attributes[n]);for(const n in o.morphAttributes){const t=o.morphAttributes[n];for(let n=0,r=t.length;n<r;n++)e.remove(t[n])}o.removeEventListener("dispose",s),delete i[o.id];const l=a.get(o);l&&(e.remove(l),a.delete(o)),r.releaseStatesOfGeometry(o),!0===o.isInstancedBufferGeometry&&delete o._maxInstanceCount,n.memory.geometries--}function o(t,e){return!0===i[e.id]||(e.addEventListener("dispose",s),i[e.id]=!0,n.memory.geometries++),e}function l(n){const r=n.attributes;for(const a in r)e.update(r[a],t.ARRAY_BUFFER);const i=n.morphAttributes;for(const a in i){const n=i[a];for(let r=0,i=n.length;r<i;r++)e.update(n[r],t.ARRAY_BUFFER)}}function c(t){const n=[],r=t.index,i=t.attributes.position;let s=0;if(null!==r){const t=r.array;s=r.version;for(let e=0,r=t.length;e<r;e+=3){const r=t[e+0],i=t[e+1],a=t[e+2];n.push(r,i,i,a,a,r)}}else{if(void 0===i)return;{const t=i.array;s=i.version;for(let e=0,r=t.length/3-1;e<r;e+=3){const t=e+0,r=e+1,i=e+2;n.push(t,r,r,i,i,t)}}}const o=new(kn(n)?ki:Li)(n,1);o.version=s;const l=a.get(t);l&&e.remove(l),a.set(t,o)}function u(t){const e=a.get(t);if(e){const n=t.index;null!==n&&e.version<n.version&&c(t)}else c(t);return a.get(t)}return{get:o,update:l,getWireframeAttribute:u}}function ec(t,e,n){let r,i,a;function s(t){r=t}function o(t){i=t.type,a=t.bytesPerElement}function l(e,s){t.drawElements(r,s,i,e*a),n.update(s,r,1)}function c(e,s,o){0!==o&&(t.drawElementsInstanced(r,s,i,e*a,o),n.update(s,r,o))}function u(t,a,s){if(0===s)return;const o=e.get("WEBGL_multi_draw");o.multiDrawElementsWEBGL(r,a,0,i,t,0,s);let l=0;for(let e=0;e<s;e++)l+=a[e];n.update(l,r,1)}function h(t,s,o,l){if(0===o)return;const u=e.get("WEBGL_multi_draw");if(null===u)for(let e=0;e<t.length;e++)c(t[e]/a,s[e],l[e]);else{u.multiDrawElementsInstancedWEBGL(r,s,0,i,t,0,l,0,o);let e=0;for(let t=0;t<o;t++)e+=s[t];for(let t=0;t<l.length;t++)n.update(e,r,l[t])}}this.setMode=s,this.setIndex=o,this.render=l,this.renderInstances=c,this.renderMultiDraw=u,this.renderMultiDrawInstances=h}function nc(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(e,r,i){switch(n.calls++,r){case t.TRIANGLES:n.triangles+=i*(e/3);break;case t.LINES:n.lines+=i*(e/2);break;case t.LINE_STRIP:n.lines+=i*(e-1);break;case t.LINE_LOOP:n.lines+=i*e;break;case t.POINTS:n.points+=i*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",r);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function rc(t,e,n){const r=new WeakMap,i=new tr;function a(a,s,o){const l=a.morphTargetInfluences,c=s.morphAttributes.position||s.morphAttributes.normal||s.morphAttributes.color,u=void 0!==c?c.length:0;let h=r.get(s);if(void 0===h||h.count!==u){void 0!==h&&h.texture.dispose();const p=void 0!==s.morphAttributes.position,d=void 0!==s.morphAttributes.normal,f=void 0!==s.morphAttributes.color,m=s.morphAttributes.position||[],g=s.morphAttributes.normal||[],v=s.morphAttributes.color||[];let y=0;!0===p&&(y=1),!0===d&&(y=2),!0===f&&(y=3);let _=s.attributes.position.count*y,x=1;_>e.maxTextureSize&&(x=Math.ceil(_/e.maxTextureSize),_=e.maxTextureSize);const b=new Float32Array(_*x*4*u),S=new rr(b,_,x,u);S.type=Ct,S.needsUpdate=!0;const w=4*y;for(let M=0;M<u;M++){const T=m[M],C=g[M],A=v[M],P=_*x*4*M;for(let R=0;R<T.count;R++){const D=R*w;!0===p&&(i.fromBufferAttribute(T,R),b[P+D+0]=i.x,b[P+D+1]=i.y,b[P+D+2]=i.z,b[P+D+3]=0),!0===d&&(i.fromBufferAttribute(C,R),b[P+D+4]=i.x,b[P+D+5]=i.y,b[P+D+6]=i.z,b[P+D+7]=0),!0===f&&(i.fromBufferAttribute(A,R),b[P+D+8]=i.x,b[P+D+9]=i.y,b[P+D+10]=i.z,b[P+D+11]=4===A.itemSize?i.w:1)}}function E(){S.dispose(),r.delete(s),s.removeEventListener("dispose",E)}h={count:u,texture:S,size:new Dn(_,x)},r.set(s,h),s.addEventListener("dispose",E)}if(!0===a.isInstancedMesh&&null!==a.morphTexture)o.getUniforms().setValue(t,"morphTexture",a.morphTexture,n);else{let I=0;for(let k=0;k<l.length;k++)I+=l[k];const L=s.morphTargetsRelative?1:1-I;o.getUniforms().setValue(t,"morphTargetBaseInfluence",L),o.getUniforms().setValue(t,"morphTargetInfluences",l)}o.getUniforms().setValue(t,"morphTargetsTexture",h.texture,n),o.getUniforms().setValue(t,"morphTargetsTextureSize",h.size)}return{update:a}}function ic(t,e,n,r){let i=new WeakMap;function a(a){const s=r.render.frame,l=a.geometry,c=e.get(a,l);if(i.get(c)!==s&&(e.update(c),i.set(c,s)),a.isInstancedMesh&&(!1===a.hasEventListener("dispose",o)&&a.addEventListener("dispose",o),i.get(a)!==s&&(n.update(a.instanceMatrix,t.ARRAY_BUFFER),null!==a.instanceColor&&n.update(a.instanceColor,t.ARRAY_BUFFER),i.set(a,s))),a.isSkinnedMesh){const t=a.skeleton;i.get(t)!==s&&(t.update(),i.set(t,s))}return c}function s(){i=new WeakMap}function o(t){const e=t.target;e.removeEventListener("dispose",o),n.remove(e.instanceMatrix),null!==e.instanceColor&&n.remove(e.instanceColor)}return{update:a,dispose:s}}class ac extends Qn{constructor(t,e,n,r,i,a,s,o,l,c=Bt){if(c!==Bt&&c!==Ut)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&c===Bt&&(n=Tt),void 0===n&&c===Ut&&(n=Dt),super(null,r,i,a,s,o,c,n,l),this.isDepthTexture=!0,this.image={width:t,height:e},this.magFilter=void 0!==s?s:mt,this.minFilter=void 0!==o?o:mt,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(t){return super.copy(t),this.compareFunction=t.compareFunction,this}toJSON(t){const e=super.toJSON(t);return null!==this.compareFunction&&(e.compareFunction=this.compareFunction),e}}const sc=new Qn,oc=new ac(1,1),lc=new rr,cc=new ir,uc=new Ca,hc=[],pc=[],dc=new Float32Array(16),fc=new Float32Array(9),mc=new Float32Array(4);function gc(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let a=hc[i];if(void 0===a&&(a=new Float32Array(i),hc[i]=a),0!==e){r.toArray(a,0);for(let r=1,i=0;r!==e;++r)i+=n,t[r].toArray(a,i)}return a}function vc(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function yc(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function _c(t,e){let n=pc[e];void 0===n&&(n=new Int32Array(e),pc[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function xc(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function bc(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(vc(n,e))return;t.uniform2fv(this.addr,e),yc(n,e)}}function Sc(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(void 0!==e.r)n[0]===e.r&&n[1]===e.g&&n[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(vc(n,e))return;t.uniform3fv(this.addr,e),yc(n,e)}}function wc(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z&&n[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(vc(n,e))return;t.uniform4fv(this.addr,e),yc(n,e)}}function Ec(t,e){const n=this.cache,r=e.elements;if(void 0===r){if(vc(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),yc(n,e)}else{if(vc(n,r))return;mc.set(r),t.uniformMatrix2fv(this.addr,!1,mc),yc(n,r)}}function Mc(t,e){const n=this.cache,r=e.elements;if(void 0===r){if(vc(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),yc(n,e)}else{if(vc(n,r))return;fc.set(r),t.uniformMatrix3fv(this.addr,!1,fc),yc(n,r)}}function Tc(t,e){const n=this.cache,r=e.elements;if(void 0===r){if(vc(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),yc(n,e)}else{if(vc(n,r))return;dc.set(r),t.uniformMatrix4fv(this.addr,!1,dc),yc(n,r)}}function Cc(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function Ac(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y||(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(vc(n,e))return;t.uniform2iv(this.addr,e),yc(n,e)}}function Pc(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z||(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(vc(n,e))return;t.uniform3iv(this.addr,e),yc(n,e)}}function Rc(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z&&n[3]===e.w||(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(vc(n,e))return;t.uniform4iv(this.addr,e),yc(n,e)}}function Dc(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function Ic(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y||(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(vc(n,e))return;t.uniform2uiv(this.addr,e),yc(n,e)}}function Lc(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z||(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(vc(n,e))return;t.uniform3uiv(this.addr,e),yc(n,e)}}function kc(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z&&n[3]===e.w||(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(vc(n,e))return;t.uniform4uiv(this.addr,e),yc(n,e)}}function Oc(t,e,n){const r=this.cache,i=n.allocateTextureUnit();let a;r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),this.type===t.SAMPLER_2D_SHADOW?(oc.compareFunction=$e,a=oc):a=sc,n.setTexture2D(e||a,i)}function Fc(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||cc,i)}function Nc(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||uc,i)}function Bc(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||lc,i)}function Uc(t){switch(t){case 5126:return xc;case 35664:return bc;case 35665:return Sc;case 35666:return wc;case 35674:return Ec;case 35675:return Mc;case 35676:return Tc;case 5124:case 35670:return Cc;case 35667:case 35671:return Ac;case 35668:case 35672:return Pc;case 35669:case 35673:return Rc;case 5125:return Dc;case 36294:return Ic;case 36295:return Lc;case 36296:return kc;case 35678:case 36198:case 36298:case 36306:case 35682:return Oc;case 35679:case 36299:case 36307:return Fc;case 35680:case 36300:case 36308:case 36293:return Nc;case 36289:case 36303:case 36311:case 36292:return Bc}}function zc(t,e){t.uniform1fv(this.addr,e)}function Vc(t,e){const n=gc(e,this.size,2);t.uniform2fv(this.addr,n)}function Hc(t,e){const n=gc(e,this.size,3);t.uniform3fv(this.addr,n)}function Gc(t,e){const n=gc(e,this.size,4);t.uniform4fv(this.addr,n)}function Wc(t,e){const n=gc(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function jc(t,e){const n=gc(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function qc(t,e){const n=gc(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function $c(t,e){t.uniform1iv(this.addr,e)}function Xc(t,e){t.uniform2iv(this.addr,e)}function Yc(t,e){t.uniform3iv(this.addr,e)}function Kc(t,e){t.uniform4iv(this.addr,e)}function Zc(t,e){t.uniform1uiv(this.addr,e)}function Jc(t,e){t.uniform2uiv(this.addr,e)}function Qc(t,e){t.uniform3uiv(this.addr,e)}function tu(t,e){t.uniform4uiv(this.addr,e)}function eu(t,e,n){const r=this.cache,i=e.length,a=_c(n,i);vc(r,a)||(t.uniform1iv(this.addr,a),yc(r,a));for(let s=0;s!==i;++s)n.setTexture2D(e[s]||sc,a[s])}function nu(t,e,n){const r=this.cache,i=e.length,a=_c(n,i);vc(r,a)||(t.uniform1iv(this.addr,a),yc(r,a));for(let s=0;s!==i;++s)n.setTexture3D(e[s]||cc,a[s])}function ru(t,e,n){const r=this.cache,i=e.length,a=_c(n,i);vc(r,a)||(t.uniform1iv(this.addr,a),yc(r,a));for(let s=0;s!==i;++s)n.setTextureCube(e[s]||uc,a[s])}function iu(t,e,n){const r=this.cache,i=e.length,a=_c(n,i);vc(r,a)||(t.uniform1iv(this.addr,a),yc(r,a));for(let s=0;s!==i;++s)n.setTexture2DArray(e[s]||lc,a[s])}function au(t){switch(t){case 5126:return zc;case 35664:return Vc;case 35665:return Hc;case 35666:return Gc;case 35674:return Wc;case 35675:return jc;case 35676:return qc;case 5124:case 35670:return $c;case 35667:case 35671:return Xc;case 35668:case 35672:return Yc;case 35669:case 35673:return Kc;case 5125:return Zc;case 36294:return Jc;case 36295:return Qc;case 36296:return tu;case 35678:case 36198:case 36298:case 36306:case 35682:return eu;case 35679:case 36299:case 36307:return nu;case 35680:case 36300:case 36308:case 36293:return ru;case 36289:case 36303:case 36311:case 36292:return iu}}class su{constructor(t,e,n){this.id=t,this.addr=n,this.cache=[],this.type=e.type,this.setValue=Uc(e.type)}}class ou{constructor(t,e,n){this.id=t,this.addr=n,this.cache=[],this.type=e.type,this.size=e.size,this.setValue=au(e.type)}}class lu{constructor(t){this.id=t,this.seq=[],this.map={}}setValue(t,e,n){const r=this.seq;for(let i=0,a=r.length;i!==a;++i){const a=r[i];a.setValue(t,e[a.id],n)}}}const cu=/(\w+)(\])?(\[|\.)?/g;function uu(t,e){t.seq.push(e),t.map[e.id]=e}function hu(t,e,n){const r=t.name,i=r.length;cu.lastIndex=0;while(1){const a=cu.exec(r),s=cu.lastIndex;let o=a[1];const l="]"===a[2],c=a[3];if(l&&(o|=0),void 0===c||"["===c&&s+2===i){uu(n,void 0===c?new su(o,t,e):new ou(o,t,e));break}{const t=n.map;let e=t[o];void 0===e&&(e=new lu(o),uu(n,e)),n=e}}}class pu{constructor(t,e){this.seq=[],this.map={};const n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS);for(let r=0;r<n;++r){const n=t.getActiveUniform(e,r),i=t.getUniformLocation(e,n.name);hu(n,i,this)}}setValue(t,e,n,r){const i=this.map[e];void 0!==i&&i.setValue(t,n,r)}setOptional(t,e,n){const r=e[n];void 0!==r&&this.setValue(t,n,r)}static upload(t,e,n,r){for(let i=0,a=e.length;i!==a;++i){const a=e[i],s=n[a.id];!1!==s.needsUpdate&&a.setValue(t,s.value,r)}}static seqWithValue(t,e){const n=[];for(let r=0,i=t.length;r!==i;++r){const i=t[r];i.id in e&&n.push(i)}return n}}function du(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const fu=37297;let mu=0;function gu(t,e){const n=t.split("\n"),r=[],i=Math.max(e-6,0),a=Math.min(e+6,n.length);for(let s=i;s<a;s++){const t=s+1;r.push(`${t===e?">":" "} ${t}: ${n[s]}`)}return r.join("\n")}function vu(t){const e=Wn.getPrimaries(Wn.workingColorSpace),n=Wn.getPrimaries(t);let r;switch(e===n?r="":e===Ve&&n===ze?r="LinearDisplayP3ToLinearSRGB":e===ze&&n===Ve&&(r="LinearSRGBToLinearDisplayP3"),t){case Oe:case Ne:return[r,"LinearTransferOETF"];case ke:case Fe:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[r,"LinearTransferOETF"]}}function yu(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&""===i)return"";const a=/ERROR: 0:(\d+)/.exec(i);if(a){const r=parseInt(a[1]);return n.toUpperCase()+"\n\n"+i+"\n\n"+gu(t.getShaderSource(e),r)}return i}function _u(t,e){const n=vu(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function xu(t,e){let n;switch(e){case Q:n="Linear";break;case tt:n="Reinhard";break;case et:n="OptimizedCineon";break;case nt:n="ACESFilmic";break;case it:n="AgX";break;case at:n="Neutral";break;case rt:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const bu=new sr;function Su(){Wn.getLuminanceCoefficients(bu);const t=bu.x.toFixed(4),e=bu.y.toFixed(4),n=bu.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`\tconst vec3 weights = vec3( ${t}, ${e}, ${n} );`,"\treturn dot( weights, rgb );","}"].join("\n")}function wu(t){const e=[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""];return e.filter(Tu).join("\n")}function Eu(t){const e=[];for(const n in t){const r=t[n];!1!==r&&e.push("#define "+n+" "+r)}return e.join("\n")}function Mu(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const r=t.getActiveAttrib(e,i),a=r.name;let s=1;r.type===t.FLOAT_MAT2&&(s=2),r.type===t.FLOAT_MAT3&&(s=3),r.type===t.FLOAT_MAT4&&(s=4),n[a]={type:r.type,location:t.getAttribLocation(e,a),locationSize:s}}return n}function Tu(t){return""!==t}function Cu(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Au(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Pu=/^[ \t]*#include +<([\w\d./]+)>/gm;function Ru(t){return t.replace(Pu,Iu)}const Du=new Map;function Iu(t,e){let n=_l[e];if(void 0===n){const t=Du.get(e);if(void 0===t)throw new Error("Can not resolve #include <"+e+">");n=_l[t],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,t)}return Ru(n)}const Lu=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function ku(t){return t.replace(Lu,Ou)}function Ou(t,e,n,r){let i="";for(let a=parseInt(e);a<parseInt(n);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function Fu(t){let e=`precision ${t.precision} float;\n\tprecision ${t.precision} int;\n\tprecision ${t.precision} sampler2D;\n\tprecision ${t.precision} samplerCube;\n\tprecision ${t.precision} sampler3D;\n\tprecision ${t.precision} sampler2DArray;\n\tprecision ${t.precision} sampler2DShadow;\n\tprecision ${t.precision} samplerCubeShadow;\n\tprecision ${t.precision} sampler2DArrayShadow;\n\tprecision ${t.precision} isampler2D;\n\tprecision ${t.precision} isampler3D;\n\tprecision ${t.precision} isamplerCube;\n\tprecision ${t.precision} isampler2DArray;\n\tprecision ${t.precision} usampler2D;\n\tprecision ${t.precision} usampler3D;\n\tprecision ${t.precision} usamplerCube;\n\tprecision ${t.precision} usampler2DArray;\n\t`;return"highp"===t.precision?e+="\n#define HIGH_PRECISION":"mediump"===t.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===t.precision&&(e+="\n#define LOW_PRECISION"),e}function Nu(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===c?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===u?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===h&&(e="SHADOWMAP_TYPE_VSM"),e}function Bu(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case ot:case lt:e="ENVMAP_TYPE_CUBE";break;case ht:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Uu(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case lt:e="ENVMAP_MODE_REFRACTION";break}return e}function zu(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case Y:e="ENVMAP_BLENDING_MULTIPLY";break;case K:e="ENVMAP_BLENDING_MIX";break;case Z:e="ENVMAP_BLENDING_ADD";break}return e}function Vu(t){const e=t.envMapCubeUVHeight;if(null===e)return null;const n=Math.log2(e)-2,r=1/e,i=1/(3*Math.max(Math.pow(2,n),112));return{texelWidth:i,texelHeight:r,maxMip:n}}function Hu(t,e,n,r){const i=t.getContext(),a=n.defines;let s=n.vertexShader,o=n.fragmentShader;const l=Nu(n),c=Bu(n),u=Uu(n),h=zu(n),p=Vu(n),d=wu(n),f=Eu(a),m=i.createProgram();let g,v,y=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(g=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,f].filter(Tu).join("\n"),g.length>0&&(g+="\n"),v=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,f].filter(Tu).join("\n"),v.length>0&&(v+="\n")):(g=[Fu(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,f,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","\tuniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Tu).join("\n"),v=[Fu(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,f,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+h:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==J?"#define TONE_MAPPING":"",n.toneMapping!==J?_l["tonemapping_pars_fragment"]:"",n.toneMapping!==J?xu("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",_l["colorspace_pars_fragment"],_u("linearToOutputTexel",n.outputColorSpace),Su(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Tu).join("\n")),s=Ru(s),s=Cu(s,n),s=Au(s,n),o=Ru(o),o=Cu(o,n),o=Au(o,n),s=ku(s),o=ku(o),!0!==n.isRawShaderMaterial&&(y="#version 300 es\n",g=[d,"#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+g,v=["#define varying in",n.glslVersion===Qe?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===Qe?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+v);const _=y+g+s,x=y+v+o,b=du(i,i.VERTEX_SHADER,_),S=du(i,i.FRAGMENT_SHADER,x);function w(e){if(t.debug.checkShaderErrors){const n=i.getProgramInfoLog(m).trim(),r=i.getShaderInfoLog(b).trim(),a=i.getShaderInfoLog(S).trim();let s=!0,o=!0;if(!1===i.getProgramParameter(m,i.LINK_STATUS))if(s=!1,"function"===typeof t.debug.onShaderError)t.debug.onShaderError(i,m,b,S);else{const t=yu(i,b,"vertex"),r=yu(i,S,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(m,i.VALIDATE_STATUS)+"\n\nMaterial Name: "+e.name+"\nMaterial Type: "+e.type+"\n\nProgram Info Log: "+n+"\n"+t+"\n"+r)}else""!==n?console.warn("THREE.WebGLProgram: Program Info Log:",n):""!==r&&""!==a||(o=!1);o&&(e.diagnostics={runnable:s,programLog:n,vertexShader:{log:r,prefix:g},fragmentShader:{log:a,prefix:v}})}i.deleteShader(b),i.deleteShader(S),E=new pu(i,m),M=Mu(i,m)}let E,M;i.attachShader(m,b),i.attachShader(m,S),void 0!==n.index0AttributeName?i.bindAttribLocation(m,0,n.index0AttributeName):!0===n.morphTargets&&i.bindAttribLocation(m,0,"position"),i.linkProgram(m),this.getUniforms=function(){return void 0===E&&w(this),E},this.getAttributes=function(){return void 0===M&&w(this),M};let T=!1===n.rendererExtensionParallelShaderCompile;return this.isReady=function(){return!1===T&&(T=i.getProgramParameter(m,fu)),T},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(m),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=mu++,this.cacheKey=e,this.usedTimes=1,this.program=m,this.vertexShader=b,this.fragmentShader=S,this}let Gu=0;class Wu{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(t){const e=t.vertexShader,n=t.fragmentShader,r=this._getShaderStage(e),i=this._getShaderStage(n),a=this._getShaderCacheForMaterial(t);return!1===a.has(r)&&(a.add(r),r.usedTimes++),!1===a.has(i)&&(a.add(i),i.usedTimes++),this}remove(t){const e=this.materialCache.get(t);for(const n of e)n.usedTimes--,0===n.usedTimes&&this.shaderCache.delete(n.code);return this.materialCache.delete(t),this}getVertexShaderID(t){return this._getShaderStage(t.vertexShader).id}getFragmentShaderID(t){return this._getShaderStage(t.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(t){const e=this.materialCache;let n=e.get(t);return void 0===n&&(n=new Set,e.set(t,n)),n}_getShaderStage(t){const e=this.shaderCache;let n=e.get(t);return void 0===n&&(n=new ju(t),e.set(t,n)),n}}class ju{constructor(t){this.id=Gu++,this.code=t,this.usedTimes=0}}function qu(t,e,n,r,i,a,s){const o=new $r,l=new Wu,c=new Set,u=[],h=i.logarithmicDepthBuffer,p=i.vertexTextures;let m=i.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function y(t){return c.add(t),0===t?"uv":`uv${t}`}function _(a,o,u,_,x){const b=_.fog,S=x.geometry,w=a.isMeshStandardMaterial?_.environment:null,E=(a.isMeshStandardMaterial?n:e).get(a.envMap||w),M=E&&E.mapping===ht?E.image.height:null,T=v[a.type];null!==a.precision&&(m=i.getMaxPrecision(a.precision),m!==a.precision&&console.warn("THREE.WebGLProgram.getParameters:",a.precision,"not supported, using",m,"instead."));const C=S.morphAttributes.position||S.morphAttributes.normal||S.morphAttributes.color,A=void 0!==C?C.length:0;let P,R,D,I,L=0;if(void 0!==S.morphAttributes.position&&(L=1),void 0!==S.morphAttributes.normal&&(L=2),void 0!==S.morphAttributes.color&&(L=3),T){const t=bl[T];P=t.vertexShader,R=t.fragmentShader}else P=a.vertexShader,R=a.fragmentShader,l.update(a),D=l.getVertexShaderID(a),I=l.getFragmentShaderID(a);const k=t.getRenderTarget(),O=!0===x.isInstancedMesh,F=!0===x.isBatchedMesh,N=!!a.map,B=!!a.matcap,U=!!E,z=!!a.aoMap,V=!!a.lightMap,H=!!a.bumpMap,G=!!a.normalMap,W=!!a.displacementMap,j=!!a.emissiveMap,q=!!a.metalnessMap,$=!!a.roughnessMap,X=a.anisotropy>0,Y=a.clearcoat>0,K=a.dispersion>0,Z=a.iridescence>0,Q=a.sheen>0,tt=a.transmission>0,et=X&&!!a.anisotropyMap,nt=Y&&!!a.clearcoatMap,rt=Y&&!!a.clearcoatNormalMap,it=Y&&!!a.clearcoatRoughnessMap,at=Z&&!!a.iridescenceMap,st=Z&&!!a.iridescenceThicknessMap,ot=Q&&!!a.sheenColorMap,lt=Q&&!!a.sheenRoughnessMap,ct=!!a.specularMap,ut=!!a.specularColorMap,pt=!!a.specularIntensityMap,dt=tt&&!!a.transmissionMap,ft=tt&&!!a.thicknessMap,mt=!!a.gradientMap,gt=!!a.alphaMap,vt=a.alphaTest>0,yt=!!a.alphaHash,_t=!!a.extensions;let xt=J;a.toneMapped&&(null!==k&&!0!==k.isXRRenderTarget||(xt=t.toneMapping));const bt={shaderID:T,shaderType:a.type,shaderName:a.name,vertexShader:P,fragmentShader:R,defines:a.defines,customVertexShaderID:D,customFragmentShaderID:I,isRawShaderMaterial:!0===a.isRawShaderMaterial,glslVersion:a.glslVersion,precision:m,batching:F,batchingColor:F&&null!==x._colorsTexture,instancing:O,instancingColor:O&&null!==x.instanceColor,instancingMorph:O&&null!==x.morphTexture,supportsVertexTextures:p,outputColorSpace:null===k?t.outputColorSpace:!0===k.isXRRenderTarget?k.texture.colorSpace:Oe,alphaToCoverage:!!a.alphaToCoverage,map:N,matcap:B,envMap:U,envMapMode:U&&E.mapping,envMapCubeUVHeight:M,aoMap:z,lightMap:V,bumpMap:H,normalMap:G,displacementMap:p&&W,emissiveMap:j,normalMapObjectSpace:G&&a.normalMapType===Ie,normalMapTangentSpace:G&&a.normalMapType===De,metalnessMap:q,roughnessMap:$,anisotropy:X,anisotropyMap:et,clearcoat:Y,clearcoatMap:nt,clearcoatNormalMap:rt,clearcoatRoughnessMap:it,dispersion:K,iridescence:Z,iridescenceMap:at,iridescenceThicknessMap:st,sheen:Q,sheenColorMap:ot,sheenRoughnessMap:lt,specularMap:ct,specularColorMap:ut,specularIntensityMap:pt,transmission:tt,transmissionMap:dt,thicknessMap:ft,gradientMap:mt,opaque:!1===a.transparent&&a.blending===g&&!1===a.alphaToCoverage,alphaMap:gt,alphaTest:vt,alphaHash:yt,combine:a.combine,mapUv:N&&y(a.map.channel),aoMapUv:z&&y(a.aoMap.channel),lightMapUv:V&&y(a.lightMap.channel),bumpMapUv:H&&y(a.bumpMap.channel),normalMapUv:G&&y(a.normalMap.channel),displacementMapUv:W&&y(a.displacementMap.channel),emissiveMapUv:j&&y(a.emissiveMap.channel),metalnessMapUv:q&&y(a.metalnessMap.channel),roughnessMapUv:$&&y(a.roughnessMap.channel),anisotropyMapUv:et&&y(a.anisotropyMap.channel),clearcoatMapUv:nt&&y(a.clearcoatMap.channel),clearcoatNormalMapUv:rt&&y(a.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:it&&y(a.clearcoatRoughnessMap.channel),iridescenceMapUv:at&&y(a.iridescenceMap.channel),iridescenceThicknessMapUv:st&&y(a.iridescenceThicknessMap.channel),sheenColorMapUv:ot&&y(a.sheenColorMap.channel),sheenRoughnessMapUv:lt&&y(a.sheenRoughnessMap.channel),specularMapUv:ct&&y(a.specularMap.channel),specularColorMapUv:ut&&y(a.specularColorMap.channel),specularIntensityMapUv:pt&&y(a.specularIntensityMap.channel),transmissionMapUv:dt&&y(a.transmissionMap.channel),thicknessMapUv:ft&&y(a.thicknessMap.channel),alphaMapUv:gt&&y(a.alphaMap.channel),vertexTangents:!!S.attributes.tangent&&(G||X),vertexColors:a.vertexColors,vertexAlphas:!0===a.vertexColors&&!!S.attributes.color&&4===S.attributes.color.itemSize,pointsUvs:!0===x.isPoints&&!!S.attributes.uv&&(N||gt),fog:!!b,useFog:!0===a.fog,fogExp2:!!b&&b.isFogExp2,flatShading:!0===a.flatShading,sizeAttenuation:!0===a.sizeAttenuation,logarithmicDepthBuffer:h,skinning:!0===x.isSkinnedMesh,morphTargets:void 0!==S.morphAttributes.position,morphNormals:void 0!==S.morphAttributes.normal,morphColors:void 0!==S.morphAttributes.color,morphTargetsCount:A,morphTextureStride:L,numDirLights:o.directional.length,numPointLights:o.point.length,numSpotLights:o.spot.length,numSpotLightMaps:o.spotLightMap.length,numRectAreaLights:o.rectArea.length,numHemiLights:o.hemi.length,numDirLightShadows:o.directionalShadowMap.length,numPointLightShadows:o.pointShadowMap.length,numSpotLightShadows:o.spotShadowMap.length,numSpotLightShadowsWithMaps:o.numSpotLightShadowsWithMaps,numLightProbes:o.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:a.dithering,shadowMapEnabled:t.shadowMap.enabled&&u.length>0,shadowMapType:t.shadowMap.type,toneMapping:xt,decodeVideoTexture:N&&!0===a.map.isVideoTexture&&Wn.getTransfer(a.map.colorSpace)===Ue,premultipliedAlpha:a.premultipliedAlpha,doubleSided:a.side===f,flipSided:a.side===d,useDepthPacking:a.depthPacking>=0,depthPacking:a.depthPacking||0,index0AttributeName:a.index0AttributeName,extensionClipCullDistance:_t&&!0===a.extensions.clipCullDistance&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(_t&&!0===a.extensions.multiDraw||F)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:a.customProgramCacheKey()};return bt.vertexUv1s=c.has(1),bt.vertexUv2s=c.has(2),bt.vertexUv3s=c.has(3),c.clear(),bt}function x(e){const n=[];if(e.shaderID?n.push(e.shaderID):(n.push(e.customVertexShaderID),n.push(e.customFragmentShaderID)),void 0!==e.defines)for(const t in e.defines)n.push(t),n.push(e.defines[t]);return!1===e.isRawShaderMaterial&&(b(n,e),S(n,e),n.push(t.outputColorSpace)),n.push(e.customProgramCacheKey),n.join()}function b(t,e){t.push(e.precision),t.push(e.outputColorSpace),t.push(e.envMapMode),t.push(e.envMapCubeUVHeight),t.push(e.mapUv),t.push(e.alphaMapUv),t.push(e.lightMapUv),t.push(e.aoMapUv),t.push(e.bumpMapUv),t.push(e.normalMapUv),t.push(e.displacementMapUv),t.push(e.emissiveMapUv),t.push(e.metalnessMapUv),t.push(e.roughnessMapUv),t.push(e.anisotropyMapUv),t.push(e.clearcoatMapUv),t.push(e.clearcoatNormalMapUv),t.push(e.clearcoatRoughnessMapUv),t.push(e.iridescenceMapUv),t.push(e.iridescenceThicknessMapUv),t.push(e.sheenColorMapUv),t.push(e.sheenRoughnessMapUv),t.push(e.specularMapUv),t.push(e.specularColorMapUv),t.push(e.specularIntensityMapUv),t.push(e.transmissionMapUv),t.push(e.thicknessMapUv),t.push(e.combine),t.push(e.fogExp2),t.push(e.sizeAttenuation),t.push(e.morphTargetsCount),t.push(e.morphAttributeCount),t.push(e.numDirLights),t.push(e.numPointLights),t.push(e.numSpotLights),t.push(e.numSpotLightMaps),t.push(e.numHemiLights),t.push(e.numRectAreaLights),t.push(e.numDirLightShadows),t.push(e.numPointLightShadows),t.push(e.numSpotLightShadows),t.push(e.numSpotLightShadowsWithMaps),t.push(e.numLightProbes),t.push(e.shadowMapType),t.push(e.toneMapping),t.push(e.numClippingPlanes),t.push(e.numClipIntersection),t.push(e.depthPacking)}function S(t,e){o.disableAll(),e.supportsVertexTextures&&o.enable(0),e.instancing&&o.enable(1),e.instancingColor&&o.enable(2),e.instancingMorph&&o.enable(3),e.matcap&&o.enable(4),e.envMap&&o.enable(5),e.normalMapObjectSpace&&o.enable(6),e.normalMapTangentSpace&&o.enable(7),e.clearcoat&&o.enable(8),e.iridescence&&o.enable(9),e.alphaTest&&o.enable(10),e.vertexColors&&o.enable(11),e.vertexAlphas&&o.enable(12),e.vertexUv1s&&o.enable(13),e.vertexUv2s&&o.enable(14),e.vertexUv3s&&o.enable(15),e.vertexTangents&&o.enable(16),e.anisotropy&&o.enable(17),e.alphaHash&&o.enable(18),e.batching&&o.enable(19),e.dispersion&&o.enable(20),e.batchingColor&&o.enable(21),t.push(o.mask),o.disableAll(),e.fog&&o.enable(0),e.useFog&&o.enable(1),e.flatShading&&o.enable(2),e.logarithmicDepthBuffer&&o.enable(3),e.skinning&&o.enable(4),e.morphTargets&&o.enable(5),e.morphNormals&&o.enable(6),e.morphColors&&o.enable(7),e.premultipliedAlpha&&o.enable(8),e.shadowMapEnabled&&o.enable(9),e.doubleSided&&o.enable(10),e.flipSided&&o.enable(11),e.useDepthPacking&&o.enable(12),e.dithering&&o.enable(13),e.transmission&&o.enable(14),e.sheen&&o.enable(15),e.opaque&&o.enable(16),e.pointsUvs&&o.enable(17),e.decodeVideoTexture&&o.enable(18),e.alphaToCoverage&&o.enable(19),t.push(o.mask)}function w(t){const e=v[t.type];let n;if(e){const t=bl[e];n=ma.clone(t.uniforms)}else n=t.uniforms;return n}function E(e,n){let r;for(let t=0,i=u.length;t<i;t++){const e=u[t];if(e.cacheKey===n){r=e,++r.usedTimes;break}}return void 0===r&&(r=new Hu(t,n,e,a),u.push(r)),r}function M(t){if(0===--t.usedTimes){const e=u.indexOf(t);u[e]=u[u.length-1],u.pop(),t.destroy()}}function T(t){l.remove(t)}function C(){l.dispose()}return{getParameters:_,getProgramCacheKey:x,getUniforms:w,acquireProgram:E,releaseProgram:M,releaseShaderCache:T,programs:u,dispose:C}}function $u(){let t=new WeakMap;function e(e){let n=t.get(e);return void 0===n&&(n={},t.set(e,n)),n}function n(e){t.delete(e)}function r(e,n,r){t.get(e)[n]=r}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function Xu(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function Yu(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function Ku(){const t=[];let e=0;const n=[],r=[],i=[];function a(){e=0,n.length=0,r.length=0,i.length=0}function s(n,r,i,a,s,o){let l=t[e];return void 0===l?(l={id:n.id,object:n,geometry:r,material:i,groupOrder:a,renderOrder:n.renderOrder,z:s,group:o},t[e]=l):(l.id=n.id,l.object=n,l.geometry=r,l.material=i,l.groupOrder=a,l.renderOrder=n.renderOrder,l.z=s,l.group=o),e++,l}function o(t,e,a,o,l,c){const u=s(t,e,a,o,l,c);a.transmission>0?r.push(u):!0===a.transparent?i.push(u):n.push(u)}function l(t,e,a,o,l,c){const u=s(t,e,a,o,l,c);a.transmission>0?r.unshift(u):!0===a.transparent?i.unshift(u):n.unshift(u)}function c(t,e){n.length>1&&n.sort(t||Xu),r.length>1&&r.sort(e||Yu),i.length>1&&i.sort(e||Yu)}function u(){for(let n=e,r=t.length;n<r;n++){const e=t[n];if(null===e.id)break;e.id=null,e.object=null,e.geometry=null,e.material=null,e.group=null}}return{opaque:n,transmissive:r,transparent:i,init:a,push:o,unshift:l,finish:u,sort:c}}function Zu(){let t=new WeakMap;function e(e,n){const r=t.get(e);let i;return void 0===r?(i=new Ku,t.set(e,[i])):n>=r.length?(i=new Ku,r.push(i)):i=r[n],i}function n(){t=new WeakMap}return{get:e,dispose:n}}function Ju(){const t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new sr,color:new Mi};break;case"SpotLight":n={position:new sr,direction:new sr,color:new Mi,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new sr,color:new Mi,distance:0,decay:0};break;case"HemisphereLight":n={direction:new sr,skyColor:new Mi,groundColor:new Mi};break;case"RectAreaLight":n={color:new Mi,position:new sr,halfWidth:new sr,halfHeight:new sr};break}return t[e.id]=n,n}}}function Qu(){const t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Dn};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Dn};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Dn,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let th=0;function eh(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function nh(t){const e=new Ju,n=Qu(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)r.probe.push(new sr);const i=new sr,a=new Fr,s=new Fr;function o(i){let a=0,s=0,o=0;for(let t=0;t<9;t++)r.probe[t].set(0,0,0);let l=0,c=0,u=0,h=0,p=0,d=0,f=0,m=0,g=0,v=0,y=0;i.sort(eh);for(let t=0,x=i.length;t<x;t++){const _=i[t],x=_.color,b=_.intensity,S=_.distance,w=_.shadow&&_.shadow.map?_.shadow.map.texture:null;if(_.isAmbientLight)a+=x.r*b,s+=x.g*b,o+=x.b*b;else if(_.isLightProbe){for(let t=0;t<9;t++)r.probe[t].addScaledVector(_.sh.coefficients[t],b);y++}else if(_.isDirectionalLight){const t=e.get(_);if(t.color.copy(_.color).multiplyScalar(_.intensity),_.castShadow){const t=_.shadow,e=n.get(_);e.shadowIntensity=t.intensity,e.shadowBias=t.bias,e.shadowNormalBias=t.normalBias,e.shadowRadius=t.radius,e.shadowMapSize=t.mapSize,r.directionalShadow[l]=e,r.directionalShadowMap[l]=w,r.directionalShadowMatrix[l]=_.shadow.matrix,d++}r.directional[l]=t,l++}else if(_.isSpotLight){const t=e.get(_);t.position.setFromMatrixPosition(_.matrixWorld),t.color.copy(x).multiplyScalar(b),t.distance=S,t.coneCos=Math.cos(_.angle),t.penumbraCos=Math.cos(_.angle*(1-_.penumbra)),t.decay=_.decay,r.spot[u]=t;const i=_.shadow;if(_.map&&(r.spotLightMap[g]=_.map,g++,i.updateMatrices(_),_.castShadow&&v++),r.spotLightMatrix[u]=i.matrix,_.castShadow){const t=n.get(_);t.shadowIntensity=i.intensity,t.shadowBias=i.bias,t.shadowNormalBias=i.normalBias,t.shadowRadius=i.radius,t.shadowMapSize=i.mapSize,r.spotShadow[u]=t,r.spotShadowMap[u]=w,m++}u++}else if(_.isRectAreaLight){const t=e.get(_);t.color.copy(x).multiplyScalar(b),t.halfWidth.set(.5*_.width,0,0),t.halfHeight.set(0,.5*_.height,0),r.rectArea[h]=t,h++}else if(_.isPointLight){const t=e.get(_);if(t.color.copy(_.color).multiplyScalar(_.intensity),t.distance=_.distance,t.decay=_.decay,_.castShadow){const t=_.shadow,e=n.get(_);e.shadowIntensity=t.intensity,e.shadowBias=t.bias,e.shadowNormalBias=t.normalBias,e.shadowRadius=t.radius,e.shadowMapSize=t.mapSize,e.shadowCameraNear=t.camera.near,e.shadowCameraFar=t.camera.far,r.pointShadow[c]=e,r.pointShadowMap[c]=w,r.pointShadowMatrix[c]=_.shadow.matrix,f++}r.point[c]=t,c++}else if(_.isHemisphereLight){const t=e.get(_);t.skyColor.copy(_.color).multiplyScalar(b),t.groundColor.copy(_.groundColor).multiplyScalar(b),r.hemi[p]=t,p++}}h>0&&(!0===t.has("OES_texture_float_linear")?(r.rectAreaLTC1=xl.LTC_FLOAT_1,r.rectAreaLTC2=xl.LTC_FLOAT_2):(r.rectAreaLTC1=xl.LTC_HALF_1,r.rectAreaLTC2=xl.LTC_HALF_2)),r.ambient[0]=a,r.ambient[1]=s,r.ambient[2]=o;const _=r.hash;_.directionalLength===l&&_.pointLength===c&&_.spotLength===u&&_.rectAreaLength===h&&_.hemiLength===p&&_.numDirectionalShadows===d&&_.numPointShadows===f&&_.numSpotShadows===m&&_.numSpotMaps===g&&_.numLightProbes===y||(r.directional.length=l,r.spot.length=u,r.rectArea.length=h,r.point.length=c,r.hemi.length=p,r.directionalShadow.length=d,r.directionalShadowMap.length=d,r.pointShadow.length=f,r.pointShadowMap.length=f,r.spotShadow.length=m,r.spotShadowMap.length=m,r.directionalShadowMatrix.length=d,r.pointShadowMatrix.length=f,r.spotLightMatrix.length=m+g-v,r.spotLightMap.length=g,r.numSpotLightShadowsWithMaps=v,r.numLightProbes=y,_.directionalLength=l,_.pointLength=c,_.spotLength=u,_.rectAreaLength=h,_.hemiLength=p,_.numDirectionalShadows=d,_.numPointShadows=f,_.numSpotShadows=m,_.numSpotMaps=g,_.numLightProbes=y,r.version=th++)}function l(t,e){let n=0,o=0,l=0,c=0,u=0;const h=e.matrixWorldInverse;for(let p=0,d=t.length;p<d;p++){const e=t[p];if(e.isDirectionalLight){const t=r.directional[n];t.direction.setFromMatrixPosition(e.matrixWorld),i.setFromMatrixPosition(e.target.matrixWorld),t.direction.sub(i),t.direction.transformDirection(h),n++}else if(e.isSpotLight){const t=r.spot[l];t.position.setFromMatrixPosition(e.matrixWorld),t.position.applyMatrix4(h),t.direction.setFromMatrixPosition(e.matrixWorld),i.setFromMatrixPosition(e.target.matrixWorld),t.direction.sub(i),t.direction.transformDirection(h),l++}else if(e.isRectAreaLight){const t=r.rectArea[c];t.position.setFromMatrixPosition(e.matrixWorld),t.position.applyMatrix4(h),s.identity(),a.copy(e.matrixWorld),a.premultiply(h),s.extractRotation(a),t.halfWidth.set(.5*e.width,0,0),t.halfHeight.set(0,.5*e.height,0),t.halfWidth.applyMatrix4(s),t.halfHeight.applyMatrix4(s),c++}else if(e.isPointLight){const t=r.point[o];t.position.setFromMatrixPosition(e.matrixWorld),t.position.applyMatrix4(h),o++}else if(e.isHemisphereLight){const t=r.hemi[u];t.direction.setFromMatrixPosition(e.matrixWorld),t.direction.transformDirection(h),u++}}}return{setup:o,setupView:l,state:r}}function rh(t){const e=new nh(t),n=[],r=[];function i(t){c.camera=t,n.length=0,r.length=0}function a(t){n.push(t)}function s(t){r.push(t)}function o(){e.setup(n)}function l(t){e.setupView(n,t)}const c={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:c,setupLights:o,setupLightsView:l,pushLight:a,pushShadow:s}}function ih(t){let e=new WeakMap;function n(n,r=0){const i=e.get(n);let a;return void 0===i?(a=new rh(t),e.set(n,[a])):r>=i.length?(a=new rh(t),i.push(a)):a=i[r],a}function r(){e=new WeakMap}return{get:n,dispose:r}}class ah extends Ai{constructor(t){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Pe,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}class sh extends Ai{constructor(t){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(t)}copy(t){return super.copy(t),this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}const oh="void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",lh="uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}";function ch(t,e,n){let r=new Oa;const i=new Dn,a=new Dn,s=new tr,o=new ah({depthPacking:Re}),l=new sh,u={},g=n.maxTextureSize,v={[p]:d,[d]:p,[f]:f},y=new ya({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Dn},radius:{value:4}},vertexShader:oh,fragmentShader:lh}),_=y.clone();_.defines.HORIZONTAL_PASS=1;const x=new Gi;x.setAttribute("position",new Ii(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const b=new oa(x,y),S=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=c;let w=this.type;function E(n,r){const a=e.update(b);y.defines.VSM_SAMPLES!==n.blurSamples&&(y.defines.VSM_SAMPLES=n.blurSamples,_.defines.VSM_SAMPLES=n.blurSamples,y.needsUpdate=!0,_.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new nr(i.x,i.y)),y.uniforms.shadow_pass.value=n.map.texture,y.uniforms.resolution.value=n.mapSize,y.uniforms.radius.value=n.radius,t.setRenderTarget(n.mapPass),t.clear(),t.renderBufferDirect(r,null,a,y,b,null),_.uniforms.shadow_pass.value=n.mapPass.texture,_.uniforms.resolution.value=n.mapSize,_.uniforms.radius.value=n.radius,t.setRenderTarget(n.map),t.clear(),t.renderBufferDirect(r,null,a,_,b,null)}function M(e,n,r,i){let a=null;const s=!0===r.isPointLight?e.customDistanceMaterial:e.customDepthMaterial;if(void 0!==s)a=s;else if(a=!0===r.isPointLight?l:o,t.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0){const t=a.uuid,e=n.uuid;let r=u[t];void 0===r&&(r={},u[t]=r);let i=r[e];void 0===i&&(i=a.clone(),r[e]=i,n.addEventListener("dispose",C)),a=i}if(a.visible=n.visible,a.wireframe=n.wireframe,a.side=i===h?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:v[n.side],a.alphaMap=n.alphaMap,a.alphaTest=n.alphaTest,a.map=n.map,a.clipShadows=n.clipShadows,a.clippingPlanes=n.clippingPlanes,a.clipIntersection=n.clipIntersection,a.displacementMap=n.displacementMap,a.displacementScale=n.displacementScale,a.displacementBias=n.displacementBias,a.wireframeLinewidth=n.wireframeLinewidth,a.linewidth=n.linewidth,!0===r.isPointLight&&!0===a.isMeshDistanceMaterial){const e=t.properties.get(a);e.light=r}return a}function T(n,i,a,s,o){if(!1===n.visible)return;const l=n.layers.test(i.layers);if(l&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&o===h)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);const r=e.update(n),l=n.material;if(Array.isArray(l)){const e=r.groups;for(let c=0,u=e.length;c<u;c++){const u=e[c],h=l[u.materialIndex];if(h&&h.visible){const e=M(n,h,s,o);n.onBeforeShadow(t,n,i,a,r,e,u),t.renderBufferDirect(a,null,r,e,n,u),n.onAfterShadow(t,n,i,a,r,e,u)}}}else if(l.visible){const e=M(n,l,s,o);n.onBeforeShadow(t,n,i,a,r,e,null),t.renderBufferDirect(a,null,r,e,n,null),n.onAfterShadow(t,n,i,a,r,e,null)}}const c=n.children;for(let t=0,e=c.length;t<e;t++)T(c[t],i,a,s,o)}function C(t){const e=t.target;e.removeEventListener("dispose",C);for(const n in u){const e=u[n],r=t.target.uuid;if(r in e){const t=e[r];t.dispose(),delete e[r]}}}this.render=function(e,n,o){if(!1===S.enabled)return;if(!1===S.autoUpdate&&!1===S.needsUpdate)return;if(0===e.length)return;const l=t.getRenderTarget(),c=t.getActiveCubeFace(),u=t.getActiveMipmapLevel(),p=t.state;p.setBlending(m),p.buffers.color.setClear(1,1,1,1),p.buffers.depth.setTest(!0),p.setScissorTest(!1);const d=w!==h&&this.type===h,f=w===h&&this.type!==h;for(let m=0,v=e.length;m<v;m++){const l=e[m],c=l.shadow;if(void 0===c){console.warn("THREE.WebGLShadowMap:",l,"has no shadow.");continue}if(!1===c.autoUpdate&&!1===c.needsUpdate)continue;i.copy(c.mapSize);const u=c.getFrameExtents();if(i.multiply(u),a.copy(c.mapSize),(i.x>g||i.y>g)&&(i.x>g&&(a.x=Math.floor(g/u.x),i.x=a.x*u.x,c.mapSize.x=a.x),i.y>g&&(a.y=Math.floor(g/u.y),i.y=a.y*u.y,c.mapSize.y=a.y)),null===c.map||!0===d||!0===f){const t=this.type!==h?{minFilter:mt,magFilter:mt}:{};null!==c.map&&c.map.dispose(),c.map=new nr(i.x,i.y,t),c.map.texture.name=l.name+".shadowMap",c.camera.updateProjectionMatrix()}t.setRenderTarget(c.map),t.clear();const v=c.getViewportCount();for(let t=0;t<v;t++){const e=c.getViewport(t);s.set(a.x*e.x,a.y*e.y,a.x*e.z,a.y*e.w),p.viewport(s),c.updateMatrices(l,t),r=c.getFrustum(),T(n,o,c.camera,l,this.type)}!0!==c.isPointLightShadow&&this.type===h&&E(c,o),c.needsUpdate=!1}w=this.type,S.needsUpdate=!1,t.setRenderTarget(l,c,u)}}function uh(t){function e(){let e=!1;const n=new tr;let r=null;const i=new tr(0,0,0,0);return{setMask:function(n){r===n||e||(t.colorMask(n,n,n,n),r=n)},setLocked:function(t){e=t},setClear:function(e,r,a,s,o){!0===o&&(e*=s,r*=s,a*=s),n.set(e,r,a,s),!1===i.equals(n)&&(t.clearColor(e,r,a,s),i.copy(n))},reset:function(){e=!1,r=null,i.set(-1,0,0,0)}}}function n(){let e=!1,n=null,r=null,i=null;return{setTest:function(e){e?Ct(t.DEPTH_TEST):At(t.DEPTH_TEST)},setMask:function(r){n===r||e||(t.depthMask(r),n=r)},setFunc:function(e){if(r!==e){switch(e){case V:t.depthFunc(t.NEVER);break;case H:t.depthFunc(t.ALWAYS);break;case G:t.depthFunc(t.LESS);break;case W:t.depthFunc(t.LEQUAL);break;case j:t.depthFunc(t.EQUAL);break;case q:t.depthFunc(t.GEQUAL);break;case $:t.depthFunc(t.GREATER);break;case X:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}r=e}},setLocked:function(t){e=t},setClear:function(e){i!==e&&(t.clearDepth(e),i=e)},reset:function(){e=!1,n=null,r=null,i=null}}}function r(){let e=!1,n=null,r=null,i=null,a=null,s=null,o=null,l=null,c=null;return{setTest:function(n){e||(n?Ct(t.STENCIL_TEST):At(t.STENCIL_TEST))},setMask:function(r){n===r||e||(t.stencilMask(r),n=r)},setFunc:function(e,n,s){r===e&&i===n&&a===s||(t.stencilFunc(e,n,s),r=e,i=n,a=s)},setOp:function(e,n,r){s===e&&o===n&&l===r||(t.stencilOp(e,n,r),s=e,o=n,l=r)},setLocked:function(t){e=t},setClear:function(e){c!==e&&(t.clearStencil(e),c=e)},reset:function(){e=!1,n=null,r=null,i=null,a=null,s=null,o=null,l=null,c=null}}}const i=new e,a=new n,c=new r,u=new WeakMap,h=new WeakMap;let p={},Y={},K=new WeakMap,Z=[],J=null,Q=!1,tt=null,et=null,nt=null,rt=null,it=null,at=null,st=null,ot=new Mi(0,0,0),lt=0,ct=!1,ut=null,ht=null,pt=null,dt=null,ft=null;const mt=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let gt=!1,vt=0;const yt=t.getParameter(t.VERSION);-1!==yt.indexOf("WebGL")?(vt=parseFloat(/^WebGL (\d)/.exec(yt)[1]),gt=vt>=1):-1!==yt.indexOf("OpenGL ES")&&(vt=parseFloat(/^OpenGL ES (\d)/.exec(yt)[1]),gt=vt>=2);let _t=null,xt={};const bt=t.getParameter(t.SCISSOR_BOX),St=t.getParameter(t.VIEWPORT),wt=(new tr).fromArray(bt),Et=(new tr).fromArray(St);function Mt(e,n,r,i){const a=new Uint8Array(4),s=t.createTexture();t.bindTexture(e,s),t.texParameteri(e,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(e,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let o=0;o<r;o++)e===t.TEXTURE_3D||e===t.TEXTURE_2D_ARRAY?t.texImage3D(n,0,t.RGBA,1,1,i,0,t.RGBA,t.UNSIGNED_BYTE,a):t.texImage2D(n+o,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,a);return s}const Tt={};function Ct(e){!0!==p[e]&&(t.enable(e),p[e]=!0)}function At(e){!1!==p[e]&&(t.disable(e),p[e]=!1)}function Pt(e,n){return Y[e]!==n&&(t.bindFramebuffer(e,n),Y[e]=n,e===t.DRAW_FRAMEBUFFER&&(Y[t.FRAMEBUFFER]=n),e===t.FRAMEBUFFER&&(Y[t.DRAW_FRAMEBUFFER]=n),!0)}function Rt(e,n){let r=Z,i=!1;if(e){r=K.get(n),void 0===r&&(r=[],K.set(n,r));const a=e.textures;if(r.length!==a.length||r[0]!==t.COLOR_ATTACHMENT0){for(let e=0,n=a.length;e<n;e++)r[e]=t.COLOR_ATTACHMENT0+e;r.length=a.length,i=!0}}else r[0]!==t.BACK&&(r[0]=t.BACK,i=!0);i&&t.drawBuffers(r)}function Dt(e){return J!==e&&(t.useProgram(e),J=e,!0)}Tt[t.TEXTURE_2D]=Mt(t.TEXTURE_2D,t.TEXTURE_2D,1),Tt[t.TEXTURE_CUBE_MAP]=Mt(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),Tt[t.TEXTURE_2D_ARRAY]=Mt(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),Tt[t.TEXTURE_3D]=Mt(t.TEXTURE_3D,t.TEXTURE_3D,1,1),i.setClear(0,0,0,1),a.setClear(1),c.setClear(0),Ct(t.DEPTH_TEST),a.setFunc(W),Ft(!1),Nt(o),Ct(t.CULL_FACE),kt(m);const It={[b]:t.FUNC_ADD,[S]:t.FUNC_SUBTRACT,[w]:t.FUNC_REVERSE_SUBTRACT};It[E]=t.MIN,It[M]=t.MAX;const Lt={[T]:t.ZERO,[C]:t.ONE,[A]:t.SRC_COLOR,[R]:t.SRC_ALPHA,[F]:t.SRC_ALPHA_SATURATE,[k]:t.DST_COLOR,[I]:t.DST_ALPHA,[P]:t.ONE_MINUS_SRC_COLOR,[D]:t.ONE_MINUS_SRC_ALPHA,[O]:t.ONE_MINUS_DST_COLOR,[L]:t.ONE_MINUS_DST_ALPHA,[N]:t.CONSTANT_COLOR,[B]:t.ONE_MINUS_CONSTANT_COLOR,[U]:t.CONSTANT_ALPHA,[z]:t.ONE_MINUS_CONSTANT_ALPHA};function kt(e,n,r,i,a,s,o,l,c,u){if(e!==m){if(!1===Q&&(Ct(t.BLEND),Q=!0),e===x)a=a||n,s=s||r,o=o||i,n===et&&a===it||(t.blendEquationSeparate(It[n],It[a]),et=n,it=a),r===nt&&i===rt&&s===at&&o===st||(t.blendFuncSeparate(Lt[r],Lt[i],Lt[s],Lt[o]),nt=r,rt=i,at=s,st=o),!1!==l.equals(ot)&&c===lt||(t.blendColor(l.r,l.g,l.b,c),ot.copy(l),lt=c),tt=e,ct=!1;else if(e!==tt||u!==ct){if(et===b&&it===b||(t.blendEquation(t.FUNC_ADD),et=b,it=b),u)switch(e){case g:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case v:t.blendFunc(t.ONE,t.ONE);break;case y:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case _:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",e);break}else switch(e){case g:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case v:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case y:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case _:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",e);break}nt=null,rt=null,at=null,st=null,ot.set(0,0,0),lt=0,tt=e,ct=u}}else!0===Q&&(At(t.BLEND),Q=!1)}function Ot(e,n){e.side===f?At(t.CULL_FACE):Ct(t.CULL_FACE);let r=e.side===d;n&&(r=!r),Ft(r),e.blending===g&&!1===e.transparent?kt(m):kt(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.blendColor,e.blendAlpha,e.premultipliedAlpha),a.setFunc(e.depthFunc),a.setTest(e.depthTest),a.setMask(e.depthWrite),i.setMask(e.colorWrite);const s=e.stencilWrite;c.setTest(s),s&&(c.setMask(e.stencilWriteMask),c.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),c.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),Ut(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits),!0===e.alphaToCoverage?Ct(t.SAMPLE_ALPHA_TO_COVERAGE):At(t.SAMPLE_ALPHA_TO_COVERAGE)}function Ft(e){ut!==e&&(e?t.frontFace(t.CW):t.frontFace(t.CCW),ut=e)}function Nt(e){e!==s?(Ct(t.CULL_FACE),e!==ht&&(e===o?t.cullFace(t.BACK):e===l?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):At(t.CULL_FACE),ht=e}function Bt(e){e!==pt&&(gt&&t.lineWidth(e),pt=e)}function Ut(e,n,r){e?(Ct(t.POLYGON_OFFSET_FILL),dt===n&&ft===r||(t.polygonOffset(n,r),dt=n,ft=r)):At(t.POLYGON_OFFSET_FILL)}function zt(e){e?Ct(t.SCISSOR_TEST):At(t.SCISSOR_TEST)}function Vt(e){void 0===e&&(e=t.TEXTURE0+mt-1),_t!==e&&(t.activeTexture(e),_t=e)}function Ht(e,n,r){void 0===r&&(r=null===_t?t.TEXTURE0+mt-1:_t);let i=xt[r];void 0===i&&(i={type:void 0,texture:void 0},xt[r]=i),i.type===e&&i.texture===n||(_t!==r&&(t.activeTexture(r),_t=r),t.bindTexture(e,n||Tt[e]),i.type=e,i.texture=n)}function Gt(){const e=xt[_t];void 0!==e&&void 0!==e.type&&(t.bindTexture(e.type,null),e.type=void 0,e.texture=void 0)}function Wt(){try{t.compressedTexImage2D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}}function jt(){try{t.compressedTexImage3D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}}function qt(){try{t.texSubImage2D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}}function $t(){try{t.texSubImage3D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}}function Xt(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}}function Yt(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}}function Kt(){try{t.texStorage2D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}}function Zt(){try{t.texStorage3D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}}function Jt(){try{t.texImage2D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}}function Qt(){try{t.texImage3D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}}function te(e){!1===wt.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),wt.copy(e))}function ee(e){!1===Et.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),Et.copy(e))}function ne(e,n){let r=h.get(n);void 0===r&&(r=new WeakMap,h.set(n,r));let i=r.get(e);void 0===i&&(i=t.getUniformBlockIndex(n,e.name),r.set(e,i))}function re(e,n){const r=h.get(n),i=r.get(e);u.get(n)!==i&&(t.uniformBlockBinding(n,i,e.__bindingPointIndex),u.set(n,i))}function ie(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),p={},_t=null,xt={},Y={},K=new WeakMap,Z=[],J=null,Q=!1,tt=null,et=null,nt=null,rt=null,it=null,at=null,st=null,ot=new Mi(0,0,0),lt=0,ct=!1,ut=null,ht=null,pt=null,dt=null,ft=null,wt.set(0,0,t.canvas.width,t.canvas.height),Et.set(0,0,t.canvas.width,t.canvas.height),i.reset(),a.reset(),c.reset()}return{buffers:{color:i,depth:a,stencil:c},enable:Ct,disable:At,bindFramebuffer:Pt,drawBuffers:Rt,useProgram:Dt,setBlending:kt,setMaterial:Ot,setFlipSided:Ft,setCullFace:Nt,setLineWidth:Bt,setPolygonOffset:Ut,setScissorTest:zt,activeTexture:Vt,bindTexture:Ht,unbindTexture:Gt,compressedTexImage2D:Wt,compressedTexImage3D:jt,texImage2D:Jt,texImage3D:Qt,updateUBOMapping:ne,uniformBlockBinding:re,texStorage2D:Kt,texStorage3D:Zt,texSubImage2D:qt,texSubImage3D:$t,compressedTexSubImage2D:Xt,compressedTexSubImage3D:Yt,scissor:te,viewport:ee,reset:ie}}function hh(t,e,n,r){const i=ph(r);switch(n){case Lt:return t*e;case Ft:return t*e;case Nt:return t*e*2;case zt:return t*e/i.components*i.byteLength;case Vt:return t*e/i.components*i.byteLength;case Ht:return t*e*2/i.components*i.byteLength;case Gt:return t*e*2/i.components*i.byteLength;case kt:return t*e*3/i.components*i.byteLength;case Ot:return t*e*4/i.components*i.byteLength;case Wt:return t*e*4/i.components*i.byteLength;case jt:case qt:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case $t:case Xt:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case Kt:case Jt:return Math.max(t,16)*Math.max(e,8)/4;case Yt:case Zt:return Math.max(t,8)*Math.max(e,8)/2;case Qt:case te:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case ee:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case ne:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case re:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case ie:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case ae:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case se:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case oe:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case le:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case ce:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case ue:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case he:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case pe:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case de:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case fe:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case me:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case ge:case ve:case ye:return Math.ceil(t/4)*Math.ceil(e/4)*16;case _e:case xe:return Math.ceil(t/4)*Math.ceil(e/4)*8;case be:case Se:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function ph(t){switch(t){case bt:case St:return{byteLength:1,components:1};case Et:case wt:case At:return{byteLength:2,components:1};case Pt:case Rt:return{byteLength:2,components:4};case Tt:case Mt:case Ct:return{byteLength:4,components:1};case It:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}function dh(t,e,n,r,i,a,s){const o=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l="undefined"!==typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),c=new Dn,u=new WeakMap;let h;const p=new WeakMap;let d=!1;try{d="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(nt){}function f(t,e){return d?new OffscreenCanvas(t,e):On("canvas")}function m(t,e,n){let r=1;const i=et(t);if((i.width>n||i.height>n)&&(r=n/Math.max(i.width,i.height)),r<1){if("undefined"!==typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&t instanceof ImageBitmap||"undefined"!==typeof VideoFrame&&t instanceof VideoFrame){const n=Math.floor(r*i.width),a=Math.floor(r*i.height);void 0===h&&(h=f(n,a));const s=e?f(n,a):h;s.width=n,s.height=a;const o=s.getContext("2d");return o.drawImage(t,0,0,n,a),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+i.width+"x"+i.height+") to ("+n+"x"+a+")."),s}return"data"in t&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+i.width+"x"+i.height+")."),t}return t}function g(t){return t.generateMipmaps&&t.minFilter!==mt&&t.minFilter!==yt}function v(e){t.generateMipmap(e)}function y(n,r,i,a,s=!1){if(null!==n){if(void 0!==t[n])return t[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}let o=r;if(r===t.RED&&(i===t.FLOAT&&(o=t.R32F),i===t.HALF_FLOAT&&(o=t.R16F),i===t.UNSIGNED_BYTE&&(o=t.R8)),r===t.RED_INTEGER&&(i===t.UNSIGNED_BYTE&&(o=t.R8UI),i===t.UNSIGNED_SHORT&&(o=t.R16UI),i===t.UNSIGNED_INT&&(o=t.R32UI),i===t.BYTE&&(o=t.R8I),i===t.SHORT&&(o=t.R16I),i===t.INT&&(o=t.R32I)),r===t.RG&&(i===t.FLOAT&&(o=t.RG32F),i===t.HALF_FLOAT&&(o=t.RG16F),i===t.UNSIGNED_BYTE&&(o=t.RG8)),r===t.RG_INTEGER&&(i===t.UNSIGNED_BYTE&&(o=t.RG8UI),i===t.UNSIGNED_SHORT&&(o=t.RG16UI),i===t.UNSIGNED_INT&&(o=t.RG32UI),i===t.BYTE&&(o=t.RG8I),i===t.SHORT&&(o=t.RG16I),i===t.INT&&(o=t.RG32I)),r===t.RGB&&i===t.UNSIGNED_INT_5_9_9_9_REV&&(o=t.RGB9_E5),r===t.RGBA){const e=s?Be:Wn.getTransfer(a);i===t.FLOAT&&(o=t.RGBA32F),i===t.HALF_FLOAT&&(o=t.RGBA16F),i===t.UNSIGNED_BYTE&&(o=e===Ue?t.SRGB8_ALPHA8:t.RGBA8),i===t.UNSIGNED_SHORT_4_4_4_4&&(o=t.RGBA4),i===t.UNSIGNED_SHORT_5_5_5_1&&(o=t.RGB5_A1)}return o!==t.R16F&&o!==t.R32F&&o!==t.RG16F&&o!==t.RG32F&&o!==t.RGBA16F&&o!==t.RGBA32F||e.get("EXT_color_buffer_float"),o}function _(e,n){let r;return e?null===n||n===Tt||n===Dt?r=t.DEPTH24_STENCIL8:n===Ct?r=t.DEPTH32F_STENCIL8:n===Et&&(r=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):null===n||n===Tt||n===Dt?r=t.DEPTH_COMPONENT24:n===Ct?r=t.DEPTH_COMPONENT32F:n===Et&&(r=t.DEPTH_COMPONENT16),r}function x(t,e){return!0===g(t)||t.isFramebufferTexture&&t.minFilter!==mt&&t.minFilter!==yt?Math.log2(Math.max(e.width,e.height))+1:void 0!==t.mipmaps&&t.mipmaps.length>0?t.mipmaps.length:t.isCompressedTexture&&Array.isArray(t.image)?e.mipmaps.length:1}function b(t){const e=t.target;e.removeEventListener("dispose",b),w(e),e.isVideoTexture&&u.delete(e)}function S(t){const e=t.target;e.removeEventListener("dispose",S),M(e)}function w(t){const e=r.get(t);if(void 0===e.__webglInit)return;const n=t.source,i=p.get(n);if(i){const r=i[e.__cacheKey];r.usedTimes--,0===r.usedTimes&&E(t),0===Object.keys(i).length&&p.delete(n)}r.remove(t)}function E(e){const n=r.get(e);t.deleteTexture(n.__webglTexture);const i=e.source,a=p.get(i);delete a[n.__cacheKey],s.memory.textures--}function M(e){const n=r.get(e);if(e.depthTexture&&e.depthTexture.dispose(),e.isWebGLCubeRenderTarget)for(let r=0;r<6;r++){if(Array.isArray(n.__webglFramebuffer[r]))for(let e=0;e<n.__webglFramebuffer[r].length;e++)t.deleteFramebuffer(n.__webglFramebuffer[r][e]);else t.deleteFramebuffer(n.__webglFramebuffer[r]);n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer[r])}else{if(Array.isArray(n.__webglFramebuffer))for(let e=0;e<n.__webglFramebuffer.length;e++)t.deleteFramebuffer(n.__webglFramebuffer[e]);else t.deleteFramebuffer(n.__webglFramebuffer);if(n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer),n.__webglMultisampledFramebuffer&&t.deleteFramebuffer(n.__webglMultisampledFramebuffer),n.__webglColorRenderbuffer)for(let e=0;e<n.__webglColorRenderbuffer.length;e++)n.__webglColorRenderbuffer[e]&&t.deleteRenderbuffer(n.__webglColorRenderbuffer[e]);n.__webglDepthRenderbuffer&&t.deleteRenderbuffer(n.__webglDepthRenderbuffer)}const i=e.textures;for(let a=0,o=i.length;a<o;a++){const e=r.get(i[a]);e.__webglTexture&&(t.deleteTexture(e.__webglTexture),s.memory.textures--),r.remove(i[a])}r.remove(e)}let T=0;function C(){T=0}function A(){const t=T;return t>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+t+" texture units while this GPU supports only "+i.maxTextures),T+=1,t}function P(t){const e=[];return e.push(t.wrapS),e.push(t.wrapT),e.push(t.wrapR||0),e.push(t.magFilter),e.push(t.minFilter),e.push(t.anisotropy),e.push(t.internalFormat),e.push(t.format),e.push(t.type),e.push(t.generateMipmaps),e.push(t.premultiplyAlpha),e.push(t.flipY),e.push(t.unpackAlignment),e.push(t.colorSpace),e.join()}function R(e,i){const a=r.get(e);if(e.isVideoTexture&&Q(e),!1===e.isRenderTargetTexture&&e.version>0&&a.__version!==e.version){const t=e.image;if(null===t)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==t.complete)return void U(a,e,i);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.bindTexture(t.TEXTURE_2D,a.__webglTexture,t.TEXTURE0+i)}function D(e,i){const a=r.get(e);e.version>0&&a.__version!==e.version?U(a,e,i):n.bindTexture(t.TEXTURE_2D_ARRAY,a.__webglTexture,t.TEXTURE0+i)}function I(e,i){const a=r.get(e);e.version>0&&a.__version!==e.version?U(a,e,i):n.bindTexture(t.TEXTURE_3D,a.__webglTexture,t.TEXTURE0+i)}function L(e,i){const a=r.get(e);e.version>0&&a.__version!==e.version?z(a,e,i):n.bindTexture(t.TEXTURE_CUBE_MAP,a.__webglTexture,t.TEXTURE0+i)}const k={[pt]:t.REPEAT,[dt]:t.CLAMP_TO_EDGE,[ft]:t.MIRRORED_REPEAT},O={[mt]:t.NEAREST,[gt]:t.NEAREST_MIPMAP_NEAREST,[vt]:t.NEAREST_MIPMAP_LINEAR,[yt]:t.LINEAR,[_t]:t.LINEAR_MIPMAP_NEAREST,[xt]:t.LINEAR_MIPMAP_LINEAR},F={[We]:t.NEVER,[Ze]:t.ALWAYS,[je]:t.LESS,[$e]:t.LEQUAL,[qe]:t.EQUAL,[Ke]:t.GEQUAL,[Xe]:t.GREATER,[Ye]:t.NOTEQUAL};function N(n,a){if(a.type!==Ct||!1!==e.has("OES_texture_float_linear")||a.magFilter!==yt&&a.magFilter!==_t&&a.magFilter!==vt&&a.magFilter!==xt&&a.minFilter!==yt&&a.minFilter!==_t&&a.minFilter!==vt&&a.minFilter!==xt||console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(n,t.TEXTURE_WRAP_S,k[a.wrapS]),t.texParameteri(n,t.TEXTURE_WRAP_T,k[a.wrapT]),n!==t.TEXTURE_3D&&n!==t.TEXTURE_2D_ARRAY||t.texParameteri(n,t.TEXTURE_WRAP_R,k[a.wrapR]),t.texParameteri(n,t.TEXTURE_MAG_FILTER,O[a.magFilter]),t.texParameteri(n,t.TEXTURE_MIN_FILTER,O[a.minFilter]),a.compareFunction&&(t.texParameteri(n,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(n,t.TEXTURE_COMPARE_FUNC,F[a.compareFunction])),!0===e.has("EXT_texture_filter_anisotropic")){if(a.magFilter===mt)return;if(a.minFilter!==vt&&a.minFilter!==xt)return;if(a.type===Ct&&!1===e.has("OES_texture_float_linear"))return;if(a.anisotropy>1||r.get(a).__currentAnisotropy){const s=e.get("EXT_texture_filter_anisotropic");t.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy}}}function B(e,n){let r=!1;void 0===e.__webglInit&&(e.__webglInit=!0,n.addEventListener("dispose",b));const i=n.source;let a=p.get(i);void 0===a&&(a={},p.set(i,a));const o=P(n);if(o!==e.__cacheKey){void 0===a[o]&&(a[o]={texture:t.createTexture(),usedTimes:0},s.memory.textures++,r=!0),a[o].usedTimes++;const i=a[e.__cacheKey];void 0!==i&&(a[e.__cacheKey].usedTimes--,0===i.usedTimes&&E(n)),e.__cacheKey=o,e.__webglTexture=a[o].texture}return r}function U(e,s,o){let l=t.TEXTURE_2D;(s.isDataArrayTexture||s.isCompressedArrayTexture)&&(l=t.TEXTURE_2D_ARRAY),s.isData3DTexture&&(l=t.TEXTURE_3D);const c=B(e,s),u=s.source;n.bindTexture(l,e.__webglTexture,t.TEXTURE0+o);const h=r.get(u);if(u.version!==h.__version||!0===c){n.activeTexture(t.TEXTURE0+o);const e=Wn.getPrimaries(Wn.workingColorSpace),r=s.colorSpace===Le?null:Wn.getPrimaries(s.colorSpace),p=s.colorSpace===Le||e===r?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,s.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,s.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,p);let d=m(s.image,!1,i.maxTextureSize);d=tt(s,d);const f=a.convert(s.format,s.colorSpace),b=a.convert(s.type);let S,w=y(s.internalFormat,f,b,s.colorSpace,s.isVideoTexture);N(l,s);const E=s.mipmaps,M=!0!==s.isVideoTexture,T=void 0===h.__version||!0===c,C=u.dataReady,A=x(s,d);if(s.isDepthTexture)w=_(s.format===Ut,s.type),T&&(M?n.texStorage2D(t.TEXTURE_2D,1,w,d.width,d.height):n.texImage2D(t.TEXTURE_2D,0,w,d.width,d.height,0,f,b,null));else if(s.isDataTexture)if(E.length>0){M&&T&&n.texStorage2D(t.TEXTURE_2D,A,w,E[0].width,E[0].height);for(let e=0,r=E.length;e<r;e++)S=E[e],M?C&&n.texSubImage2D(t.TEXTURE_2D,e,0,0,S.width,S.height,f,b,S.data):n.texImage2D(t.TEXTURE_2D,e,w,S.width,S.height,0,f,b,S.data);s.generateMipmaps=!1}else M?(T&&n.texStorage2D(t.TEXTURE_2D,A,w,d.width,d.height),C&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,d.width,d.height,f,b,d.data)):n.texImage2D(t.TEXTURE_2D,0,w,d.width,d.height,0,f,b,d.data);else if(s.isCompressedTexture)if(s.isCompressedArrayTexture){M&&T&&n.texStorage3D(t.TEXTURE_2D_ARRAY,A,w,E[0].width,E[0].height,d.depth);for(let e=0,r=E.length;e<r;e++)if(S=E[e],s.format!==Ot)if(null!==f)if(M){if(C)if(s.layerUpdates.size>0){const r=hh(S.width,S.height,s.format,s.type);for(const i of s.layerUpdates){const a=S.data.subarray(i*r/S.data.BYTES_PER_ELEMENT,(i+1)*r/S.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,e,0,0,i,S.width,S.height,1,f,a,0,0)}s.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,e,0,0,0,S.width,S.height,d.depth,f,S.data,0,0)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,e,w,S.width,S.height,d.depth,0,S.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else M?C&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,e,0,0,0,S.width,S.height,d.depth,f,b,S.data):n.texImage3D(t.TEXTURE_2D_ARRAY,e,w,S.width,S.height,d.depth,0,f,b,S.data)}else{M&&T&&n.texStorage2D(t.TEXTURE_2D,A,w,E[0].width,E[0].height);for(let e=0,r=E.length;e<r;e++)S=E[e],s.format!==Ot?null!==f?M?C&&n.compressedTexSubImage2D(t.TEXTURE_2D,e,0,0,S.width,S.height,f,S.data):n.compressedTexImage2D(t.TEXTURE_2D,e,w,S.width,S.height,0,S.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):M?C&&n.texSubImage2D(t.TEXTURE_2D,e,0,0,S.width,S.height,f,b,S.data):n.texImage2D(t.TEXTURE_2D,e,w,S.width,S.height,0,f,b,S.data)}else if(s.isDataArrayTexture)if(M){if(T&&n.texStorage3D(t.TEXTURE_2D_ARRAY,A,w,d.width,d.height,d.depth),C)if(s.layerUpdates.size>0){const e=hh(d.width,d.height,s.format,s.type);for(const r of s.layerUpdates){const i=d.data.subarray(r*e/d.data.BYTES_PER_ELEMENT,(r+1)*e/d.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,r,d.width,d.height,1,f,b,i)}s.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,d.width,d.height,d.depth,f,b,d.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,w,d.width,d.height,d.depth,0,f,b,d.data);else if(s.isData3DTexture)M?(T&&n.texStorage3D(t.TEXTURE_3D,A,w,d.width,d.height,d.depth),C&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,d.width,d.height,d.depth,f,b,d.data)):n.texImage3D(t.TEXTURE_3D,0,w,d.width,d.height,d.depth,0,f,b,d.data);else if(s.isFramebufferTexture){if(T)if(M)n.texStorage2D(t.TEXTURE_2D,A,w,d.width,d.height);else{let e=d.width,r=d.height;for(let i=0;i<A;i++)n.texImage2D(t.TEXTURE_2D,i,w,e,r,0,f,b,null),e>>=1,r>>=1}}else if(E.length>0){if(M&&T){const e=et(E[0]);n.texStorage2D(t.TEXTURE_2D,A,w,e.width,e.height)}for(let e=0,r=E.length;e<r;e++)S=E[e],M?C&&n.texSubImage2D(t.TEXTURE_2D,e,0,0,f,b,S):n.texImage2D(t.TEXTURE_2D,e,w,f,b,S);s.generateMipmaps=!1}else if(M){if(T){const e=et(d);n.texStorage2D(t.TEXTURE_2D,A,w,e.width,e.height)}C&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,f,b,d)}else n.texImage2D(t.TEXTURE_2D,0,w,f,b,d);g(s)&&v(l),h.__version=u.version,s.onUpdate&&s.onUpdate(s)}e.__version=s.version}function z(e,s,o){if(6!==s.image.length)return;const l=B(e,s),c=s.source;n.bindTexture(t.TEXTURE_CUBE_MAP,e.__webglTexture,t.TEXTURE0+o);const u=r.get(c);if(c.version!==u.__version||!0===l){n.activeTexture(t.TEXTURE0+o);const e=Wn.getPrimaries(Wn.workingColorSpace),r=s.colorSpace===Le?null:Wn.getPrimaries(s.colorSpace),h=s.colorSpace===Le||e===r?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,s.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,s.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,h);const p=s.isCompressedTexture||s.image[0].isCompressedTexture,d=s.image[0]&&s.image[0].isDataTexture,f=[];for(let t=0;t<6;t++)f[t]=p||d?d?s.image[t].image:s.image[t]:m(s.image[t],!0,i.maxCubemapSize),f[t]=tt(s,f[t]);const _=f[0],b=a.convert(s.format,s.colorSpace),S=a.convert(s.type),w=y(s.internalFormat,b,S,s.colorSpace),E=!0!==s.isVideoTexture,M=void 0===u.__version||!0===l,T=c.dataReady;let C,A=x(s,_);if(N(t.TEXTURE_CUBE_MAP,s),p){E&&M&&n.texStorage2D(t.TEXTURE_CUBE_MAP,A,w,_.width,_.height);for(let e=0;e<6;e++){C=f[e].mipmaps;for(let r=0;r<C.length;r++){const i=C[r];s.format!==Ot?null!==b?E?T&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,r,0,0,i.width,i.height,b,i.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,r,w,i.width,i.height,0,i.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):E?T&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,r,0,0,i.width,i.height,b,S,i.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,r,w,i.width,i.height,0,b,S,i.data)}}}else{if(C=s.mipmaps,E&&M){C.length>0&&A++;const e=et(f[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,A,w,e.width,e.height)}for(let e=0;e<6;e++)if(d){E?T&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,0,0,f[e].width,f[e].height,b,S,f[e].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,w,f[e].width,f[e].height,0,b,S,f[e].data);for(let r=0;r<C.length;r++){const i=C[r],a=i.image[e].image;E?T&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,r+1,0,0,a.width,a.height,b,S,a.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,r+1,w,a.width,a.height,0,b,S,a.data)}}else{E?T&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,0,0,b,S,f[e]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,w,b,S,f[e]);for(let r=0;r<C.length;r++){const i=C[r];E?T&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,r+1,0,0,b,S,i.image[e]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,r+1,w,b,S,i.image[e])}}}g(s)&&v(t.TEXTURE_CUBE_MAP),u.__version=c.version,s.onUpdate&&s.onUpdate(s)}e.__version=s.version}function V(e,i,s,l,c,u){const h=a.convert(s.format,s.colorSpace),p=a.convert(s.type),d=y(s.internalFormat,h,p,s.colorSpace),f=r.get(i);if(!f.__hasExternalTextures){const e=Math.max(1,i.width>>u),r=Math.max(1,i.height>>u);c===t.TEXTURE_3D||c===t.TEXTURE_2D_ARRAY?n.texImage3D(c,u,d,e,r,i.depth,0,h,p,null):n.texImage2D(c,u,d,e,r,0,h,p,null)}n.bindFramebuffer(t.FRAMEBUFFER,e),J(i)?o.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,l,c,r.get(s).__webglTexture,0,Z(i)):(c===t.TEXTURE_2D||c>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&c<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,l,c,r.get(s).__webglTexture,u),n.bindFramebuffer(t.FRAMEBUFFER,null)}function H(e,n,r){if(t.bindRenderbuffer(t.RENDERBUFFER,e),n.depthBuffer){const i=n.depthTexture,a=i&&i.isDepthTexture?i.type:null,s=_(n.stencilBuffer,a),l=n.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,c=Z(n),u=J(n);u?o.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,c,s,n.width,n.height):r?t.renderbufferStorageMultisample(t.RENDERBUFFER,c,s,n.width,n.height):t.renderbufferStorage(t.RENDERBUFFER,s,n.width,n.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,l,t.RENDERBUFFER,e)}else{const e=n.textures;for(let i=0;i<e.length;i++){const s=e[i],l=a.convert(s.format,s.colorSpace),c=a.convert(s.type),u=y(s.internalFormat,l,c,s.colorSpace),h=Z(n);r&&!1===J(n)?t.renderbufferStorageMultisample(t.RENDERBUFFER,h,u,n.width,n.height):J(n)?o.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,h,u,n.width,n.height):t.renderbufferStorage(t.RENDERBUFFER,u,n.width,n.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function G(e,i){const a=i&&i.isWebGLCubeRenderTarget;if(a)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,e),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),R(i.depthTexture,0);const s=r.get(i.depthTexture).__webglTexture,l=Z(i);if(i.depthTexture.format===Bt)J(i)?o.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,s,0,l):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,s,0);else{if(i.depthTexture.format!==Ut)throw new Error("Unknown depthTexture format");J(i)?o.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,s,0,l):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,s,0)}}function W(e){const i=r.get(e),a=!0===e.isWebGLCubeRenderTarget;if(e.depthTexture&&!i.__autoAllocateDepthBuffer){if(a)throw new Error("target.depthTexture not supported in Cube render targets");G(i.__webglFramebuffer,e)}else if(a){i.__webglDepthbuffer=[];for(let r=0;r<6;r++)n.bindFramebuffer(t.FRAMEBUFFER,i.__webglFramebuffer[r]),i.__webglDepthbuffer[r]=t.createRenderbuffer(),H(i.__webglDepthbuffer[r],e,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,i.__webglFramebuffer),i.__webglDepthbuffer=t.createRenderbuffer(),H(i.__webglDepthbuffer,e,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function j(e,n,i){const a=r.get(e);void 0!==n&&V(a.__webglFramebuffer,e,e.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),void 0!==i&&W(e)}function q(e){const i=e.texture,o=r.get(e),l=r.get(i);e.addEventListener("dispose",S);const c=e.textures,u=!0===e.isWebGLCubeRenderTarget,h=c.length>1;if(h||(void 0===l.__webglTexture&&(l.__webglTexture=t.createTexture()),l.__version=i.version,s.memory.textures++),u){o.__webglFramebuffer=[];for(let e=0;e<6;e++)if(i.mipmaps&&i.mipmaps.length>0){o.__webglFramebuffer[e]=[];for(let n=0;n<i.mipmaps.length;n++)o.__webglFramebuffer[e][n]=t.createFramebuffer()}else o.__webglFramebuffer[e]=t.createFramebuffer()}else{if(i.mipmaps&&i.mipmaps.length>0){o.__webglFramebuffer=[];for(let e=0;e<i.mipmaps.length;e++)o.__webglFramebuffer[e]=t.createFramebuffer()}else o.__webglFramebuffer=t.createFramebuffer();if(h)for(let e=0,n=c.length;e<n;e++){const n=r.get(c[e]);void 0===n.__webglTexture&&(n.__webglTexture=t.createTexture(),s.memory.textures++)}if(e.samples>0&&!1===J(e)){o.__webglMultisampledFramebuffer=t.createFramebuffer(),o.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,o.__webglMultisampledFramebuffer);for(let n=0;n<c.length;n++){const r=c[n];o.__webglColorRenderbuffer[n]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,o.__webglColorRenderbuffer[n]);const i=a.convert(r.format,r.colorSpace),s=a.convert(r.type),l=y(r.internalFormat,i,s,r.colorSpace,!0===e.isXRRenderTarget),u=Z(e);t.renderbufferStorageMultisample(t.RENDERBUFFER,u,l,e.width,e.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+n,t.RENDERBUFFER,o.__webglColorRenderbuffer[n])}t.bindRenderbuffer(t.RENDERBUFFER,null),e.depthBuffer&&(o.__webglDepthRenderbuffer=t.createRenderbuffer(),H(o.__webglDepthRenderbuffer,e,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(u){n.bindTexture(t.TEXTURE_CUBE_MAP,l.__webglTexture),N(t.TEXTURE_CUBE_MAP,i);for(let n=0;n<6;n++)if(i.mipmaps&&i.mipmaps.length>0)for(let r=0;r<i.mipmaps.length;r++)V(o.__webglFramebuffer[n][r],e,i,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+n,r);else V(o.__webglFramebuffer[n],e,i,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+n,0);g(i)&&v(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(h){for(let i=0,a=c.length;i<a;i++){const a=c[i],s=r.get(a);n.bindTexture(t.TEXTURE_2D,s.__webglTexture),N(t.TEXTURE_2D,a),V(o.__webglFramebuffer,e,a,t.COLOR_ATTACHMENT0+i,t.TEXTURE_2D,0),g(a)&&v(t.TEXTURE_2D)}n.unbindTexture()}else{let r=t.TEXTURE_2D;if((e.isWebGL3DRenderTarget||e.isWebGLArrayRenderTarget)&&(r=e.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(r,l.__webglTexture),N(r,i),i.mipmaps&&i.mipmaps.length>0)for(let n=0;n<i.mipmaps.length;n++)V(o.__webglFramebuffer[n],e,i,t.COLOR_ATTACHMENT0,r,n);else V(o.__webglFramebuffer,e,i,t.COLOR_ATTACHMENT0,r,0);g(i)&&v(r),n.unbindTexture()}e.depthBuffer&&W(e)}function $(e){const i=e.textures;for(let a=0,s=i.length;a<s;a++){const s=i[a];if(g(s)){const i=e.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,a=r.get(s).__webglTexture;n.bindTexture(i,a),v(i),n.unbindTexture()}}}const X=[],Y=[];function K(e){if(e.samples>0)if(!1===J(e)){const i=e.textures,a=e.width,s=e.height;let o=t.COLOR_BUFFER_BIT;const c=e.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,u=r.get(e),h=i.length>1;if(h)for(let e=0;e<i.length;e++)n.bindFramebuffer(t.FRAMEBUFFER,u.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+e,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,u.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+e,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,u.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,u.__webglFramebuffer);for(let n=0;n<i.length;n++){if(e.resolveDepthBuffer&&(e.depthBuffer&&(o|=t.DEPTH_BUFFER_BIT),e.stencilBuffer&&e.resolveStencilBuffer&&(o|=t.STENCIL_BUFFER_BIT)),h){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,u.__webglColorRenderbuffer[n]);const e=r.get(i[n]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0)}t.blitFramebuffer(0,0,a,s,0,0,a,s,o,t.NEAREST),!0===l&&(X.length=0,Y.length=0,X.push(t.COLOR_ATTACHMENT0+n),e.depthBuffer&&!1===e.resolveDepthBuffer&&(X.push(c),Y.push(c),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,Y)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,X))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),h)for(let e=0;e<i.length;e++){n.bindFramebuffer(t.FRAMEBUFFER,u.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+e,t.RENDERBUFFER,u.__webglColorRenderbuffer[e]);const a=r.get(i[e]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,u.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+e,t.TEXTURE_2D,a,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,u.__webglMultisampledFramebuffer)}else if(e.depthBuffer&&!1===e.resolveDepthBuffer&&l){const n=e.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[n])}}function Z(t){return Math.min(i.maxSamples,t.samples)}function J(t){const n=r.get(t);return t.samples>0&&!0===e.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function Q(t){const e=s.render.frame;u.get(t)!==e&&(u.set(t,e),t.update())}function tt(t,e){const n=t.colorSpace,r=t.format,i=t.type;return!0===t.isCompressedTexture||!0===t.isVideoTexture||n!==Oe&&n!==Le&&(Wn.getTransfer(n)===Ue?r===Ot&&i===bt||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",n)),e}function et(t){return"undefined"!==typeof HTMLImageElement&&t instanceof HTMLImageElement?(c.width=t.naturalWidth||t.width,c.height=t.naturalHeight||t.height):"undefined"!==typeof VideoFrame&&t instanceof VideoFrame?(c.width=t.displayWidth,c.height=t.displayHeight):(c.width=t.width,c.height=t.height),c}this.allocateTextureUnit=A,this.resetTextureUnits=C,this.setTexture2D=R,this.setTexture2DArray=D,this.setTexture3D=I,this.setTextureCube=L,this.rebindTextures=j,this.setupRenderTarget=q,this.updateRenderTargetMipmap=$,this.updateMultisampleRenderTarget=K,this.setupDepthRenderbuffer=W,this.setupFrameBufferTexture=V,this.useMultisampledRTT=J}function fh(t,e){function n(n,r=Le){let i;const a=Wn.getTransfer(r);if(n===bt)return t.UNSIGNED_BYTE;if(n===Pt)return t.UNSIGNED_SHORT_4_4_4_4;if(n===Rt)return t.UNSIGNED_SHORT_5_5_5_1;if(n===It)return t.UNSIGNED_INT_5_9_9_9_REV;if(n===St)return t.BYTE;if(n===wt)return t.SHORT;if(n===Et)return t.UNSIGNED_SHORT;if(n===Mt)return t.INT;if(n===Tt)return t.UNSIGNED_INT;if(n===Ct)return t.FLOAT;if(n===At)return t.HALF_FLOAT;if(n===Lt)return t.ALPHA;if(n===kt)return t.RGB;if(n===Ot)return t.RGBA;if(n===Ft)return t.LUMINANCE;if(n===Nt)return t.LUMINANCE_ALPHA;if(n===Bt)return t.DEPTH_COMPONENT;if(n===Ut)return t.DEPTH_STENCIL;if(n===zt)return t.RED;if(n===Vt)return t.RED_INTEGER;if(n===Ht)return t.RG;if(n===Gt)return t.RG_INTEGER;if(n===Wt)return t.RGBA_INTEGER;if(n===jt||n===qt||n===$t||n===Xt)if(a===Ue){if(i=e.get("WEBGL_compressed_texture_s3tc_srgb"),null===i)return null;if(n===jt)return i.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===qt)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===$t)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===Xt)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(i=e.get("WEBGL_compressed_texture_s3tc"),null===i)return null;if(n===jt)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===qt)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===$t)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===Xt)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n===Yt||n===Kt||n===Zt||n===Jt){if(i=e.get("WEBGL_compressed_texture_pvrtc"),null===i)return null;if(n===Yt)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===Kt)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===Zt)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===Jt)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===Qt||n===te||n===ee){if(i=e.get("WEBGL_compressed_texture_etc"),null===i)return null;if(n===Qt||n===te)return a===Ue?i.COMPRESSED_SRGB8_ETC2:i.COMPRESSED_RGB8_ETC2;if(n===ee)return a===Ue?i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:i.COMPRESSED_RGBA8_ETC2_EAC}if(n===ne||n===re||n===ie||n===ae||n===se||n===oe||n===le||n===ce||n===ue||n===he||n===pe||n===de||n===fe||n===me){if(i=e.get("WEBGL_compressed_texture_astc"),null===i)return null;if(n===ne)return a===Ue?i.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:i.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===re)return a===Ue?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:i.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===ie)return a===Ue?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:i.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===ae)return a===Ue?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:i.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===se)return a===Ue?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:i.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===oe)return a===Ue?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:i.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===le)return a===Ue?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:i.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===ce)return a===Ue?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:i.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===ue)return a===Ue?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:i.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===he)return a===Ue?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:i.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===pe)return a===Ue?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:i.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===de)return a===Ue?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:i.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===fe)return a===Ue?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:i.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===me)return a===Ue?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:i.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===ge||n===ve||n===ye){if(i=e.get("EXT_texture_compression_bptc"),null===i)return null;if(n===ge)return a===Ue?i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:i.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===ve)return i.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===ye)return i.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(n===_e||n===xe||n===be||n===Se){if(i=e.get("EXT_texture_compression_rgtc"),null===i)return null;if(n===ge)return i.COMPRESSED_RED_RGTC1_EXT;if(n===xe)return i.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===be)return i.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===Se)return i.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return n===Dt?t.UNSIGNED_INT_24_8:void 0!==t[n]?t[n]:null}return{convert:n}}class mh extends wa{constructor(t=[]){super(),this.isArrayCamera=!0,this.cameras=t}}class gh extends ci{constructor(){super(),this.isGroup=!0,this.type="Group"}}const vh={type:"move"};class yh{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new gh,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new gh,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new sr,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new sr),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new gh,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new sr,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new sr),this._grip}dispatchEvent(t){return null!==this._targetRay&&this._targetRay.dispatchEvent(t),null!==this._grip&&this._grip.dispatchEvent(t),null!==this._hand&&this._hand.dispatchEvent(t),this}connect(t){if(t&&t.hand){const e=this._hand;if(e)for(const n of t.hand.values())this._getHandJoint(e,n)}return this.dispatchEvent({type:"connected",data:t}),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(t,e,n){let r=null,i=null,a=null;const s=this._targetRay,o=this._grip,l=this._hand;if(t&&"visible-blurred"!==e.session.visibilityState){if(l&&t.hand){a=!0;for(const a of t.hand.values()){const t=e.getJointPose(a,n),r=this._getHandJoint(l,a);null!==t&&(r.matrix.fromArray(t.transform.matrix),r.matrix.decompose(r.position,r.rotation,r.scale),r.matrixWorldNeedsUpdate=!0,r.jointRadius=t.radius),r.visible=null!==t}const r=l.joints["index-finger-tip"],i=l.joints["thumb-tip"],s=r.position.distanceTo(i.position),o=.02,c=.005;l.inputState.pinching&&s>o+c?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!l.inputState.pinching&&s<=o-c&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else null!==o&&t.gripSpace&&(i=e.getPose(t.gripSpace,n),null!==i&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,i.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(i.linearVelocity)):o.hasLinearVelocity=!1,i.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(i.angularVelocity)):o.hasAngularVelocity=!1));null!==s&&(r=e.getPose(t.targetRaySpace,n),null===r&&null!==i&&(r=i),null!==r&&(s.matrix.fromArray(r.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,r.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(r.linearVelocity)):s.hasLinearVelocity=!1,r.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(r.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(vh)))}return null!==s&&(s.visible=null!==r),null!==o&&(o.visible=null!==i),null!==l&&(l.visible=null!==a),this}_getHandJoint(t,e){if(void 0===t.joints[e.jointName]){const n=new gh;n.matrixAutoUpdate=!1,n.visible=!1,t.joints[e.jointName]=n,t.add(n)}return t.joints[e.jointName]}}const _h="\nvoid main() {\n\n\tgl_Position = vec4( position, 1.0 );\n\n}",xh="\nuniform sampler2DArray depthColor;\nuniform float depthWidth;\nuniform float depthHeight;\n\nvoid main() {\n\n\tvec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );\n\n\tif ( coord.x >= 1.0 ) {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;\n\n\t} else {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;\n\n\t}\n\n}";class bh{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(t,e,n){if(null===this.texture){const r=new Qn,i=t.properties.get(r);i.__webglTexture=e.texture,e.depthNear==n.depthNear&&e.depthFar==n.depthFar||(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=r}}getMesh(t){if(null!==this.texture&&null===this.mesh){const e=t.cameras[0].viewport,n=new ya({vertexShader:_h,fragmentShader:xh,uniforms:{depthColor:{value:this.texture},depthWidth:{value:e.z},depthHeight:{value:e.w}}});this.mesh=new oa(new Ba(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Sh extends nn{constructor(t,e){super();const n=this;let r=null,i=1,a=null,s="local-floor",o=1,l=null,c=null,u=null,h=null,p=null,d=null;const f=new bh,m=e.getContextAttributes();let g=null,v=null;const y=[],_=[],x=new Dn;let b=null;const S=new wa;S.layers.enable(1),S.viewport=new tr;const w=new wa;w.layers.enable(2),w.viewport=new tr;const E=[S,w],M=new mh;M.layers.enable(1),M.layers.enable(2);let T=null,C=null;function A(t){const e=_.indexOf(t.inputSource);if(-1===e)return;const n=y[e];void 0!==n&&(n.update(t.inputSource,t.frame,l||a),n.dispatchEvent({type:t.type,data:t.inputSource}))}function P(){r.removeEventListener("select",A),r.removeEventListener("selectstart",A),r.removeEventListener("selectend",A),r.removeEventListener("squeeze",A),r.removeEventListener("squeezestart",A),r.removeEventListener("squeezeend",A),r.removeEventListener("end",P),r.removeEventListener("inputsourceschange",R);for(let t=0;t<y.length;t++){const e=_[t];null!==e&&(_[t]=null,y[t].disconnect(e))}T=null,C=null,f.reset(),t.setRenderTarget(g),p=null,h=null,u=null,r=null,v=null,B.stop(),n.isPresenting=!1,t.setPixelRatio(b),t.setSize(x.width,x.height,!1),n.dispatchEvent({type:"sessionend"})}function R(t){for(let e=0;e<t.removed.length;e++){const n=t.removed[e],r=_.indexOf(n);r>=0&&(_[r]=null,y[r].disconnect(n))}for(let e=0;e<t.added.length;e++){const n=t.added[e];let r=_.indexOf(n);if(-1===r){for(let t=0;t<y.length;t++){if(t>=_.length){_.push(n),r=t;break}if(null===_[t]){_[t]=n,r=t;break}}if(-1===r)break}const i=y[r];i&&i.connect(n)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(t){let e=y[t];return void 0===e&&(e=new yh,y[t]=e),e.getTargetRaySpace()},this.getControllerGrip=function(t){let e=y[t];return void 0===e&&(e=new yh,y[t]=e),e.getGripSpace()},this.getHand=function(t){let e=y[t];return void 0===e&&(e=new yh,y[t]=e),e.getHandSpace()},this.setFramebufferScaleFactor=function(t){i=t,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(t){s=t,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||a},this.setReferenceSpace=function(t){l=t},this.getBaseLayer=function(){return null!==h?h:p},this.getBinding=function(){return u},this.getFrame=function(){return d},this.getSession=function(){return r},this.setSession=async function(c){if(r=c,null!==r){if(g=t.getRenderTarget(),r.addEventListener("select",A),r.addEventListener("selectstart",A),r.addEventListener("selectend",A),r.addEventListener("squeeze",A),r.addEventListener("squeezestart",A),r.addEventListener("squeezeend",A),r.addEventListener("end",P),r.addEventListener("inputsourceschange",R),!0!==m.xrCompatible&&await e.makeXRCompatible(),b=t.getPixelRatio(),t.getSize(x),void 0===r.renderState.layers){const n={antialias:m.antialias,alpha:!0,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:i};p=new XRWebGLLayer(r,e,n),r.updateRenderState({baseLayer:p}),t.setPixelRatio(1),t.setSize(p.framebufferWidth,p.framebufferHeight,!1),v=new nr(p.framebufferWidth,p.framebufferHeight,{format:Ot,type:bt,colorSpace:t.outputColorSpace,stencilBuffer:m.stencil})}else{let n=null,a=null,s=null;m.depth&&(s=m.stencil?e.DEPTH24_STENCIL8:e.DEPTH_COMPONENT24,n=m.stencil?Ut:Bt,a=m.stencil?Dt:Tt);const o={colorFormat:e.RGBA8,depthFormat:s,scaleFactor:i};u=new XRWebGLBinding(r,e),h=u.createProjectionLayer(o),r.updateRenderState({layers:[h]}),t.setPixelRatio(1),t.setSize(h.textureWidth,h.textureHeight,!1),v=new nr(h.textureWidth,h.textureHeight,{format:Ot,type:bt,depthTexture:new ac(h.textureWidth,h.textureHeight,a,void 0,void 0,void 0,void 0,void 0,void 0,n),stencilBuffer:m.stencil,colorSpace:t.outputColorSpace,samples:m.antialias?4:0,resolveDepthBuffer:!1===h.ignoreDepthValues})}v.isXRRenderTarget=!0,this.setFoveation(o),l=null,a=await r.requestReferenceSpace(s),B.setContext(r),B.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(null!==r)return r.environmentBlendMode},this.getDepthTexture=function(){return f.getDepthTexture()};const D=new sr,I=new sr;function L(t,e,n){D.setFromMatrixPosition(e.matrixWorld),I.setFromMatrixPosition(n.matrixWorld);const r=D.distanceTo(I),i=e.projectionMatrix.elements,a=n.projectionMatrix.elements,s=i[14]/(i[10]-1),o=i[14]/(i[10]+1),l=(i[9]+1)/i[5],c=(i[9]-1)/i[5],u=(i[8]-1)/i[0],h=(a[8]+1)/a[0],p=s*u,d=s*h,f=r/(-u+h),m=f*-u;e.matrixWorld.decompose(t.position,t.quaternion,t.scale),t.translateX(m),t.translateZ(f),t.matrixWorld.compose(t.position,t.quaternion,t.scale),t.matrixWorldInverse.copy(t.matrixWorld).invert();const g=s+f,v=o+f,y=p-m,_=d+(r-m),x=l*o/v*g,b=c*o/v*g;t.projectionMatrix.makePerspective(y,_,x,b,g,v),t.projectionMatrixInverse.copy(t.projectionMatrix).invert()}function k(t,e){null===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.copy(t.matrixWorld).invert()}function O(t,e,n){null===n?t.matrix.copy(e.matrixWorld):(t.matrix.copy(n.matrixWorld),t.matrix.invert(),t.matrix.multiply(e.matrixWorld)),t.matrix.decompose(t.position,t.quaternion,t.scale),t.updateMatrixWorld(!0),t.projectionMatrix.copy(e.projectionMatrix),t.projectionMatrixInverse.copy(e.projectionMatrixInverse),t.isPerspectiveCamera&&(t.fov=2*on*Math.atan(1/t.projectionMatrix.elements[5]),t.zoom=1)}this.updateCamera=function(t){if(null===r)return;null!==f.texture&&(t.near=f.depthNear,t.far=f.depthFar),M.near=w.near=S.near=t.near,M.far=w.far=S.far=t.far,T===M.near&&C===M.far||(r.updateRenderState({depthNear:M.near,depthFar:M.far}),T=M.near,C=M.far,S.near=T,S.far=C,w.near=T,w.far=C,S.updateProjectionMatrix(),w.updateProjectionMatrix(),t.updateProjectionMatrix());const e=t.parent,n=M.cameras;k(M,e);for(let r=0;r<n.length;r++)k(n[r],e);2===n.length?L(M,S,w):M.projectionMatrix.copy(S.projectionMatrix),O(t,M,e)},this.getCamera=function(){return M},this.getFoveation=function(){if(null!==h||null!==p)return o},this.setFoveation=function(t){o=t,null!==h&&(h.fixedFoveation=t),null!==p&&void 0!==p.fixedFoveation&&(p.fixedFoveation=t)},this.hasDepthSensing=function(){return null!==f.texture},this.getDepthSensingMesh=function(){return f.getMesh(M)};let F=null;function N(e,i){if(c=i.getViewerPose(l||a),d=i,null!==c){const e=c.views;null!==p&&(t.setRenderTargetFramebuffer(v,p.framebuffer),t.setRenderTarget(v));let n=!1;e.length!==M.cameras.length&&(M.cameras.length=0,n=!0);for(let r=0;r<e.length;r++){const i=e[r];let a=null;if(null!==p)a=p.getViewport(i);else{const e=u.getViewSubImage(h,i);a=e.viewport,0===r&&(t.setRenderTargetTextures(v,e.colorTexture,h.ignoreDepthValues?void 0:e.depthStencilTexture),t.setRenderTarget(v))}let s=E[r];void 0===s&&(s=new wa,s.layers.enable(r),s.viewport=new tr,E[r]=s),s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.quaternion,s.scale),s.projectionMatrix.fromArray(i.projectionMatrix),s.projectionMatrixInverse.copy(s.projectionMatrix).invert(),s.viewport.set(a.x,a.y,a.width,a.height),0===r&&(M.matrix.copy(s.matrix),M.matrix.decompose(M.position,M.quaternion,M.scale)),!0===n&&M.cameras.push(s)}const i=r.enabledFeatures;if(i&&i.includes("depth-sensing")){const n=u.getDepthInformation(e[0]);n&&n.isValid&&n.texture&&f.init(t,n,r.renderState)}}for(let t=0;t<y.length;t++){const e=_[t],n=y[t];null!==e&&void 0!==n&&n.update(e,i,l||a)}F&&F(e,i),i.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:i}),d=null}const B=new Fa;B.setAnimationLoop(N),this.setAnimationLoop=function(t){F=t},this.dispose=function(){}}}const wh=new qr,Eh=new Fr;function Mh(t,e){function n(t,e){!0===t.matrixAutoUpdate&&t.updateMatrix(),e.value.copy(t.matrix)}function r(e,n){n.color.getRGB(e.fogColor.value,fa(t)),n.isFog?(e.fogNear.value=n.near,e.fogFar.value=n.far):n.isFogExp2&&(e.fogDensity.value=n.density)}function i(t,e,n,r,i){e.isMeshBasicMaterial||e.isMeshLambertMaterial?a(t,e):e.isMeshToonMaterial?(a(t,e),h(t,e)):e.isMeshPhongMaterial?(a(t,e),u(t,e)):e.isMeshStandardMaterial?(a(t,e),p(t,e),e.isMeshPhysicalMaterial&&f(t,e,i)):e.isMeshMatcapMaterial?(a(t,e),m(t,e)):e.isMeshDepthMaterial?a(t,e):e.isMeshDistanceMaterial?(a(t,e),g(t,e)):e.isMeshNormalMaterial?a(t,e):e.isLineBasicMaterial?(s(t,e),e.isLineDashedMaterial&&o(t,e)):e.isPointsMaterial?l(t,e,n,r):e.isSpriteMaterial?c(t,e):e.isShadowMaterial?(t.color.value.copy(e.color),t.opacity.value=e.opacity):e.isShaderMaterial&&(e.uniformsNeedUpdate=!1)}function a(t,r){t.opacity.value=r.opacity,r.color&&t.diffuse.value.copy(r.color),r.emissive&&t.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),r.map&&(t.map.value=r.map,n(r.map,t.mapTransform)),r.alphaMap&&(t.alphaMap.value=r.alphaMap,n(r.alphaMap,t.alphaMapTransform)),r.bumpMap&&(t.bumpMap.value=r.bumpMap,n(r.bumpMap,t.bumpMapTransform),t.bumpScale.value=r.bumpScale,r.side===d&&(t.bumpScale.value*=-1)),r.normalMap&&(t.normalMap.value=r.normalMap,n(r.normalMap,t.normalMapTransform),t.normalScale.value.copy(r.normalScale),r.side===d&&t.normalScale.value.negate()),r.displacementMap&&(t.displacementMap.value=r.displacementMap,n(r.displacementMap,t.displacementMapTransform),t.displacementScale.value=r.displacementScale,t.displacementBias.value=r.displacementBias),r.emissiveMap&&(t.emissiveMap.value=r.emissiveMap,n(r.emissiveMap,t.emissiveMapTransform)),r.specularMap&&(t.specularMap.value=r.specularMap,n(r.specularMap,t.specularMapTransform)),r.alphaTest>0&&(t.alphaTest.value=r.alphaTest);const i=e.get(r),a=i.envMap,s=i.envMapRotation;a&&(t.envMap.value=a,wh.copy(s),wh.x*=-1,wh.y*=-1,wh.z*=-1,a.isCubeTexture&&!1===a.isRenderTargetTexture&&(wh.y*=-1,wh.z*=-1),t.envMapRotation.value.setFromMatrix4(Eh.makeRotationFromEuler(wh)),t.flipEnvMap.value=a.isCubeTexture&&!1===a.isRenderTargetTexture?-1:1,t.reflectivity.value=r.reflectivity,t.ior.value=r.ior,t.refractionRatio.value=r.refractionRatio),r.lightMap&&(t.lightMap.value=r.lightMap,t.lightMapIntensity.value=r.lightMapIntensity,n(r.lightMap,t.lightMapTransform)),r.aoMap&&(t.aoMap.value=r.aoMap,t.aoMapIntensity.value=r.aoMapIntensity,n(r.aoMap,t.aoMapTransform))}function s(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,e.map&&(t.map.value=e.map,n(e.map,t.mapTransform))}function o(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}function l(t,e,r,i){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.size.value=e.size*r,t.scale.value=.5*i,e.map&&(t.map.value=e.map,n(e.map,t.uvTransform)),e.alphaMap&&(t.alphaMap.value=e.alphaMap,n(e.alphaMap,t.alphaMapTransform)),e.alphaTest>0&&(t.alphaTest.value=e.alphaTest)}function c(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.rotation.value=e.rotation,e.map&&(t.map.value=e.map,n(e.map,t.mapTransform)),e.alphaMap&&(t.alphaMap.value=e.alphaMap,n(e.alphaMap,t.alphaMapTransform)),e.alphaTest>0&&(t.alphaTest.value=e.alphaTest)}function u(t,e){t.specular.value.copy(e.specular),t.shininess.value=Math.max(e.shininess,1e-4)}function h(t,e){e.gradientMap&&(t.gradientMap.value=e.gradientMap)}function p(t,e){t.metalness.value=e.metalness,e.metalnessMap&&(t.metalnessMap.value=e.metalnessMap,n(e.metalnessMap,t.metalnessMapTransform)),t.roughness.value=e.roughness,e.roughnessMap&&(t.roughnessMap.value=e.roughnessMap,n(e.roughnessMap,t.roughnessMapTransform)),e.envMap&&(t.envMapIntensity.value=e.envMapIntensity)}function f(t,e,r){t.ior.value=e.ior,e.sheen>0&&(t.sheenColor.value.copy(e.sheenColor).multiplyScalar(e.sheen),t.sheenRoughness.value=e.sheenRoughness,e.sheenColorMap&&(t.sheenColorMap.value=e.sheenColorMap,n(e.sheenColorMap,t.sheenColorMapTransform)),e.sheenRoughnessMap&&(t.sheenRoughnessMap.value=e.sheenRoughnessMap,n(e.sheenRoughnessMap,t.sheenRoughnessMapTransform))),e.clearcoat>0&&(t.clearcoat.value=e.clearcoat,t.clearcoatRoughness.value=e.clearcoatRoughness,e.clearcoatMap&&(t.clearcoatMap.value=e.clearcoatMap,n(e.clearcoatMap,t.clearcoatMapTransform)),e.clearcoatRoughnessMap&&(t.clearcoatRoughnessMap.value=e.clearcoatRoughnessMap,n(e.clearcoatRoughnessMap,t.clearcoatRoughnessMapTransform)),e.clearcoatNormalMap&&(t.clearcoatNormalMap.value=e.clearcoatNormalMap,n(e.clearcoatNormalMap,t.clearcoatNormalMapTransform),t.clearcoatNormalScale.value.copy(e.clearcoatNormalScale),e.side===d&&t.clearcoatNormalScale.value.negate())),e.dispersion>0&&(t.dispersion.value=e.dispersion),e.iridescence>0&&(t.iridescence.value=e.iridescence,t.iridescenceIOR.value=e.iridescenceIOR,t.iridescenceThicknessMinimum.value=e.iridescenceThicknessRange[0],t.iridescenceThicknessMaximum.value=e.iridescenceThicknessRange[1],e.iridescenceMap&&(t.iridescenceMap.value=e.iridescenceMap,n(e.iridescenceMap,t.iridescenceMapTransform)),e.iridescenceThicknessMap&&(t.iridescenceThicknessMap.value=e.iridescenceThicknessMap,n(e.iridescenceThicknessMap,t.iridescenceThicknessMapTransform))),e.transmission>0&&(t.transmission.value=e.transmission,t.transmissionSamplerMap.value=r.texture,t.transmissionSamplerSize.value.set(r.width,r.height),e.transmissionMap&&(t.transmissionMap.value=e.transmissionMap,n(e.transmissionMap,t.transmissionMapTransform)),t.thickness.value=e.thickness,e.thicknessMap&&(t.thicknessMap.value=e.thicknessMap,n(e.thicknessMap,t.thicknessMapTransform)),t.attenuationDistance.value=e.attenuationDistance,t.attenuationColor.value.copy(e.attenuationColor)),e.anisotropy>0&&(t.anisotropyVector.value.set(e.anisotropy*Math.cos(e.anisotropyRotation),e.anisotropy*Math.sin(e.anisotropyRotation)),e.anisotropyMap&&(t.anisotropyMap.value=e.anisotropyMap,n(e.anisotropyMap,t.anisotropyMapTransform))),t.specularIntensity.value=e.specularIntensity,t.specularColor.value.copy(e.specularColor),e.specularColorMap&&(t.specularColorMap.value=e.specularColorMap,n(e.specularColorMap,t.specularColorMapTransform)),e.specularIntensityMap&&(t.specularIntensityMap.value=e.specularIntensityMap,n(e.specularIntensityMap,t.specularIntensityMapTransform))}function m(t,e){e.matcap&&(t.matcap.value=e.matcap)}function g(t,n){const r=e.get(n).light;t.referencePosition.value.setFromMatrixPosition(r.matrixWorld),t.nearDistance.value=r.shadow.camera.near,t.farDistance.value=r.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function Th(t,e,n,r){let i={},a={},s=[];const o=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(t,e){const n=e.program;r.uniformBlockBinding(t,n)}function c(t,n){let s=i[t.id];void 0===s&&(f(t),s=u(t),i[t.id]=s,t.addEventListener("dispose",g));const o=n.program;r.updateUBOMapping(t,o);const l=e.render.frame;a[t.id]!==l&&(p(t),a[t.id]=l)}function u(e){const n=h();e.__bindingPointIndex=n;const r=t.createBuffer(),i=e.__size,a=e.usage;return t.bindBuffer(t.UNIFORM_BUFFER,r),t.bufferData(t.UNIFORM_BUFFER,i,a),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,n,r),r}function h(){for(let t=0;t<o;t++)if(-1===s.indexOf(t))return s.push(t),t;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(e){const n=i[e.id],r=e.uniforms,a=e.__cache;t.bindBuffer(t.UNIFORM_BUFFER,n);for(let i=0,s=r.length;i<s;i++){const e=Array.isArray(r[i])?r[i]:[r[i]];for(let n=0,r=e.length;n<r;n++){const r=e[n];if(!0===d(r,i,n,a)){const e=r.__offset,n=Array.isArray(r.value)?r.value:[r.value];let i=0;for(let a=0;a<n.length;a++){const s=n[a],o=m(s);"number"===typeof s||"boolean"===typeof s?(r.__data[0]=s,t.bufferSubData(t.UNIFORM_BUFFER,e+i,r.__data)):s.isMatrix3?(r.__data[0]=s.elements[0],r.__data[1]=s.elements[1],r.__data[2]=s.elements[2],r.__data[3]=0,r.__data[4]=s.elements[3],r.__data[5]=s.elements[4],r.__data[6]=s.elements[5],r.__data[7]=0,r.__data[8]=s.elements[6],r.__data[9]=s.elements[7],r.__data[10]=s.elements[8],r.__data[11]=0):(s.toArray(r.__data,i),i+=o.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,e,r.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function d(t,e,n,r){const i=t.value,a=e+"_"+n;if(void 0===r[a])return r[a]="number"===typeof i||"boolean"===typeof i?i:i.clone(),!0;{const t=r[a];if("number"===typeof i||"boolean"===typeof i){if(t!==i)return r[a]=i,!0}else if(!1===t.equals(i))return t.copy(i),!0}return!1}function f(t){const e=t.uniforms;let n=0;const r=16;for(let a=0,s=e.length;a<s;a++){const t=Array.isArray(e[a])?e[a]:[e[a]];for(let e=0,i=t.length;e<i;e++){const i=t[e],a=Array.isArray(i.value)?i.value:[i.value];for(let t=0,e=a.length;t<e;t++){const e=a[t],s=m(e),o=n%r,l=o%s.boundary,c=o+l;n+=l,0!==c&&r-c<s.storage&&(n+=r-c),i.__data=new Float32Array(s.storage/Float32Array.BYTES_PER_ELEMENT),i.__offset=n,n+=s.storage}}}const i=n%r;return i>0&&(n+=r-i),t.__size=n,t.__cache={},this}function m(t){const e={boundary:0,storage:0};return"number"===typeof t||"boolean"===typeof t?(e.boundary=4,e.storage=4):t.isVector2?(e.boundary=8,e.storage=8):t.isVector3||t.isColor?(e.boundary=16,e.storage=12):t.isVector4?(e.boundary=16,e.storage=16):t.isMatrix3?(e.boundary=48,e.storage=48):t.isMatrix4?(e.boundary=64,e.storage=64):t.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",t),e}function g(e){const n=e.target;n.removeEventListener("dispose",g);const r=s.indexOf(n.__bindingPointIndex);s.splice(r,1),t.deleteBuffer(i[n.id]),delete i[n.id],delete a[n.id]}function v(){for(const e in i)t.deleteBuffer(i[e]);s=[],i={},a={}}return{bind:l,update:c,dispose:v}}class Ch{constructor(t={}){const{canvas:e=Fn(),context:n=null,depth:i=!0,stencil:a=!1,alpha:s=!1,antialias:o=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:h=!1}=t;let m;if(this.isWebGLRenderer=!0,null!==n){if("undefined"!==typeof WebGLRenderingContext&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");m=n.getContextAttributes().alpha}else m=s;const g=new Uint32Array(4),v=new Int32Array(4);let y=null,_=null;const x=[],b=[];this.domElement=e,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=ke,this.toneMapping=J,this.toneMappingExposure=1;const S=this;let w=!1,E=0,M=0,T=null,C=-1,A=null;const P=new tr,R=new tr;let D=null;const I=new Mi(0);let L=0,k=e.width,O=e.height,F=1,N=null,B=null;const U=new tr(0,0,k,O),z=new tr(0,0,k,O);let V=!1;const H=new Oa;let G=!1,W=!1;const j=new Fr,q=new sr,$=new tr,X={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Y=!1;function K(){return null===T?F:1}let Z,Q,tt,et,nt,rt,it,at,st,ot,lt,ct,ut,ht,pt,dt,ft,mt,gt,vt,yt,_t,St,wt,Mt=n;function Ct(t,n){return e.getContext(t,n)}try{const t={alpha:!0,depth:i,stencil:a,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:h};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${r}`),e.addEventListener("webglcontextlost",kt,!1),e.addEventListener("webglcontextrestored",Ot,!1),e.addEventListener("webglcontextcreationerror",Ft,!1),null===Mt){const e="webgl2";if(Mt=Ct(e,t),null===Mt)throw Ct(e)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(se){throw console.error("THREE.WebGLRenderer: "+se.message),se}function It(){Z=new Ql(Mt),Z.init(),_t=new fh(Mt,Z),Q=new Al(Mt,Z,t,_t),tt=new uh(Mt),et=new nc(Mt),nt=new $u,rt=new dh(Mt,Z,tt,nt,Q,_t,et),it=new Rl(S),at=new Jl(S),st=new Na(Mt),St=new Tl(Mt,st),ot=new tc(Mt,st,et,St),lt=new ic(Mt,ot,st,et),gt=new rc(Mt,Q,rt),dt=new Pl(nt),ct=new qu(S,it,at,Z,Q,St,dt),ut=new Mh(S,nt),ht=new Zu,pt=new ih(Z),mt=new Ml(S,it,at,tt,lt,m,l),ft=new ch(S,lt,Q),wt=new Th(Mt,et,Q,tt),vt=new Cl(Mt,Z,et),yt=new ec(Mt,Z,et),et.programs=ct.programs,S.capabilities=Q,S.extensions=Z,S.properties=nt,S.renderLists=ht,S.shadowMap=ft,S.state=tt,S.info=et}It();const Lt=new Sh(S,Mt);function kt(t){t.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),w=!0}function Ot(){console.log("THREE.WebGLRenderer: Context Restored."),w=!1;const t=et.autoReset,e=ft.enabled,n=ft.autoUpdate,r=ft.needsUpdate,i=ft.type;It(),et.autoReset=t,ft.enabled=e,ft.autoUpdate=n,ft.needsUpdate=r,ft.type=i}function Ft(t){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",t.statusMessage)}function Nt(t){const e=t.target;e.removeEventListener("dispose",Nt),Bt(e)}function Bt(t){Ut(t),nt.remove(t)}function Ut(t){const e=nt.get(t).programs;void 0!==e&&(e.forEach((function(t){ct.releaseProgram(t)})),t.isShaderMaterial&&ct.releaseShaderCache(t))}function zt(t,e,n){!0===t.transparent&&t.side===f&&!1===t.forceSinglePass?(t.side=d,t.needsUpdate=!0,te(t,e,n),t.side=p,t.needsUpdate=!0,te(t,e,n),t.side=f):te(t,e,n)}this.xr=Lt,this.getContext=function(){return Mt},this.getContextAttributes=function(){return Mt.getContextAttributes()},this.forceContextLoss=function(){const t=Z.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){const t=Z.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return F},this.setPixelRatio=function(t){void 0!==t&&(F=t,this.setSize(k,O,!1))},this.getSize=function(t){return t.set(k,O)},this.setSize=function(t,n,r=!0){Lt.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(k=t,O=n,e.width=Math.floor(t*F),e.height=Math.floor(n*F),!0===r&&(e.style.width=t+"px",e.style.height=n+"px"),this.setViewport(0,0,t,n))},this.getDrawingBufferSize=function(t){return t.set(k*F,O*F).floor()},this.setDrawingBufferSize=function(t,n,r){k=t,O=n,F=r,e.width=Math.floor(t*r),e.height=Math.floor(n*r),this.setViewport(0,0,t,n)},this.getCurrentViewport=function(t){return t.copy(P)},this.getViewport=function(t){return t.copy(U)},this.setViewport=function(t,e,n,r){t.isVector4?U.set(t.x,t.y,t.z,t.w):U.set(t,e,n,r),tt.viewport(P.copy(U).multiplyScalar(F).round())},this.getScissor=function(t){return t.copy(z)},this.setScissor=function(t,e,n,r){t.isVector4?z.set(t.x,t.y,t.z,t.w):z.set(t,e,n,r),tt.scissor(R.copy(z).multiplyScalar(F).round())},this.getScissorTest=function(){return V},this.setScissorTest=function(t){tt.setScissorTest(V=t)},this.setOpaqueSort=function(t){N=t},this.setTransparentSort=function(t){B=t},this.getClearColor=function(t){return t.copy(mt.getClearColor())},this.setClearColor=function(){mt.setClearColor.apply(mt,arguments)},this.getClearAlpha=function(){return mt.getClearAlpha()},this.setClearAlpha=function(){mt.setClearAlpha.apply(mt,arguments)},this.clear=function(t=!0,e=!0,n=!0){let r=0;if(t){let t=!1;if(null!==T){const e=T.texture.format;t=e===Wt||e===Gt||e===Vt}if(t){const t=T.texture.type,e=t===bt||t===Tt||t===Et||t===Dt||t===Pt||t===Rt,n=mt.getClearColor(),r=mt.getClearAlpha(),i=n.r,a=n.g,s=n.b;e?(g[0]=i,g[1]=a,g[2]=s,g[3]=r,Mt.clearBufferuiv(Mt.COLOR,0,g)):(v[0]=i,v[1]=a,v[2]=s,v[3]=r,Mt.clearBufferiv(Mt.COLOR,0,v))}else r|=Mt.COLOR_BUFFER_BIT}e&&(r|=Mt.DEPTH_BUFFER_BIT),n&&(r|=Mt.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Mt.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",kt,!1),e.removeEventListener("webglcontextrestored",Ot,!1),e.removeEventListener("webglcontextcreationerror",Ft,!1),ht.dispose(),pt.dispose(),nt.dispose(),it.dispose(),at.dispose(),lt.dispose(),St.dispose(),wt.dispose(),ct.dispose(),Lt.dispose(),Lt.removeEventListener("sessionstart",qt),Lt.removeEventListener("sessionend",$t),Xt.stop()},this.renderBufferDirect=function(t,e,n,r,i,a){null===e&&(e=X);const s=i.isMesh&&i.matrixWorld.determinant()<0,o=re(t,e,n,r,i);tt.setMaterial(r,s);let l=n.index,c=1;if(!0===r.wireframe){if(l=ot.getWireframeAttribute(n),void 0===l)return;c=2}const u=n.drawRange,h=n.attributes.position;let p=u.start*c,d=(u.start+u.count)*c;null!==a&&(p=Math.max(p,a.start*c),d=Math.min(d,(a.start+a.count)*c)),null!==l?(p=Math.max(p,0),d=Math.min(d,l.count)):void 0!==h&&null!==h&&(p=Math.max(p,0),d=Math.min(d,h.count));const f=d-p;if(f<0||f===1/0)return;let m;St.setup(i,r,o,n,l);let g=vt;if(null!==l&&(m=st.get(l),g=yt,g.setIndex(m)),i.isMesh)!0===r.wireframe?(tt.setLineWidth(r.wireframeLinewidth*K()),g.setMode(Mt.LINES)):g.setMode(Mt.TRIANGLES);else if(i.isLine){let t=r.linewidth;void 0===t&&(t=1),tt.setLineWidth(t*K()),i.isLineSegments?g.setMode(Mt.LINES):i.isLineLoop?g.setMode(Mt.LINE_LOOP):g.setMode(Mt.LINE_STRIP)}else i.isPoints?g.setMode(Mt.POINTS):i.isSprite&&g.setMode(Mt.TRIANGLES);if(i.isBatchedMesh)if(null!==i._multiDrawInstances)g.renderMultiDrawInstances(i._multiDrawStarts,i._multiDrawCounts,i._multiDrawCount,i._multiDrawInstances);else if(Z.get("WEBGL_multi_draw"))g.renderMultiDraw(i._multiDrawStarts,i._multiDrawCounts,i._multiDrawCount);else{const t=i._multiDrawStarts,e=i._multiDrawCounts,n=i._multiDrawCount,a=l?st.get(l).bytesPerElement:1,s=nt.get(r).currentProgram.getUniforms();for(let r=0;r<n;r++)s.setValue(Mt,"_gl_DrawID",r),g.render(t[r]/a,e[r])}else if(i.isInstancedMesh)g.renderInstances(p,f,i.count);else if(n.isInstancedBufferGeometry){const t=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,e=Math.min(n.instanceCount,t);g.renderInstances(p,f,e)}else g.render(p,f)},this.compile=function(t,e,n=null){null===n&&(n=t),_=pt.get(n),_.init(e),b.push(_),n.traverseVisible((function(t){t.isLight&&t.layers.test(e.layers)&&(_.pushLight(t),t.castShadow&&_.pushShadow(t))})),t!==n&&t.traverseVisible((function(t){t.isLight&&t.layers.test(e.layers)&&(_.pushLight(t),t.castShadow&&_.pushShadow(t))})),_.setupLights();const r=new Set;return t.traverse((function(t){const e=t.material;if(e)if(Array.isArray(e))for(let i=0;i<e.length;i++){const a=e[i];zt(a,n,t),r.add(a)}else zt(e,n,t),r.add(e)})),b.pop(),_=null,r},this.compileAsync=function(t,e,n=null){const r=this.compile(t,e,n);return new Promise((e=>{function n(){r.forEach((function(t){const e=nt.get(t),n=e.currentProgram;n.isReady()&&r.delete(t)})),0!==r.size?setTimeout(n,10):e(t)}null!==Z.get("KHR_parallel_shader_compile")?n():setTimeout(n,10)}))};let Ht=null;function jt(t){Ht&&Ht(t)}function qt(){Xt.stop()}function $t(){Xt.start()}const Xt=new Fa;function Yt(t,e,n,r){if(!1===t.visible)return;const i=t.layers.test(e.layers);if(i)if(t.isGroup)n=t.renderOrder;else if(t.isLOD)!0===t.autoUpdate&&t.update(e);else if(t.isLight)_.pushLight(t),t.castShadow&&_.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||H.intersectsSprite(t)){r&&$.setFromMatrixPosition(t.matrixWorld).applyMatrix4(j);const e=lt.update(t),i=t.material;i.visible&&y.push(t,e,i,n,$.z,null)}}else if((t.isMesh||t.isLine||t.isPoints)&&(!t.frustumCulled||H.intersectsObject(t))){const e=lt.update(t),i=t.material;if(r&&(void 0!==t.boundingSphere?(null===t.boundingSphere&&t.computeBoundingSphere(),$.copy(t.boundingSphere.center)):(null===e.boundingSphere&&e.computeBoundingSphere(),$.copy(e.boundingSphere.center)),$.applyMatrix4(t.matrixWorld).applyMatrix4(j)),Array.isArray(i)){const r=e.groups;for(let a=0,s=r.length;a<s;a++){const s=r[a],o=i[s.materialIndex];o&&o.visible&&y.push(t,e,o,n,$.z,s)}}else i.visible&&y.push(t,e,i,n,$.z,null)}const a=t.children;for(let s=0,o=a.length;s<o;s++)Yt(a[s],e,n,r)}function Kt(t,e,n,r){const i=t.opaque,a=t.transmissive,s=t.transparent;_.setupLightsView(n),!0===G&&dt.setGlobalState(S.clippingPlanes,n),r&&tt.viewport(P.copy(r)),i.length>0&&Jt(i,e,n),a.length>0&&Jt(a,e,n),s.length>0&&Jt(s,e,n),tt.buffers.depth.setTest(!0),tt.buffers.depth.setMask(!0),tt.buffers.color.setMask(!0),tt.setPolygonOffset(!1)}function Zt(t,e,n,r){const i=!0===n.isScene?n.overrideMaterial:null;if(null!==i)return;void 0===_.state.transmissionRenderTarget[r.id]&&(_.state.transmissionRenderTarget[r.id]=new nr(1,1,{generateMipmaps:!0,type:Z.has("EXT_color_buffer_half_float")||Z.has("EXT_color_buffer_float")?At:bt,minFilter:xt,samples:4,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Wn.workingColorSpace}));const s=_.state.transmissionRenderTarget[r.id],o=r.viewport||P;s.setSize(o.z,o.w);const l=S.getRenderTarget();S.setRenderTarget(s),S.getClearColor(I),L=S.getClearAlpha(),L<1&&S.setClearColor(16777215,.5),S.clear(),Y&&mt.render(n);const c=S.toneMapping;S.toneMapping=J;const u=r.viewport;if(void 0!==r.viewport&&(r.viewport=void 0),_.setupLightsView(r),!0===G&&dt.setGlobalState(S.clippingPlanes,r),Jt(t,n,r),rt.updateMultisampleRenderTarget(s),rt.updateRenderTargetMipmap(s),!1===Z.has("WEBGL_multisampled_render_to_texture")){let t=!1;for(let i=0,a=e.length;i<a;i++){const a=e[i],s=a.object,o=a.geometry,l=a.material,c=a.group;if(l.side===f&&s.layers.test(r.layers)){const e=l.side;l.side=d,l.needsUpdate=!0,Qt(s,n,r,o,l,c),l.side=e,l.needsUpdate=!0,t=!0}}!0===t&&(rt.updateMultisampleRenderTarget(s),rt.updateRenderTargetMipmap(s))}S.setRenderTarget(l),S.setClearColor(I,L),void 0!==u&&(r.viewport=u),S.toneMapping=c}function Jt(t,e,n){const r=!0===e.isScene?e.overrideMaterial:null;for(let i=0,a=t.length;i<a;i++){const a=t[i],s=a.object,o=a.geometry,l=null===r?a.material:r,c=a.group;s.layers.test(n.layers)&&Qt(s,e,n,o,l,c)}}function Qt(t,e,n,r,i,a){t.onBeforeRender(S,e,n,r,i,a),t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),!0===i.transparent&&i.side===f&&!1===i.forceSinglePass?(i.side=d,i.needsUpdate=!0,S.renderBufferDirect(n,e,r,i,t,a),i.side=p,i.needsUpdate=!0,S.renderBufferDirect(n,e,r,i,t,a),i.side=f):S.renderBufferDirect(n,e,r,i,t,a),t.onAfterRender(S,e,n,r,i,a)}function te(t,e,n){!0!==e.isScene&&(e=X);const r=nt.get(t),i=_.state.lights,a=_.state.shadowsArray,s=i.state.version,o=ct.getParameters(t,i.state,a,e,n),l=ct.getProgramCacheKey(o);let c=r.programs;r.environment=t.isMeshStandardMaterial?e.environment:null,r.fog=e.fog,r.envMap=(t.isMeshStandardMaterial?at:it).get(t.envMap||r.environment),r.envMapRotation=null!==r.environment&&null===t.envMap?e.environmentRotation:t.envMapRotation,void 0===c&&(t.addEventListener("dispose",Nt),c=new Map,r.programs=c);let u=c.get(l);if(void 0!==u){if(r.currentProgram===u&&r.lightsStateVersion===s)return ne(t,o),u}else o.uniforms=ct.getUniforms(t),t.onBeforeCompile(o,S),u=ct.acquireProgram(o,l),c.set(l,u),r.uniforms=o.uniforms;const h=r.uniforms;return(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(h.clippingPlanes=dt.uniform),ne(t,o),r.needsLights=ae(t),r.lightsStateVersion=s,r.needsLights&&(h.ambientLightColor.value=i.state.ambient,h.lightProbe.value=i.state.probe,h.directionalLights.value=i.state.directional,h.directionalLightShadows.value=i.state.directionalShadow,h.spotLights.value=i.state.spot,h.spotLightShadows.value=i.state.spotShadow,h.rectAreaLights.value=i.state.rectArea,h.ltc_1.value=i.state.rectAreaLTC1,h.ltc_2.value=i.state.rectAreaLTC2,h.pointLights.value=i.state.point,h.pointLightShadows.value=i.state.pointShadow,h.hemisphereLights.value=i.state.hemi,h.directionalShadowMap.value=i.state.directionalShadowMap,h.directionalShadowMatrix.value=i.state.directionalShadowMatrix,h.spotShadowMap.value=i.state.spotShadowMap,h.spotLightMatrix.value=i.state.spotLightMatrix,h.spotLightMap.value=i.state.spotLightMap,h.pointShadowMap.value=i.state.pointShadowMap,h.pointShadowMatrix.value=i.state.pointShadowMatrix),r.currentProgram=u,r.uniformsList=null,u}function ee(t){if(null===t.uniformsList){const e=t.currentProgram.getUniforms();t.uniformsList=pu.seqWithValue(e.seq,t.uniforms)}return t.uniformsList}function ne(t,e){const n=nt.get(t);n.outputColorSpace=e.outputColorSpace,n.batching=e.batching,n.batchingColor=e.batchingColor,n.instancing=e.instancing,n.instancingColor=e.instancingColor,n.instancingMorph=e.instancingMorph,n.skinning=e.skinning,n.morphTargets=e.morphTargets,n.morphNormals=e.morphNormals,n.morphColors=e.morphColors,n.morphTargetsCount=e.morphTargetsCount,n.numClippingPlanes=e.numClippingPlanes,n.numIntersection=e.numClipIntersection,n.vertexAlphas=e.vertexAlphas,n.vertexTangents=e.vertexTangents,n.toneMapping=e.toneMapping}function re(t,e,n,r,i){!0!==e.isScene&&(e=X),rt.resetTextureUnits();const a=e.fog,s=r.isMeshStandardMaterial?e.environment:null,o=null===T?S.outputColorSpace:!0===T.isXRRenderTarget?T.texture.colorSpace:Oe,l=(r.isMeshStandardMaterial?at:it).get(r.envMap||s),c=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,u=!!n.attributes.tangent&&(!!r.normalMap||r.anisotropy>0),h=!!n.morphAttributes.position,p=!!n.morphAttributes.normal,d=!!n.morphAttributes.color;let f=J;r.toneMapped&&(null!==T&&!0!==T.isXRRenderTarget||(f=S.toneMapping));const m=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,g=void 0!==m?m.length:0,v=nt.get(r),y=_.state.lights;if(!0===G&&(!0===W||t!==A)){const e=t===A&&r.id===C;dt.setState(r,t,e)}let x=!1;r.version===v.__version?v.needsLights&&v.lightsStateVersion!==y.state.version||v.outputColorSpace!==o||i.isBatchedMesh&&!1===v.batching?x=!0:i.isBatchedMesh||!0!==v.batching?i.isBatchedMesh&&!0===v.batchingColor&&null===i.colorTexture||i.isBatchedMesh&&!1===v.batchingColor&&null!==i.colorTexture||i.isInstancedMesh&&!1===v.instancing?x=!0:i.isInstancedMesh||!0!==v.instancing?i.isSkinnedMesh&&!1===v.skinning?x=!0:i.isSkinnedMesh||!0!==v.skinning?i.isInstancedMesh&&!0===v.instancingColor&&null===i.instanceColor||i.isInstancedMesh&&!1===v.instancingColor&&null!==i.instanceColor||i.isInstancedMesh&&!0===v.instancingMorph&&null===i.morphTexture||i.isInstancedMesh&&!1===v.instancingMorph&&null!==i.morphTexture||v.envMap!==l||!0===r.fog&&v.fog!==a?x=!0:void 0===v.numClippingPlanes||v.numClippingPlanes===dt.numPlanes&&v.numIntersection===dt.numIntersection?(v.vertexAlphas!==c||v.vertexTangents!==u||v.morphTargets!==h||v.morphNormals!==p||v.morphColors!==d||v.toneMapping!==f||v.morphTargetsCount!==g)&&(x=!0):x=!0:x=!0:x=!0:x=!0:(x=!0,v.__version=r.version);let b=v.currentProgram;!0===x&&(b=te(r,e,i));let w=!1,E=!1,M=!1;const P=b.getUniforms(),R=v.uniforms;if(tt.useProgram(b.program)&&(w=!0,E=!0,M=!0),r.id!==C&&(C=r.id,E=!0),w||A!==t){P.setValue(Mt,"projectionMatrix",t.projectionMatrix),P.setValue(Mt,"viewMatrix",t.matrixWorldInverse);const e=P.map.cameraPosition;void 0!==e&&e.setValue(Mt,q.setFromMatrixPosition(t.matrixWorld)),Q.logarithmicDepthBuffer&&P.setValue(Mt,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&P.setValue(Mt,"isOrthographic",!0===t.isOrthographicCamera),A!==t&&(A=t,E=!0,M=!0)}if(i.isSkinnedMesh){P.setOptional(Mt,i,"bindMatrix"),P.setOptional(Mt,i,"bindMatrixInverse");const t=i.skeleton;t&&(null===t.boneTexture&&t.computeBoneTexture(),P.setValue(Mt,"boneTexture",t.boneTexture,rt))}i.isBatchedMesh&&(P.setOptional(Mt,i,"batchingTexture"),P.setValue(Mt,"batchingTexture",i._matricesTexture,rt),P.setOptional(Mt,i,"batchingIdTexture"),P.setValue(Mt,"batchingIdTexture",i._indirectTexture,rt),P.setOptional(Mt,i,"batchingColorTexture"),null!==i._colorsTexture&&P.setValue(Mt,"batchingColorTexture",i._colorsTexture,rt));const D=n.morphAttributes;if(void 0===D.position&&void 0===D.normal&&void 0===D.color||gt.update(i,n,b),(E||v.receiveShadow!==i.receiveShadow)&&(v.receiveShadow=i.receiveShadow,P.setValue(Mt,"receiveShadow",i.receiveShadow)),r.isMeshGouraudMaterial&&null!==r.envMap&&(R.envMap.value=l,R.flipEnvMap.value=l.isCubeTexture&&!1===l.isRenderTargetTexture?-1:1),r.isMeshStandardMaterial&&null===r.envMap&&null!==e.environment&&(R.envMapIntensity.value=e.environmentIntensity),E&&(P.setValue(Mt,"toneMappingExposure",S.toneMappingExposure),v.needsLights&&ie(R,M),a&&!0===r.fog&&ut.refreshFogUniforms(R,a),ut.refreshMaterialUniforms(R,r,F,O,_.state.transmissionRenderTarget[t.id]),pu.upload(Mt,ee(v),R,rt)),r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(pu.upload(Mt,ee(v),R,rt),r.uniformsNeedUpdate=!1),r.isSpriteMaterial&&P.setValue(Mt,"center",i.center),P.setValue(Mt,"modelViewMatrix",i.modelViewMatrix),P.setValue(Mt,"normalMatrix",i.normalMatrix),P.setValue(Mt,"modelMatrix",i.matrixWorld),r.isShaderMaterial||r.isRawShaderMaterial){const t=r.uniformsGroups;for(let e=0,n=t.length;e<n;e++){const n=t[e];wt.update(n,b),wt.bind(n,b)}}return b}function ie(t,e){t.ambientLightColor.needsUpdate=e,t.lightProbe.needsUpdate=e,t.directionalLights.needsUpdate=e,t.directionalLightShadows.needsUpdate=e,t.pointLights.needsUpdate=e,t.pointLightShadows.needsUpdate=e,t.spotLights.needsUpdate=e,t.spotLightShadows.needsUpdate=e,t.rectAreaLights.needsUpdate=e,t.hemisphereLights.needsUpdate=e}function ae(t){return t.isMeshLambertMaterial||t.isMeshToonMaterial||t.isMeshPhongMaterial||t.isMeshStandardMaterial||t.isShadowMaterial||t.isShaderMaterial&&!0===t.lights}Xt.setAnimationLoop(jt),"undefined"!==typeof self&&Xt.setContext(self),this.setAnimationLoop=function(t){Ht=t,Lt.setAnimationLoop(t),null===t?Xt.stop():Xt.start()},Lt.addEventListener("sessionstart",qt),Lt.addEventListener("sessionend",$t),this.render=function(t,e){if(void 0!==e&&!0!==e.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===w)return;if(!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),null===e.parent&&!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),!0===Lt.enabled&&!0===Lt.isPresenting&&(!0===Lt.cameraAutoUpdate&&Lt.updateCamera(e),e=Lt.getCamera()),!0===t.isScene&&t.onBeforeRender(S,t,e,T),_=pt.get(t,b.length),_.init(e),b.push(_),j.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),H.setFromProjectionMatrix(j),W=this.localClippingEnabled,G=dt.init(this.clippingPlanes,W),y=ht.get(t,x.length),y.init(),x.push(y),!0===Lt.enabled&&!0===Lt.isPresenting){const t=S.xr.getDepthSensingMesh();null!==t&&Yt(t,e,-1/0,S.sortObjects)}Yt(t,e,0,S.sortObjects),y.finish(),!0===S.sortObjects&&y.sort(N,B),Y=!1===Lt.enabled||!1===Lt.isPresenting||!1===Lt.hasDepthSensing(),Y&&mt.addToRenderList(y,t),this.info.render.frame++,!0===G&&dt.beginShadows();const n=_.state.shadowsArray;ft.render(n,t,e),!0===G&&dt.endShadows(),!0===this.info.autoReset&&this.info.reset();const r=y.opaque,i=y.transmissive;if(_.setupLights(),e.isArrayCamera){const n=e.cameras;if(i.length>0)for(let e=0,a=n.length;e<a;e++){const a=n[e];Zt(r,i,t,a)}Y&&mt.render(t);for(let e=0,r=n.length;e<r;e++){const r=n[e];Kt(y,t,r,r.viewport)}}else i.length>0&&Zt(r,i,t,e),Y&&mt.render(t),Kt(y,t,e);null!==T&&(rt.updateMultisampleRenderTarget(T),rt.updateRenderTargetMipmap(T)),!0===t.isScene&&t.onAfterRender(S,t,e),St.resetDefaultState(),C=-1,A=null,b.pop(),b.length>0?(_=b[b.length-1],!0===G&&dt.setGlobalState(S.clippingPlanes,_.state.camera)):_=null,x.pop(),y=x.length>0?x[x.length-1]:null},this.getActiveCubeFace=function(){return E},this.getActiveMipmapLevel=function(){return M},this.getRenderTarget=function(){return T},this.setRenderTargetTextures=function(t,e,n){nt.get(t.texture).__webglTexture=e,nt.get(t.depthTexture).__webglTexture=n;const r=nt.get(t);r.__hasExternalTextures=!0,r.__autoAllocateDepthBuffer=void 0===n,r.__autoAllocateDepthBuffer||!0===Z.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),r.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(t,e){const n=nt.get(t);n.__webglFramebuffer=e,n.__useDefaultFramebuffer=void 0===e},this.setRenderTarget=function(t,e=0,n=0){T=t,E=e,M=n;let r=!0,i=null,a=!1,s=!1;if(t){const o=nt.get(t);void 0!==o.__useDefaultFramebuffer?(tt.bindFramebuffer(Mt.FRAMEBUFFER,null),r=!1):void 0===o.__webglFramebuffer?rt.setupRenderTarget(t):o.__hasExternalTextures&&rt.rebindTextures(t,nt.get(t.texture).__webglTexture,nt.get(t.depthTexture).__webglTexture);const l=t.texture;(l.isData3DTexture||l.isDataArrayTexture||l.isCompressedArrayTexture)&&(s=!0);const c=nt.get(t).__webglFramebuffer;t.isWebGLCubeRenderTarget?(i=Array.isArray(c[e])?c[e][n]:c[e],a=!0):i=t.samples>0&&!1===rt.useMultisampledRTT(t)?nt.get(t).__webglMultisampledFramebuffer:Array.isArray(c)?c[n]:c,P.copy(t.viewport),R.copy(t.scissor),D=t.scissorTest}else P.copy(U).multiplyScalar(F).floor(),R.copy(z).multiplyScalar(F).floor(),D=V;const o=tt.bindFramebuffer(Mt.FRAMEBUFFER,i);if(o&&r&&tt.drawBuffers(t,i),tt.viewport(P),tt.scissor(R),tt.setScissorTest(D),a){const r=nt.get(t.texture);Mt.framebufferTexture2D(Mt.FRAMEBUFFER,Mt.COLOR_ATTACHMENT0,Mt.TEXTURE_CUBE_MAP_POSITIVE_X+e,r.__webglTexture,n)}else if(s){const r=nt.get(t.texture),i=e||0;Mt.framebufferTextureLayer(Mt.FRAMEBUFFER,Mt.COLOR_ATTACHMENT0,r.__webglTexture,n||0,i)}C=-1},this.readRenderTargetPixels=function(t,e,n,r,i,a,s){if(!t||!t.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let o=nt.get(t).__webglFramebuffer;if(t.isWebGLCubeRenderTarget&&void 0!==s&&(o=o[s]),o){tt.bindFramebuffer(Mt.FRAMEBUFFER,o);try{const s=t.texture,o=s.format,l=s.type;if(!Q.textureFormatReadable(o))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!Q.textureTypeReadable(l))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");e>=0&&e<=t.width-r&&n>=0&&n<=t.height-i&&Mt.readPixels(e,n,r,i,_t.convert(o),_t.convert(l),a)}finally{const t=null!==T?nt.get(T).__webglFramebuffer:null;tt.bindFramebuffer(Mt.FRAMEBUFFER,t)}}},this.readRenderTargetPixelsAsync=async function(t,e,n,r,i,a,s){if(!t||!t.isWebGLRenderTarget)throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let o=nt.get(t).__webglFramebuffer;if(t.isWebGLCubeRenderTarget&&void 0!==s&&(o=o[s]),o){tt.bindFramebuffer(Mt.FRAMEBUFFER,o);try{const s=t.texture,o=s.format,l=s.type;if(!Q.textureFormatReadable(o))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Q.textureTypeReadable(l))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(e>=0&&e<=t.width-r&&n>=0&&n<=t.height-i){const t=Mt.createBuffer();Mt.bindBuffer(Mt.PIXEL_PACK_BUFFER,t),Mt.bufferData(Mt.PIXEL_PACK_BUFFER,a.byteLength,Mt.STREAM_READ),Mt.readPixels(e,n,r,i,_t.convert(o),_t.convert(l),0),Mt.flush();const s=Mt.fenceSync(Mt.SYNC_GPU_COMMANDS_COMPLETE,0);await Un(Mt,s,4);try{Mt.bindBuffer(Mt.PIXEL_PACK_BUFFER,t),Mt.getBufferSubData(Mt.PIXEL_PACK_BUFFER,0,a)}finally{Mt.deleteBuffer(t),Mt.deleteSync(s)}return a}}finally{const t=null!==T?nt.get(T).__webglFramebuffer:null;tt.bindFramebuffer(Mt.FRAMEBUFFER,t)}}},this.copyFramebufferToTexture=function(t,e=null,n=0){!0!==t.isTexture&&(Bn("WebGLRenderer: copyFramebufferToTexture function signature has changed."),e=arguments[0]||null,t=arguments[1]);const r=Math.pow(2,-n),i=Math.floor(t.image.width*r),a=Math.floor(t.image.height*r),s=null!==e?e.x:0,o=null!==e?e.y:0;rt.setTexture2D(t,0),Mt.copyTexSubImage2D(Mt.TEXTURE_2D,n,0,0,s,o,i,a),tt.unbindTexture()},this.copyTextureToTexture=function(t,e,n=null,r=null,i=0){let a,s,o,l,c,u;!0!==t.isTexture&&(Bn("WebGLRenderer: copyTextureToTexture function signature has changed."),r=arguments[0]||null,t=arguments[1],e=arguments[2],i=arguments[3]||0,n=null),null!==n?(a=n.max.x-n.min.x,s=n.max.y-n.min.y,o=n.min.x,l=n.min.y):(a=t.image.width,s=t.image.height,o=0,l=0),null!==r?(c=r.x,u=r.y):(c=0,u=0);const h=_t.convert(e.format),p=_t.convert(e.type);rt.setTexture2D(e,0),Mt.pixelStorei(Mt.UNPACK_FLIP_Y_WEBGL,e.flipY),Mt.pixelStorei(Mt.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),Mt.pixelStorei(Mt.UNPACK_ALIGNMENT,e.unpackAlignment);const d=Mt.getParameter(Mt.UNPACK_ROW_LENGTH),f=Mt.getParameter(Mt.UNPACK_IMAGE_HEIGHT),m=Mt.getParameter(Mt.UNPACK_SKIP_PIXELS),g=Mt.getParameter(Mt.UNPACK_SKIP_ROWS),v=Mt.getParameter(Mt.UNPACK_SKIP_IMAGES),y=t.isCompressedTexture?t.mipmaps[i]:t.image;Mt.pixelStorei(Mt.UNPACK_ROW_LENGTH,y.width),Mt.pixelStorei(Mt.UNPACK_IMAGE_HEIGHT,y.height),Mt.pixelStorei(Mt.UNPACK_SKIP_PIXELS,o),Mt.pixelStorei(Mt.UNPACK_SKIP_ROWS,l),t.isDataTexture?Mt.texSubImage2D(Mt.TEXTURE_2D,i,c,u,a,s,h,p,y.data):t.isCompressedTexture?Mt.compressedTexSubImage2D(Mt.TEXTURE_2D,i,c,u,y.width,y.height,h,y.data):Mt.texSubImage2D(Mt.TEXTURE_2D,i,c,u,a,s,h,p,y),Mt.pixelStorei(Mt.UNPACK_ROW_LENGTH,d),Mt.pixelStorei(Mt.UNPACK_IMAGE_HEIGHT,f),Mt.pixelStorei(Mt.UNPACK_SKIP_PIXELS,m),Mt.pixelStorei(Mt.UNPACK_SKIP_ROWS,g),Mt.pixelStorei(Mt.UNPACK_SKIP_IMAGES,v),0===i&&e.generateMipmaps&&Mt.generateMipmap(Mt.TEXTURE_2D),tt.unbindTexture()},this.copyTextureToTexture3D=function(t,e,n=null,r=null,i=0){let a,s,o,l,c,u,h,p,d;!0!==t.isTexture&&(Bn("WebGLRenderer: copyTextureToTexture3D function signature has changed."),n=arguments[0]||null,r=arguments[1]||null,t=arguments[2],e=arguments[3],i=arguments[4]||0);const f=t.isCompressedTexture?t.mipmaps[i]:t.image;null!==n?(a=n.max.x-n.min.x,s=n.max.y-n.min.y,o=n.max.z-n.min.z,l=n.min.x,c=n.min.y,u=n.min.z):(a=f.width,s=f.height,o=f.depth,l=0,c=0,u=0),null!==r?(h=r.x,p=r.y,d=r.z):(h=0,p=0,d=0);const m=_t.convert(e.format),g=_t.convert(e.type);let v;if(e.isData3DTexture)rt.setTexture3D(e,0),v=Mt.TEXTURE_3D;else{if(!e.isDataArrayTexture&&!e.isCompressedArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");rt.setTexture2DArray(e,0),v=Mt.TEXTURE_2D_ARRAY}Mt.pixelStorei(Mt.UNPACK_FLIP_Y_WEBGL,e.flipY),Mt.pixelStorei(Mt.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),Mt.pixelStorei(Mt.UNPACK_ALIGNMENT,e.unpackAlignment);const y=Mt.getParameter(Mt.UNPACK_ROW_LENGTH),_=Mt.getParameter(Mt.UNPACK_IMAGE_HEIGHT),x=Mt.getParameter(Mt.UNPACK_SKIP_PIXELS),b=Mt.getParameter(Mt.UNPACK_SKIP_ROWS),S=Mt.getParameter(Mt.UNPACK_SKIP_IMAGES);Mt.pixelStorei(Mt.UNPACK_ROW_LENGTH,f.width),Mt.pixelStorei(Mt.UNPACK_IMAGE_HEIGHT,f.height),Mt.pixelStorei(Mt.UNPACK_SKIP_PIXELS,l),Mt.pixelStorei(Mt.UNPACK_SKIP_ROWS,c),Mt.pixelStorei(Mt.UNPACK_SKIP_IMAGES,u),t.isDataTexture||t.isData3DTexture?Mt.texSubImage3D(v,i,h,p,d,a,s,o,m,g,f.data):e.isCompressedArrayTexture?Mt.compressedTexSubImage3D(v,i,h,p,d,a,s,o,m,f.data):Mt.texSubImage3D(v,i,h,p,d,a,s,o,m,g,f),Mt.pixelStorei(Mt.UNPACK_ROW_LENGTH,y),Mt.pixelStorei(Mt.UNPACK_IMAGE_HEIGHT,_),Mt.pixelStorei(Mt.UNPACK_SKIP_PIXELS,x),Mt.pixelStorei(Mt.UNPACK_SKIP_ROWS,b),Mt.pixelStorei(Mt.UNPACK_SKIP_IMAGES,S),0===i&&e.generateMipmaps&&Mt.generateMipmap(v),tt.unbindTexture()},this.initRenderTarget=function(t){void 0===nt.get(t).__webglFramebuffer&&rt.setupRenderTarget(t)},this.initTexture=function(t){t.isCubeTexture?rt.setTextureCube(t,0):t.isData3DTexture?rt.setTexture3D(t,0):t.isDataArrayTexture||t.isCompressedArrayTexture?rt.setTexture2DArray(t,0):rt.setTexture2D(t,0),tt.unbindTexture()},this.resetState=function(){E=0,M=0,T=null,tt.reset(),St.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return tn}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(t){this._outputColorSpace=t;const e=this.getContext();e.drawingBufferColorSpace=t===Fe?"display-p3":"srgb",e.unpackColorSpace=Wn.workingColorSpace===Ne?"display-p3":"srgb"}}class Ah{constructor(t,e=1,n=1e3){this.isFog=!0,this.name="",this.color=new Mi(t),this.near=e,this.far=n}clone(){return new Ah(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Ph extends ci{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new qr,this.environmentIntensity=1,this.environmentRotation=new qr,this.overrideMaterial=null,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.environment&&(this.environment=t.environment.clone()),null!==t.fog&&(this.fog=t.fog.clone()),this.backgroundBlurriness=t.backgroundBlurriness,this.backgroundIntensity=t.backgroundIntensity,this.backgroundRotation.copy(t.backgroundRotation),this.environmentIntensity=t.environmentIntensity,this.environmentRotation.copy(t.environmentRotation),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return null!==this.fog&&(e.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(e.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(e.object.backgroundIntensity=this.backgroundIntensity),e.object.backgroundRotation=this.backgroundRotation.toArray(),1!==this.environmentIntensity&&(e.object.environmentIntensity=this.environmentIntensity),e.object.environmentRotation=this.environmentRotation.toArray(),e}}class Rh extends Gi{constructor(t=[],e=[],n=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:r};const i=[],a=[];function s(t){const n=new sr,r=new sr,i=new sr;for(let a=0;a<e.length;a+=3)p(e[a+0],n),p(e[a+1],r),p(e[a+2],i),o(n,r,i,t)}function o(t,e,n,r){const i=r+1,a=[];for(let s=0;s<=i;s++){a[s]=[];const r=t.clone().lerp(n,s/i),o=e.clone().lerp(n,s/i),l=i-s;for(let t=0;t<=l;t++)a[s][t]=0===t&&s===i?r:r.clone().lerp(o,t/l)}for(let s=0;s<i;s++)for(let t=0;t<2*(i-s)-1;t++){const e=Math.floor(t/2);t%2===0?(h(a[s][e+1]),h(a[s+1][e]),h(a[s][e])):(h(a[s][e+1]),h(a[s+1][e+1]),h(a[s+1][e]))}}function l(t){const e=new sr;for(let n=0;n<i.length;n+=3)e.x=i[n+0],e.y=i[n+1],e.z=i[n+2],e.normalize().multiplyScalar(t),i[n+0]=e.x,i[n+1]=e.y,i[n+2]=e.z}function c(){const t=new sr;for(let e=0;e<i.length;e+=3){t.x=i[e+0],t.y=i[e+1],t.z=i[e+2];const n=m(t)/2/Math.PI+.5,r=g(t)/Math.PI+.5;a.push(n,1-r)}d(),u()}function u(){for(let t=0;t<a.length;t+=6){const e=a[t+0],n=a[t+2],r=a[t+4],i=Math.max(e,n,r),s=Math.min(e,n,r);i>.9&&s<.1&&(e<.2&&(a[t+0]+=1),n<.2&&(a[t+2]+=1),r<.2&&(a[t+4]+=1))}}function h(t){i.push(t.x,t.y,t.z)}function p(e,n){const r=3*e;n.x=t[r+0],n.y=t[r+1],n.z=t[r+2]}function d(){const t=new sr,e=new sr,n=new sr,r=new sr,s=new Dn,o=new Dn,l=new Dn;for(let c=0,u=0;c<i.length;c+=9,u+=6){t.set(i[c+0],i[c+1],i[c+2]),e.set(i[c+3],i[c+4],i[c+5]),n.set(i[c+6],i[c+7],i[c+8]),s.set(a[u+0],a[u+1]),o.set(a[u+2],a[u+3]),l.set(a[u+4],a[u+5]),r.copy(t).add(e).add(n).divideScalar(3);const h=m(r);f(s,u+0,t,h),f(o,u+2,e,h),f(l,u+4,n,h)}}function f(t,e,n,r){r<0&&1===t.x&&(a[e]=t.x-1),0===n.x&&0===n.z&&(a[e]=r/2/Math.PI+.5)}function m(t){return Math.atan2(t.z,-t.x)}function g(t){return Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))}s(r),l(n),c(),this.setAttribute("position",new Oi(i,3)),this.setAttribute("normal",new Oi(i.slice(),3)),this.setAttribute("uv",new Oi(a,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Rh(t.vertices,t.indices,t.radius,t.details)}}class Dh extends Rh{constructor(t=1,e=0){const n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],i=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,i,t,e),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new Dh(t.radius,t.detail)}}function Ih(t,e,n){return!t||!n&&t.constructor===e?t:"number"===typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)}function Lh(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}class kh{constructor(t,e,n,r){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new e.constructor(n),this.sampleValues=e,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(t){const e=this.parameterPositions;let n=this._cachedIndex,r=e[n],i=e[n-1];t:{e:{let a;n:{r:if(!(t<r)){for(let a=n+2;;){if(void 0===r){if(t<i)break r;return n=e.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===a)break;if(i=r,r=e[++n],t<r)break e}a=e.length;break n}if(t>=i)break t;{const s=e[1];t<s&&(n=2,i=s);for(let a=n-2;;){if(void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(n===a)break;if(r=i,i=e[--n-1],t>=i)break e}a=n,n=0}}while(n<a){const r=n+a>>>1;t<e[r]?a=r:n=r+1}if(r=e[n],i=e[n-1],void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=e.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,t,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const e=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=t*r;for(let a=0;a!==r;++a)e[a]=n[i+a];return e}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Oh extends kh{constructor(t,e,n,r){super(t,e,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Te,endingEnd:Te}}intervalChanged_(t,e,n){const r=this.parameterPositions;let i=t-2,a=t+1,s=r[i],o=r[a];if(void 0===s)switch(this.getSettings_().endingStart){case Ce:i=t,s=2*e-n;break;case Ae:i=r.length-2,s=e+r[i]-r[i+1];break;default:i=t,s=n}if(void 0===o)switch(this.getSettings_().endingEnd){case Ce:a=t,o=2*n-e;break;case Ae:a=1,o=n+r[1]-r[0];break;default:a=t-1,o=e}const l=.5*(n-e),c=this.valueSize;this._weightPrev=l/(e-s),this._weightNext=l/(o-n),this._offsetPrev=i*c,this._offsetNext=a*c}interpolate_(t,e,n,r){const i=this.resultBuffer,a=this.sampleValues,s=this.valueSize,o=t*s,l=o-s,c=this._offsetPrev,u=this._offsetNext,h=this._weightPrev,p=this._weightNext,d=(n-e)/(r-e),f=d*d,m=f*d,g=-h*m+2*h*f-h*d,v=(1+h)*m+(-1.5-2*h)*f+(-.5+h)*d+1,y=(-1-p)*m+(1.5+p)*f+.5*d,_=p*m-p*f;for(let x=0;x!==s;++x)i[x]=g*a[c+x]+v*a[l+x]+y*a[o+x]+_*a[u+x];return i}}class Fh extends kh{constructor(t,e,n,r){super(t,e,n,r)}interpolate_(t,e,n,r){const i=this.resultBuffer,a=this.sampleValues,s=this.valueSize,o=t*s,l=o-s,c=(n-e)/(r-e),u=1-c;for(let h=0;h!==s;++h)i[h]=a[l+h]*u+a[o+h]*c;return i}}class Nh extends kh{constructor(t,e,n,r){super(t,e,n,r)}interpolate_(t){return this.copySampleValue_(t-1)}}class Bh{constructor(t,e,n,r){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Ih(e,this.TimeBufferType),this.values=Ih(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(t){const e=t.constructor;let n;if(e.toJSON!==this.toJSON)n=e.toJSON(t);else{n={name:t.name,times:Ih(t.times,Array),values:Ih(t.values,Array)};const e=t.getInterpolation();e!==t.DefaultInterpolation&&(n.interpolation=e)}return n.type=t.ValueTypeName,n}InterpolantFactoryMethodDiscrete(t){return new Nh(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new Fh(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new Oh(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let e;switch(t){case we:e=this.InterpolantFactoryMethodDiscrete;break;case Ee:e=this.InterpolantFactoryMethodLinear;break;case Me:e=this.InterpolantFactoryMethodSmooth;break}if(void 0===e){const e="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(e);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",e),this}return this.createInterpolant=e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return we;case this.InterpolantFactoryMethodLinear:return Ee;case this.InterpolantFactoryMethodSmooth:return Me}}getValueSize(){return this.values.length/this.times.length}shift(t){if(0!==t){const e=this.times;for(let n=0,r=e.length;n!==r;++n)e[n]+=t}return this}scale(t){if(1!==t){const e=this.times;for(let n=0,r=e.length;n!==r;++n)e[n]*=t}return this}trim(t,e){const n=this.times,r=n.length;let i=0,a=r-1;while(i!==r&&n[i]<t)++i;while(-1!==a&&n[a]>e)--a;if(++a,0!==i||a!==r){i>=a&&(a=Math.max(a,1),i=a-1);const t=this.getValueSize();this.times=n.slice(i,a),this.values=this.values.slice(i*t,a*t)}return this}validate(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let a=null;for(let s=0;s!==i;s++){const e=n[s];if("number"===typeof e&&isNaN(e)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,s,e),t=!1;break}if(null!==a&&a>e){console.error("THREE.KeyframeTrack: Out of order keys.",this,s,e,a),t=!1;break}a=e}if(void 0!==r&&Lh(r))for(let s=0,o=r.length;s!==o;++s){const e=r[s];if(isNaN(e)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,s,e),t=!1;break}}return t}optimize(){const t=this.times.slice(),e=this.values.slice(),n=this.getValueSize(),r=this.getInterpolation()===Me,i=t.length-1;let a=1;for(let s=1;s<i;++s){let i=!1;const o=t[s],l=t[s+1];if(o!==l&&(1!==s||o!==t[0]))if(r)i=!0;else{const t=s*n,r=t-n,a=t+n;for(let s=0;s!==n;++s){const n=e[t+s];if(n!==e[r+s]||n!==e[a+s]){i=!0;break}}}if(i){if(s!==a){t[a]=t[s];const r=s*n,i=a*n;for(let t=0;t!==n;++t)e[i+t]=e[r+t]}++a}}if(i>0){t[a]=t[i];for(let t=i*n,r=a*n,s=0;s!==n;++s)e[r+s]=e[t+s];++a}return a!==t.length?(this.times=t.slice(0,a),this.values=e.slice(0,a*n)):(this.times=t,this.values=e),this}clone(){const t=this.times.slice(),e=this.values.slice(),n=this.constructor,r=new n(this.name,t,e);return r.createInterpolant=this.createInterpolant,r}}Bh.prototype.TimeBufferType=Float32Array,Bh.prototype.ValueBufferType=Float32Array,Bh.prototype.DefaultInterpolation=Ee;class Uh extends Bh{constructor(t,e,n){super(t,e,n)}}Uh.prototype.ValueTypeName="bool",Uh.prototype.ValueBufferType=Array,Uh.prototype.DefaultInterpolation=we,Uh.prototype.InterpolantFactoryMethodLinear=void 0,Uh.prototype.InterpolantFactoryMethodSmooth=void 0;class zh extends Bh{}zh.prototype.ValueTypeName="color";class Vh extends Bh{}Vh.prototype.ValueTypeName="number";class Hh extends kh{constructor(t,e,n,r){super(t,e,n,r)}interpolate_(t,e,n,r){const i=this.resultBuffer,a=this.sampleValues,s=this.valueSize,o=(n-e)/(r-e);let l=t*s;for(let c=l+s;l!==c;l+=4)ar.slerpFlat(i,0,a,l-s,a,l,o);return i}}class Gh extends Bh{InterpolantFactoryMethodLinear(t){return new Hh(this.times,this.values,this.getValueSize(),t)}}Gh.prototype.ValueTypeName="quaternion",Gh.prototype.InterpolantFactoryMethodSmooth=void 0;class Wh extends Bh{constructor(t,e,n){super(t,e,n)}}Wh.prototype.ValueTypeName="string",Wh.prototype.ValueBufferType=Array,Wh.prototype.DefaultInterpolation=we,Wh.prototype.InterpolantFactoryMethodLinear=void 0,Wh.prototype.InterpolantFactoryMethodSmooth=void 0;class jh extends Bh{}jh.prototype.ValueTypeName="vector";const qh={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class $h{constructor(t,e,n){const r=this;let i,a=!1,s=0,o=0;const l=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(t){o++,!1===a&&void 0!==r.onStart&&r.onStart(t,s,o),a=!0},this.itemEnd=function(t){s++,void 0!==r.onProgress&&r.onProgress(t,s,o),s===o&&(a=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(t){void 0!==r.onError&&r.onError(t)},this.resolveURL=function(t){return i?i(t):t},this.setURLModifier=function(t){return i=t,this},this.addHandler=function(t,e){return l.push(t,e),this},this.removeHandler=function(t){const e=l.indexOf(t);return-1!==e&&l.splice(e,2),this},this.getHandler=function(t){for(let e=0,n=l.length;e<n;e+=2){const n=l[e],r=l[e+1];if(n.global&&(n.lastIndex=0),n.test(t))return r}return null}}}const Xh=new $h;class Yh{constructor(t){this.manager=void 0!==t?t:Xh,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,e){const n=this;return new Promise((function(r,i){n.load(t,r,e,i)}))}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}}Yh.DEFAULT_MATERIAL_NAME="__DEFAULT";Error;class Kh extends Yh{constructor(t){super(t)}load(t,e,n,r){void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const i=this,a=qh.get(t);if(void 0!==a)return i.manager.itemStart(t),setTimeout((function(){e&&e(a),i.manager.itemEnd(t)}),0),a;const s=On("img");function o(){c(),qh.add(t,this),e&&e(this),i.manager.itemEnd(t)}function l(e){c(),r&&r(e),i.manager.itemError(t),i.manager.itemEnd(t)}function c(){s.removeEventListener("load",o,!1),s.removeEventListener("error",l,!1)}return s.addEventListener("load",o,!1),s.addEventListener("error",l,!1),"data:"!==t.slice(0,5)&&void 0!==this.crossOrigin&&(s.crossOrigin=this.crossOrigin),i.manager.itemStart(t),s.src=t,s}}class Zh extends Yh{constructor(t){super(t)}load(t,e,n,r){const i=new Qn,a=new Kh(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(t,(function(t){i.image=t,i.needsUpdate=!0,void 0!==e&&e(i)}),n,r),i}}const Jh="\\[\\]\\.:\\/",Qh=new RegExp("["+Jh+"]","g"),tp="[^"+Jh+"]",ep="[^"+Jh.replace("\\.","")+"]",np=/((?:WC+[\/:])*)/.source.replace("WC",tp),rp=/(WCOD+)?/.source.replace("WCOD",ep),ip=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",tp),ap=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",tp),sp=new RegExp("^"+np+rp+ip+ap+"$"),op=["material","materials","bones","map"];class lp{constructor(t,e,n){const r=n||cp.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,r)}getValue(t,e){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(t,e)}setValue(t,e){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(t,e)}bind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()}unbind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}}class cp{constructor(t,e,n){this.path=e,this.parsedPath=n||cp.parseTrackName(e),this.node=cp.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,e,n){return t&&t.isAnimationObjectGroup?new cp.Composite(t,e,n):new cp(t,e,n)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(Qh,"")}static parseTrackName(t){const e=sp.exec(t);if(null===e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const n={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){const t=n.nodeName.substring(r+1);-1!==op.indexOf(t)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=t)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return n}static findNode(t,e){if(void 0===e||""===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){const n=t.skeleton.getBoneByName(e);if(void 0!==n)return n}if(t.children){const n=function(t){for(let r=0;r<t.length;r++){const i=t[r];if(i.name===e||i.uuid===e)return i;const a=n(i.children);if(a)return a}return null},r=n(t.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,e){t[e]=this.targetObject[this.propertyName]}_getValue_array(t,e){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)t[e++]=n[r]}_getValue_arrayElement(t,e){t[e]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,e){this.resolvedProperty.toArray(t,e)}_setValue_direct(t,e){this.targetObject[this.propertyName]=t[e]}_setValue_direct_setNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,e){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=t[e++]}_setValue_array_setNeedsUpdate(t,e){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=t[e++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,e){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,e){this.resolvedProperty[this.propertyIndex]=t[e]}_setValue_arrayElement_setNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,e){this.resolvedProperty.fromArray(t,e)}_setValue_fromArray_setNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,e){this.bind(),this.getValue(t,e)}_setValue_unbound(t,e){this.bind(),this.setValue(t,e)}bind(){let t=this.node;const e=this.parsedPath,n=e.objectName,r=e.propertyName;let i=e.propertyIndex;if(t||(t=cp.findNode(this.rootNode,e.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");if(n){let r=e.objectIndex;switch(n){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(let e=0;e<t.length;e++)if(t[e].name===r){r=e;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);t=t.material.map;break;default:if(void 0===t[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[n]}if(void 0!==r){if(void 0===t[r])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[r]}}const a=t[r];if(void 0===a){const n=e.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+n+"."+r+" but it wasn't found.",t)}let s=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?s=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(s=this.Versioning.MatrixWorldNeedsUpdate);let o=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[i]&&(i=t.morphTargetDictionary[i])}o=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=i}else void 0!==a.fromArray&&void 0!==a.toArray?(o=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(o=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=r;this.getValue=this.GetterByBindingType[o],this.setValue=this.SetterByBindingTypeAndVersioning[o][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}cp.Composite=lp,cp.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},cp.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},cp.prototype.GetterByBindingType=[cp.prototype._getValue_direct,cp.prototype._getValue_array,cp.prototype._getValue_arrayElement,cp.prototype._getValue_toArray],cp.prototype.SetterByBindingTypeAndVersioning=[[cp.prototype._setValue_direct,cp.prototype._setValue_direct_setNeedsUpdate,cp.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[cp.prototype._setValue_array,cp.prototype._setValue_array_setNeedsUpdate,cp.prototype._setValue_array_setMatrixWorldNeedsUpdate],[cp.prototype._setValue_arrayElement,cp.prototype._setValue_arrayElement_setNeedsUpdate,cp.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[cp.prototype._setValue_fromArray,cp.prototype._setValue_fromArray_setNeedsUpdate,cp.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];new Float32Array(1);const up=new Fr;class hp{constructor(t,e,n=0,r=1/0){this.ray=new Or(t,e),this.near=n,this.far=r,this.camera=null,this.layers=new $r,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(t,e){this.ray.set(t,e)}setFromCamera(t,e){e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type: "+e.type)}setFromXRController(t){return up.identity().extractRotation(t.matrixWorld),this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(up),this}intersectObject(t,e=!0,n=[]){return dp(t,this,n,e),n.sort(pp),n}intersectObjects(t,e=!0,n=[]){for(let r=0,i=t.length;r<i;r++)dp(t[r],this,n,e);return n.sort(pp),n}}function pp(t,e){return t.distance-e.distance}function dp(t,e,n,r){let i=!0;if(t.layers.test(e.layers)){const r=t.raycast(e,n);!1===r&&(i=!1)}if(!0===i&&!0===r){const r=t.children;for(let t=0,i=r.length;t<i;t++)dp(r[t],e,n,!0)}}class fp{constructor(t=1,e=0,n=0){return this.radius=t,this.phi=e,this.theta=n,this}set(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){const t=1e-6;return this.phi=Math.max(t,Math.min(Math.PI-t,this.phi)),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,n){return this.radius=Math.sqrt(t*t+e*e+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,n),this.phi=Math.acos(cn(e/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:r}})),"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=r)},2951:function(t,e,n){"use strict";n.d(e,{N:function(){return u}});n(4114);var r=n(8776);const i={type:"change"},a={type:"start"},s={type:"end"},o=new r.RlV,l=new r.Zcv,c=Math.cos(70*r.cj9.DEG2RAD);class u extends r.Qev{constructor(t,e){super(),this.object=t,this.domElement=e,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new r.Pq0,this.cursor=new r.Pq0,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:r.kBv.ROTATE,MIDDLE:r.kBv.DOLLY,RIGHT:r.kBv.PAN},this.touches={ONE:r.wtR.ROTATE,TWO:r.wtR.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return d.phi},this.getAzimuthalAngle=function(){return d.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(t){t.addEventListener("keydown",gt),this._domElementKeyEvents=t},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",gt),this._domElementKeyEvents=null},this.saveState=function(){n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=function(){n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(i),n.update(),h=u.NONE},this.update=function(){const e=new r.Pq0,a=(new r.PTz).setFromUnitVectors(t.up,new r.Pq0(0,1,0)),s=a.clone().invert(),v=new r.Pq0,y=new r.PTz,_=new r.Pq0,x=2*Math.PI;return function(b=null){const S=n.object.position;e.copy(S).sub(n.target),e.applyQuaternion(a),d.setFromVector3(e),n.autoRotate&&h===u.NONE&&k(I(b)),n.enableDamping?(d.theta+=f.theta*n.dampingFactor,d.phi+=f.phi*n.dampingFactor):(d.theta+=f.theta,d.phi+=f.phi);let w=n.minAzimuthAngle,E=n.maxAzimuthAngle;isFinite(w)&&isFinite(E)&&(w<-Math.PI?w+=x:w>Math.PI&&(w-=x),E<-Math.PI?E+=x:E>Math.PI&&(E-=x),d.theta=w<=E?Math.max(w,Math.min(E,d.theta)):d.theta>(w+E)/2?Math.max(w,d.theta):Math.min(E,d.theta)),d.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,d.phi)),d.makeSafe(),!0===n.enableDamping?n.target.addScaledVector(g,n.dampingFactor):n.target.add(g),n.target.sub(n.cursor),n.target.clampLength(n.minTargetRadius,n.maxTargetRadius),n.target.add(n.cursor);let M=!1;if(n.zoomToCursor&&A||n.object.isOrthographicCamera)d.radius=H(d.radius);else{const t=d.radius;d.radius=H(d.radius*m),M=t!=d.radius}if(e.setFromSpherical(d),e.applyQuaternion(s),S.copy(n.target).add(e),n.object.lookAt(n.target),!0===n.enableDamping?(f.theta*=1-n.dampingFactor,f.phi*=1-n.dampingFactor,g.multiplyScalar(1-n.dampingFactor)):(f.set(0,0,0),g.set(0,0,0)),n.zoomToCursor&&A){let i=null;if(n.object.isPerspectiveCamera){const t=e.length();i=H(t*m);const r=t-i;n.object.position.addScaledVector(T,r),n.object.updateMatrixWorld(),M=!!r}else if(n.object.isOrthographicCamera){const t=new r.Pq0(C.x,C.y,0);t.unproject(n.object);const a=n.object.zoom;n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/m)),n.object.updateProjectionMatrix(),M=a!==n.object.zoom;const s=new r.Pq0(C.x,C.y,0);s.unproject(n.object),n.object.position.sub(s).add(t),n.object.updateMatrixWorld(),i=e.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),n.zoomToCursor=!1;null!==i&&(this.screenSpacePanning?n.target.set(0,0,-1).transformDirection(n.object.matrix).multiplyScalar(i).add(n.object.position):(o.origin.copy(n.object.position),o.direction.set(0,0,-1).transformDirection(n.object.matrix),Math.abs(n.object.up.dot(o.direction))<c?t.lookAt(n.target):(l.setFromNormalAndCoplanarPoint(n.object.up,n.target),o.intersectPlane(l,n.target))))}else if(n.object.isOrthographicCamera){const t=n.object.zoom;n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/m)),t!==n.object.zoom&&(n.object.updateProjectionMatrix(),M=!0)}return m=1,A=!1,!!(M||v.distanceToSquared(n.object.position)>p||8*(1-y.dot(n.object.quaternion))>p||_.distanceToSquared(n.target)>p)&&(n.dispatchEvent(i),v.copy(n.object.position),y.copy(n.object.quaternion),_.copy(n.target),!0)}}(),this.dispose=function(){n.domElement.removeEventListener("contextmenu",_t),n.domElement.removeEventListener("pointerdown",ot),n.domElement.removeEventListener("pointercancel",ct),n.domElement.removeEventListener("wheel",pt),n.domElement.removeEventListener("pointermove",lt),n.domElement.removeEventListener("pointerup",ct);const t=n.domElement.getRootNode();t.removeEventListener("keydown",ft,{capture:!0}),null!==n._domElementKeyEvents&&(n._domElementKeyEvents.removeEventListener("keydown",gt),n._domElementKeyEvents=null)};const n=this,u={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let h=u.NONE;const p=1e-6,d=new r.YHV,f=new r.YHV;let m=1;const g=new r.Pq0,v=new r.I9Y,y=new r.I9Y,_=new r.I9Y,x=new r.I9Y,b=new r.I9Y,S=new r.I9Y,w=new r.I9Y,E=new r.I9Y,M=new r.I9Y,T=new r.Pq0,C=new r.I9Y;let A=!1;const P=[],R={};let D=!1;function I(t){return null!==t?2*Math.PI/60*n.autoRotateSpeed*t:2*Math.PI/60/60*n.autoRotateSpeed}function L(t){const e=Math.abs(.01*t);return Math.pow(.95,n.zoomSpeed*e)}function k(t){f.theta-=t}function O(t){f.phi-=t}const F=function(){const t=new r.Pq0;return function(e,n){t.setFromMatrixColumn(n,0),t.multiplyScalar(-e),g.add(t)}}(),N=function(){const t=new r.Pq0;return function(e,r){!0===n.screenSpacePanning?t.setFromMatrixColumn(r,1):(t.setFromMatrixColumn(r,0),t.crossVectors(n.object.up,t)),t.multiplyScalar(e),g.add(t)}}(),B=function(){const t=new r.Pq0;return function(e,r){const i=n.domElement;if(n.object.isPerspectiveCamera){const a=n.object.position;t.copy(a).sub(n.target);let s=t.length();s*=Math.tan(n.object.fov/2*Math.PI/180),F(2*e*s/i.clientHeight,n.object.matrix),N(2*r*s/i.clientHeight,n.object.matrix)}else n.object.isOrthographicCamera?(F(e*(n.object.right-n.object.left)/n.object.zoom/i.clientWidth,n.object.matrix),N(r*(n.object.top-n.object.bottom)/n.object.zoom/i.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}}();function U(t){n.object.isPerspectiveCamera||n.object.isOrthographicCamera?m/=t:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function z(t){n.object.isPerspectiveCamera||n.object.isOrthographicCamera?m*=t:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function V(t,e){if(!n.zoomToCursor)return;A=!0;const r=n.domElement.getBoundingClientRect(),i=t-r.left,a=e-r.top,s=r.width,o=r.height;C.x=i/s*2-1,C.y=-a/o*2+1,T.set(C.x,C.y,1).unproject(n.object).sub(n.object.position).normalize()}function H(t){return Math.max(n.minDistance,Math.min(n.maxDistance,t))}function G(t){v.set(t.clientX,t.clientY)}function W(t){V(t.clientX,t.clientX),w.set(t.clientX,t.clientY)}function j(t){x.set(t.clientX,t.clientY)}function q(t){y.set(t.clientX,t.clientY),_.subVectors(y,v).multiplyScalar(n.rotateSpeed);const e=n.domElement;k(2*Math.PI*_.x/e.clientHeight),O(2*Math.PI*_.y/e.clientHeight),v.copy(y),n.update()}function $(t){E.set(t.clientX,t.clientY),M.subVectors(E,w),M.y>0?U(L(M.y)):M.y<0&&z(L(M.y)),w.copy(E),n.update()}function X(t){b.set(t.clientX,t.clientY),S.subVectors(b,x).multiplyScalar(n.panSpeed),B(S.x,S.y),x.copy(b),n.update()}function Y(t){V(t.clientX,t.clientY),t.deltaY<0?z(L(t.deltaY)):t.deltaY>0&&U(L(t.deltaY)),n.update()}function K(t){let e=!1;switch(t.code){case n.keys.UP:t.ctrlKey||t.metaKey||t.shiftKey?O(2*Math.PI*n.rotateSpeed/n.domElement.clientHeight):B(0,n.keyPanSpeed),e=!0;break;case n.keys.BOTTOM:t.ctrlKey||t.metaKey||t.shiftKey?O(-2*Math.PI*n.rotateSpeed/n.domElement.clientHeight):B(0,-n.keyPanSpeed),e=!0;break;case n.keys.LEFT:t.ctrlKey||t.metaKey||t.shiftKey?k(2*Math.PI*n.rotateSpeed/n.domElement.clientHeight):B(n.keyPanSpeed,0),e=!0;break;case n.keys.RIGHT:t.ctrlKey||t.metaKey||t.shiftKey?k(-2*Math.PI*n.rotateSpeed/n.domElement.clientHeight):B(-n.keyPanSpeed,0),e=!0;break}e&&(t.preventDefault(),n.update())}function Z(t){if(1===P.length)v.set(t.pageX,t.pageY);else{const e=Et(t),n=.5*(t.pageX+e.x),r=.5*(t.pageY+e.y);v.set(n,r)}}function J(t){if(1===P.length)x.set(t.pageX,t.pageY);else{const e=Et(t),n=.5*(t.pageX+e.x),r=.5*(t.pageY+e.y);x.set(n,r)}}function Q(t){const e=Et(t),n=t.pageX-e.x,r=t.pageY-e.y,i=Math.sqrt(n*n+r*r);w.set(0,i)}function tt(t){n.enableZoom&&Q(t),n.enablePan&&J(t)}function et(t){n.enableZoom&&Q(t),n.enableRotate&&Z(t)}function nt(t){if(1==P.length)y.set(t.pageX,t.pageY);else{const e=Et(t),n=.5*(t.pageX+e.x),r=.5*(t.pageY+e.y);y.set(n,r)}_.subVectors(y,v).multiplyScalar(n.rotateSpeed);const e=n.domElement;k(2*Math.PI*_.x/e.clientHeight),O(2*Math.PI*_.y/e.clientHeight),v.copy(y)}function rt(t){if(1===P.length)b.set(t.pageX,t.pageY);else{const e=Et(t),n=.5*(t.pageX+e.x),r=.5*(t.pageY+e.y);b.set(n,r)}S.subVectors(b,x).multiplyScalar(n.panSpeed),B(S.x,S.y),x.copy(b)}function it(t){const e=Et(t),r=t.pageX-e.x,i=t.pageY-e.y,a=Math.sqrt(r*r+i*i);E.set(0,a),M.set(0,Math.pow(E.y/w.y,n.zoomSpeed)),U(M.y),w.copy(E);const s=.5*(t.pageX+e.x),o=.5*(t.pageY+e.y);V(s,o)}function at(t){n.enableZoom&&it(t),n.enablePan&&rt(t)}function st(t){n.enableZoom&&it(t),n.enableRotate&&nt(t)}function ot(t){!1!==n.enabled&&(0===P.length&&(n.domElement.setPointerCapture(t.pointerId),n.domElement.addEventListener("pointermove",lt),n.domElement.addEventListener("pointerup",ct)),St(t)||(xt(t),"touch"===t.pointerType?vt(t):ut(t)))}function lt(t){!1!==n.enabled&&("touch"===t.pointerType?yt(t):ht(t))}function ct(t){switch(bt(t),P.length){case 0:n.domElement.releasePointerCapture(t.pointerId),n.domElement.removeEventListener("pointermove",lt),n.domElement.removeEventListener("pointerup",ct),n.dispatchEvent(s),h=u.NONE;break;case 1:const e=P[0],r=R[e];vt({pointerId:e,pageX:r.x,pageY:r.y});break}}function ut(t){let e;switch(t.button){case 0:e=n.mouseButtons.LEFT;break;case 1:e=n.mouseButtons.MIDDLE;break;case 2:e=n.mouseButtons.RIGHT;break;default:e=-1}switch(e){case r.kBv.DOLLY:if(!1===n.enableZoom)return;W(t),h=u.DOLLY;break;case r.kBv.ROTATE:if(t.ctrlKey||t.metaKey||t.shiftKey){if(!1===n.enablePan)return;j(t),h=u.PAN}else{if(!1===n.enableRotate)return;G(t),h=u.ROTATE}break;case r.kBv.PAN:if(t.ctrlKey||t.metaKey||t.shiftKey){if(!1===n.enableRotate)return;G(t),h=u.ROTATE}else{if(!1===n.enablePan)return;j(t),h=u.PAN}break;default:h=u.NONE}h!==u.NONE&&n.dispatchEvent(a)}function ht(t){switch(h){case u.ROTATE:if(!1===n.enableRotate)return;q(t);break;case u.DOLLY:if(!1===n.enableZoom)return;$(t);break;case u.PAN:if(!1===n.enablePan)return;X(t);break}}function pt(t){!1!==n.enabled&&!1!==n.enableZoom&&h===u.NONE&&(t.preventDefault(),n.dispatchEvent(a),Y(dt(t)),n.dispatchEvent(s))}function dt(t){const e=t.deltaMode,n={clientX:t.clientX,clientY:t.clientY,deltaY:t.deltaY};switch(e){case 1:n.deltaY*=16;break;case 2:n.deltaY*=100;break}return t.ctrlKey&&!D&&(n.deltaY*=10),n}function ft(t){if("Control"===t.key){D=!0;const t=n.domElement.getRootNode();t.addEventListener("keyup",mt,{passive:!0,capture:!0})}}function mt(t){if("Control"===t.key){D=!1;const t=n.domElement.getRootNode();t.removeEventListener("keyup",mt,{passive:!0,capture:!0})}}function gt(t){!1!==n.enabled&&!1!==n.enablePan&&K(t)}function vt(t){switch(wt(t),P.length){case 1:switch(n.touches.ONE){case r.wtR.ROTATE:if(!1===n.enableRotate)return;Z(t),h=u.TOUCH_ROTATE;break;case r.wtR.PAN:if(!1===n.enablePan)return;J(t),h=u.TOUCH_PAN;break;default:h=u.NONE}break;case 2:switch(n.touches.TWO){case r.wtR.DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;tt(t),h=u.TOUCH_DOLLY_PAN;break;case r.wtR.DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;et(t),h=u.TOUCH_DOLLY_ROTATE;break;default:h=u.NONE}break;default:h=u.NONE}h!==u.NONE&&n.dispatchEvent(a)}function yt(t){switch(wt(t),h){case u.TOUCH_ROTATE:if(!1===n.enableRotate)return;nt(t),n.update();break;case u.TOUCH_PAN:if(!1===n.enablePan)return;rt(t),n.update();break;case u.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;at(t),n.update();break;case u.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;st(t),n.update();break;default:h=u.NONE}}function _t(t){!1!==n.enabled&&t.preventDefault()}function xt(t){P.push(t.pointerId)}function bt(t){delete R[t.pointerId];for(let e=0;e<P.length;e++)if(P[e]==t.pointerId)return void P.splice(e,1)}function St(t){for(let e=0;e<P.length;e++)if(P[e]==t.pointerId)return!0;return!1}function wt(t){let e=R[t.pointerId];void 0===e&&(e=new r.I9Y,R[t.pointerId]=e),e.set(t.pageX,t.pageY)}function Et(t){const e=t.pointerId===P[0]?P[1]:P[0];return R[e]}n.domElement.addEventListener("contextmenu",_t),n.domElement.addEventListener("pointerdown",ot),n.domElement.addEventListener("pointercancel",ct),n.domElement.addEventListener("wheel",pt,{passive:!1});const Mt=n.domElement.getRootNode();Mt.addEventListener("keydown",ft,{passive:!0,capture:!0}),this.update()}}},4106:function(t,e,n){"use strict";function r(t){var e,n=[].forEach,r=[].some,i="undefined"!==typeof window&&document.body,a=!0,s=" ";function o(t,e){var n=e.appendChild(c(t));if(t.children.length){var r=u(t.isCollapsed);t.children.forEach((function(t){o(t,r)})),n.appendChild(r)}}function l(t,n){var r=!1,i=u(r);if(n.forEach((function(t){o(t,i)})),e=t||e,null!==e)return e.firstChild&&e.removeChild(e.firstChild),0===n.length?e:e.appendChild(i)}function c(e){var r=document.createElement("li"),i=document.createElement("a");return t.listItemClass&&r.setAttribute("class",t.listItemClass),t.onClick&&(i.onclick=t.onClick),t.includeTitleTags&&i.setAttribute("title",e.textContent),t.includeHtml&&e.childNodes.length?n.call(e.childNodes,(function(t){i.appendChild(t.cloneNode(!0))})):i.textContent=e.textContent,i.setAttribute("href",t.basePath+"#"+e.id),i.setAttribute("class",t.linkClass+s+"node-name--"+e.nodeName+s+t.extraLinkClasses),r.appendChild(i),r}function u(e){var n=t.orderedList?"ol":"ul",r=document.createElement(n),i=t.listClass+s+t.extraListClasses;return e&&(i=i+s+t.collapsibleClass,i=i+s+t.isCollapsedClass),r.setAttribute("class",i),r}function h(){var n;t.scrollContainer&&document.querySelector(t.scrollContainer)?n=document.querySelector(t.scrollContainer).scrollTop:n=document.documentElement.scrollTop||i.scrollTop;var r=document.querySelector(t.positionFixedSelector);"auto"===t.fixedSidebarOffset&&(t.fixedSidebarOffset=e.offsetTop),n>t.fixedSidebarOffset?-1===r.className.indexOf(t.positionFixedClass)&&(r.className+=s+t.positionFixedClass):r.className=r.className.replace(s+t.positionFixedClass,"")}function p(e){var n=0;return null!==e&&(n=e.offsetTop,t.hasInnerContainers&&(n+=p(e.offsetParent))),n}function d(t,e){return t&&t.className!==e&&(t.className=e),t}function f(o){var l;t.scrollContainer&&document.querySelector(t.scrollContainer)?l=document.querySelector(t.scrollContainer).scrollTop:l=document.documentElement.scrollTop||i.scrollTop;t.positionFixedSelector&&h();var c,u=o;if(a&&null!==e&&u.length>0){r.call(u,(function(e,n){if(p(e)>l+t.headingsOffset+10){var r=0===n?n:n-1;return c=u[r],!0}if(n===u.length-1)return c=u[u.length-1],!0}));var f=e.querySelector("."+t.activeLinkClass),g=e.querySelector("."+t.linkClass+".node-name--"+c.nodeName+'[href="'+t.basePath+"#"+c.id.replace(/([ #;&,.+*~':"!^$[\]()=>|/\\@])/g,"\\$1")+'"]');if(f===g)return;var v=e.querySelectorAll("."+t.linkClass);n.call(v,(function(e){d(e,e.className.replace(s+t.activeLinkClass,""))}));var y=e.querySelectorAll("."+t.listItemClass);n.call(y,(function(e){d(e,e.className.replace(s+t.activeListItemClass,""))})),g&&-1===g.className.indexOf(t.activeLinkClass)&&(g.className+=s+t.activeLinkClass);var _=g&&g.parentNode;_&&-1===_.className.indexOf(t.activeListItemClass)&&(_.className+=s+t.activeListItemClass);var x=e.querySelectorAll("."+t.listClass+"."+t.collapsibleClass);n.call(x,(function(e){-1===e.className.indexOf(t.isCollapsedClass)&&(e.className+=s+t.isCollapsedClass)})),g&&g.nextSibling&&-1!==g.nextSibling.className.indexOf(t.isCollapsedClass)&&d(g.nextSibling,g.nextSibling.className.replace(s+t.isCollapsedClass,"")),m(g&&g.parentNode.parentNode)}}function m(e){return e&&-1!==e.className.indexOf(t.collapsibleClass)&&-1!==e.className.indexOf(t.isCollapsedClass)?(d(e,e.className.replace(s+t.isCollapsedClass,"")),m(e.parentNode.parentNode)):e}function g(e){var n=e.target||e.srcElement;"string"===typeof n.className&&-1!==n.className.indexOf(t.linkClass)&&(a=!1)}function v(){a=!0}return{enableTocAnimation:v,disableTocAnimation:g,render:l,updateToc:f}}n.d(e,{Ay:function(){return M}});var i={tocSelector:".js-toc",contentSelector:".js-toc-content",headingSelector:"h1, h2, h3",ignoreSelector:".js-toc-ignore",hasInnerContainers:!1,linkClass:"toc-link",extraLinkClasses:"",activeLinkClass:"is-active-link",listClass:"toc-list",extraListClasses:"",isCollapsedClass:"is-collapsed",collapsibleClass:"is-collapsible",listItemClass:"toc-list-item",activeListItemClass:"is-active-li",collapseDepth:0,scrollSmooth:!0,scrollSmoothDuration:420,scrollSmoothOffset:0,scrollEndCallback:function(t){},headingsOffset:1,throttleTimeout:50,positionFixedSelector:null,positionFixedClass:"is-position-fixed",fixedSidebarOffset:"auto",includeHtml:!1,includeTitleTags:!1,onClick:function(t){},orderedList:!0,scrollContainer:null,skipRendering:!1,headingLabelCallback:!1,ignoreHiddenElements:!1,headingObjectCallback:null,basePath:"",disableTocScrollSync:!1,tocScrollOffset:0};n(4114);function a(t){var e=[].reduce;function n(t){return t[t.length-1]}function r(t){return+t.nodeName.toUpperCase().replace("H","")}function i(t){try{return t instanceof window.HTMLElement||t instanceof window.parent.HTMLElement}catch(e){return t instanceof window.HTMLElement}}function a(e){if(!i(e))return e;if(t.ignoreHiddenElements&&(!e.offsetHeight||!e.offsetParent))return null;const n=e.getAttribute("data-heading-label")||(t.headingLabelCallback?String(t.headingLabelCallback(e.innerText)):(e.innerText||e.textContent).trim());var a={id:e.id,children:[],nodeName:e.nodeName,headingLevel:r(e),textContent:n};return t.includeHtml&&(a.childNodes=e.childNodes),t.headingObjectCallback?t.headingObjectCallback(a,e):a}function s(e,r){var i=a(e),s=i.headingLevel,o=r,l=n(o),c=l?l.headingLevel:0,u=s-c;while(u>0){if(l=n(o),l&&s===l.headingLevel)break;l&&void 0!==l.children&&(o=l.children),u--}return s>=t.collapseDepth&&(i.isCollapsed=!0),o.push(i),o}function o(e,n){var r=n;t.ignoreSelector&&(r=n.split(",").map((function(e){return e.trim()+":not("+t.ignoreSelector+")"})));try{return e.querySelectorAll(r)}catch(i){return console.warn("Headers not found with selector: "+r),null}}function l(t){return e.call(t,(function(t,e){var n=a(e);return n&&s(n,t.nest),t}),{nest:[]})}return{nestHeadingsArray:l,selectHeadings:o}}function s(t){var e=t.duration,n=t.offset;if("undefined"!==typeof window&&"undefined"!==typeof location){var r=location.hash?s(location.href):location.href;i()}function i(){function r(r){!a(r.target)||r.target.className.indexOf("no-smooth-scroll")>-1||"#"===r.target.href.charAt(r.target.href.length-2)&&"!"===r.target.href.charAt(r.target.href.length-1)||-1===r.target.className.indexOf(t.linkClass)||o(r.target.hash,{duration:e,offset:n,callback:function(){l(r.target.hash)}})}document.body.addEventListener("click",r,!1)}function a(t){return"a"===t.tagName.toLowerCase()&&(t.hash.length>0||"#"===t.href.charAt(t.href.length-1))&&(s(t.href)===r||s(t.href)+"#"===r)}function s(t){return t.slice(0,t.lastIndexOf("#"))}function l(t){var e=document.getElementById(t.substring(1));e&&(/^(?:a|select|input|button|textarea)$/i.test(e.tagName)||(e.tabIndex=-1),e.focus())}}function o(t,e){var n,r,i=window.pageYOffset,a={duration:e.duration,offset:e.offset||0,callback:e.callback,easing:e.easing||h},s=document.querySelector('[id="'+decodeURI(t).split("#").join("")+'"]')||document.querySelector('[id="'+t.split("#").join("")+'"]'),o="string"===typeof t?a.offset+(t?s&&s.getBoundingClientRect().top||0:-(document.documentElement.scrollTop||document.body.scrollTop)):t,l="function"===typeof a.duration?a.duration(o):a.duration;function c(t){r=t-n,window.scrollTo(0,a.easing(r,i,o,l)),r<l?requestAnimationFrame(c):u()}function u(){window.scrollTo(0,i+o),"function"===typeof a.callback&&a.callback()}function h(t,e,n,r){return t/=r/2,t<1?n/2*t*t+e:(t--,-n/2*(t*(t-2)-1)+e)}requestAnimationFrame((function(t){n=t,c(t)}))}const l=30;function c(t){var e=t.tocElement||document.querySelector(t.tocSelector);if(e&&e.scrollHeight>e.clientHeight){var n=e.querySelector("."+t.activeListItemClass);if(n){var r=e.scrollTop,i=r+e.clientHeight,a=n.offsetTop,s=a+n.clientHeight;a<r+t.tocScrollOffset?e.scrollTop-=r-a+t.tocScrollOffset:s>i-t.tocScrollOffset-l&&(e.scrollTop+=s-i+t.tocScrollOffset+2*l)}}}let u,h,p,d,f,m={};function g(t){m=x(i,t||{}),m.scrollSmooth&&(m.duration=m.scrollSmoothDuration,m.offset=m.scrollSmoothOffset,s(m)),u=r(m),h=a(m),v();const e=S(m);if(null===e)return;const n=w(m);if(null===n)return;if(p=h.selectHeadings(e,m.headingSelector),null===p)return;const o=h.nestHeadingsArray(p),l=o.nest;if(m.skipRendering)return this;u.render(n,l),d=b((function(t){u.updateToc(p),!m.disableTocScrollSync&&c(m);const e=t&&t.target&&t.target.scrollingElement&&0===t.target.scrollingElement.scrollTop;(t&&(0===t.eventPhase||null===t.currentTarget)||e)&&(u.updateToc(p),m.scrollEndCallback&&m.scrollEndCallback(t))}),m.throttleTimeout),d(),m.scrollContainer&&document.querySelector(m.scrollContainer)?(document.querySelector(m.scrollContainer).addEventListener("scroll",d,!1),document.querySelector(m.scrollContainer).addEventListener("resize",d,!1)):(document.addEventListener("scroll",d,!1),document.addEventListener("resize",d,!1));let g=null;f=b((function(t){m.scrollSmooth&&u.disableTocAnimation(t),u.updateToc(p),g&&clearTimeout(g),g=setTimeout((function(){u.enableTocAnimation()}),m.scrollSmoothDuration)}),m.throttleTimeout),m.scrollContainer&&document.querySelector(m.scrollContainer)?document.querySelector(m.scrollContainer).addEventListener("click",f,!1):document.addEventListener("click",f,!1)}function v(){const t=w(m);null!==t&&(m.skipRendering||t&&(t.innerHTML=""),m.scrollContainer&&document.querySelector(m.scrollContainer)?(document.querySelector(m.scrollContainer).removeEventListener("scroll",d,!1),document.querySelector(m.scrollContainer).removeEventListener("resize",d,!1),u&&document.querySelector(m.scrollContainer).removeEventListener("click",f,!1)):(document.removeEventListener("scroll",d,!1),document.removeEventListener("resize",d,!1),u&&document.removeEventListener("click",f,!1)))}function y(t){v(),g(t||m)}const _=Object.prototype.hasOwnProperty;function x(){const t={};for(let e=0;e<arguments.length;e++){const n=arguments[e];for(const e in n)_.call(n,e)&&(t[e]=n[e])}return t}function b(t,e,n){let r,i;return e||(e=250),function(){const a=n||this,s=+new Date,o=arguments;r&&s<r+e?(clearTimeout(i),i=setTimeout((function(){r=s,t.apply(a,o)}),e)):(r=s,t.apply(a,o))}}function S(t){try{return t.contentElement||document.querySelector(t.contentSelector)}catch(e){return console.warn("Contents element not found: "+t.contentSelector),null}}function w(t){try{return t.tocElement||document.querySelector(t.tocSelector)}catch(e){return console.warn("TOC element not found: "+t.tocSelector),null}}const E={destroy:v,init:g,refresh:y};var M=E}}]);
//# sourceMappingURL=chunk-vendors.735be9d1.js.map